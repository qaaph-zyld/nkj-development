module.exports=[46271,86723,65802,14800,74290,1703,20410,91128,a=>{"use strict";let b;a.s(["motion",()=>fc],46271);var c=a.i(72131);let d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],e=new Set(d),f=a=>180*a/Math.PI,g=a=>i(f(Math.atan2(a[1],a[0]))),h={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:g,rotateZ:g,skewX:a=>f(Math.atan(a[1])),skewY:a=>f(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},i=a=>((a%=360)<0&&(a+=360),a),j=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),k=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),l={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j,scaleY:k,scale:a=>(j(a)+k(a))/2,rotateX:a=>i(f(Math.atan2(a[6],a[5]))),rotateY:a=>i(f(Math.atan2(-a[2],a[0]))),rotateZ:g,rotate:g,skewX:a=>f(Math.atan(a[4])),skewY:a=>f(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function m(a){return+!!a.includes("scale")}function n(a,b){let c,d;if(!a||"none"===a)return m(b);let e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(e)c=l,d=e;else{let b=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=h,d=b}if(!d)return m(b);let f=c[b],g=d[1].split(",").map(o);return"function"==typeof f?f(g):g[f]}function o(a){return parseFloat(a.trim())}let p=a=>b=>"string"==typeof b&&b.startsWith(a),q=p("--"),r=p("var(--"),s=a=>!!r(a)&&t.test(a.split("/*")[0].trim()),t=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function u({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}let v=(a,b,c)=>a+(b-a)*c;function w(a){return void 0===a||1===a}function x({scale:a,scaleX:b,scaleY:c}){return!w(a)||!w(b)||!w(c)}function y(a){return x(a)||z(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function z(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function A(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function B(a,b=0,c=1,d,e){a.min=A(a.min,b,c,d,e),a.max=A(a.max,b,c,d,e)}function C(a,{x:b,y:c}){B(a.x,b.translate,b.scale,b.originPoint),B(a.y,c.translate,c.scale,c.originPoint)}function D(a,b){a.min=a.min+b,a.max=a.max+b}function E(a,b,c,d,e=.5){let f=v(a.min,a.max,e);B(a,b,c,f,d)}function F(a,b){E(a.x,b.x,b.scaleX,b.scale,b.originX),E(a.y,b.y,b.scaleY,b.scale,b.originY)}function G(a,b){return u(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}let H=new Set(["width","height","top","left","right","bottom",...d]),I=(a,b,c)=>c>b?b:c<a?a:c,J={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},K={...J,transform:a=>I(0,1,a)},L={...J,default:1},M=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),N=M("deg"),O=M("%"),P=M("px"),Q=M("vh"),R=M("vw"),S={...O,parse:a=>O.parse(a)/100,transform:a=>O.transform(100*a)},T=a=>b=>b.test(a),U=[J,P,O,N,R,Q,{test:a=>"auto"===a,parse:a=>a}],V=a=>U.find(T(a)),W=()=>{},X=()=>{},Y=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),Z=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,$=a=>a===J||a===P,_=new Set(["x","y","z"]),aa=d.filter(a=>!_.has(a)),ab={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:(a,{transform:b})=>n(b,"x"),y:(a,{transform:b})=>n(b,"y")};ab.translateX=ab.x,ab.translateY=ab.y;let ac=a=>a,ad={},ae=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],af={value:null,addProjectionMetrics:null};function ag(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=ae.reduce((a,c)=>(a[c]=function(a,b){let c=new Set,d=new Set,e=!1,f=!1,g=new WeakSet,h={delta:0,timestamp:0,isProcessing:!1},i=0;function j(b){g.has(b)&&(k.schedule(b),a()),i++,b(h)}let k={schedule:(a,b=!1,f=!1)=>{let h=f&&e?c:d;return b&&g.add(a),h.has(a)||h.add(a),a},cancel:a=>{d.delete(a),g.delete(a)},process:a=>{if(h=a,e){f=!0;return}e=!0,[c,d]=[d,c],c.forEach(j),b&&af.value&&af.value.frameloop[b].push(i),i=0,c.clear(),e=!1,f&&(f=!1,k.process(a))}};return k}(f,b?c:void 0),a),{}),{setup:h,read:i,resolveKeyframes:j,preUpdate:k,update:l,preRender:m,render:n,postRender:o}=g,p=()=>{let f=ad.useManualTiming?e.timestamp:performance.now();c=!1,ad.useManualTiming||(e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1)),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),n.process(e),o.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(p))};return{schedule:ae.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(p)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<ae.length;b++)g[ae[b]].cancel(a)},state:e,steps:g}}let{schedule:ah,cancel:ai,state:aj,steps:ak}=ag("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:ac,!0),al=new Set,am=!1,an=!1,ao=!1;function ap(){if(an){let a=Array.from(al).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b=function(a){let b=[];return aa.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b}(a);b.length&&(c.set(a,b),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{a.getValue(b)?.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}an=!1,am=!1,al.forEach(a=>a.complete(ao)),al.clear()}function aq(){al.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(an=!0)})}class ar{constructor(a,b,c,d,e,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(al.add(this),am||(am=!0,ah.read(aq),ah.resolveKeyframes(ap))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;if(null===a[0]){let e=d?.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}for(let b=1;b<a.length;b++)a[b]??(a[b]=a[b-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),al.delete(this)}cancel(){"scheduled"===this.state&&(al.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let as=a=>/^0[^.\s]+$/u.test(a),at=a=>Math.round(1e5*a)/1e5,au=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,av=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aw=(a,b)=>c=>!!("string"==typeof c&&av.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),ax=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(au);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},ay={...J,transform:a=>Math.round(I(0,255,a))},az={test:aw("rgb","red"),parse:ax("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+ay.transform(a)+", "+ay.transform(b)+", "+ay.transform(c)+", "+at(K.transform(d))+")"},aA={test:aw("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:az.transform},aB={test:aw("hsl","hue"),parse:ax("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+O.transform(at(b))+", "+O.transform(at(c))+", "+at(K.transform(d))+")"},aC={test:a=>az.test(a)||aA.test(a)||aB.test(a),parse:a=>az.test(a)?az.parse(a):aB.test(a)?aB.parse(a):aA.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?az.transform(a):aB.transform(a),getAnimatableNone:a=>{let b=aC.parse(a);return b.alpha=0,aC.transform(b)}},aD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,aE="number",aF="color",aG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function aH(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(aG,a=>(aC.test(a)?(d.color.push(f),e.push(aF),c.push(aC.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(aE),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function aI(a){return aH(a).values}function aJ(a){let{split:b,types:c}=aH(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===aE?e+=at(a[f]):b===aF?e+=aC.transform(a[f]):e+=a[f]}return e}}let aK=a=>"number"==typeof a?0:aC.test(a)?aC.getAnimatableNone(a):a,aL={test:function(a){return isNaN(a)&&"string"==typeof a&&(a.match(au)?.length||0)+(a.match(aD)?.length||0)>0},parse:aI,createTransformer:aJ,getAnimatableNone:function(a){let b=aI(a);return aJ(a)(b.map(aK))}},aM=new Set(["brightness","contrast","saturate","opacity"]);function aN(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(au)||[];if(!d)return a;let e=c.replace(d,""),f=+!!aM.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let aO=/\b([a-z-]*)\(.*?\)/gu,aP={...aL,getAnimatableNone:a=>{let b=a.match(aO);return b?b.map(aN).join(" "):a}},aQ={...J,transform:Math.round},aR={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,backgroundPositionX:P,backgroundPositionY:P,rotate:N,rotateX:N,rotateY:N,rotateZ:N,scale:L,scaleX:L,scaleY:L,scaleZ:L,skew:N,skewX:N,skewY:N,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:K,originX:S,originY:S,originZ:P,zIndex:aQ,fillOpacity:K,strokeOpacity:K,numOctaves:aQ},aS={...aR,color:aC,backgroundColor:aC,outlineColor:aC,fill:aC,stroke:aC,borderColor:aC,borderTopColor:aC,borderRightColor:aC,borderBottomColor:aC,borderLeftColor:aC,filter:aP,WebkitFilter:aP},aT=a=>aS[a];function aU(a,b){let c=aT(a);return c!==aP&&(c=aL),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let aV=new Set(["auto","none","0"]);class aW extends ar{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&s(d=d.trim())){let e=function a(b,c,d=1){X(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[e,f]=function(a){let b=Z.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${c??d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return Y(a)?parseFloat(a):a}return s(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!H.has(c)||2!==a.length)return;let[d,e]=a,f=V(d),g=V(e);if(f!==g)if($(f)&&$(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else ab[c]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++){var d;(null===a[b]||("number"==typeof(d=a[b])?0===d:null===d||"none"===d||"0"===d||as(d)))&&c.push(b)}c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!aV.has(b)&&aH(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=aU(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ab[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){let{element:a,name:b,unresolvedKeyframes:c}=this;if(!a||!a.current)return;let d=a.getValue(b);d&&d.jump(this.measuredOrigin,!1);let e=c.length-1,f=c[e];c[e]=ab[b](a.measureViewportBox(),window.getComputedStyle(a.current)),null!==f&&void 0===this.finalKeyframe&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,c])=>{a.getValue(b).set(c)}),this.resolveNoneKeyframes()}}let aX=a=>!!(a&&a.getVelocity);function aY(){b=void 0}let aZ={now:()=>(void 0===b&&aZ.set(aj.isProcessing||ad.useManualTiming?aj.timestamp:performance.now()),b),set:a=>{b=a,queueMicrotask(aY)}};function a$(a,b){-1===a.indexOf(b)&&a.push(b)}function a_(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class a0{constructor(){this.subscriptions=[]}add(a){return a$(this.subscriptions,a),()=>a_(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let a1={current:void 0};class a2{constructor(a,b={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{let b=aZ.now();if(this.updatedAt!==b&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=aZ.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new a0);let c=this.events[a].add(b);return"change"===a?()=>{c(),ah.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return a1.current&&a1.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=aZ.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function a3(a,b){return new a2(a,b)}let a4=[...U,aC,aL],{schedule:a5}=ag(queueMicrotask,!1),a6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},a7={};for(let a in a6)a7[a]={isEnabled:b=>a6[a].some(a=>!!b[a])};let a8=()=>({translate:0,scale:1,origin:0,originPoint:0}),a9=()=>({x:a8(),y:a8()}),ba=()=>({min:0,max:0}),bb=()=>({x:ba(),y:ba()}),bc={current:null},bd={current:!1},be=new WeakMap;function bf(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}function bg(a){return"string"==typeof a||Array.isArray(a)}let bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bi=["initial",...bh];function bj(a){return bf(a.animate)||bi.some(b=>bg(a[b]))}function bk(a){return!!(bj(a)||a.variants)}function bl(a){let b=[{},{}];return a?.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function bm(a,b,c,d){if("function"==typeof b){let[e,f]=bl(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=bl(d);b=b(void 0!==c?c:a.custom,e,f)}return b}let bn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bo{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,blockInitialAnimation:e,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ar,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=aZ.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,ah.render(this.render,!1,!0))};let{latestValues:h,renderState:i}=f;this.latestValues=h,this.baseTarget={...h},this.initialValues=b.initial?{...h}:{},this.renderState=i,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.options=g,this.blockInitialAnimation=!!e,this.isControllingVariants=bj(b),this.isVariantNode=bk(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);let{willChange:j,...k}=this.scrapeMotionValuesFromProps(b,{},this);for(let a in k){let b=k[a];void 0!==h[a]&&aX(b)&&b.set(h[a])}}mount(a){this.current=a,be.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),bd.current||(bd.current=!0),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||bc.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=e.has(a);d&&this.onBindTransform&&this.onBindTransform();let f=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&ah.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,a,b)),this.valueSubscriptions.set(a,()=>{f(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in a7){let b=a7[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bb()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<bn.length;b++){let c=bn[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(aX(e))a.addValue(d,e);else if(aX(f))a.addValue(d,a3(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,a3(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=a3(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){let c=void 0===this.latestValues[a]&&this.current?this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=c){if("string"==typeof c&&(Y(c)||as(c)))c=parseFloat(c);else{let d;d=c,!a4.find(T(d))&&aL.test(b)&&(c=aU(a,b))}this.setBaseTarget(a,aX(c)?c.get():c)}return aX(c)?c.get():c}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){let b,{initial:c}=this.props;if("string"==typeof c||"object"==typeof c){let d=bm(this.props,c,this.presenceContext?.custom);d&&(b=d[a])}if(c&&void 0!==b)return b;let d=this.getBaseTargetFromProps(this.props,a);return void 0===d||aX(d)?void 0!==this.initialValues[a]&&void 0===b?void 0:this.baseTarget[a]:d}on(a,b){return this.events[a]||(this.events[a]=new a0),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}scheduleRenderMicrotask(){a5.render(this.render)}}class bp extends bo{constructor(){super(...arguments),this.KeyframeResolver=aW}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){return a.style?a.style[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;aX(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}let bq=(a,b)=>b&&"number"==typeof a?b.transform(a):a,br={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bs=d.length;function bt(a,b,c){let{style:f,vars:g,transformOrigin:h}=a,i=!1,j=!1;for(let a in b){let c=b[a];if(e.has(a)){i=!0;continue}if(q(a)){g[a]=c;continue}{let b=bq(c,aR[a]);a.startsWith("origin")?(j=!0,h[a]=b):f[a]=b}}if(!b.transform&&(i||c?f.transform=function(a,b,c){let e="",f=!0;for(let g=0;g<bs;g++){let h=d[g],i=a[h];if(void 0===i)continue;let j=!0;if(!(j="number"==typeof i?i===+!!h.startsWith("scale"):0===parseFloat(i))||c){let a=bq(i,aR[h]);if(!j){f=!1;let b=br[h]||h;e+=`${b}(${a}) `}c&&(b[h]=a)}}return e=e.trim(),c?e=c(b,f?"":e):f&&(e="none"),e}(b,a.transform,c):f.transform&&(f.transform="none")),j){let{originX:a="50%",originY:b="50%",originZ:c=0}=h;f.transformOrigin=`${a} ${b} ${c}`}}function bu(a,{style:b,vars:c},d,e){let f,g=a.style;for(f in b)g[f]=b[f];for(f in e?.applyProjectionStyles(g,d),c)g.setProperty(f,c[f])}let bv={};function bw(a,{layout:b,layoutId:c}){return e.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!bv[a]||"opacity"===a)}function bx(a,b,c){let{style:d}=a,e={};for(let f in d)(aX(d[f])||b.style&&aX(b.style[f])||bw(f,a)||c?.getValue(f)?.liveStyle!==void 0)&&(e[f]=d[f]);return e}class by extends bp{constructor(){super(...arguments),this.type="html",this.renderInstance=bu}readValueFromInstance(a,b){if(e.has(b))return this.projection?.isProjecting?m(b):((a,b)=>{let{transform:c="none"}=getComputedStyle(a);return n(c,b)})(a,b);{let c=window.getComputedStyle(a),d=(q(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return G(a,b)}build(a,b,c){bt(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return bx(a,b,c)}}let bz=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bA={offset:"stroke-dashoffset",array:"stroke-dasharray"},bB={offset:"strokeDashoffset",array:"strokeDasharray"};function bC(a,{attrX:b,attrY:c,attrScale:d,pathLength:e,pathSpacing:f=1,pathOffset:g=0,...h},i,j,k){if(bt(a,h,j),i){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:l,style:m}=a;l.transform&&(m.transform=l.transform,delete l.transform),(m.transform||l.transformOrigin)&&(m.transformOrigin=l.transformOrigin??"50% 50%",delete l.transformOrigin),m.transform&&(m.transformBox=k?.transformBox??"fill-box",delete l.transformBox),void 0!==b&&(l.x=b),void 0!==c&&(l.y=c),void 0!==d&&(l.scale=d),void 0!==e&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?bA:bB;a[f.offset]=P.transform(-d);let g=P.transform(b),h=P.transform(c);a[f.array]=`${g} ${h}`}(l,e,f,g,!1)}let bD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bE=a=>"string"==typeof a&&"svg"===a.toLowerCase();function bF(a,b,c){let e=bx(a,b,c);for(let c in a)(aX(a[c])||aX(b[c]))&&(e[-1!==d.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return e}class bG extends bp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bb}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(e.has(b)){let a=aT(b);return a&&a.default||0}return b=bD.has(b)?b:bz(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return bF(a,b,c)}build(a,b,c){bC(a,b,this.isSVGTag,c.transformTemplate,c.style)}renderInstance(a,b,c,d){for(let c in bu(a,b,void 0,d),b.attrs)a.setAttribute(bD.has(c)?c:bz(c),b.attrs[c])}mount(a){this.isSVGTag=bE(a.tagName),super.mount(a)}}let bH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bI(a){if("string"!=typeof a||a.includes("-"));else if(bH.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}var bJ=a.i(87924);a.s(["LayoutGroupContext",()=>bK],86723);let bK=(0,c.createContext)({});(0,c.createContext)({strict:!1}),a.s(["MotionConfigContext",()=>bL],65802);let bL=(0,c.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),bM=(0,c.createContext)({});function bN(a){return Array.isArray(a)?a.join(" "):a}let bO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bP(a,b,c){for(let d in b)aX(b[d])||bw(d,c)||(a[d]=b[d])}let bQ=()=>({...bO(),attrs:{}}),bR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bS(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||bR.has(a)}let bT=a=>!bS(a);try{!function(a){"function"==typeof a&&(bT=b=>b.startsWith("on")?!bS(b):a(b))}((()=>{let a=Error("Cannot find module '@emotion/is-prop-valid'");throw a.code="MODULE_NOT_FOUND",a})().default)}catch{}a.s(["PresenceContext",()=>bU],14800);let bU=(0,c.createContext)(null);function bV(a){let b=(0,c.useRef)(null);return null===b.current&&(b.current=a()),b.current}function bW(a){return aX(a)?a.get():a}a.s(["useConstant",()=>bV],74290);let bX=a=>(b,d)=>{let e=(0,c.useContext)(bM),f=(0,c.useContext)(bU),g=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b},c,d,e){return{latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=bW(f[a]);let{initial:g,animate:h}=a,i=bj(a),j=bk(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!bf(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=bm(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(c,d,e,a),renderState:b()}})(a,b,e,f);return d?g():bV(g)},bY=bX({scrapeMotionValuesFromProps:bx,createRenderState:bO}),bZ=bX({scrapeMotionValuesFromProps:bF,createRenderState:bQ}),b$=Symbol.for("motionComponentSymbol");function b_(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}let b0="data-"+bz("framerAppearId"),b1=(0,c.createContext)({});a.s(["useIsomorphicLayoutEffect",()=>b2],1703);let b2=c.useEffect;function b3(a,{forwardMotionProps:b=!1}={},d,e){d&&function(a){for(let b in a)a7[b]={...a7[b],...a[b]}}(d);let f=bI(a)?bZ:bY;function g(d,e){var g;let h,i={...(0,c.useContext)(bL),...d,layoutId:function({layoutId:a}){let b=(0,c.useContext)(bK).id;return b&&void 0!==a?b+"-"+a:a}(d)},{isStatic:j}=i,k=function(a){let{initial:b,animate:d}=function(a,b){if(bj(a)){let{initial:b,animate:c}=a;return{initial:!1===b||bg(b)?b:void 0,animate:bg(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,c.useContext)(bM));return(0,c.useMemo)(()=>({initial:b,animate:d}),[bN(b),bN(d)])}(d),l=f(d,j);return(0,bJ.jsxs)(bM.Provider,{value:k,children:[h&&k.visualElement?(0,bJ.jsx)(h,{visualElement:k.visualElement,...i}):null,function(a,b,d,{latestValues:e},f,g=!1){let h=(bI(a)?function(a,b,d,e){let f=(0,c.useMemo)(()=>{let c=bQ();return bC(c,b,bE(e),a.transformTemplate,a.style),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};bP(b,a.style,a),f.style={...b,...f.style}}return f}:function(a,b){let d={},e=function(a,b){let d=a.style||{},e={};return bP(e,d,a),Object.assign(e,function({transformTemplate:a},b){return(0,c.useMemo)(()=>{let c=bO();return bt(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),e}(a,b);return a.drag&&!1!==a.dragListener&&(d.draggable=!1,e.userSelect=e.WebkitUserSelect=e.WebkitTouchCallout="none",e.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(d.tabIndex=0),d.style=e,d})(b,e,f,a),i=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(bT(e)||!0===c&&bS(e)||!b&&!bS(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,g),j=a!==c.Fragment?{...i,...h,ref:d}:{},{children:k}=b,l=(0,c.useMemo)(()=>aX(k)?k.get():k,[k]);return(0,c.createElement)(a,{...j,children:l})}(a,d,(g=k.visualElement,(0,c.useCallback)(a=>{a&&l.onMount&&l.onMount(a),g&&(a?g.mount(a):g.unmount()),e&&("function"==typeof e?e(a):b_(e)&&(e.current=a))},[g])),l,j,b)]})}g.displayName=`motion.${"string"==typeof a?a:`create(${a.displayName??a.name??""})`}`;let h=(0,c.forwardRef)(g);return h[b$]=a,h}function b4(a,b,c){let d=a.getProps();return bm(d,b,void 0!==c?c:d.custom,a)}function b5(a,b){return a?.[b]??a?.default??a}let b6=a=>Array.isArray(a);function b7(a,b){let c=a.getValue("willChange");if(aX(c)&&c.add)return c.add(b);if(!c&&ad.WillChange){let c=new ad.WillChange("auto");a.addValue("willChange",c),c.add(b)}}function b8(a){a.duration=0,a.type}let b9=(a,b)=>c=>b(a(c)),ca=(...a)=>a.reduce(b9),cb=a=>1e3*a,cc={layout:0,mainThread:0,waapi:0};function cd(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function ce(a,b){return c=>c>0?b:a}let cf=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},cg=[aA,az,aB];function ch(a){let b=cg.find(b=>b.test(a));if(W(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!b)return!1;let c=b.parse(a);return b===aB&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=cd(h,d,a+1/3),f=cd(h,d,a),g=cd(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let ci=(a,b)=>{let c=ch(a),d=ch(b);if(!c||!d)return ce(a,b);let e={...c};return a=>(e.red=cf(c.red,d.red,a),e.green=cf(c.green,d.green,a),e.blue=cf(c.blue,d.blue,a),e.alpha=v(c.alpha,d.alpha,a),az.transform(e))},cj=new Set(["none","hidden"]);function ck(a,b){return c=>v(a,b,c)}function cl(a){return"number"==typeof a?ck:"string"==typeof a?s(a)?ce:aC.test(a)?ci:co:Array.isArray(a)?cm:"object"==typeof a?aC.test(a)?ci:cn:ce}function cm(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>cl(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function cn(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=cl(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let co=(a,b)=>{let c=aL.createTransformer(b),d=aH(a),e=aH(b);return d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length?cj.has(a)&&!e.values.length||cj.has(b)&&!d.values.length?function(a,b){return cj.has(a)?c=>c<=0?a:b:c=>c>=1?b:a}(a,b):ca(cm(function(a,b){let c=[],d={color:0,var:0,number:0};for(let e=0;e<b.values.length;e++){let f=b.types[e],g=a.indexes[f][d[f]],h=a.values[g]??0;c[e]=h,d[f]++}return c}(d,e),e.values),c):(W(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ce(a,b))};function cp(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?v(a,b,c):cl(a)(a,b)}let cq=a=>{let b=({timestamp:b})=>a(b);return{start:(a=!0)=>ah.update(b,a),stop:()=>ai(b),now:()=>aj.isProcessing?aj.timestamp:aZ.now()}},cr=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=Math.round(1e4*a(b/(e-1)))/1e4+", ";return`linear(${d.substring(0,d.length-2)})`};function cs(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function ct(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let cu={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function cv(a,b){return a*Math.sqrt(1-b*b)}let cw=["duration","bounce"],cx=["stiffness","damping","mass"];function cy(a,b){return b.some(b=>void 0!==a[b])}function cz(a=cu.visualDuration,b=cu.bounce){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:cu.velocity,stiffness:cu.stiffness,damping:cu.damping,mass:cu.mass,isResolvedFromDuration:!1,...a};if(!cy(a,cx)&&cy(a,cw))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*I(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:cu.mass,stiffness:d,damping:e}}else{let c=function({duration:a=cu.duration,bounce:b=cu.bounce,velocity:c=cu.velocity,mass:d=cu.mass}){let e,f;W(a<=cb(cu.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let g=1-b;g=I(cu.minDamping,cu.maxDamping,g),a=I(cu.minDuration,cu.maxDuration,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/cv(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=cv(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=cb(a),isNaN(h))return{stiffness:cu.stiffness,damping:cu.damping,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:cu.mass}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,s=Math.sqrt(j/l)/1e3,t=5>Math.abs(r);if(e||(e=t?cu.restSpeed.granular:cu.restSpeed.default),f||(f=t?cu.restDelta.granular:cu.restDelta.default),q<1){let a=cv(s,q);c=b=>h-Math.exp(-q*s*b)*((p+q*s*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-s*a)*(r+(p+s*r)*a);else{let a=s*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*s*b),d=Math.min(a*b,300);return h-c*((p+q*s*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let u={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0===a?p:0;q<1&&(d=0===a?cb(p):ct(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(cs(u),2e4),b=cr(b=>u.next(a*b).value,a,30);return a+"ms "+b},toTransition:()=>{}};return u}function cA({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=cz({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:ct(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}cz.applyToOptions=a=>{let b=function(a,b=100,c){let d=c({...a,keyframes:[0,b]}),e=Math.min(cs(d),2e4);return{type:"keyframes",ease:a=>d.next(e*a).value/b,duration:e/1e3}}(a,100,cz);return a.ease=b.ease,a.duration=cb(b.duration),a.type="keyframes",a};let cB=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function cC(a,b,c,d){return a===b&&c===d?ac:e=>0===e||1===e?e:cB(function(a,b,c,d,e){let f,g,h=0;do(f=cB(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12)return g}(e,0,1,a,c),b,d)}let cD=cC(.42,0,1,1),cE=cC(0,0,.58,1),cF=cC(.42,0,.58,1),cG=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,cH=a=>b=>1-a(1-b),cI=cC(.33,1.53,.69,.99),cJ=cH(cI),cK=cG(cJ),cL=a=>(a*=2)<1?.5*cJ(a):.5*(2-Math.pow(2,-10*(a-1))),cM=a=>1-Math.sin(Math.acos(a)),cN=cH(cM),cO=cG(cM),cP=a=>Array.isArray(a)&&"number"==typeof a[0],cQ={linear:ac,easeIn:cD,easeInOut:cF,easeOut:cE,circIn:cM,circInOut:cO,circOut:cN,backIn:cJ,backInOut:cK,backOut:cI,anticipate:cL},cR=a=>{if(cP(a)){X(4===a.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[b,c,d,e]=a;return cC(b,c,d,e)}return"string"==typeof a?(X(void 0!==cQ[a],`Invalid easing type '${a}'`,"invalid-easing-type"),cQ[a]):a},cS=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d};function cT({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f=Array.isArray(d)&&"number"!=typeof d[0]?d.map(cR):cR(d),g={done:!1,value:b[0]},h=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(X(f===b.length,"Both input and output ranges must be the same length","range-length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||ad.mix||cp,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=ca(Array.isArray(b)?b[c]||ac:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=cS(a[d],a[d+1],c);return h[d](e)};return c?b=>j(I(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:function(a){let b=[0];return!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=cS(0,b,d);a.push(v(c,1,e))}}(b,a.length-1),b}(b),e.map(b=>b*a)),b,{ease:Array.isArray(f)?f:b.map(()=>f||cF).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(g.value=h(b),g.done=b>=a,g)}}let cU=a=>null!==a;function cV(a,{repeat:b,repeatType:c="loop"},d,e=1){let f=a.filter(cU),g=e<0||b&&"loop"!==c&&b%2==1?0:f.length-1;return g&&void 0!==d?d:f[g]}let cW={decay:cA,inertia:cA,tween:cT,keyframes:cT,spring:cz};function cX(a){"string"==typeof a.type&&(a.type=cW[a.type])}class cY{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,b){return this.finished.then(a,b)}}let cZ=a=>a/100;class c$ extends cY{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:a}=this.options;a&&a.updatedAt!==aZ.now()&&this.tick(aZ.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},cc.mainThread++,this.options=a,this.initAnimation(),this.play(),!1===a.autoplay&&this.pause()}initAnimation(){let{options:a}=this;cX(a);let{type:b=cT,repeat:c=0,repeatDelay:d=0,repeatType:e,velocity:f=0}=a,{keyframes:g}=a,h=b||cT;h!==cT&&"number"!=typeof g[0]&&(this.mixKeyframes=ca(cZ,cp(g[0],g[1])),g=[0,100]);let i=h({...a,keyframes:g});"mirror"===e&&(this.mirroredGenerator=h({...a,keyframes:[...g].reverse(),velocity:-f})),null===i.calculatedDuration&&(i.calculatedDuration=cs(i));let{calculatedDuration:j}=i;this.calculatedDuration=j,this.resolvedDuration=j+d,this.totalDuration=this.resolvedDuration*(c+1)-d,this.generator=i}updateTime(a){let b=Math.round(a-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=b}tick(a,b=!1){let{generator:c,totalDuration:d,mixKeyframes:e,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:h}=this;if(null===this.startTime)return c.next(0);let{delay:i=0,keyframes:j,repeat:k,repeatType:l,repeatDelay:m,type:n,onUpdate:o,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-d/this.speed,this.startTime)),b?this.currentTime=a:this.updateTime(a);let q=this.currentTime-i*(this.playbackSpeed>=0?1:-1),r=this.playbackSpeed>=0?q<0:q>d;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=d);let s=this.currentTime,t=c;if(k){let a=Math.min(this.currentTime,d)/g,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,k+1))%2&&("reverse"===l?(c=1-c,m&&(c-=m/g)):"mirror"===l&&(t=f)),s=I(0,1,c)*g}let u=r?{done:!1,value:j[0]}:t.next(s);e&&(u.value=e(u.value));let{done:v}=u;r||null===h||(v=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return w&&n!==cA&&(u.value=cV(j,this.options,p,this.speed)),o&&o(u.value),w&&this.finish(),u}then(a,b){return this.finished.then(a,b)}get duration(){return this.calculatedDuration/1e3}get time(){return this.currentTime/1e3}set time(a){a=cb(a),this.currentTime=a,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(aZ.now());let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:a=cq,startTime:b}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),this.options.onPlay?.();let c=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=c):null!==this.holdTime?this.startTime=c-this.holdTime:this.startTime||(this.startTime=b??c),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(aZ.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,cc.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function c_(a){let b;return()=>(void 0===b&&(b=a()),b)}let c0=c_(()=>void 0!==window.ScrollTimeline),c1={},c2=function(a,b){let c=c_(a);return()=>c1[b]??c()}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0},"linearEasing"),c3=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,c4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:c3([0,.65,.55,1]),circOut:c3([.55,0,1,.45]),backIn:c3([.31,.01,.66,-.59]),backOut:c3([.33,1.53,.69,.99])};function c5(a){return"function"==typeof a&&"applyToOptions"in a}class c6 extends cY{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;let{element:b,name:c,keyframes:d,pseudoElement:e,allowFlatten:f=!1,finalKeyframe:g,onComplete:h}=a;this.isPseudoElement=!!e,this.allowFlatten=f,this.options=a,X("string"!=typeof a.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");let i=function({type:a,...b}){return c5(a)&&c2()?a.applyToOptions(b):(b.duration??(b.duration=300),b.ease??(b.ease="easeOut"),b)}(a);this.animation=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeOut",times:i}={},j){let k={[b]:c};i&&(k.offset=i);let l=function a(b,c){if(b)return"function"==typeof b?c2()?cr(b,c):"ease-out":cP(b)?c3(b):Array.isArray(b)?b.map(b=>a(b,c)||c4.easeOut):c4[b]}(h,e);Array.isArray(l)&&(k.easing=l),af.value&&cc.waapi++;let m={delay:d,duration:e,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"};j&&(m.pseudoElement=j);let n=a.animate(k,m);return af.value&&n.finished.finally(()=>{cc.waapi--}),n}(b,c,d,i,e),!1===i.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!e){let a=cV(d,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(a):function(a,b,c){b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c}(b,c,a),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(a){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:a}=this;"idle"!==a&&"finished"!==a&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(a){this.finishedTime=null,this.animation.currentTime=cb(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:b}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&c0())?(this.animation.timeline=a,ac):b(this)}}let c7={anticipate:cL,backInOut:cK,circInOut:cO};class c8 extends c6{constructor(a){!function(a){"string"==typeof a.ease&&a.ease in c7&&(a.ease=c7[a.ease])}(a),cX(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){let{motionValue:b,onUpdate:c,onComplete:d,element:e,...f}=this.options;if(!b)return;if(void 0!==a)return void b.set(a);let g=new c$({...f,autoplay:!1}),h=cb(this.finishedTime??this.time);b.setWithVelocity(g.sample(h-10).value,g.sample(h).value,10),g.stop()}}let c9=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(aL.test(a)||"0"===a)&&!a.startsWith("url(")),da=new Set(["opacity","clipPath","filter","transform"]),db=c_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class dc extends cY{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",keyframes:g,name:h,motionValue:i,element:j,...k}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=aZ.now();let l={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,name:h,motionValue:i,element:j,...k},m=j?.KeyframeResolver||ar;this.keyframeResolver=new m(g,(a,b,c)=>this.onKeyframesResolved(a,b,l,!c),h,i,j),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,b,c,d){this.keyframeResolver=void 0;let{name:e,type:f,velocity:g,delay:h,isHandoff:i,onUpdate:j}=c;this.resolvedAt=aZ.now(),!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=c9(e,b),h=c9(f,b);return W(g===h,`You are trying to animate ${b} from "${e}" to "${f}". "${g?f:e}" is not an animatable value.`,"value-not-animatable"),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||c5(c))&&d)}(a,e,f,g)&&((ad.instantAnimations||!h)&&j?.(cV(a,c,b)),a[0]=a[a.length-1],b8(c),c.repeat=0);let k={startTime:d?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:b,...c,keyframes:a},l=!i&&function(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!(b?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return db()&&c&&da.has(c)&&("transform"!==c||!i)&&!h&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}(k)?new c8({...k,element:k.motionValue.owner.current}):new c$(k);l.finished.then(()=>this.notifyFinished()).catch(ac),this.pendingTimeline&&(this.stopTimeline=l.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=l}get finished(){return this._animation?this.animation.finished:this._finished}then(a,b){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ao=!0,aq(),ap(),ao=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let dd=a=>null!==a,de={type:"spring",stiffness:500,damping:25,restSpeed:10},df={type:"keyframes",duration:.8},dg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dh=(a,b,c,d={},f,g)=>h=>{let i=b5(d,a)||{},j=i.delay||d.delay||0,{elapsed:k=0}=d;k-=cb(j);let l={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...i,delay:-k,onUpdate:a=>{b.set(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{h(),i.onComplete&&i.onComplete()},name:a,motionValue:b,element:g?void 0:f};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(i)&&Object.assign(l,((a,{keyframes:b})=>b.length>2?df:e.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:de:dg)(a,l)),l.duration&&(l.duration=cb(l.duration)),l.repeatDelay&&(l.repeatDelay=cb(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let m=!1;if(!1!==l.type&&(0!==l.duration||l.repeatDelay)||(b8(l),0===l.delay&&(m=!0)),(ad.instantAnimations||ad.skipAnimations)&&(m=!0,b8(l),l.delay=0),l.allowFlatten=!i.type&&!i.ease,m&&!g&&void 0!==b.get()){let a=function(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(dd),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return e[f]}(l.keyframes,i);if(void 0!==a)return void ah.update(()=>{l.onUpdate(a),l.onComplete()})}return i.isSync?new c$(l):new dc(l)};function di(a,b,{delay:c=0,transitionOverride:d,type:e}={}){let{transition:f=a.getDefaultTransition(),transitionEnd:g,...h}=b;d&&(f=d);let i=[],j=e&&a.animationState&&a.animationState.getState()[e];for(let b in h){let d=a.getValue(b,a.latestValues[b]??null),e=h[b];if(void 0===e||j&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(j,b))continue;let g={delay:c,...b5(f||{},b)},k=d.get();if(void 0!==k&&!d.isAnimating&&!Array.isArray(e)&&e===k&&!g.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){let c=a.props[b0];if(c){let a=window.MotionHandoffAnimation(c,b,ah);null!==a&&(g.startTime=a,l=!0)}}b7(a,b),d.start(dh(b,d,e,a.shouldReduceMotion&&H.has(b)?{type:!1}:g,a,l));let m=d.animation;m&&i.push(m)}return g&&Promise.all(i).then(()=>{ah.update(()=>{g&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=b4(a,b)||{};for(let b in e={...e,...c}){var f;let c=b6(f=e[b])?f[f.length-1]||0:f;a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,a3(c))}}(a,g)})}),i}function dj(a,b,c,d=0,e=1){let f=Array.from(a).sort((a,b)=>a.sortNodePosition(b)).indexOf(b),g=a.size,h=(g-1)*d;return"function"==typeof c?c(f,g):1===e?f*d:h-f*d}function dk(a,b,c={}){let d=b4(a,b,"exit"===c.type?a.presenceContext?.custom:void 0),{transition:e=a.getDefaultTransition()||{}}=d||{};c.transitionOverride&&(e=c.transitionOverride);let f=d?()=>Promise.all(di(a,d,c)):()=>Promise.resolve(),g=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:f=0,staggerChildren:g,staggerDirection:h}=e;return function(a,b,c=0,d=0,e=0,f=1,g){let h=[];for(let i of a.variantChildren)i.notify("AnimationStart",b),h.push(dk(i,b,{...g,delay:c+("function"==typeof d?0:d)+dj(a.variantChildren,i,d,e,f)}).then(()=>i.notify("AnimationComplete",b)));return Promise.all(h)}(a,b,d,f,g,h,c)}:()=>Promise.resolve(),{when:h}=e;if(!h)return Promise.all([f(),g(c.delay)]);{let[a,b]="beforeChildren"===h?[f,g]:[g,f];return a().then(()=>b())}}function dl(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}let dm=bi.length,dn=[...bh].reverse(),dp=bh.length;function dq(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dr(){return{animate:dq(!0),whileInView:dq(),whileHover:dq(),whileTap:dq(),whileDrag:dq(),whileFocus:dq(),exit:dq()}}class ds{constructor(a){this.isMounted=!1,this.node=a}update(){}}let dt=0,du={x:!1,y:!1};function dv(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}let dw=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary;function dx(a){return{point:{x:a.pageX,y:a.pageY}}}function dy(a,b,c,d){return dv(a,b,a=>dw(a)&&c(a,dx(a)),d)}function dz(a){return a.max-a.min}function dA(a,b,c,d=.5){a.origin=d,a.originPoint=v(b.min,b.max,a.origin),a.scale=dz(c)/dz(b),a.translate=v(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function dB(a,b,c,d){dA(a.x,b.x,c.x,d?d.originX:void 0),dA(a.y,b.y,c.y,d?d.originY:void 0)}function dC(a,b,c){a.min=c.min+b.min,a.max=a.min+dz(b)}function dD(a,b,c){a.min=b.min-c.min,a.max=a.min+dz(b)}function dE(a,b,c){dD(a.x,b.x,c.x),dD(a.y,b.y,c.y)}function dF(a){return[a("x"),a("y")]}let dG=({current:a})=>a?a.ownerDocument.defaultView:null,dH=(a,b)=>Math.abs(a-b);class dI{constructor(a,b,{transformPagePoint:c,contextWindow:d=window,dragSnapToOrigin:e=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=dL(this.lastMoveEventInfo,this.history),b=null!==this.startEvent,c=function(a,b){return Math.sqrt(dH(a.x,b.x)**2+dH(a.y,b.y)**2)}(a.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!c)return;let{point:d}=a,{timestamp:e}=aj;this.history.push({...d,timestamp:e});let{onStart:f,onMove:g}=this.handlers;b||(f&&f(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,a)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=dJ(b,this.transformPagePoint),ah.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if(this.dragSnapToOrigin&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=dL("pointercancel"===a.type?this.lastMoveEventInfo:dJ(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!dw(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.distanceThreshold=f,this.contextWindow=d||window;let g=dJ(dx(a),this.transformPagePoint),{point:h}=g,{timestamp:i}=aj;this.history=[{...h,timestamp:i}];let{onSessionStart:j}=b;j&&j(a,dL(g,this.history)),this.removeListeners=ca(dy(this.contextWindow,"pointermove",this.handlePointerMove),dy(this.contextWindow,"pointerup",this.handlePointerUp),dy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function dJ(a,b){return b?{point:b(a.point)}:a}function dK(a,b){return{x:a.x-b.x,y:a.y-b.y}}function dL({point:a},b){return{point:a,delta:dK(a,dM(b)),offset:dK(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=dM(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>cb(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function dM(a){return a[a.length-1]}function dN(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function dO(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function dP(a,b,c){return{min:dQ(a,b),max:dQ(a,c)}}function dQ(a,b){return"number"==typeof a?a:a[b]||0}let dR=new WeakMap;class dS{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bb(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:b=!1,distanceThreshold:c}={}){let{presenceContext:d}=this.visualElement;if(d&&!1===d.isPresent)return;let e=a=>{let{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),b&&this.snapToCursor(dx(a).point)},f=(a,b)=>{let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(du[a])return null;else return du[a]=!0,()=>{du[a]=!1};return du.x||du.y?null:(du.x=du.y=!0,()=>{du.x=du.y=!1})}(c),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dF(a=>{let b=this.getAxisMotionValue(a).get()||0;if(O.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=dz(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&ah.postRender(()=>e(a,b)),b7(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},g=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b;let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&f(a,b)},h=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b,this.stop(a,b),this.latestPointerEvent=null,this.latestPanInfo=null},i=()=>dF(a=>"paused"===this.getAnimationState(a)&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:j}=this.getProps();this.panSession=new dI(a,{onSessionStart:e,onStart:f,onMove:g,onSessionEnd:h,resumeAnimation:i},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,distanceThreshold:c,contextWindow:dG(this.visualElement)})}stop(a,b){let c=a||this.latestPointerEvent,d=b||this.latestPanInfo,e=this.isDragging;if(this.cancel(),!e||!d||!c)return;let{velocity:f}=d;this.startAnimation(f);let{onDragEnd:g}=this.getProps();g&&ah.postRender(()=>g(c,d))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!dT(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?v(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?v(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){let{dragConstraints:a,dragElastic:b}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;a&&b_(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&c?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:dN(a.x,c,e),y:dN(a.y,b,d)}}(c.layoutBox,a):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:dP(a,"left","right"),y:dP(a,"top","bottom")}}(b),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&dF(a=>{!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=function(a,b){let c={};return void 0!==b.min&&(c.min=b.min-a.min),void 0!==b.max&&(c.max=b.max-a.min),c}(c.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!b_(b))return!1;let d=b.current;X(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=G(a,c),{scroll:e}=b;return e&&(D(d.x,e.offset.x),D(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:dO(a.x,f.x),y:dO(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=u(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(dF(g=>{if(!dT(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return b7(this.visualElement,a),c.start(dh(a,c,0,b,this.visualElement,!1))}stopAnimation(){dF(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){dF(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){dF(b=>{let{drag:c}=this.getProps();if(!dT(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b];e.set(a[b]-v(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!b_(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};dF(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){let c=b.get();d[a]=function(a,b){let c=.5,d=dz(a),e=dz(b);return e>d?c=cS(b.min,b.max-d,a.min):d>e&&(c=cS(a.min,a.max-e,b.min)),I(0,1,c)}({min:c,max:c},this.constraints[a])}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),dF(b=>{if(!dT(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(v(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;dR.set(this.visualElement,this);let a=dy(this.visualElement.current,"pointerdown",a=>{let{drag:b,dragListener:c=!0}=this.getProps();b&&c&&this.start(a)}),b=()=>{let{dragConstraints:a}=this.getProps();b_(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",b);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ah.read(b);let e=dv(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(dF(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{e(),a(),d(),f&&f()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function dT(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}let dU=a=>(b,c)=>{a&&ah.postRender(()=>a(b,c))};var dV=c;function dW(a=!0){let b=(0,c.useContext)(bU);if(null===b)return[!0,null];let{isPresent:d,onExitComplete:e,register:f}=b,g=(0,c.useId)();(0,c.useEffect)(()=>{if(a)return f(g)},[a]);let h=(0,c.useCallback)(()=>a&&e&&e(g),[g,e,a]);return!d&&e?[!1,h]:[!0]}a.s(["usePresence",()=>dW],20410);let dX={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dY(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let dZ={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!P.test(a))return a;else a=parseFloat(a);let c=dY(a,b.target.x),d=dY(a,b.target.y);return`${c}% ${d}%`}},d$=!1;class d_ extends dV.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;for(let a in d1)bv[a]=d1[a],q(a)&&(bv[a].isCSSVariable=!0);e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),d$&&e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),dX.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,{projection:f}=c;return f&&(f.isPresent=e,d$=!0,d||a.layoutDependency!==b||void 0===b||a.isPresent!==e?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||ah.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),a5.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;d$=!0,d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function d0(a){let[b,c]=dW(),d=(0,dV.useContext)(bK);return(0,bJ.jsx)(d_,{...a,layoutGroup:d,switchLayoutGroup:(0,dV.useContext)(b1),isPresent:b,safeToRemove:c})}let d1={borderRadius:{...dZ,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dZ,borderTopRightRadius:dZ,borderBottomLeftRadius:dZ,borderBottomRightRadius:dZ,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=aL.parse(a);if(d.length>5)return a;let e=aL.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=v(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}};function d2(a){return"object"==typeof a&&null!==a}function d3(a){return d2(a)&&"ownerSVGElement"in a}let d4=(a,b)=>a.depth-b.depth;class d5{constructor(){this.children=[],this.isDirty=!1}add(a){a$(this.children,a),this.isDirty=!0}remove(a){a_(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(d4),this.isDirty=!1,this.children.forEach(a)}}let d6=["TopLeft","TopRight","BottomLeft","BottomRight"],d7=d6.length,d8=a=>"string"==typeof a?parseFloat(a):a,d9=a=>"number"==typeof a||P.test(a);function ea(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let eb=ed(0,.5,cN),ec=ed(.5,.95,ac);function ed(a,b,c){return d=>d<a?0:d>b?1:c(cS(a,b,d))}function ee(a,b){a.min=b.min,a.max=b.max}function ef(a,b){ee(a.x,b.x),ee(a.y,b.y)}function eg(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function eh(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function ei(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(O.test(b)&&(b=parseFloat(b),b=v(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=v(f.min,f.max,d);a===f&&(h-=b),a.min=eh(a.min,b,c,h,e),a.max=eh(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let ej=["x","scaleX","originX"],ek=["y","scaleY","originY"];function el(a,b,c,d){ei(a.x,b,ej,c?c.x:void 0,d?d.x:void 0),ei(a.y,b,ek,c?c.y:void 0,d?d.y:void 0)}function em(a){return 0===a.translate&&1===a.scale}function en(a){return em(a.x)&&em(a.y)}function eo(a,b){return a.min===b.min&&a.max===b.max}function ep(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function eq(a,b){return ep(a.x,b.x)&&ep(a.y,b.y)}function er(a){return dz(a.x)/dz(a.y)}function es(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}class et{constructor(){this.members=[]}add(a){a$(this.members,a),a.scheduleRender()}remove(a){if(a_(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender(),a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);let{crossfade:d}=a.options;!1===d&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let eu={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},ev=["","X","Y","Z"],ew=0;function ex(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function ey({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=b?.()){this.id=ew++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,af.value&&(eu.nodes=eu.calculatedTargetDeltas=eu.calculatedProjections=0),this.nodes.forEach(eB),this.nodes.forEach(eI),this.nodes.forEach(eJ),this.nodes.forEach(eC),af.addProjectionMetrics&&af.addProjectionMetrics(eu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new d5)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new a0),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b){if(this.instance)return;this.isSVG=d3(b)&&!(d3(b)&&"svg"===b.tagName),this.instance=b;let{layoutId:c,layout:d,visualElement:e}=this.options;if(e&&!e.current&&e.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),a){let c,d=0,e=()=>this.root.updateBlockedByResize=!1;ah.read(()=>{d=window.innerWidth}),a(b,()=>{let a=window.innerWidth;a!==d&&(d=a,this.root.updateBlockedByResize=!0,c&&c(),c=function(a,b){let c=aZ.now(),d=({timestamp:b})=>{let e=b-c;e>=250&&(ai(d),a(e-250))};return ah.setup(d,!0),()=>ai(d)}(e,250),dX.hasAnimatedSinceResize&&(dX.hasAnimatedSinceResize=!1,this.nodes.forEach(eH)))})}c&&this.root.registerSharedNode(c,this),!1!==this.options.animate&&e&&(c||d)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeLayoutChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let f=this.options.transition||e.getDefaultTransition()||eP,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=e.getProps(),i=!this.targetLayout||!eq(this.targetLayout,d),j=!b&&c;if(this.options.layoutRoot||this.resumeFrom||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let b={...b5(f,"layout"),onPlay:g,onComplete:h};(e.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(a,j)}else b||eH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eK),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[b0];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",ah,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eE);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(eF);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eG),this.nodes.forEach(ez),this.nodes.forEach(eA)):this.nodes.forEach(eF),this.clearAllSnapshots();let a=aZ.now();aj.delta=I(0,1e3/60,a-aj.timestamp),aj.timestamp=a,aj.isProcessing=!0,ak.update.process(aj),ak.preRender.process(aj),ak.render.process(aj),aj.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eD),this.sharedNodes.forEach(eL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ah.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ah.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||dz(this.snapshot.measuredBox.x)||dz(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bb(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b&&this.instance){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!en(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(b||y(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),eS((b=d).x),eS(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:a}=this.options;if(!a)return bb();let b=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eU))){let{scroll:a}=this.root;a&&(D(b.x,a.offset.x),D(b.y,a.offset.y))}return b}removeElementScroll(a){let b=bb();if(ef(b,a),this.scroll?.wasRoot)return b;for(let c=0;c<this.path.length;c++){let d=this.path[c],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&ef(b,a),D(b.x,e.offset.x),D(b.y,e.offset.y))}return b}applyTransform(a,b=!1){let c=bb();ef(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&F(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),y(d.latestValues)&&F(c,d.latestValues)}return y(this.latestValues)&&F(c,this.latestValues),c}removeTransform(a){let b=bb();ef(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!y(c.latestValues))continue;x(c.latestValues)&&c.updateSnapshot();let d=bb();ef(d,c.measurePageBox()),el(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return y(this.latestValues)&&el(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==aj.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){let b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);let c=!!this.resumingFrom||this!==b;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:d,layoutId:e}=this.options;if(this.layout&&(d||e)){if(this.resolvedRelativeTargetAt=aj.timestamp,!this.targetDelta&&!this.relativeTarget){let a=this.getClosestProjectingParent();a&&a.layout&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bb(),this.relativeTargetOrigin=bb(),dE(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),ef(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=bb(),this.targetWithTransforms=bb()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var f,g,h;this.forceRelativeParentToResolveTarget(),f=this.target,g=this.relativeTarget,h=this.relativeParent.target,dC(f.x,g.x,h.x),dC(f.y,g.y,h.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ef(this.target,this.layout.layoutBox),C(this.target,this.targetDelta)):ef(this.target,this.layout.layoutBox);if(this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let a=this.getClosestProjectingParent();a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bb(),this.relativeTargetOrigin=bb(),dE(this.relativeTargetOrigin,this.target,a.target),ef(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}af.value&&eu.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||x(this.parent.latestValues)||z(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let a=this.getLead(),b=!!this.resumingFrom||this!==a,c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===aj.timestamp&&(c=!1),c)return;let{layout:d,layoutId:e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||e))return;ef(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,g=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&F(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,C(a,f)),d&&y(e.latestValues)&&F(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,b),a.layout&&!a.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bb());let{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(eg(this.prevProjectionDelta.x,this.projectionDelta.x),eg(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dB(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.treeScale.x===f&&this.treeScale.y===g&&es(this.projectionDelta.x,this.prevProjectionDelta.x)&&es(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),af.value&&eu.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=a9(),this.projectionDelta=a9(),this.projectionDeltaWithTransform=a9()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=a9();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=bb(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(eO));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(eM(g.x,a.x,d),eM(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;dE(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,eN(n.x,o.x,p.x,q),eN(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,eo(j.x,m.x)&&eo(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=bb()),ef(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=v(0,c.opacity??1,eb(d)),a.opacityExit=v(b.opacity??1,0,ec(d))):f&&(a.opacity=v(b.opacity??1,c.opacity??1,d));for(let e=0;e<d7;e++){let f=`border${d6[e]}Radius`,g=ea(b,f),h=ea(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||d9(g)===d9(h)?(a[f]=Math.max(v(d8(g),d8(h),d),0),(O.test(h)||O.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=v(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ah.update(()=>{dX.hasAnimatedSinceResize=!0,cc.layout++,this.motionValue||(this.motionValue=a3(0)),this.currentAnimation=function(a,b,c){let d=aX(a)?a:a3(a);return d.start(dh("",d,b,c)),d.animation}(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onStop:()=>{cc.layout--},onComplete:()=>{cc.layout--,a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&eT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||bb();let b=dz(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=dz(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}ef(b,c),F(b,e),dB(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new et),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){let{layoutId:a}=this.options;return a&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&ex("z",a,d,this.animationValues);for(let b=0;b<ev.length;b++)ex(`rotate${ev[b]}`,a,d,this.animationValues),ex(`skew${ev[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}applyProjectionStyles(a,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}let c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=bW(b?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}let d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,a.pointerEvents=bW(b?.pointerEvents)||""),this.hasProjected&&!y(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";let e=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=c?.z||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,e);c&&(f=c(e,f)),a.transform=f;let{x:g,y:h}=this.projectionDelta;for(let b in a.transformOrigin=`${100*g.origin}% ${100*h.origin}% 0`,d.animationValues?a.opacity=d===this?e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:e.opacityExit:a.opacity=d===this?void 0!==e.opacity?e.opacity:"":void 0!==e.opacityExit?e.opacityExit:0,bv){if(void 0===e[b])continue;let{correct:c,applyTo:g,isCSSVariable:h}=bv[b],i="none"===f?e[b]:c(e[b],d);if(g){let b=g.length;for(let c=0;c<b;c++)a[g[c]]=i}else h?this.options.visualElement.renderState.vars[b]=i:a[b]=i}this.options.layoutId&&(a.pointerEvents=d===this?bW(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(eE),this.root.sharedNodes.clear()}}}function ez(a){a.updateLayout()}function eA(a){let b=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&b&&a.hasListeners("didUpdate")){let{layoutBox:c,measuredBox:d}=a.layout,{animationType:e}=a.options,f=b.source!==a.layout.source;"size"===e?dF(a=>{let d=f?b.measuredBox[a]:b.layoutBox[a],e=dz(d);d.min=c[a].min,d.max=d.min+e}):eT(e,b.layoutBox,c)&&dF(d=>{let e=f?b.measuredBox[d]:b.layoutBox[d],g=dz(c[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=a9();dB(g,c,b.layoutBox);let h=a9();f?dB(h,a.applyTransform(d,!0),b.measuredBox):dB(h,c,b.layoutBox);let i=!en(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=bb();dE(g,b.layoutBox,e.layoutBox);let h=bb();dE(h,c,f.layoutBox),eq(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:b,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeLayoutChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function eB(a){af.value&&eu.nodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function eC(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function eD(a){a.clearSnapshot()}function eE(a){a.clearMeasurements()}function eF(a){a.isLayoutDirty=!1}function eG(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function eH(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function eI(a){a.resolveTargetDelta()}function eJ(a){a.calcProjection()}function eK(a){a.resetSkewAndRotation()}function eL(a){a.removeLeadSnapshot()}function eM(a,b,c){a.translate=v(b.translate,0,c),a.scale=v(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function eN(a,b,c,d){a.min=v(b.min,c.min,d),a.max=v(b.max,c.max,d)}function eO(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let eP={duration:.45,ease:[.4,0,.1,1]},eQ=a=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),eR=eQ("applewebkit/")&&!eQ("chrome/")?Math.round:ac;function eS(a){a.min=eR(a.min),a.max=eR(a.max)}function eT(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(er(b)-er(c)))}function eU(a){return a!==a.root&&a.scroll?.wasRoot}let eV=ey({attachResizeListener:(a,b)=>dv(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eW={current:void 0},eX=ey({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!eW.current){let a=new eV({});a.mount(window),a.setOptions({layoutScroll:!0}),eW.current=a}return eW.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function eY(a,b){let c=function(a,b,c){if(a instanceof EventTarget)return[a];if("string"==typeof a){let b=document,c=(void 0)??b.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function eZ(a){return!("touch"===a.pointerType||du.x||du.y)}function e$(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&ah.postRender(()=>e(b,dx(b)))}function e_(a){return d2(a)&&"offsetHeight"in a}a.s(["isHTMLElement",()=>e_],91128);let e0=(a,b)=>!!b&&(a===b||e0(a,b.parentElement)),e1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),e2=new WeakSet;function e3(a){return b=>{"Enter"===b.key&&a(b)}}function e4(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function e5(a){return dw(a)&&!(du.x||du.y)}function e6(a,b,c){let{props:d}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&ah.postRender(()=>e(b,dx(b)))}let e7=new WeakMap,e8=new WeakMap,e9=a=>{let b=e7.get(a.target);b&&b(a)},fa=a=>{a.forEach(e9)},fb={some:0,all:1},fc=function(a,b){if("undefined"==typeof Proxy)return b3;let c=new Map,d=(c,d)=>b3(c,d,a,b);return new Proxy((a,b)=>d(a,b),{get:(e,f)=>"create"===f?d:(c.has(f)||c.set(f,b3(f,void 0,a,b)),c.get(f))})}({animation:{Feature:class extends ds{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>dk(a,b,c)));else if("string"==typeof b)d=dk(a,b,c);else{let e="function"==typeof b?b4(a,b,c.custom):b;d=Promise.all(di(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=dr(),d=!0,e=b=>(c,d)=>{let e=b4(a,d,"exit"===b?a.presenceContext?.custom:void 0);if(e){let{transition:a,transitionEnd:b,...d}=e;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<dm;a++){let d=bi[a],e=b.props[d];(bg(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<dp;b++){var m,n;let o=dn[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=bg(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||bf(q)||"boolean"==typeof q)continue;let u=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!dl(n,m)),v=u||o===f&&p.isActive&&!t&&r||b>l&&r,w=!1,x=Array.isArray(q)?q:[q],y=x.reduce(e(o),{});!1===s&&(y={});let{prevResolvedValues:z={}}=p,A={...z,...y},B=b=>{v=!0,j.has(b)&&(w=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in A){let b=y[a],c=z[a];if(!k.hasOwnProperty(a))(b6(b)&&b6(c)?dl(b,c):b===c)?void 0!==b&&j.has(a)?B(a):p.protectedKeys[a]=!0:null!=b?B(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=y,p.isActive&&(k={...k,...y}),d&&a.blockInitialAnimation&&(v=!1);let C=t&&u,D=!C||w;v&&D&&i.push(...x.map(b=>{let c={type:o};if("string"==typeof b&&d&&!C&&a.manuallyAnimateOnMount&&a.parent){let{parent:d}=a,e=b4(d,b);if(d.enteringChildren&&e){let{delayChildren:b}=e.transition||{};c.delay=dj(d.enteringChildren,a,b)}}return{animation:b,options:c}}))}if(j.size){let b={};if("boolean"!=typeof g.initial){let c=b4(a,Array.isArray(g.initial)?g.initial[0]:g.initial);c&&c.transition&&(b.transition=c.transition)}j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=d??null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){if(c[b].isActive===d)return Promise.resolve();a.variantChildren?.forEach(a=>a.animationState?.setActive(b,d)),c[b].isActive=d;let e=f(b);for(let a in c)c[a].protectedKeys={};return e},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=dr(),d=!0}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();bf(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends ds{constructor(){super(...arguments),this.id=dt++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>{b(this.id)})}mount(){let{register:a,onExitComplete:b}=this.node.presenceContext||{};b&&b(this.id),a&&(this.unmount=a(this.id))}unmount(){}}},inView:{Feature:class extends ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:a={}}=this.node.getProps(),{root:b,margin:c,amount:d="some",once:e}=a,f={root:b?b.current:void 0,rootMargin:c,threshold:"number"==typeof d?d:fb[d]},g=a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,e&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=b?c:d;f&&f(a)};var h=this.node.current;let i=function({root:a,...b}){let c=a||document;e8.has(c)||e8.set(c,{});let d=e8.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(fa,{root:a,...b})),d[e]}(f);return e7.set(h,g),i.observe(h),()=>{e7.delete(h),i.unobserve(h)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ds{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=eY(a,c),g=a=>{let d=a.currentTarget;if(!e5(a))return;e2.add(d);let f=b(d,a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),e2.has(d)&&e2.delete(d),e5(a)&&"function"==typeof f&&f(a,{success:b})},h=a=>{g(a,d===window||d===document||c.useGlobalTarget||e0(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{((c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),e_(a))&&(a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=e3(()=>{if(e2.has(c))return;e4(c,"down");let a=e3(()=>{e4(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>e4(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e)),e1.has(a.tagName)||-1!==a.tabIndex||a.hasAttribute("tabindex")||(a.tabIndex=0))}),f}(a,(a,b)=>(e6(this.node,b,"Start"),(a,{success:b})=>e6(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ca(dv(this.node.current,"focus",()=>this.onFocus()),dv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ds{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=eY(a,c),g=a=>{if(!eZ(a))return;let{target:c}=a,d=b(c,a);if("function"!=typeof d||!c)return;let f=a=>{eZ(a)&&(d(a),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,e)};return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,(a,b)=>(e$(this.node,b,"Start"),a=>e$(this.node,a,"End"))))}unmount(){}}},pan:{Feature:class extends ds{constructor(){super(...arguments),this.removePointerDownListener=ac}onPointerDown(a){this.session=new dI(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dG(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:dU(a),onStart:dU(b),onMove:c,onEnd:(a,b)=>{delete this.session,d&&ah.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=dy(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ds{constructor(a){super(a),this.removeGroupControls=ac,this.removeListeners=ac,this.controls=new dS(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ac}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:eX,MeasureLayout:d0},layout:{ProjectionNode:eX,MeasureLayout:d0}},(a,b)=>bI(a)?new bG(b):new by(b,{allowProjection:a!==c.Fragment}))},64365,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(87924),c=a.i(46271);function d(){return(0,b.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-gray-900 to-green-900 overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,b.jsx)("div",{className:"absolute inset-0",style:{background:`
            radial-gradient(circle at 25% 25%, rgba(74, 222, 128, 0.3) 0%, transparent 50%),
            radial-gradient(circle at 75% 25%, rgba(34, 197, 94, 0.2) 0%, transparent 50%),
            radial-gradient(circle at 25% 75%, rgba(110, 231, 183, 0.2) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(74, 222, 128, 0.1) 0%, transparent 50%)
          `}}),(0,b.jsxs)("svg",{className:"absolute inset-0 w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("pattern",{id:"network",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[(0,b.jsx)("circle",{cx:"50",cy:"50",r:"2",fill:"rgba(74, 222, 128, 0.4)"}),(0,b.jsx)("line",{x1:"50",y1:"50",x2:"100",y2:"0",stroke:"rgba(74, 222, 128, 0.2)",strokeWidth:"1"}),(0,b.jsx)("line",{x1:"50",y1:"50",x2:"0",y2:"100",stroke:"rgba(34, 197, 94, 0.2)",strokeWidth:"1"})]})}),(0,b.jsx)("rect",{width:"100%",height:"100%",fill:"url(#network)"})]})]}),(0,b.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 to-green-600 transform rotate-45 rounded-lg shadow-2xl"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-black font-bold text-xl transform -rotate-45",children:"NKJ"})})]})}),(0,b.jsx)("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:(0,b.jsx)("span",{className:"block bg-gradient-to-r from-green-400 via-green-500 to-green-600 bg-clip-text text-transparent",children:"NKJ Development"})}),(0,b.jsx)(c.motion.p,{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:"Strategic Technology Consultancy  Analytical Precision  Creative Innovation"}),(0,b.jsx)(c.motion.p,{className:"text-lg text-green-300 mb-12 max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:"Transforming business challenges into strategic advantages through empathetic engineering and technical mastery"}),(0,b.jsxs)(c.motion.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:[(0,b.jsx)("button",{className:"geometric-accent bg-green-500 hover:bg-green-600 text-black font-semibold py-4 px-8 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Explore Solutions"}),(0,b.jsx)("button",{className:"border-2 border-green-400 text-green-400 hover:bg-green-400 hover:text-black font-semibold py-4 px-8 rounded-lg transition-all duration-300",children:"Schedule Consultation"})]}),(0,b.jsxs)(c.motion.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[(0,b.jsxs)("div",{className:"text-center p-6 rounded-lg bg-black/20 border border-green-500/20",children:[(0,b.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-green-400 mb-2",children:"150+"}),(0,b.jsx)("div",{className:"text-gray-300",children:"Projects Delivered"})]}),(0,b.jsxs)("div",{className:"text-center p-6 rounded-lg bg-black/20 border border-green-500/20",children:[(0,b.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-green-400 mb-2",children:"98.5%"}),(0,b.jsx)("div",{className:"text-gray-300",children:"Client Satisfaction"})]}),(0,b.jsxs)("div",{className:"text-center p-6 rounded-lg bg-black/20 border border-green-500/20",children:[(0,b.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-green-400 mb-2",children:"24/7"}),(0,b.jsx)("div",{className:"text-gray-300",children:"Technical Support"})]})]})]})}),(0,b.jsx)(c.motion.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},children:(0,b.jsx)("div",{className:"w-6 h-10 border-2 border-green-400 rounded-full flex justify-center",children:(0,b.jsx)(c.motion.div,{className:"w-1 h-3 bg-green-400 rounded-full mt-2",animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})})]})}},47663,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);function e({end:a,duration:e=2,prefix:f="",suffix:g="",className:h="",decimals:i=0}){let[j,k]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let b,c,d=f=>{b||(b=f);let g=Math.min((f-b)/(1e3*e),1);k(a*(1-Math.pow(1-g,4))),g<1&&(c=requestAnimationFrame(d))};return c=requestAnimationFrame(d),()=>{c&&cancelAnimationFrame(c)}},[a,e]),(0,b.jsxs)(d.motion.span,{className:`font-bold tabular-nums ${h}`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},children:[f,0===i?Math.floor(j).toLocaleString():j.toFixed(i),g]})}},63010,a=>{"use strict";let b;a.s(["default",()=>er],63010);var c,d=a.i(87924),e=a.i(46271),f=a.i(47663);function g({title:a,value:b,prefix:c="",suffix:g="",trend:h="neutral",trendValue:i,icon:j,className:k="",decimals:l=0}){return(0,d.jsxs)(e.motion.div,{className:`bg-white rounded-lg shadow-lg p-6 border border-automotive-chrome hover:shadow-xl transition-shadow duration-300 ${k}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{scale:1.02},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-automotive-steel uppercase tracking-wide",children:a}),j&&(0,d.jsx)("div",{className:"text-primary-500 text-2xl",children:j})]}),(0,d.jsx)("div",{className:"mb-2",children:(0,d.jsx)(f.default,{end:b,prefix:c,suffix:g,decimals:l,className:"text-3xl font-bold text-automotive-carbon"})}),void 0!==i&&(0,d.jsxs)("div",{className:`flex items-center text-sm ${(()=>{switch(h){case"up":return"text-automotive-success";case"down":return"text-automotive-danger";default:return"text-automotive-steel"}})()}`,children:[(0,d.jsx)("span",{className:"mr-1",children:(()=>{switch(h){case"up":return"";case"down":return"";default:return""}})()}),(0,d.jsxs)("span",{className:"font-medium",children:[Math.abs(i),"% vs last month"]})]})]})}var h=a.i(72131);function i(a){return a+.5|0}let j=(a,b,c)=>Math.max(Math.min(a,c),b);function k(a){return j(i(2.55*a),0,255)}function l(a){return j(i(255*a),0,255)}function m(a){return j(i(a/2.55)/100,0,1)}function n(a){return j(i(100*a),0,100)}let o={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},p=[..."0123456789ABCDEF"],q=a=>p[15&a],r=a=>p[(240&a)>>4]+p[15&a],s=a=>(240&a)>>4==(15&a),t=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function u(a,b,c){let d=b*Math.min(c,1-c),e=(b,e=(b+a/30)%12)=>c-d*Math.max(Math.min(e-3,9-e,1),-1);return[e(0),e(8),e(4)]}function v(a,b,c){let d=(d,e=(d+a/60)%6)=>c-c*b*Math.max(Math.min(e,4-e,1),0);return[d(5),d(3),d(1)]}function w(a,b,c){let d,e=u(a,1,.5);for(b+c>1&&(d=1/(b+c),b*=d,c*=d),d=0;d<3;d++)e[d]*=1-b-c,e[d]+=b;return e}function x(a){let b,c,d,e=a.r/255,f=a.g/255,g=a.b/255,h=Math.max(e,f,g),i=Math.min(e,f,g),j=(h+i)/2;h!==i&&(d=h-i,c=j>.5?d/(2-h-i):d/(h+i),b=60*(b=e===h?(f-g)/d+6*(f<g):f===h?(g-e)/d+2:(e-f)/d+4)+.5);return[0|b,c||0,j]}function y(a,b,c,d){return(Array.isArray(b)?a(b[0],b[1],b[2]):a(b,c,d)).map(l)}function z(a){return(a%360+360)%360}let A={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},C=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,D=a=>a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055,E=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function F(a,b,c){if(a){let d=x(a);d[b]=Math.max(0,Math.min(d[b]+d[b]*c,0===b?360:1)),a.r=(d=y(u,d,void 0,void 0))[0],a.g=d[1],a.b=d[2]}}function G(a,b){return a?Object.assign(b||{},a):a}function H(a){var b={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(b={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(b.a=l(a[3]))):(b=G(a,{r:0,g:0,b:0,a:1})).a=l(b.a),b}class I{constructor(a){let c;if(a instanceof I)return a;let d=typeof a;"object"===d?c=H(a):"string"===d&&(c=function(a){var b,c=a.length;return"#"===a[0]&&(4===c||5===c?b={r:255&17*o[a[1]],g:255&17*o[a[2]],b:255&17*o[a[3]],a:5===c?17*o[a[4]]:255}:(7===c||9===c)&&(b={r:o[a[1]]<<4|o[a[2]],g:o[a[3]]<<4|o[a[4]],b:o[a[5]]<<4|o[a[6]],a:9===c?o[a[7]]<<4|o[a[8]]:255})),b}(a)||function(a){b||((b=function(){let a,b,c,d,e,f={},g=Object.keys(B),h=Object.keys(A);for(a=0;a<g.length;a++){for(b=0,d=e=g[a];b<h.length;b++)c=h[b],e=e.replace(c,A[c]);c=parseInt(B[d],16),f[e]=[c>>16&255,c>>8&255,255&c]}return f}()).transparent=[0,0,0,0]);let c=b[a.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:4===c.length?c[3]:255}}(a)||function(a){return"r"===a.charAt(0)?function(a){let b,c,d,e=C.exec(a),f=255;if(e){if(e[7]!==b){let a=+e[7];f=e[8]?k(a):j(255*a,0,255)}return b=+e[1],c=+e[3],d=+e[5],b=255&(e[2]?k(b):j(b,0,255)),{r:b,g:c=255&(e[4]?k(c):j(c,0,255)),b:d=255&(e[6]?k(d):j(d,0,255)),a:f}}}(a):function(a){let b,c=t.exec(a),d=255;if(!c)return;c[5]!==b&&(d=c[6]?k(+c[5]):l(+c[5]));let e=z(+c[2]),f=c[3]/100,g=c[4]/100;return{r:(b="hwb"===c[1]?y(w,e,f,g):"hsv"===c[1]?y(v,e,f,g):y(u,e,f,g))[0],g:b[1],b:b[2],a:d}}(a)}(a)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var a=G(this._rgb);return a&&(a.a=m(a.a)),a}set rgb(a){this._rgb=H(a)}rgbString(){var a;return this._valid?(a=this._rgb)&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${m(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`):void 0}hexString(){var a,b;let c,d;return this._valid?(b=s((c=a=this._rgb).r)&&s(c.g)&&s(c.b)&&s(c.a)?q:r,a?"#"+b(a.r)+b(a.g)+b(a.b)+(d=a.a,d<255?b(d):""):void 0):void 0}hslString(){return this._valid?function(a){if(!a)return;let b=x(a),c=b[0],d=n(b[1]),e=n(b[2]);return a.a<255?`hsla(${c}, ${d}%, ${e}%, ${m(a.a)})`:`hsl(${c}, ${d}%, ${e}%)`}(this._rgb):void 0}mix(a,b){if(a){let c,d=this.rgb,e=a.rgb,f=b===c?.5:b,g=2*f-1,h=d.a-e.a,i=((g*h==-1?g:(g+h)/(1+g*h))+1)/2;c=1-i,d.r=255&i*d.r+c*e.r+.5,d.g=255&i*d.g+c*e.g+.5,d.b=255&i*d.b+c*e.b+.5,d.a=f*d.a+(1-f)*e.a,this.rgb=d}return this}interpolate(a,b){return a&&(this._rgb=function(a,b,c){let d=E(m(a.r)),e=E(m(a.g)),f=E(m(a.b));return{r:l(D(d+c*(E(m(b.r))-d))),g:l(D(e+c*(E(m(b.g))-e))),b:l(D(f+c*(E(m(b.b))-f))),a:a.a+c*(b.a-a.a)}}(this._rgb,a._rgb,b)),this}clone(){return new I(this.rgb)}alpha(a){return this._rgb.a=l(a),this}clearer(a){let b=this._rgb;return b.a*=1-a,this}greyscale(){let a=this._rgb,b=i(.3*a.r+.59*a.g+.11*a.b);return a.r=a.g=a.b=b,this}opaquer(a){let b=this._rgb;return b.a*=1+a,this}negate(){let a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return F(this._rgb,2,a),this}darken(a){return F(this._rgb,2,-a),this}saturate(a){return F(this._rgb,1,a),this}desaturate(a){return F(this._rgb,1,-a),this}rotate(a){var b,c;return b=this._rgb,(c=x(b))[0]=z(c[0]+a),b.r=(c=y(u,c,void 0,void 0))[0],b.g=c[1],b.b=c[2],this}}function J(){}let K=(()=>{let a=0;return()=>a++})();function L(a){return null==a}function M(a){if(Array.isArray&&Array.isArray(a))return!0;let b=Object.prototype.toString.call(a);return"[object"===b.slice(0,7)&&"Array]"===b.slice(-6)}function N(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}function O(a){return("number"==typeof a||a instanceof Number)&&isFinite(+a)}function P(a,b){return O(a)?a:b}function Q(a,b){return void 0===a?b:a}let R=(a,b)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*b:+a;function S(a,b,c){if(a&&"function"==typeof a.call)return a.apply(c,b)}function T(a,b,c,d){let e,f,g;if(M(a))if(f=a.length,d)for(e=f-1;e>=0;e--)b.call(c,a[e],e);else for(e=0;e<f;e++)b.call(c,a[e],e);else if(N(a))for(e=0,f=(g=Object.keys(a)).length;e<f;e++)b.call(c,a[g[e]],g[e])}function U(a,b){let c,d,e,f;if(!a||!b||a.length!==b.length)return!1;for(c=0,d=a.length;c<d;++c)if(e=a[c],f=b[c],e.datasetIndex!==f.datasetIndex||e.index!==f.index)return!1;return!0}function V(a){if(M(a))return a.map(V);if(N(a)){let b=Object.create(null),c=Object.keys(a),d=c.length,e=0;for(;e<d;++e)b[c[e]]=V(a[c[e]]);return b}return a}function W(a){return -1===["__proto__","prototype","constructor"].indexOf(a)}function X(a,b,c,d){if(!W(a))return;let e=b[a],f=c[a];N(e)&&N(f)?Y(e,f,d):b[a]=V(f)}function Y(a,b,c){let d,e=M(b)?b:[b],f=e.length;if(!N(a))return a;let g=(c=c||{}).merger||X;for(let b=0;b<f;++b){if(!N(d=e[b]))continue;let f=Object.keys(d);for(let b=0,e=f.length;b<e;++b)g(f[b],a,d,c)}return a}function Z(a,b){return Y(a,b,{merger:$})}function $(a,b,c){if(!W(a))return;let d=b[a],e=c[a];N(d)&&N(e)?Z(d,e):Object.prototype.hasOwnProperty.call(b,a)||(b[a]=V(e))}let _={"":a=>a,x:a=>a.x,y:a=>a.y};function aa(a,b){return(_[b]||(_[b]=function(a){let b=function(a){let b=a.split("."),c=[],d="";for(let a of b)(d+=a).endsWith("\\")?d=d.slice(0,-1)+".":(c.push(d),d="");return c}(a);return a=>{for(let c of b){if(""===c)break;a=a&&a[c]}return a}}(b)))(a)}function ab(a){return a.charAt(0).toUpperCase()+a.slice(1)}let ac=a=>void 0!==a,ad=a=>"function"==typeof a,ae=(a,b)=>{if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0},af=Math.PI,ag=2*af,ah=ag+af,ai=af/180,aj=af/2,ak=af/4,al=2*af/3,am=Math.log10,an=Math.sign;function ao(a,b,c){return Math.abs(a-b)<c}function ap(a){let b=Math.round(a),c=Math.pow(10,Math.floor(am(a=ao(a,b,a/1e3)?b:a))),d=a/c;return(d<=1?1:d<=2?2:d<=5?5:10)*c}function aq(a){return"symbol"!=typeof a&&("object"!=typeof a||null===a||!!(Symbol.toPrimitive in a||"toString"in a||"valueOf"in a))&&!isNaN(parseFloat(a))&&isFinite(a)}function ar(a,b,c){let d,e,f;for(d=0,e=a.length;d<e;d++)isNaN(f=a[d][c])||(b.min=Math.min(b.min,f),b.max=Math.max(b.max,f))}function as(a){return af/180*a}function at(a){if(!O(a))return;let b=1,c=0;for(;Math.round(a*b)/b!==a;)b*=10,c++;return c}function au(a,b){let c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*af&&(f+=ag),{angle:f,distance:e}}function av(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function aw(a,b){return(a-b+ah)%ag-af}function ax(a){return(a%ag+ag)%ag}function ay(a,b,c,d){let e=ax(a),f=ax(b),g=ax(c),h=ax(f-e),i=ax(g-e),j=ax(e-f),k=ax(e-g);return e===f||e===g||d&&f===g||h>i&&j<k}function az(a,b,c){return Math.max(b,Math.min(c,a))}function aA(a,b,c,d=1e-6){return a>=Math.min(b,c)-d&&a<=Math.max(b,c)+d}function aB(a,b,c){let d;c=c||(c=>a[c]<b);let e=a.length-1,f=0;for(;e-f>1;)c(d=f+e>>1)?f=d:e=d;return{lo:f,hi:e}}let aC=(a,b,c,d)=>aB(a,c,d?d=>{let e=a[d][b];return e<c||e===c&&a[d+1][b]===c}:d=>a[d][b]<c),aD=(a,b,c)=>aB(a,c,d=>a[d][b]>=c),aE=["push","pop","shift","splice","unshift"];function aF(a,b){let c=a._chartjs;if(!c)return;let d=c.listeners,e=d.indexOf(b);-1!==e&&d.splice(e,1),d.length>0||(aE.forEach(b=>{delete a[b]}),delete a._chartjs)}function aG(a){let b=new Set(a);return b.size===a.length?a:Array.from(b)}let aH=function(a){return a()},aI=a=>"start"===a?"left":"end"===a?"right":"center",aJ=(a,b,c)=>"start"===a?b:"end"===a?c:(b+c)/2;function aK(a,b,c){let d=b.length,e=0,f=d;if(a._sorted){let{iScale:g,vScale:h,_parsed:i}=a,j=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null,k=g.axis,{min:l,max:m,minDefined:n,maxDefined:o}=g.getUserBounds();if(n){if(e=Math.min(aC(i,k,l).lo,c?d:aC(b,k,g.getPixelForValue(l)).lo),j){let a=i.slice(0,e+1).reverse().findIndex(a=>!L(a[h.axis]));e-=Math.max(0,a)}e=az(e,0,d-1)}if(o){let a=Math.max(aC(i,g.axis,m,!0).hi+1,c?0:aC(b,k,g.getPixelForValue(m),!0).hi+1);if(j){let b=i.slice(a-1).findIndex(a=>!L(a[h.axis]));a+=Math.max(0,b)}f=az(a,e,d)-e}else f=d-e}return{start:e,count:f}}function aL(a){let{xScale:b,yScale:c,_scaleRanges:d}=a,e={xmin:b.min,xmax:b.max,ymin:c.min,ymax:c.max};if(!d)return a._scaleRanges=e,!0;let f=d.xmin!==b.min||d.xmax!==b.max||d.ymin!==c.min||d.ymax!==c.max;return Object.assign(d,e),f}let aM=a=>0===a||1===a,aN=(a,b,c)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-b)*ag/c)),aO=(a,b,c)=>Math.pow(2,-10*a)*Math.sin((a-b)*ag/c)+1,aP={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*aj)+1,easeOutSine:a=>Math.sin(a*aj),easeInOutSine:a=>-.5*(Math.cos(af*a)-1),easeInExpo:a=>0===a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1===a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>aM(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(-Math.pow(2,-10*(2*a-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>aM(a)?a:aN(a,.075,.3),easeOutElastic:a=>aM(a)?a:aO(a,.075,.3),easeInOutElastic:a=>aM(a)?a:a<.5?.5*aN(2*a,.1125,.45):.5+.5*aO(2*a-1,.1125,.45),easeInBack:a=>a*a*(2.70158*a-1.70158),easeOutBack:a=>(a-=1)*a*(2.70158*a+1.70158)+1,easeInOutBack(a){let b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:a=>1-aP.easeOutBounce(1-a),easeOutBounce:a=>a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,easeInOutBounce:a=>a<.5?.5*aP.easeInBounce(2*a):.5*aP.easeOutBounce(2*a-1)+.5};function aQ(a){if(a&&"object"==typeof a){let b=a.toString();return"[object CanvasPattern]"===b||"[object CanvasGradient]"===b}return!1}function aR(a){return aQ(a)?a:new I(a)}function aS(a){return aQ(a)?a:new I(a).saturate(.5).darken(.1).hexString()}let aT=["x","y","borderWidth","radius","tension"],aU=["color","borderColor","backgroundColor"],aV=new Map;function aW(a,b,c){return(function(a,b){let c=a+JSON.stringify(b=b||{}),d=aV.get(c);return d||(d=new Intl.NumberFormat(a,b),aV.set(c,d)),d})(b,c).format(a)}let aX={values:a=>M(a)?a:""+a,numeric(a,b,c){let d;if(0===a)return"0";let e=this.chart.options.locale,f=a;if(c.length>1){var g,h;let b,e=Math.max(Math.abs(c[0].value),Math.abs(c[c.length-1].value));(e<1e-4||e>1e15)&&(d="scientific"),g=a,Math.abs(b=(h=c).length>3?h[2].value-h[1].value:h[1].value-h[0].value)>=1&&g!==Math.floor(g)&&(b=g-Math.floor(g)),f=b}let i=am(Math.abs(f)),j=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),k={notation:d,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(k,this.options.ticks.format),aW(a,e,k)},logarithmic(a,b,c){return 0===a?"0":[1,2,3,5,10,15].includes(c[b].significand||a/Math.pow(10,Math.floor(am(a))))||b>.8*c.length?aX.numeric.call(this,a,b,c):""}};var aY={formatters:aX};let aZ=Object.create(null),a$=Object.create(null);function a_(a,b){if(!b)return a;let c=b.split(".");for(let b=0,d=c.length;b<d;++b){let d=c[b];a=a[d]||(a[d]=Object.create(null))}return a}function a0(a,b,c){return"string"==typeof b?Y(a_(a,b),c):Y(a_(a,""),b)}var a1=new class{constructor(a,b){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,b)=>aS(b.backgroundColor),this.hoverBorderColor=(a,b)=>aS(b.borderColor),this.hoverColor=(a,b)=>aS(b.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(b)}set(a,b){return a0(this,a,b)}get(a){return a_(this,a)}describe(a,b){return a0(a$,a,b)}override(a,b){return a0(aZ,a,b)}route(a,b,c,d){let e=a_(this,a),f=a_(this,c),g="_"+b;Object.defineProperties(e,{[g]:{value:e[b],writable:!0},[b]:{enumerable:!0,get(){let a=this[g],b=f[d];return N(a)?Object.assign({},b,a):Q(a,b)},set(a){this[g]=a}}})}apply(a){a.forEach(a=>a(this))}}({_scriptable:a=>!a.startsWith("on"),_indexable:a=>"events"!==a,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),a.set("animations",{colors:{type:"color",properties:aU},numbers:{type:"number",properties:aT}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}})},function(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,b)=>b.lineWidth,tickColor:(a,b)=>b.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aY.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a&&"dash"!==a}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a})}]);function a2(a,b,c,d,e){let f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d}function a3(a,b,c){let d=a.currentDevicePixelRatio,e=0!==c?Math.max(c/2,.5):0;return Math.round((b-e)*d)/d+e}function a4(a,b){(b||a)&&((b=b||a.getContext("2d")).save(),b.resetTransform(),b.clearRect(0,0,a.width,a.height),b.restore())}function a5(a,b,c,d){a6(a,b,c,d,null)}function a6(a,b,c,d,e){let f,g,h,i,j,k,l,m,n=b.pointStyle,o=b.rotation,p=b.radius,q=(o||0)*ai;if(n&&"object"==typeof n&&("[object HTMLImageElement]"===(f=n.toString())||"[object HTMLCanvasElement]"===f)){a.save(),a.translate(c,d),a.rotate(q),a.drawImage(n,-n.width/2,-n.height/2,n.width,n.height),a.restore();return}if(!isNaN(p)&&!(p<=0)){switch(a.beginPath(),n){default:e?a.ellipse(c,d,e/2,p,0,0,ag):a.arc(c,d,p,0,ag),a.closePath();break;case"triangle":k=e?e/2:p,a.moveTo(c+Math.sin(q)*k,d-Math.cos(q)*p),q+=al,a.lineTo(c+Math.sin(q)*k,d-Math.cos(q)*p),q+=al,a.lineTo(c+Math.sin(q)*k,d-Math.cos(q)*p),a.closePath();break;case"rectRounded":j=.516*p,g=Math.cos(q+ak)*(i=p-j),l=Math.cos(q+ak)*(e?e/2-j:i),h=Math.sin(q+ak)*i,m=Math.sin(q+ak)*(e?e/2-j:i),a.arc(c-l,d-h,j,q-af,q-aj),a.arc(c+m,d-g,j,q-aj,q),a.arc(c+l,d+h,j,q,q+aj),a.arc(c-m,d+g,j,q+aj,q+af),a.closePath();break;case"rect":if(!o){i=Math.SQRT1_2*p,k=e?e/2:i,a.rect(c-k,d-i,2*k,2*i);break}q+=ak;case"rectRot":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+m,d-g),a.lineTo(c+l,d+h),a.lineTo(c-m,d+g),a.closePath();break;case"crossRot":q+=ak;case"cross":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g);break;case"star":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g),q+=ak,l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g);break;case"line":g=e?e/2:Math.cos(q)*p,h=Math.sin(q)*p,a.moveTo(c-g,d-h),a.lineTo(c+g,d+h);break;case"dash":a.moveTo(c,d),a.lineTo(c+Math.cos(q)*(e?e/2:p),d+Math.sin(q)*p);break;case!1:a.closePath()}a.fill(),b.borderWidth>0&&a.stroke()}}function a7(a,b,c){return c=c||.5,!b||a&&a.x>b.left-c&&a.x<b.right+c&&a.y>b.top-c&&a.y<b.bottom+c}function a8(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()}function a9(a){a.restore()}function ba(a,b,c,d,e){if(!b)return a.lineTo(c.x,c.y);if("middle"===e){let d=(b.x+c.x)/2;a.lineTo(d,b.y),a.lineTo(d,c.y)}else"after"===e!=!!d?a.lineTo(b.x,c.y):a.lineTo(c.x,b.y);a.lineTo(c.x,c.y)}function bb(a,b,c,d){if(!b)return a.lineTo(c.x,c.y);a.bezierCurveTo(d?b.cp1x:b.cp2x,d?b.cp1y:b.cp2y,d?c.cp2x:c.cp1x,d?c.cp2y:c.cp1y,c.x,c.y)}function bc(a,b,c,d,e,f={}){let g,h,i=M(b)?b:[b],j=f.strokeWidth>0&&""!==f.strokeColor;for(a.save(),a.font=e.string,f.translation&&a.translate(f.translation[0],f.translation[1]),L(f.rotation)||a.rotate(f.rotation),f.color&&(a.fillStyle=f.color),f.textAlign&&(a.textAlign=f.textAlign),f.textBaseline&&(a.textBaseline=f.textBaseline),g=0;g<i.length;++g)h=i[g],f.backdrop&&function(a,b){let c=a.fillStyle;a.fillStyle=b.color,a.fillRect(b.left,b.top,b.width,b.height),a.fillStyle=c}(a,f.backdrop),j&&(f.strokeColor&&(a.strokeStyle=f.strokeColor),L(f.strokeWidth)||(a.lineWidth=f.strokeWidth),a.strokeText(h,c,d,f.maxWidth)),a.fillText(h,c,d,f.maxWidth),function(a,b,c,d,e){if(e.strikethrough||e.underline){let f=a.measureText(d),g=b-f.actualBoundingBoxLeft,h=b+f.actualBoundingBoxRight,i=c-f.actualBoundingBoxAscent,j=c+f.actualBoundingBoxDescent,k=e.strikethrough?(i+j)/2:j;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=e.decorationWidth||2,a.moveTo(g,k),a.lineTo(h,k),a.stroke()}}(a,c,d,h,f),d+=Number(e.lineHeight);a.restore()}function bd(a,b){let{x:c,y:d,w:e,h:f,radius:g}=b;a.arc(c+g.topLeft,d+g.topLeft,g.topLeft,1.5*af,af,!0),a.lineTo(c,d+f-g.bottomLeft),a.arc(c+g.bottomLeft,d+f-g.bottomLeft,g.bottomLeft,af,aj,!0),a.lineTo(c+e-g.bottomRight,d+f),a.arc(c+e-g.bottomRight,d+f-g.bottomRight,g.bottomRight,aj,0,!0),a.lineTo(c+e,d+g.topRight),a.arc(c+e-g.topRight,d+g.topRight,g.topRight,0,-aj,!0),a.lineTo(c+g.topLeft,d)}let be=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bf=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,bg=a=>+a||0;function bh(a,b){let c={},d=N(b),e=d?Object.keys(b):b,f=N(a)?d?c=>Q(a[c],a[b[c]]):b=>a[b]:()=>a;for(let a of e)c[a]=bg(f(a));return c}function bi(a){return bh(a,{top:"y",right:"x",bottom:"y",left:"x"})}function bj(a){return bh(a,["topLeft","topRight","bottomLeft","bottomRight"])}function bk(a){let b=bi(a);return b.width=b.left+b.right,b.height=b.top+b.bottom,b}function bl(a,b){a=a||{},b=b||a1.font;let c=Q(a.size,b.size);"string"==typeof c&&(c=parseInt(c,10));let d=Q(a.style,b.style);d&&!(""+d).match(bf)&&(console.warn('Invalid font style specified: "'+d+'"'),d=void 0);let e={family:Q(a.family,b.family),lineHeight:function(a,b){let c=(""+a).match(be);if(!c||"normal"===c[1])return 1.2*b;switch(a=+c[2],c[3]){case"px":return a;case"%":a/=100}return b*a}(Q(a.lineHeight,b.lineHeight),c),size:c,style:d,weight:Q(a.weight,b.weight),string:""};return e.string=!e||L(e.size)||L(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family,e}function bm(a,b,c,d){let e,f,g,h=!0;for(e=0,f=a.length;e<f;++e)if(void 0!==(g=a[e])&&(void 0!==b&&"function"==typeof g&&(g=g(b),h=!1),void 0!==c&&M(g)&&(g=g[c%g.length],h=!1),void 0!==g))return d&&!h&&(d.cacheable=!1),g}function bn(a,b){return Object.assign(Object.create(a),b)}function bo(a,b=[""],c,d,e=()=>a[0]){let f=c||a;return void 0===d&&(d=bx("_fallback",a)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:f,_fallback:d,_getTarget:e,override:c=>bo([c,...a],b,f,d)},{deleteProperty:(b,c)=>(delete b[c],delete b._keys,delete a[0][c],!0),get:(c,d)=>bt(c,d,()=>(function(a,b,c,d){let e;for(let f of b)if(void 0!==(e=bx(br(f,a),c)))return bs(a,e)?bv(c,d,a,e):e})(d,b,a,c)),getOwnPropertyDescriptor:(a,b)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],b),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(a,b)=>by(a).includes(b),ownKeys:a=>by(a),set(a,b,c){let d=a._storage||(a._storage=e());return a[b]=d[b]=c,delete a._keys,!0}})}function bp(a,b,c,d){return new Proxy({_cacheable:!1,_proxy:a,_context:b,_subProxy:c,_stack:new Set,_descriptors:bq(a,d),setContext:b=>bp(a,b,c,d),override:e=>bp(a.override(e),b,c,d)},{deleteProperty:(b,c)=>(delete b[c],delete a[c],!0),get:(a,b,c)=>bt(a,b,()=>(function(a,b,c){let{_proxy:d,_context:e,_subProxy:f,_descriptors:g}=a,h=d[b];return ad(h)&&g.isScriptable(b)&&(h=function(a,b,c,d){let{_proxy:e,_context:f,_subProxy:g,_stack:h}=c;if(h.has(a))throw Error("Recursion detected: "+Array.from(h).join("->")+"->"+a);h.add(a);let i=b(f,g||d);return h.delete(a),bs(a,i)&&(i=bv(e._scopes,e,a,i)),i}(b,h,a,c)),M(h)&&h.length&&(h=function(a,b,c,d){let{_proxy:e,_context:f,_subProxy:g,_descriptors:h}=c;if(void 0!==f.index&&d(a))return b[f.index%b.length];if(N(b[0])){let c=b,d=e._scopes.filter(a=>a!==c);for(let i of(b=[],c)){let c=bv(d,e,a,i);b.push(bp(c,f,g&&g[a],h))}}return b}(b,h,a,g.isIndexable)),bs(b,h)&&(h=bp(h,e,f&&f[b],g)),h})(a,b,c)),getOwnPropertyDescriptor:(b,c)=>b._descriptors.allKeys?Reflect.has(a,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,c),getPrototypeOf:()=>Reflect.getPrototypeOf(a),has:(b,c)=>Reflect.has(a,c),ownKeys:()=>Reflect.ownKeys(a),set:(b,c,d)=>(a[c]=d,delete b[c],!0)})}function bq(a,b={scriptable:!0,indexable:!0}){let{_scriptable:c=b.scriptable,_indexable:d=b.indexable,_allKeys:e=b.allKeys}=a;return{allKeys:e,scriptable:c,indexable:d,isScriptable:ad(c)?c:()=>c,isIndexable:ad(d)?d:()=>d}}let br=(a,b)=>a?a+ab(b):b,bs=(a,b)=>N(b)&&"adapters"!==a&&(null===Object.getPrototypeOf(b)||b.constructor===Object);function bt(a,b,c){if(Object.prototype.hasOwnProperty.call(a,b)||"constructor"===b)return a[b];let d=c();return a[b]=d,d}let bu=(a,b)=>!0===a?b:"string"==typeof a?aa(b,a):void 0;function bv(a,b,c,d){var e;let f=b._rootScopes,g=(e=b._fallback,ad(e)?e(c,d):e),h=[...a,...f],i=new Set;i.add(d);let j=bw(i,h,c,g||c,d);return null!==j&&(void 0===g||g===c||null!==(j=bw(i,h,g,j,d)))&&bo(Array.from(i),[""],f,g,()=>(function(a,b,c){let d=a._getTarget();b in d||(d[b]={});let e=d[b];return M(e)&&N(c)?c:e||{}})(b,c,d))}function bw(a,b,c,d,e){for(;c;)c=function(a,b,c,d,e){for(let g of b){let b=bu(c,g);if(b){var f;a.add(b);let g=(f=b._fallback,ad(f)?f(c,e):f);if(void 0!==g&&g!==c&&g!==d)return g}else if(!1===b&&void 0!==d&&c!==d)return null}return!1}(a,b,c,d,e);return c}function bx(a,b){for(let c of b){if(!c)continue;let b=c[a];if(void 0!==b)return b}}function by(a){let b=a._keys;return b||(b=a._keys=function(a){let b=new Set;for(let c of a)for(let a of Object.keys(c).filter(a=>!a.startsWith("_")))b.add(a);return Array.from(b)}(a._scopes)),b}function bz(a,b,c,d){let e,f,g,{iScale:h}=a,{key:i="r"}=this._parsing,j=Array(d);for(e=0;e<d;++e)g=b[f=e+c],j[e]={r:h.parse(aa(g,i),f)};return j}let bA=Number.EPSILON||1e-14,bB=(a,b)=>b<a.length&&!a[b].skip&&a[b],bC=a=>"x"===a?"y":"x";function bD(a,b,c){return Math.max(Math.min(a,c),b)}let bE=a=>a.ownerDocument.defaultView.getComputedStyle(a,null),bF=["top","right","bottom","left"];function bG(a,b,c){let d={};c=c?"-"+c:"";for(let e=0;e<4;e++){let f=bF[e];d[f]=parseFloat(a[b+"-"+f+c])||0}return d.width=d.left+d.right,d.height=d.top+d.bottom,d}function bH(a,b){if("native"in a)return a;let{canvas:c,currentDevicePixelRatio:d}=b,e=bE(c),f="border-box"===e.boxSizing,g=bG(e,"padding"),h=bG(e,"border","width"),{x:i,y:j,box:k}=function(a,b){let c,d,e,f=a.touches,g=f&&f.length?f[0]:a,{offsetX:h,offsetY:i}=g,j=!1;if(e=a.target,(h>0||i>0)&&(!e||!e.shadowRoot))c=h,d=i;else{let a=b.getBoundingClientRect();c=g.clientX-a.left,d=g.clientY-a.top,j=!0}return{x:c,y:d,box:j}}(a,c),l=g.left+(k&&h.left),m=g.top+(k&&h.top),{width:n,height:o}=b;return f&&(n-=g.width+h.width,o-=g.height+h.height),{x:Math.round((i-l)/n*c.width/d),y:Math.round((j-m)/o*c.height/d)}}function bI(a,b,c){let d=b||1,e=Math.floor(a.height*d),f=Math.floor(a.width*d);a.height=Math.floor(a.height),a.width=Math.floor(a.width);let g=a.canvas;return g.style&&(c||!g.style.height&&!g.style.width)&&(g.style.height=`${a.height}px`,g.style.width=`${a.width}px`),(a.currentDevicePixelRatio!==d||g.height!==e||g.width!==f)&&(a.currentDevicePixelRatio=d,g.height=e,g.width=f,a.ctx.setTransform(d,0,0,d,0,0),!0)}function bJ(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:a.y+c*(b.y-a.y)}}function bK(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:"middle"===d?c<.5?a.y:b.y:"after"===d?c<1?a.y:b.y:c>0?b.y:a.y}}function bL(a,b,c,d){let e={x:a.cp2x,y:a.cp2y},f={x:b.cp1x,y:b.cp1y},g=bJ(a,e,c),h=bJ(e,f,c),i=bJ(f,b,c),j=bJ(g,h,c),k=bJ(h,i,c);return bJ(j,k,c)}function bM(a,b,c){var d;return a?(d=c,{x:a=>b+b+d-a,setWidth(a){d=a},textAlign:a=>"center"===a?a:"right"===a?"left":"right",xPlus:(a,b)=>a-b,leftForLtr:(a,b)=>a-b}):{x:a=>a,setWidth(a){},textAlign:a=>a,xPlus:(a,b)=>a+b,leftForLtr:(a,b)=>a}}function bN(a,b){let c,d;("ltr"===b||"rtl"===b)&&(d=[(c=a.canvas.style).getPropertyValue("direction"),c.getPropertyPriority("direction")],c.setProperty("direction",b,"important"),a.prevTextDirection=d)}function bO(a,b){void 0!==b&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",b[0],b[1]))}function bP(a){return"angle"===a?{between:ay,compare:aw,normalize:ax}:{between:aA,compare:(a,b)=>a-b,normalize:a=>a}}function bQ({start:a,end:b,count:c,loop:d,style:e}){return{start:a%c,end:b%c,loop:d&&(b-a+1)%c==0,style:e}}function bR(a,b,c){let d,e,f;if(!c)return[a];let{property:g,start:h,end:i}=c,j=b.length,{compare:k,between:l,normalize:m}=bP(g),{start:n,end:o,loop:p,style:q}=function(a,b,c){let d,{property:e,start:f,end:g}=c,{between:h,normalize:i}=bP(e),j=b.length,{start:k,end:l,loop:m}=a;if(m){for(k+=j,l+=j,d=0;d<j&&h(i(b[k%j][e]),f,g);++d)k--,l--;k%=j,l%=j}return l<k&&(l+=j),{start:k,end:l,loop:m,style:a.style}}(a,b,c),r=[],s=!1,t=null,u=()=>s||l(h,f,d)&&0!==k(h,f),v=()=>!s||0===k(i,d)||l(i,f,d);for(let a=n,c=n;a<=o;++a)(e=b[a%j]).skip||(d=m(e[g]))!==f&&(s=l(d,h,i),null===t&&u()&&(t=0===k(d,h)?a:c),null!==t&&v()&&(r.push(bQ({start:t,end:a,loop:p,count:j,style:q})),t=null),c=a,f=d);return null!==t&&r.push(bQ({start:t,end:o,loop:p,count:j,style:q})),r}function bS(a,b){let c=[],d=a.segments;for(let e=0;e<d.length;e++){let f=bR(d[e],a.points,b);f.length&&c.push(...f)}return c}function bT(a,b,c,d){return d&&d.setContext&&c?function(a,b,c,d){let e=a._chart.getContext(),f=bU(a.options),{_datasetIndex:g,options:{spanGaps:h}}=a,i=c.length,j=[],k=f,l=b[0].start,m=l;function n(a,b,d,e){let f=h?-1:1;if(a!==b){for(a+=i;c[a%i].skip;)a-=f;for(;c[b%i].skip;)b+=f;a%i!=b%i&&(j.push({start:a%i,end:b%i,loop:d,style:e}),k=e,l=b%i)}}for(let a of b){let b,f=c[(l=h?l:a.start)%i];for(m=l+1;m<=a.end;m++){let h=c[m%i];(function(a,b){if(!b)return!1;let c=[],d=function(a,b){return aQ(b)?(c.includes(b)||c.push(b),c.indexOf(b)):b};return JSON.stringify(a,d)!==JSON.stringify(b,d)})(b=bU(d.setContext(bn(e,{type:"segment",p0:f,p1:h,p0DataIndex:(m-1)%i,p1DataIndex:m%i,datasetIndex:g}))),k)&&n(l,m-1,a.loop,k),f=h,k=b}l<m-1&&n(l,m-1,a.loop,k)}return j}(a,b,c,d):b}function bU(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function bV(a,b,c){return a.options.clip?a[c]:b[c]}function bW(a,b){let c=b._clip;if(c.disabled)return!1;let d=function(a,b){let{xScale:c,yScale:d}=a;return c&&d?{left:bV(c,b,"left"),right:bV(c,b,"right"),top:bV(d,b,"top"),bottom:bV(d,b,"bottom")}:b}(b,a.chartArea);return{left:!1===c.left?0:d.left-(!0===c.left?0:c.left),right:!1===c.right?a.width:d.right+(!0===c.right?0:c.right),top:!1===c.top?0:d.top-(!0===c.top?0:c.top),bottom:!1===c.bottom?a.height:d.bottom+(!0===c.bottom?0:c.bottom)}}var bX=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,b,c,d){let e=b.listeners[d],f=b.duration;e.forEach(d=>d({chart:a,initial:b.initial,numSteps:f,currentStep:Math.min(c-b.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=aH.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let b=0;this._charts.forEach((c,d)=>{let e;if(!c.running||!c.items.length)return;let f=c.items,g=f.length-1,h=!1;for(;g>=0;--g)(e=f[g])._active?(e._total>c.duration&&(c.duration=e._total),e.tick(a),h=!0):(f[g]=f[f.length-1],f.pop());h&&(d.draw(),this._notify(d,c,a,"progress")),f.length||(c.running=!1,this._notify(d,c,a,"complete"),c.initial=!1),b+=f.length}),this._lastDate=a,0===b&&(this._running=!1)}_getAnims(a){let b=this._charts,c=b.get(a);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},b.set(a,c)),c}listen(a,b,c){this._getAnims(a).listeners[b].push(c)}add(a,b){b&&b.length&&this._getAnims(a).items.push(...b)}has(a){return this._getAnims(a).items.length>0}start(a){let b=this._charts.get(a);b&&(b.running=!0,b.start=Date.now(),b.duration=b.items.reduce((a,b)=>Math.max(a,b._duration),0),this._refresh())}running(a){if(!this._running)return!1;let b=this._charts.get(a);return!!b&&!!b.running&&!!b.items.length}stop(a){let b=this._charts.get(a);if(!b||!b.items.length)return;let c=b.items,d=c.length-1;for(;d>=0;--d)c[d].cancel();b.items=[],this._notify(a,b,Date.now(),"complete")}remove(a){return this._charts.delete(a)}};let bY="transparent",bZ={boolean:(a,b,c)=>c>.5?b:a,color(a,b,c){let d=aR(a||bY),e=d.valid&&aR(b||bY);return e&&e.valid?e.mix(d,c).hexString():b},number:(a,b,c)=>a+(b-a)*c};class b${constructor(a,b,c,d){let e=b[c];d=bm([a.to,d,e,a.from]);let f=bm([a.from,e,d]);this._active=!0,this._fn=a.fn||bZ[a.type||typeof f],this._easing=aP[a.easing]||aP.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=b,this._prop=c,this._from=f,this._to=d,this._promises=void 0}active(){return this._active}update(a,b,c){if(this._active){this._notify(!1);let d=this._target[this._prop],e=c-this._start,f=this._duration-e;this._start=c,this._duration=Math.floor(Math.max(f,a.duration)),this._total+=e,this._loop=!!a.loop,this._to=bm([a.to,b,d,a.from]),this._from=bm([a.from,d,b])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){let b,c=a-this._start,d=this._duration,e=this._prop,f=this._from,g=this._loop,h=this._to;if(this._active=f!==h&&(g||c<d),!this._active){this._target[e]=h,this._notify(!0);return}if(c<0){this._target[e]=f;return}b=c/d%2,b=g&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[e]=this._fn(f,h,b)}wait(){let a=this._promises||(this._promises=[]);return new Promise((b,c)=>{a.push({res:b,rej:c})})}_notify(a){let b=a?"res":"rej",c=this._promises||[];for(let a=0;a<c.length;a++)c[a][b]()}}class b_{constructor(a,b){this._chart=a,this._properties=new Map,this.configure(b)}configure(a){if(!N(a))return;let b=Object.keys(a1.animation),c=this._properties;Object.getOwnPropertyNames(a).forEach(d=>{let e=a[d];if(!N(e))return;let f={};for(let a of b)f[a]=e[a];(M(e.properties)&&e.properties||[d]).forEach(a=>{a!==d&&c.has(a)||c.set(a,f)})})}_animateOptions(a,b){let c=b.options,d=function(a,b){if(!b)return;let c=a.options;if(!c){a.options=b;return}return c.$shared&&(a.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c}(a,c);if(!d)return[];let e=this._createAnimations(d,c);return c.$shared&&(function(a,b){let c=[],d=Object.keys(b);for(let b=0;b<d.length;b++){let e=a[d[b]];e&&e.active()&&c.push(e.wait())}return Promise.all(c)})(a.options.$animations,c).then(()=>{a.options=c},()=>{}),e}_createAnimations(a,b){let c,d=this._properties,e=[],f=a.$animations||(a.$animations={}),g=Object.keys(b),h=Date.now();for(c=g.length-1;c>=0;--c){let i=g[c];if("$"===i.charAt(0))continue;if("options"===i){e.push(...this._animateOptions(a,b));continue}let j=b[i],k=f[i],l=d.get(i);if(k)if(l&&k.active()){k.update(l,j,h);continue}else k.cancel();if(!l||!l.duration){a[i]=j;continue}f[i]=k=new b$(l,a,i,j),e.push(k)}return e}update(a,b){if(0===this._properties.size)return void Object.assign(a,b);let c=this._createAnimations(a,b);if(c.length)return bX.add(this._chart,c),!0}}function b0(a,b){let c=a&&a.options||{},d=c.reverse,e=void 0===c.min?b:0,f=void 0===c.max?b:0;return{start:d?f:e,end:d?e:f}}function b1(a,b){let c,d,e=[],f=a._getSortedDatasetMetas(b);for(c=0,d=f.length;c<d;++c)e.push(f[c].index);return e}function b2(a,b,c,d={}){let e,f,g,h,i=a.keys,j="single"===d.mode;if(null===b)return;let k=!1;for(e=0,f=i.length;e<f;++e){if((g=+i[e])===c){if(k=!0,d.all)continue;break}O(h=a.values[g])&&(j||0===b||an(b)===an(h))&&(b+=h)}return k||d.all?b:0}function b3(a,b){let c=a&&a.options.stacked;return c||void 0===c&&void 0!==b.stack}function b4(a,b,c,d){for(let e of b.getMatchingVisibleMetas(d).reverse()){let b=a[e.index];if(c&&b>0||!c&&b<0)return e.index}return null}function b5(a,b){let c,{chart:d,_cachedMeta:e}=a,f=d._stacks||(d._stacks={}),{iScale:g,vScale:h,index:i}=e,j=g.axis,k=h.axis,l=`${g.id}.${h.id}.${e.stack||e.type}`,m=b.length;for(let a=0;a<m;++a){let d=b[a],{[j]:g,[k]:m}=d;(c=(d._stacks||(d._stacks={}))[k]=function(a,b,c){let d=a[b]||(a[b]={});return d[c]||(d[c]={})}(f,l,g))[i]=m,c._top=b4(c,h,!0,e.type),c._bottom=b4(c,h,!1,e.type),(c._visualValues||(c._visualValues={}))[i]=m}}function b6(a,b){let c=a.scales;return Object.keys(c).filter(a=>c[a].axis===b).shift()}function b7(a,b){let c=a.controller.index,d=a.vScale&&a.vScale.axis;if(d)for(let e of b=b||a._parsed){let a=e._stacks;if(!a||void 0===a[d]||void 0===a[d][c])return;delete a[d][c],void 0!==a[d]._visualValues&&void 0!==a[d]._visualValues[c]&&delete a[d]._visualValues[c]}}let b8=a=>"reset"===a||"none"===a,b9=(a,b)=>b?a:Object.assign({},a);class ca{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(a,b){this.chart=a,this._ctx=a.ctx,this.index=b,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=b3(a.vScale,a),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(a){this.index!==a&&b7(this._cachedMeta),this.index=a}linkScales(){let a=this.chart,b=this._cachedMeta,c=this.getDataset(),d=(a,b,c,d)=>"x"===a?b:"r"===a?d:c,e=b.xAxisID=Q(c.xAxisID,b6(a,"x")),f=b.yAxisID=Q(c.yAxisID,b6(a,"y")),g=b.rAxisID=Q(c.rAxisID,b6(a,"r")),h=b.indexAxis,i=b.iAxisID=d(h,e,f,g),j=b.vAxisID=d(h,f,e,g);b.xScale=this.getScaleForId(e),b.yScale=this.getScaleForId(f),b.rScale=this.getScaleForId(g),b.iScale=this.getScaleForId(i),b.vScale=this.getScaleForId(j)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){let b=this._cachedMeta;return a===b.iScale?b.vScale:b.iScale}reset(){this._update("reset")}_destroy(){let a=this._cachedMeta;this._data&&aF(this._data,this),a._stacked&&b7(a)}_dataCheck(){let a=this.getDataset(),b=a.data||(a.data=[]),c=this._data;if(N(b)){let a=this._cachedMeta;this._data=function(a,b){let c,d,e,{iScale:f,vScale:g}=b,h="x"===f.axis?"x":"y",i="x"===g.axis?"x":"y",j=Object.keys(a),k=Array(j.length);for(c=0,d=j.length;c<d;++c)e=j[c],k[c]={[h]:e,[i]:a[e]};return k}(b,a)}else if(c!==b){if(c){aF(c,this);let a=this._cachedMeta;b7(a),a._parsed=[]}b&&Object.isExtensible(b)&&function(a,b){if(a._chartjs)return a._chartjs.listeners.push(b);Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),aE.forEach(b=>{let c="_onData"+ab(b),d=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value(...b){let e=d.apply(this,b);return a._chartjs.listeners.forEach(a=>{"function"==typeof a[c]&&a[c](...b)}),e}})})}(b,this),this._syncList=[],this._data=b}}addElements(){let a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){let b=this._cachedMeta,c=this.getDataset(),d=!1;this._dataCheck();let e=b._stacked;b._stacked=b3(b.vScale,b),b.stack!==c.stack&&(d=!0,b7(b),b.stack=c.stack),this._resyncElements(a),(d||e!==b._stacked)&&(b5(this,b._parsed),b._stacked=b3(b.vScale,b))}configure(){let a=this.chart.config,b=a.datasetScopeKeys(this._type),c=a.getOptionScopes(this.getDataset(),b,!0);this.options=a.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,b){let c,d,e,{_cachedMeta:f,_data:g}=this,{iScale:h,_stacked:i}=f,j=h.axis,k=0===a&&b===g.length||f._sorted,l=a>0&&f._parsed[a-1];if(!1===this._parsing)f._parsed=g,f._sorted=!0,e=g;else{e=M(g[a])?this.parseArrayData(f,g,a,b):N(g[a])?this.parseObjectData(f,g,a,b):this.parsePrimitiveData(f,g,a,b);let h=()=>null===d[j]||l&&d[j]<l[j];for(c=0;c<b;++c)f._parsed[c+a]=d=e[c],k&&(h()&&(k=!1),l=d);f._sorted=k}i&&b5(this,e)}parsePrimitiveData(a,b,c,d){let e,f,{iScale:g,vScale:h}=a,i=g.axis,j=h.axis,k=g.getLabels(),l=g===h,m=Array(d);for(e=0;e<d;++e)f=e+c,m[e]={[i]:l||g.parse(k[f],f),[j]:h.parse(b[f],f)};return m}parseArrayData(a,b,c,d){let e,f,g,{xScale:h,yScale:i}=a,j=Array(d);for(e=0;e<d;++e)g=b[f=e+c],j[e]={x:h.parse(g[0],f),y:i.parse(g[1],f)};return j}parseObjectData(a,b,c,d){let e,f,g,{xScale:h,yScale:i}=a,{xAxisKey:j="x",yAxisKey:k="y"}=this._parsing,l=Array(d);for(e=0;e<d;++e)g=b[f=e+c],l[e]={x:h.parse(aa(g,j),f),y:i.parse(aa(g,k),f)};return l}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,b,c){let d=this.chart,e=this._cachedMeta,f=b[a.axis];return b2({keys:b1(d,!0),values:b._stacks[a.axis]._visualValues},f,e.index,{mode:c})}updateRangeFromParsed(a,b,c,d){let e=c[b.axis],f=null===e?NaN:e,g=d&&c._stacks[b.axis];d&&g&&(d.values=g,f=b2(d,e,this._cachedMeta.index)),a.min=Math.min(a.min,f),a.max=Math.max(a.max,f)}getMinMax(a,b){let c,d,e,f=this._cachedMeta,g=f._parsed,h=f._sorted&&a===f.iScale,i=g.length,j=this._getOtherScale(a),k=(e=this.chart,b&&!f.hidden&&f._stacked&&{keys:b1(e,!0),values:null}),l={min:1/0,max:-1/0},{min:m,max:n}=function(a){let{min:b,max:c,minDefined:d,maxDefined:e}=a.getUserBounds();return{min:d?b:-1/0,max:e?c:1/0}}(j);function o(){let b=(d=g[c])[j.axis];return!O(d[a.axis])||m>b||n<b}for(c=0;c<i&&(o()||(this.updateRangeFromParsed(l,a,d,k),!h));++c);if(h){for(c=i-1;c>=0;--c)if(!o()){this.updateRangeFromParsed(l,a,d,k);break}}return l}getAllParsedValues(a){let b,c,d,e=this._cachedMeta._parsed,f=[];for(b=0,c=e.length;b<c;++b)O(d=e[b][a.axis])&&f.push(d);return f}getMaxOverflow(){return!1}getLabelAndValue(a){let b=this._cachedMeta,c=b.iScale,d=b.vScale,e=this.getParsed(a);return{label:c?""+c.getLabelForValue(e[c.axis]):"",value:d?""+d.getLabelForValue(e[d.axis]):""}}_update(a){var b;let c,d,e,f,g=this._cachedMeta;this.update(a||"default"),N(b=Q(this.options.clip,function(a,b,c){if(!1===c)return!1;let d=b0(a,c),e=b0(b,c);return{top:e.end,right:d.end,bottom:e.start,left:d.start}}(g.xScale,g.yScale,this.getMaxOverflow())))?(c=b.top,d=b.right,e=b.bottom,f=b.left):c=d=e=f=b,g._clip={top:c,right:d,bottom:e,left:f,disabled:!1===b}}update(a){}draw(){let a,b=this._ctx,c=this.chart,d=this._cachedMeta,e=d.data||[],f=c.chartArea,g=[],h=this._drawStart||0,i=this._drawCount||e.length-h,j=this.options.drawActiveElementsOnTop;for(d.dataset&&d.dataset.draw(b,f,h,i),a=h;a<h+i;++a){let c=e[a];c.hidden||(c.active&&j?g.push(c):c.draw(b,f))}for(a=0;a<g.length;++a)g[a].draw(b,f)}getStyle(a,b){let c=b?"active":"default";return void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(a||0,c)}getContext(a,b,c){var d,e;let f,g=this.getDataset();if(a>=0&&a<this._cachedMeta.data.length){let b=this._cachedMeta.data[a];(f=b.$context||(d=this.getContext(),b.$context=bn(d,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:b,index:a,mode:"default",type:"data"}))).parsed=this.getParsed(a),f.raw=g.data[a],f.index=f.dataIndex=a}else(f=this.$context||(this.$context=bn(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:e=this.index,index:e,mode:"default",type:"dataset"}))).dataset=g,f.index=f.datasetIndex=this.index;return f.active=!!b,f.mode=c,f}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,b){return this._resolveElementOptions(this.dataElementType.id,b,a)}_resolveElementOptions(a,b="default",c){let d="active"===b,e=this._cachedDataOpts,f=a+"-"+b,g=e[f],h=this.enableOptionSharing&&ac(c);if(g)return b9(g,h);let i=this.chart.config,j=i.datasetElementScopeKeys(this._type,a),k=d?[`${a}Hover`,"hover",a,""]:[a,""],l=i.getOptionScopes(this.getDataset(),j),m=Object.keys(a1.elements[a]),n=()=>this.getContext(c,d,b),o=i.resolveNamedOptions(l,m,n,k);return o.$shared&&(o.$shared=h,e[f]=Object.freeze(b9(o,h))),o}_resolveAnimations(a,b,c){let d,e=this.chart,f=this._cachedDataOpts,g=`animation-${b}`,h=f[g];if(h)return h;if(!1!==e.options.animation){let e=this.chart.config,f=e.datasetAnimationScopeKeys(this._type,b),g=e.getOptionScopes(this.getDataset(),f);d=e.createResolver(g,this.getContext(a,c,b))}let i=new b_(e,d&&d.animations);return d&&d._cacheable&&(f[g]=Object.freeze(i)),i}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,b){return!b||b8(a)||this.chart._animationsDisabled}_getSharedOptions(a,b){let c=this.resolveDataElementOptions(a,b),d=this._sharedOptions,e=this.getSharedOptions(c),f=this.includeOptions(b,e)||e!==d;return this.updateSharedOptions(e,b,c),{sharedOptions:e,includeOptions:f}}updateElement(a,b,c,d){b8(d)?Object.assign(a,c):this._resolveAnimations(b,d).update(a,c)}updateSharedOptions(a,b,c){a&&!b8(b)&&this._resolveAnimations(void 0,b).update(a,c)}_setStyle(a,b,c,d){a.active=d;let e=this.getStyle(b,d);this._resolveAnimations(b,c,d).update(a,{options:!d&&this.getSharedOptions(e)||e})}removeHoverStyle(a,b,c){this._setStyle(a,c,"active",!1)}setHoverStyle(a,b,c){this._setStyle(a,c,"active",!0)}_removeDatasetHoverStyle(){let a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){let a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){let b=this._data,c=this._cachedMeta.data;for(let[a,b,c]of this._syncList)this[a](b,c);this._syncList=[];let d=c.length,e=b.length,f=Math.min(e,d);f&&this.parse(0,f),e>d?this._insertElements(d,e-d,a):e<d&&this._removeElements(e,d-e)}_insertElements(a,b,c=!0){let d,e=this._cachedMeta,f=e.data,g=a+b,h=a=>{for(a.length+=b,d=a.length-1;d>=g;d--)a[d]=a[d-b]};for(h(f),d=a;d<g;++d)f[d]=new this.dataElementType;this._parsing&&h(e._parsed),this.parse(a,b),c&&this.updateElements(f,a,b,"reset")}updateElements(a,b,c,d){}_removeElements(a,b){let c=this._cachedMeta;if(this._parsing){let d=c._parsed.splice(a,b);c._stacked&&b7(c,d)}c.data.splice(a,b)}_sync(a){if(this._parsing)this._syncList.push(a);else{let[b,c,d]=a;this[b](c,d)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){let a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,b){b&&this._sync(["_removeElements",a,b]);let c=arguments.length-2;c&&this._sync(["_insertElements",a,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function cb(a,b,c,d){return M(a)?!function(a,b,c,d){let e=c.parse(a[0],d),f=c.parse(a[1],d),g=Math.min(e,f),h=Math.max(e,f),i=g,j=h;Math.abs(g)>Math.abs(h)&&(i=h,j=g),b[c.axis]=j,b._custom={barStart:i,barEnd:j,start:e,end:f,min:g,max:h}}(a,b,c,d):b[c.axis]=c.parse(a,d),b}function cc(a,b,c,d){let e,f,g,h,i=a.iScale,j=a.vScale,k=i.getLabels(),l=i===j,m=[];for(e=c,f=c+d;e<f;++e)h=b[e],(g={})[i.axis]=l||i.parse(k[e],e),m.push(cb(h,g,j,e));return m}function cd(a){return a&&void 0!==a.barStart&&void 0!==a.barEnd}function ce(a,b,c,d){var e,f,g;return d?cf((e=a,f=b,g=c,a=e===f?g:e===g?f:e),c,b):cf(a,b,c)}function cf(a,b,c){return"start"===a?b:"end"===a?c:a}class cg extends ca{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(a,b,c,d){return cc(a,b,c,d)}parseArrayData(a,b,c,d){return cc(a,b,c,d)}parseObjectData(a,b,c,d){let e,f,g,h,{iScale:i,vScale:j}=a,{xAxisKey:k="x",yAxisKey:l="y"}=this._parsing,m="x"===i.axis?k:l,n="x"===j.axis?k:l,o=[];for(e=c,f=c+d;e<f;++e)h=b[e],(g={})[i.axis]=i.parse(aa(h,m),e),o.push(cb(aa(h,n),g,j,e));return o}updateRangeFromParsed(a,b,c,d){super.updateRangeFromParsed(a,b,c,d);let e=c._custom;e&&b===this._cachedMeta.vScale&&(a.min=Math.min(a.min,e.min),a.max=Math.max(a.max,e.max))}getMaxOverflow(){return 0}getLabelAndValue(a){let{iScale:b,vScale:c}=this._cachedMeta,d=this.getParsed(a),e=d._custom,f=cd(e)?"["+e.start+", "+e.end+"]":""+c.getLabelForValue(d[c.axis]);return{label:""+b.getLabelForValue(d[b.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(a){let b=this._cachedMeta;this.updateElements(b.data,0,b.data.length,a)}updateElements(a,b,c,d){let e="reset"===d,{index:f,_cachedMeta:{vScale:g}}=this,h=g.getBasePixel(),i=g.isHorizontal(),j=this._getRuler(),{sharedOptions:k,includeOptions:l}=this._getSharedOptions(b,d);for(let m=b;m<b+c;m++){let b=this.getParsed(m),c=e||L(b[g.axis])?{base:h,head:h}:this._calculateBarValuePixels(m),n=this._calculateBarIndexPixels(m,j),o=(b._stacks||{})[g.axis],p={horizontal:i,base:c.base,enableBorderRadius:!o||cd(b._custom)||f===o._top||f===o._bottom,x:i?c.head:n.center,y:i?n.center:c.head,height:i?n.size:Math.abs(c.size),width:i?Math.abs(c.size):n.size};l&&(p.options=k||this.resolveDataElementOptions(m,a[m].active?"active":d));let q=p.options||a[m].options;!function(a,b,c,d){let e,f,g,h,i,j=b.borderSkipped,k={};if(!j){a.borderSkipped=k;return}if(!0===j){a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:l,end:m,reverse:n,top:o,bottom:p}=(a.horizontal?(e=a.base>a.x,f="left",g="right"):(e=a.base<a.y,f="bottom",g="top"),e?(h="end",i="start"):(h="start",i="end"),{start:f,end:g,reverse:e,top:h,bottom:i});"middle"===j&&c&&(a.enableBorderRadius=!0,(c._top||0)===d?j=o:(c._bottom||0)===d?j=p:(k[ce(p,l,m,n)]=!0,j=o)),k[ce(j,l,m,n)]=!0,a.borderSkipped=k}(p,q,o,f),function(a,{inflateAmount:b},c){a.inflateAmount="auto"===b?.33*(1===c):b}(p,q,j.ratio),this.updateElement(a[m],m,p,d)}}_getStacks(a,b){let{iScale:c}=this._cachedMeta,d=c.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),e=c.options.stacked,f=[],g=this._cachedMeta.controller.getParsed(b),h=g&&g[c.axis],i=a=>{let b=a._parsed.find(a=>a[c.axis]===h),d=b&&b[a.vScale.axis];if(L(d)||isNaN(d))return!0};for(let c of d)if(!(void 0!==b&&i(c))&&((!1===e||-1===f.indexOf(c.stack)||void 0===e&&void 0===c.stack)&&f.push(c.stack),c.index===a))break;return f.length||f.push(void 0),f}_getStackCount(a){return this._getStacks(void 0,a).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let a=this.chart.scales,b=this.chart.options.indexAxis;return Object.keys(a).filter(c=>a[c].axis===b).shift()}_getAxis(){let a={},b=this.getFirstScaleIdForIndexAxis();for(let c of this.chart.data.datasets)a[Q("x"===this.chart.options.indexAxis?c.xAxisID:c.yAxisID,b)]=!0;return Object.keys(a)}_getStackIndex(a,b,c){let d=this._getStacks(a,c),e=void 0!==b?d.indexOf(b):-1;return -1===e?d.length-1:e}_getRuler(){let a,b,c=this.options,d=this._cachedMeta,e=d.iScale,f=[];for(a=0,b=d.data.length;a<b;++a)f.push(e.getPixelForValue(this.getParsed(a)[e.axis],a));let g=c.barThickness;return{min:g||function(a){let b,c,d,e,f=a.iScale,g=function(a,b){if(!a._cache.$bar){let c=a.getMatchingVisibleMetas(b),d=[];for(let b=0,e=c.length;b<e;b++)d=d.concat(c[b].controller.getAllParsedValues(a));a._cache.$bar=aG(d.sort((a,b)=>a-b))}return a._cache.$bar}(f,a.type),h=f._length,i=()=>{32767!==d&&-32768!==d&&(ac(e)&&(h=Math.min(h,Math.abs(d-e)||h)),e=d)};for(b=0,c=g.length;b<c;++b)d=f.getPixelForValue(g[b]),i();for(b=0,e=void 0,c=f.ticks.length;b<c;++b)d=f.getPixelForTick(b),i();return h}(d),pixels:f,start:e._startPixel,end:e._endPixel,stackCount:this._getStackCount(),scale:e,grouped:c.grouped,ratio:g?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(a){let b,c,{_cachedMeta:{vScale:d,_stacked:e,index:f},options:{base:g,minBarLength:h}}=this,i=g||0,j=this.getParsed(a),k=j._custom,l=cd(k),m=j[d.axis],n=0,o=e?this.applyStack(d,j,e):m;o!==m&&(n=o-m,o=m),l&&(m=k.barStart,o=k.barEnd-k.barStart,0!==m&&an(m)!==an(k.barEnd)&&(n=0),n+=m);let p=L(g)||l?n:g,q=d.getPixelForValue(p);if(Math.abs(c=(b=this.chart.getDataVisibility(a)?d.getPixelForValue(n+o):q)-q)<h){var r;c=(0!==(r=c)?an(r):(d.isHorizontal()?1:-1)*(d.min>=i?1:-1))*h,m===i&&(q-=c/2);let a=d.getPixelForDecimal(0),g=d.getPixelForDecimal(1),k=Math.min(a,g);b=(q=Math.max(Math.min(q,Math.max(a,g)),k))+c,e&&!l&&(j._stacks[d.axis]._visualValues[f]=d.getValueForPixel(b)-d.getValueForPixel(q))}if(q===d.getPixelForValue(i)){let a=an(c)*d.getLineWidthForValue(i)/2;q+=a,c-=a}return{size:c,base:q,head:b,center:b+c/2}}_calculateBarIndexPixels(a,b){let c,d,e=b.scale,f=this.options,g=f.skipNull,h=Q(f.maxBarThickness,1/0),i=this._getAxisCount();if(b.grouped){let e=g?this._getStackCount(a):b.stackCount,j="flex"===f.barThickness?function(a,b,c,d){let e=b.pixels,f=e[a],g=a>0?e[a-1]:null,h=a<e.length-1?e[a+1]:null,i=c.categoryPercentage;null===g&&(g=f-(null===h?b.end-b.start:h-f)),null===h&&(h=f+f-g);let j=f-(f-Math.min(g,h))/2*i;return{chunk:Math.abs(h-g)/2*i/d,ratio:c.barPercentage,start:j}}(a,b,f,e*i):function(a,b,c,d){let e,f,g=c.barThickness;return L(g)?(e=b.min*c.categoryPercentage,f=c.barPercentage):(e=g*d,f=1),{chunk:e/d,ratio:f,start:b.pixels[a]-e/2}}(a,b,f,e*i),k="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,l=this._getAxis().indexOf(Q(k,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,g?a:void 0)+l;c=j.start+j.chunk*m+j.chunk/2,d=Math.min(h,j.chunk*j.ratio)}else c=e.getPixelForValue(this.getParsed(a)[e.axis],a),d=Math.min(h,b.min*b.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){let a=this._cachedMeta,b=a.vScale,c=a.data,d=c.length,e=0;for(;e<d;++e)null===this.getParsed(e)[b.axis]||c[e].hidden||c[e].draw(this._ctx)}}class ch extends ca{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,b,c,d){let e=super.parsePrimitiveData(a,b,c,d);for(let a=0;a<e.length;a++)e[a]._custom=this.resolveDataElementOptions(a+c).radius;return e}parseArrayData(a,b,c,d){let e=super.parseArrayData(a,b,c,d);for(let a=0;a<e.length;a++){let d=b[c+a];e[a]._custom=Q(d[2],this.resolveDataElementOptions(a+c).radius)}return e}parseObjectData(a,b,c,d){let e=super.parseObjectData(a,b,c,d);for(let a=0;a<e.length;a++){let d=b[c+a];e[a]._custom=Q(d&&d.r&&+d.r,this.resolveDataElementOptions(a+c).radius)}return e}getMaxOverflow(){let a=this._cachedMeta.data,b=0;for(let c=a.length-1;c>=0;--c)b=Math.max(b,a[c].size(this.resolveDataElementOptions(c))/2);return b>0&&b}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:e}=b,f=this.getParsed(a),g=d.getLabelForValue(f.x),h=e.getLabelForValue(f.y),i=f._custom;return{label:c[a]||"",value:"("+g+", "+h+(i?", "+i:"")+")"}}update(a){let b=this._cachedMeta.data;this.updateElements(b,0,b.length,a)}updateElements(a,b,c,d){let e="reset"===d,{iScale:f,vScale:g}=this._cachedMeta,{sharedOptions:h,includeOptions:i}=this._getSharedOptions(b,d),j=f.axis,k=g.axis;for(let l=b;l<b+c;l++){let b=a[l],c=!e&&this.getParsed(l),m={},n=m[j]=e?f.getPixelForDecimal(.5):f.getPixelForValue(c[j]),o=m[k]=e?g.getBasePixel():g.getPixelForValue(c[k]);m.skip=isNaN(n)||isNaN(o),i&&(m.options=h||this.resolveDataElementOptions(l,b.active?"active":d),e&&(m.options.radius=0)),this.updateElement(b,l,m,d)}}resolveDataElementOptions(a,b){let c=this.getParsed(a),d=super.resolveDataElementOptions(a,b);d.$shared&&(d=Object.assign({},d,{$shared:!1}));let e=d.radius;return"active"!==b&&(d.radius=0),d.radius+=Q(c&&c._custom,e),d}}class ci extends ca{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a&&!a.startsWith("borderDash")&&!a.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){let b=a.data;if(b.labels.length&&b.datasets.length){let{labels:{pointStyle:c,color:d}}=a.legend.options;return b.labels.map((b,e)=>{let f=a.getDatasetMeta(0).controller.getStyle(e);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:d,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}}}};constructor(a,b){super(a,b),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,b){let c=this.getDataset().data,d=this._cachedMeta;if(!1===this._parsing)d._parsed=c;else{let e,f,g=a=>+c[a];if(N(c[a])){let{key:a="value"}=this._parsing;g=b=>+aa(c[b],a)}for(e=a,f=a+b;e<f;++e)d._parsed[e]=g(e)}}_getRotation(){return as(this.options.rotation-90)}_getCircumference(){return as(this.options.circumference)}_getRotationExtents(){let a=ag,b=-ag;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){let d=this.chart.getDatasetMeta(c).controller,e=d._getRotation(),f=d._getCircumference();a=Math.min(a,e),b=Math.max(b,e+f)}return{rotation:a,circumference:b-a}}update(a){let b,{chartArea:c}=this.chart,d=this._cachedMeta,e=d.data,f=this.getMaxBorderWidth()+this.getMaxOffset(e)+this.options.spacing,g=Math.max((Math.min(c.width,c.height)-f)/2,0),h=Math.min((b=this.options.cutout,"string"==typeof b&&b.endsWith("%")?parseFloat(b)/100:b/g),1),i=this._getRingWeight(this.index),{circumference:j,rotation:k}=this._getRotationExtents(),{ratioX:l,ratioY:m,offsetX:n,offsetY:o}=function(a,b,c){let d=1,e=1,f=0,g=0;if(b<ag){let h=a+b,i=Math.cos(a),j=Math.sin(a),k=Math.cos(h),l=Math.sin(h),m=(b,d,e)=>ay(b,a,h,!0)?1:Math.max(d,d*c,e,e*c),n=(b,d,e)=>ay(b,a,h,!0)?-1:Math.min(d,d*c,e,e*c),o=m(0,i,k),p=m(aj,j,l),q=n(af,i,k),r=n(af+aj,j,l);d=(o-q)/2,e=(p-r)/2,f=-(o+q)/2,g=-(p+r)/2}return{ratioX:d,ratioY:e,offsetX:f,offsetY:g}}(k,j,h),p=Math.max(Math.min((c.width-f)/l,(c.height-f)/m)/2,0),q=R(this.options.radius,p),r=Math.max(q*h,0),s=(q-r)/this._getVisibleDatasetWeightTotal();this.offsetX=n*q,this.offsetY=o*q,d.total=this.calculateTotal(),this.outerRadius=q-s*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-s*i,0),this.updateElements(e,0,e.length,a)}_circumference(a,b){let c=this.options,d=this._cachedMeta,e=this._getCircumference();return b&&c.animation.animateRotate||!this.chart.getDataVisibility(a)||null===d._parsed[a]||d.data[a].hidden?0:this.calculateCircumference(d._parsed[a]*e/ag)}updateElements(a,b,c,d){let e,f="reset"===d,g=this.chart,h=g.chartArea,i=g.options.animation,j=(h.left+h.right)/2,k=(h.top+h.bottom)/2,l=f&&i.animateScale,m=l?0:this.innerRadius,n=l?0:this.outerRadius,{sharedOptions:o,includeOptions:p}=this._getSharedOptions(b,d),q=this._getRotation();for(e=0;e<b;++e)q+=this._circumference(e,f);for(e=b;e<b+c;++e){let b=this._circumference(e,f),c=a[e],g={x:j+this.offsetX,y:k+this.offsetY,startAngle:q,endAngle:q+b,circumference:b,outerRadius:n,innerRadius:m};p&&(g.options=o||this.resolveDataElementOptions(e,c.active?"active":d)),q+=b,this.updateElement(c,e,g,d)}}calculateTotal(){let a,b=this._cachedMeta,c=b.data,d=0;for(a=0;a<c.length;a++){let e=b._parsed[a];null!==e&&!isNaN(e)&&this.chart.getDataVisibility(a)&&!c[a].hidden&&(d+=Math.abs(e))}return d}calculateCircumference(a){let b=this._cachedMeta.total;return b>0&&!isNaN(a)?Math.abs(a)/b*ag:0}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart,d=c.data.labels||[],e=aW(b._parsed[a],c.options.locale);return{label:d[a]||"",value:e}}getMaxBorderWidth(a){let b,c,d,e,f,g=0,h=this.chart;if(!a){for(b=0,c=h.data.datasets.length;b<c;++b)if(h.isDatasetVisible(b)){a=(d=h.getDatasetMeta(b)).data,e=d.controller;break}}if(!a)return 0;for(b=0,c=a.length;b<c;++b)"inner"!==(f=e.resolveDataElementOptions(b)).borderAlign&&(g=Math.max(g,f.borderWidth||0,f.hoverBorderWidth||0));return g}getMaxOffset(a){let b=0;for(let c=0,d=a.length;c<d;++c){let a=this.resolveDataElementOptions(c);b=Math.max(b,a.offset||0,a.hoverOffset||0)}return b}_getRingWeightOffset(a){let b=0;for(let c=0;c<a;++c)this.chart.isDatasetVisible(c)&&(b+=this._getRingWeight(c));return b}_getRingWeight(a){return Math.max(Q(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cj extends ca{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){let b=a.data;if(b.labels.length&&b.datasets.length){let{labels:{pointStyle:c,color:d}}=a.legend.options;return b.labels.map((b,e)=>{let f=a.getDatasetMeta(0).controller.getStyle(e);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:d,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(a,b){super(a,b),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart,d=c.data.labels||[],e=aW(b._parsed[a].r,c.options.locale);return{label:d[a]||"",value:e}}parseObjectData(a,b,c,d){return bz.bind(this)(a,b,c,d)}update(a){let b=this._cachedMeta.data;this._updateRadius(),this.updateElements(b,0,b.length,a)}getMinMax(){let a=this._cachedMeta,b={min:1/0,max:-1/0};return a.data.forEach((a,c)=>{let d=this.getParsed(c).r;!isNaN(d)&&this.chart.getDataVisibility(c)&&(d<b.min&&(b.min=d),d>b.max&&(b.max=d))}),b}_updateRadius(){let a=this.chart,b=a.chartArea,c=a.options,d=Math.max(Math.min(b.right-b.left,b.bottom-b.top)/2,0),e=Math.max(c.cutoutPercentage?d/100*c.cutoutPercentage:1,0),f=(d-e)/a.getVisibleDatasetCount();this.outerRadius=d-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(a,b,c,d){let e,f="reset"===d,g=this.chart,h=g.options.animation,i=this._cachedMeta.rScale,j=i.xCenter,k=i.yCenter,l=i.getIndexAngle(0)-.5*af,m=l,n=360/this.countVisibleElements();for(e=0;e<b;++e)m+=this._computeAngle(e,d,n);for(e=b;e<b+c;e++){let b=a[e],c=m,o=m+this._computeAngle(e,d,n),p=g.getDataVisibility(e)?i.getDistanceFromCenterForValue(this.getParsed(e).r):0;m=o,f&&(h.animateScale&&(p=0),h.animateRotate&&(c=o=l));let q={x:j,y:k,innerRadius:0,outerRadius:p,startAngle:c,endAngle:o,options:this.resolveDataElementOptions(e,b.active?"active":d)};this.updateElement(b,e,q,d)}}countVisibleElements(){let a=this._cachedMeta,b=0;return a.data.forEach((a,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&b++}),b}_computeAngle(a,b,c){return this.chart.getDataVisibility(a)?as(this.resolveDataElementOptions(a,b).angle||c):0}}class ck extends ca{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(a){let b=this._cachedMeta.vScale,c=this.getParsed(a);return{label:b.getLabels()[a],value:""+b.getLabelForValue(c[b.axis])}}parseObjectData(a,b,c,d){return bz.bind(this)(a,b,c,d)}update(a){let b=this._cachedMeta,c=b.dataset,d=b.data||[],e=b.iScale.getLabels();if(c.points=d,"resize"!==a){let b=this.resolveDatasetElementOptions(a);this.options.showLine||(b.borderWidth=0);let f={_loop:!0,_fullLoop:e.length===d.length,options:b};this.updateElement(c,void 0,f,a)}this.updateElements(d,0,d.length,a)}updateElements(a,b,c,d){let e=this._cachedMeta.rScale,f="reset"===d;for(let g=b;g<b+c;g++){let b=a[g],c=this.resolveDataElementOptions(g,b.active?"active":d),h=e.getPointPositionForValue(g,this.getParsed(g).r),i=f?e.xCenter:h.x,j=f?e.yCenter:h.y,k={x:i,y:j,angle:h.angle,skip:isNaN(i)||isNaN(j),options:c};this.updateElement(b,g,k,d)}}}class cl extends ca{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(a){let b=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:e}=b,f=this.getParsed(a),g=d.getLabelForValue(f.x),h=e.getLabelForValue(f.y);return{label:c[a]||"",value:"("+g+", "+h+")"}}update(a){let b=this._cachedMeta,{data:c=[]}=b,d=this.chart._animationsDisabled,{start:e,count:f}=aK(b,c,d);if(this._drawStart=e,this._drawCount=f,aL(b)&&(e=0,f=c.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:e,_dataset:f}=b;e._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!f._decimated,e.points=c;let g=this.resolveDatasetElementOptions(a);g.segment=this.options.segment,this.updateElement(e,void 0,{animated:!d,options:g},a)}else this.datasetElementType&&(delete b.dataset,this.datasetElementType=!1);this.updateElements(c,e,f,a)}addElements(){let{showLine:a}=this.options;!this.datasetElementType&&a&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,b,c,d){let e="reset"===d,{iScale:f,vScale:g,_stacked:h,_dataset:i}=this._cachedMeta,j=this.resolveDataElementOptions(b,d),k=this.getSharedOptions(j),l=this.includeOptions(d,k),m=f.axis,n=g.axis,{spanGaps:o,segment:p}=this.options,q=aq(o)?o:1/0,r=this.chart._animationsDisabled||e||"none"===d,s=b>0&&this.getParsed(b-1);for(let j=b;j<b+c;++j){let b=a[j],c=this.getParsed(j),o=r?b:{},t=L(c[n]),u=o[m]=f.getPixelForValue(c[m],j),v=o[n]=e||t?g.getBasePixel():g.getPixelForValue(h?this.applyStack(g,c,h):c[n],j);o.skip=isNaN(u)||isNaN(v)||t,o.stop=j>0&&Math.abs(c[m]-s[m])>q,p&&(o.parsed=c,o.raw=i.data[j]),l&&(o.options=k||this.resolveDataElementOptions(j,b.active?"active":d)),r||this.updateElement(b,j,o,d),s=c}this.updateSharedOptions(k,d,j)}getMaxOverflow(){let a=this._cachedMeta,b=a.data||[];if(!this.options.showLine){let a=0;for(let c=b.length-1;c>=0;--c)a=Math.max(a,b[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}let c=a.dataset,d=c.options&&c.options.borderWidth||0;return b.length?Math.max(d,b[0].size(this.resolveDataElementOptions(0)),b[b.length-1].size(this.resolveDataElementOptions(b.length-1)))/2:d}}function cm(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class cn{static override(a){Object.assign(cn.prototype,a)}options;constructor(a){this.options=a||{}}init(){}formats(){return cm()}parse(){return cm()}format(){return cm()}add(){return cm()}diff(){return cm()}startOf(){return cm()}endOf(){return cm()}}var co={_date:cn};function cp(a,b,c,d,e){let f=a.getSortedVisibleDatasetMetas(),g=c[b];for(let a=0,c=f.length;a<c;++a){let{index:c,data:h}=f[a],{lo:i,hi:j}=function(a,b,c,d){let{controller:e,data:f,_sorted:g}=a,h=e._cachedMeta.iScale,i=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null;if(h&&b===h.axis&&"r"!==b&&g&&f.length){let g=h._reversePixels?aD:aC;if(d){if(e._sharedOptions){let a=f[0],d="function"==typeof a.getRange&&a.getRange(b);if(d){let a=g(f,b,c-d),e=g(f,b,c+d);return{lo:a.lo,hi:e.hi}}}}else{let d=g(f,b,c);if(i){let{vScale:b}=e._cachedMeta,{_parsed:c}=a,f=c.slice(0,d.lo+1).reverse().findIndex(a=>!L(a[b.axis]));d.lo-=Math.max(0,f);let g=c.slice(d.hi).findIndex(a=>!L(a[b.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:f.length-1}}(f[a],b,g,e);for(let a=i;a<=j;++a){let b=h[a];b.skip||d(b,c,a)}}}function cq(a,b,c,d,e){let f=[];return(e||a.isPointInArea(b))&&cp(a,c,b,function(c,g,h){(e||a7(c,a.chartArea,0))&&c.inRange(b.x,b.y,d)&&f.push({element:c,datasetIndex:g,index:h})},!0),f}function cr(a,b,c,d,e,f){let g;return f||a.isPointInArea(b)?"r"!==c||d?function(a,b,c,d,e,f){let g=[],h=function(a){let b=-1!==a.indexOf("x"),c=-1!==a.indexOf("y");return function(a,d){return Math.sqrt(Math.pow(b?Math.abs(a.x-d.x):0,2)+Math.pow(c?Math.abs(a.y-d.y):0,2))}}(c),i=1/0;return cp(a,c,b,function(c,j,k){let l=c.inRange(b.x,b.y,e);if(d&&!l)return;let m=c.getCenterPoint(e);if(!(f||a.isPointInArea(m))&&!l)return;let n=h(b,m);n<i?(g=[{element:c,datasetIndex:j,index:k}],i=n):n===i&&g.push({element:c,datasetIndex:j,index:k})}),g}(a,b,c,d,e,f):(g=[],cp(a,c,b,function(a,c,d){let{startAngle:f,endAngle:h}=a.getProps(["startAngle","endAngle"],e),{angle:i}=au(a,{x:b.x,y:b.y});ay(i,f,h)&&g.push({element:a,datasetIndex:c,index:d})}),g):[]}function cs(a,b,c,d,e){let f=[],g="x"===c?"inXRange":"inYRange",h=!1;return(cp(a,c,b,(a,d,i)=>{a[g]&&a[g](b[c],e)&&(f.push({element:a,datasetIndex:d,index:i}),h=h||a.inRange(b.x,b.y,e))}),d&&!h)?[]:f}var ct={modes:{index(a,b,c,d){let e=bH(b,a),f=c.axis||"x",g=c.includeInvisible||!1,h=c.intersect?cq(a,e,f,d,g):cr(a,e,f,!1,d,g),i=[];return h.length?(a.getSortedVisibleDatasetMetas().forEach(a=>{let b=h[0].index,c=a.data[b];c&&!c.skip&&i.push({element:c,datasetIndex:a.index,index:b})}),i):[]},dataset(a,b,c,d){let e=bH(b,a),f=c.axis||"xy",g=c.includeInvisible||!1,h=c.intersect?cq(a,e,f,d,g):cr(a,e,f,!1,d,g);if(h.length>0){let b=h[0].datasetIndex,c=a.getDatasetMeta(b).data;h=[];for(let a=0;a<c.length;++a)h.push({element:c[a],datasetIndex:b,index:a})}return h},point(a,b,c,d){let e=bH(b,a);return cq(a,e,c.axis||"xy",d,c.includeInvisible||!1)},nearest(a,b,c,d){let e=bH(b,a),f=c.axis||"xy",g=c.includeInvisible||!1;return cr(a,e,f,c.intersect,d,g)},x(a,b,c,d){let e=bH(b,a);return cs(a,e,"x",c.intersect,d)},y(a,b,c,d){let e=bH(b,a);return cs(a,e,"y",c.intersect,d)}}};let cu=["left","top","right","bottom"];function cv(a,b){return a.filter(a=>a.pos===b)}function cw(a,b){return a.filter(a=>-1===cu.indexOf(a.pos)&&a.box.axis===b)}function cx(a,b){return a.sort((a,c)=>{let d=b?c:a,e=b?a:c;return d.weight===e.weight?d.index-e.index:d.weight-e.weight})}function cy(a,b,c,d){return Math.max(a[c],b[c])+Math.max(a[d],b[d])}function cz(a,b){a.top=Math.max(a.top,b.top),a.left=Math.max(a.left,b.left),a.bottom=Math.max(a.bottom,b.bottom),a.right=Math.max(a.right,b.right)}function cA(a,b,c,d){let e,f,g,h,i,j,k=[];for(e=0,f=a.length,i=0;e<f;++e){(h=(g=a[e]).box).update(g.width||b.w,g.height||b.h,function(a,b){let c=b.maxPadding;var d=a?["left","right"]:["top","bottom"];let e={left:0,top:0,right:0,bottom:0};return d.forEach(a=>{e[a]=Math.max(b[a],c[a])}),e}(g.horizontal,b));let{same:f,other:l}=function(a,b,c,d){let{pos:e,box:f}=c,g=a.maxPadding;if(!N(e)){c.size&&(a[e]-=c.size);let b=d[c.stack]||{size:0,count:1};b.size=Math.max(b.size,c.horizontal?f.height:f.width),c.size=b.size/b.count,a[e]+=c.size}f.getPadding&&cz(g,f.getPadding());let h=Math.max(0,b.outerWidth-cy(g,a,"left","right")),i=Math.max(0,b.outerHeight-cy(g,a,"top","bottom")),j=h!==a.w,k=i!==a.h;return a.w=h,a.h=i,c.horizontal?{same:j,other:k}:{same:k,other:j}}(b,c,g,d);i|=f&&k.length,j=j||l,h.fullSize||k.push(g)}return i&&cA(k,b,c,d)||j}function cB(a,b,c,d,e){a.top=c,a.left=b,a.right=b+d,a.bottom=c+e,a.width=d,a.height=e}function cC(a,b,c,d){let e=c.padding,{x:f,y:g}=b;for(let h of a){let a=h.box,i=d[h.stack]||{count:1,placed:0,weight:1},j=h.stackWeight/i.weight||1;if(h.horizontal){let d=b.w*j,f=i.size||a.height;ac(i.start)&&(g=i.start),a.fullSize?cB(a,e.left,g,c.outerWidth-e.right-e.left,f):cB(a,b.left+i.placed,g,d,f),i.start=g,i.placed+=d,g=a.bottom}else{let d=b.h*j,g=i.size||a.width;ac(i.start)&&(f=i.start),a.fullSize?cB(a,f,e.top,g,c.outerHeight-e.bottom-e.top):cB(a,f,b.top+i.placed,g,d),i.start=f,i.placed+=d,f=a.right}}b.x=f,b.y=g}var cD={addBox(a,b){a.boxes||(a.boxes=[]),b.fullSize=b.fullSize||!1,b.position=b.position||"top",b.weight=b.weight||0,b._layers=b._layers||function(){return[{z:0,draw(a){b.draw(a)}}]},a.boxes.push(b)},removeBox(a,b){let c=a.boxes?a.boxes.indexOf(b):-1;-1!==c&&a.boxes.splice(c,1)},configure(a,b,c){b.fullSize=c.fullSize,b.position=c.position,b.weight=c.weight},update(a,b,c,d){if(!a)return;let e=bk(a.options.layout.padding),f=Math.max(b-e.width,0),g=Math.max(c-e.height,0),h=function(a){let b=function(a){let b,c,d,e,f,g,h=[];for(b=0,c=(a||[]).length;b<c;++b)d=a[b],({position:e,options:{stack:f,stackWeight:g=1}}=d),h.push({index:b,box:d,pos:e,horizontal:d.isHorizontal(),weight:d.weight,stack:f&&e+f,stackWeight:g});return h}(a),c=cx(b.filter(a=>a.box.fullSize),!0),d=cx(cv(b,"left"),!0),e=cx(cv(b,"right")),f=cx(cv(b,"top"),!0),g=cx(cv(b,"bottom")),h=cw(b,"x"),i=cw(b,"y");return{fullSize:c,leftAndTop:d.concat(f),rightAndBottom:e.concat(i).concat(g).concat(h),chartArea:cv(b,"chartArea"),vertical:d.concat(e).concat(i),horizontal:f.concat(g).concat(h)}}(a.boxes),i=h.vertical,j=h.horizontal;T(a.boxes,a=>{"function"==typeof a.beforeLayout&&a.beforeLayout()});let k=Object.freeze({outerWidth:b,outerHeight:c,padding:e,availableWidth:f,availableHeight:g,vBoxMaxWidth:f/2/(i.reduce((a,b)=>b.box.options&&!1===b.box.options.display?a:a+1,0)||1),hBoxMaxHeight:g/2}),l=Object.assign({},e);cz(l,bk(d));let m=Object.assign({maxPadding:l,w:f,h:g,x:e.left,y:e.top},e),n=function(a,b){let c,d,e,f=function(a){let b={};for(let c of a){let{stack:a,pos:d,stackWeight:e}=c;if(!a||!cu.includes(d))continue;let f=b[a]||(b[a]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=e}return b}(a),{vBoxMaxWidth:g,hBoxMaxHeight:h}=b;for(c=0,d=a.length;c<d;++c){let{fullSize:d}=(e=a[c]).box,i=f[e.stack],j=i&&e.stackWeight/i.weight;e.horizontal?(e.width=j?j*g:d&&b.availableWidth,e.height=h):(e.width=g,e.height=j?j*h:d&&b.availableHeight)}return f}(i.concat(j),k);cA(h.fullSize,m,k,n),cA(i,m,k,n),cA(j,m,k,n)&&cA(i,m,k,n);let o=m.maxPadding;function p(a){let b=Math.max(o[a]-m[a],0);return m[a]+=b,b}m.y+=p("top"),m.x+=p("left"),p("right"),p("bottom"),cC(h.leftAndTop,m,k,n),m.x+=m.w,m.y+=m.h,cC(h.rightAndBottom,m,k,n),a.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},T(h.chartArea,b=>{let c=b.box;Object.assign(c,a.chartArea),c.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class cE{acquireContext(a,b){}releaseContext(a){return!1}addEventListener(a,b,c){}removeEventListener(a,b,c){}getDevicePixelRatio(){return 1}getMaximumSize(a,b,c,d){return b=Math.max(0,b||a.width),c=c||a.height,{width:b,height:Math.max(0,d?Math.floor(b/d):c)}}isAttached(a){return!0}updateConfig(a){}}class cF extends cE{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}class cG{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(a){let{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}hasValue(){return aq(this.x)&&aq(this.y)}getProps(a,b){let c=this.$animations;if(!b||!c)return this;let d={};return a.forEach(a=>{d[a]=c[a]&&c[a].active()?c[a]._to:this[a]}),d}}function cH(a,b,c,d,e){let f,g,h,i=Q(d,0),j=Math.min(Q(e,a.length),a.length),k=0;for(c=Math.ceil(c),e&&(c=(f=e-d)/Math.floor(f/c)),h=i;h<0;)h=Math.round(i+ ++k*c);for(g=Math.max(i,0);g<j;g++)g===h&&(b.push(a[g]),h=Math.round(i+ ++k*c))}let cI=(a,b,c)=>"top"===b||"left"===b?a[b]+c:a[b]-c,cJ=(a,b)=>Math.min(b||a,a);function cK(a,b){let c=[],d=a.length/b,e=a.length,f=0;for(;f<e;f+=d)c.push(a[Math.floor(f)]);return c}function cL(a){return a.drawTicks?a.tickLength:0}function cM(a,b){if(!a.display)return 0;let c=bl(a.font,b),d=bk(a.padding);return(M(a.text)?a.text.length:1)*c.lineHeight+d.height}class cN extends cG{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,b){return a}getUserBounds(){let{_userMin:a,_userMax:b,_suggestedMin:c,_suggestedMax:d}=this;return a=P(a,1/0),b=P(b,-1/0),c=P(c,1/0),d=P(d,-1/0),{min:P(a,c),max:P(b,d),minDefined:O(a),maxDefined:O(b)}}getMinMax(a){let b,{min:c,max:d,minDefined:e,maxDefined:f}=this.getUserBounds();if(e&&f)return{min:c,max:d};let g=this.getMatchingVisibleMetas();for(let h=0,i=g.length;h<i;++h)b=g[h].controller.getMinMax(this,a),e||(c=Math.min(c,b.min)),f||(d=Math.max(d,b.max));return c=f&&c>d?d:c,d=e&&c>d?c:d,{min:P(c,P(d,c)),max:P(d,P(c,d))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){S(this.options.beforeUpdate,[this])}update(a,b,c){let{beginAtZero:d,grace:e,ticks:f}=this.options,g=f.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=b,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(a,b,c){let{min:d,max:e}=a,f=R(b,(e-d)/2),g=(a,b)=>c&&0===a?0:a+b;return{min:g(d,-Math.abs(f)),max:g(e,f)}}(this,e,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let h=g<this.ticks.length;this._convertTicksToLabels(h?cK(this.ticks,g):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||"auto"===f.source)&&(this.ticks=function(a,b){let c=a.options.ticks,d=function(a){let b=a.options.offset,c=a._tickSize();return Math.floor(Math.min(a._length/c+ +!b,a._maxLength/c))}(a),e=Math.min(c.maxTicksLimit||d,d),f=c.major.enabled?function(a){let b,c,d=[];for(b=0,c=a.length;b<c;b++)a[b].major&&d.push(b);return d}(b):[],g=f.length,h=f[0],i=f[g-1],j=[];if(g>e)return function(a,b,c,d){let e,f=0,g=c[0];for(e=0,d=Math.ceil(d);e<a.length;e++)e===g&&(b.push(a[e]),g=c[++f*d])}(b,j,f,g/e),j;let k=function(a,b,c){let d=function(a){let b,c,d=a.length;if(d<2)return!1;for(c=a[0],b=1;b<d;++b)if(a[b]-a[b-1]!==c)return!1;return c}(a),e=b.length/c;if(!d)return Math.max(e,1);let f=function(a){let b,c=[],d=Math.sqrt(a);for(b=1;b<d;b++)a%b==0&&(c.push(b),c.push(a/b));return d===(0|d)&&c.push(d),c.sort((a,b)=>a-b).pop(),c}(d);for(let a=0,b=f.length-1;a<b;a++){let b=f[a];if(b>e)return b}return Math.max(e,1)}(f,b,e);if(g>0){let a,c,d=g>1?Math.round((i-h)/(g-1)):null;for(cH(b,j,k,L(d)?0:h-d,h),a=0,c=g-1;a<c;a++)cH(b,j,k,f[a],f[a+1]);return cH(b,j,k,i,L(d)?b.length:i+d),j}return cH(b,j,k),j}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a,b,c=this.options.reverse;this.isHorizontal()?(a=this.left,b=this.right):(a=this.top,b=this.bottom,c=!c),this._startPixel=a,this._endPixel=b,this._reversePixels=c,this._length=b-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){S(this.options.afterUpdate,[this])}beforeSetDimensions(){S(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){S(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),S(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){S(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){let b,c,d,e=this.options.ticks;for(b=0,c=a.length;b<c;b++)(d=a[b]).label=S(e.callback,[d.value,b,a],this)}afterTickToLabelConversion(){S(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){S(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let a,b,c,d=this.options,e=d.ticks,f=cJ(this.ticks.length,d.ticks.maxTicksLimit),g=e.minRotation||0,h=e.maxRotation,i=g;if(!this._isVisible()||!e.display||g>=h||f<=1||!this.isHorizontal()){this.labelRotation=g;return}let j=this._getLabelSizes(),k=j.widest.width,l=j.highest.height,m=az(this.chart.width-k,0,this.maxWidth);k+6>(a=d.offset?this.maxWidth/f:m/(f-1))&&(a=m/(f-(d.offset?.5:1)),b=this.maxHeight-cL(d.grid)-e.padding-cM(d.title,this.chart.options.font),c=Math.sqrt(k*k+l*l),i=Math.max(g,Math.min(h,i=180/af*Math.min(Math.asin(az((j.highest.height+6)/a,-1,1)),Math.asin(az(b/c,-1,1))-Math.asin(az(l/c,-1,1)))))),this.labelRotation=i}afterCalculateLabelRotation(){S(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){S(this.options.beforeFit,[this])}fit(){let a={width:0,height:0},{chart:b,options:{ticks:c,title:d,grid:e}}=this,f=this._isVisible(),g=this.isHorizontal();if(f){let f=cM(d,b.options.font);if(g?(a.width=this.maxWidth,a.height=cL(e)+f):(a.height=this.maxHeight,a.width=cL(e)+f),c.display&&this.ticks.length){let{first:b,last:d,widest:e,highest:f}=this._getLabelSizes(),h=2*c.padding,i=as(this.labelRotation),j=Math.cos(i),k=Math.sin(i);if(g){let b=c.mirror?0:k*e.width+j*f.height;a.height=Math.min(this.maxHeight,a.height+b+h)}else{let b=c.mirror?0:j*e.width+k*f.height;a.width=Math.min(this.maxWidth,a.width+b+h)}this._calculatePadding(b,d,k,j)}}this._handleMargins(),g?(this.width=this._length=b.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=b.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,b,c,d){let{ticks:{align:e,padding:f},position:g}=this.options,h=0!==this.labelRotation,i="top"!==g&&"x"===this.axis;if(this.isHorizontal()){let g=this.getPixelForTick(0)-this.left,j=this.right-this.getPixelForTick(this.ticks.length-1),k=0,l=0;h?i?(k=d*a.width,l=c*b.height):(k=c*a.height,l=d*b.width):"start"===e?l=b.width:"end"===e?k=a.width:"inner"!==e&&(k=a.width/2,l=b.width/2),this.paddingLeft=Math.max((k-g+f)*this.width/(this.width-g),0),this.paddingRight=Math.max((l-j+f)*this.width/(this.width-j),0)}else{let c=b.height/2,d=a.height/2;"start"===e?(c=0,d=a.height):"end"===e&&(c=b.height,d=0),this.paddingTop=c+f,this.paddingBottom=d+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){S(this.options.afterFit,[this])}isHorizontal(){let{axis:a,position:b}=this.options;return"top"===b||"bottom"===b||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let b,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),b=0,c=a.length;b<c;b++)L(a[b].label)&&(a.splice(b,1),c--,b--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){let b=this.options.ticks.sampleSize,c=this.ticks;b<c.length&&(c=cK(c,b)),this._labelSizes=a=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,b,c){let d,e,f,g,h,i,j,k,l,m,n,{ctx:o,_longestTextCache:p}=this,q=[],r=[],s=Math.floor(b/cJ(b,c)),t=0,u=0;for(d=0;d<b;d+=s){if(g=a[d].label,o.font=i=(h=this._resolveTickFontOptions(d)).string,j=p[i]=p[i]||{data:{},gc:[]},k=h.lineHeight,l=m=0,L(g)||M(g)){if(M(g))for(e=0,f=g.length;e<f;++e)L(n=g[e])||M(n)||(l=a2(o,j.data,j.gc,l,n),m+=k)}else l=a2(o,j.data,j.gc,l,g),m=k;q.push(l),r.push(m),t=Math.max(l,t),u=Math.max(m,u)}T(p,a=>{let c,d=a.gc,e=d.length/2;if(e>b){for(c=0;c<e;++c)delete a.data[d[c]];d.splice(0,e)}});let v=q.indexOf(t),w=r.indexOf(u),x=a=>({width:q[a]||0,height:r[a]||0});return{first:x(0),last:x(b-1),widest:x(v),highest:x(w),widths:q,heights:r}}getLabelForValue(a){return a}getPixelForValue(a,b){return NaN}getValueForPixel(a){}getPixelForTick(a){let b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);let b=this._startPixel+a*this._length;return az(this._alignToPixels?a3(this.chart,b,0):b,-32768,32767)}getDecimalForPixel(a){let b=(a-this._startPixel)/this._length;return this._reversePixels?1-b:b}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:a,max:b}=this;return a<0&&b<0?b:a>0&&b>0?a:0}getContext(a){var b,c;let d=this.ticks||[];if(a>=0&&a<d.length){let c=d[a];return c.$context||(b=this.getContext(),c.$context=bn(b,{tick:c,index:a,type:"tick"}))}return this.$context||(this.$context=(c=this.chart.getContext(),bn(c,{scale:this,type:"scale"})))}_tickSize(){let a=this.options.ticks,b=as(this.labelRotation),c=Math.abs(Math.cos(b)),d=Math.abs(Math.sin(b)),e=this._getLabelSizes(),f=a.autoSkipPadding||0,g=e?e.widest.width+f:0,h=e?e.highest.height+f:0;return this.isHorizontal()?h*c>g*d?g/c:h/d:h*d<g*c?h/c:g/d}_isVisible(){let a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){let b,c,d,e,f,g,h,i,j,k,l,m,n=this.axis,o=this.chart,p=this.options,{grid:q,position:r,border:s}=p,t=q.offset,u=this.isHorizontal(),v=this.ticks.length+ +!!t,w=cL(q),x=[],y=s.setContext(this.getContext()),z=y.display?y.width:0,A=z/2,B=function(a){return a3(o,a,z)};if("top"===r)b=B(this.bottom),g=this.bottom-w,i=b-A,k=B(a.top)+A,m=a.bottom;else if("bottom"===r)b=B(this.top),k=a.top,m=B(a.bottom)-A,g=b+A,i=this.top+w;else if("left"===r)b=B(this.right),f=this.right-w,h=b-A,j=B(a.left)+A,l=a.right;else if("right"===r)b=B(this.left),j=a.left,l=B(a.right)-A,f=b+A,h=this.left+w;else if("x"===n){if("center"===r)b=B((a.top+a.bottom)/2+.5);else if(N(r)){let a=Object.keys(r)[0],c=r[a];b=B(this.chart.scales[a].getPixelForValue(c))}k=a.top,m=a.bottom,i=(g=b+A)+w}else if("y"===n){if("center"===r)b=B((a.left+a.right)/2);else if(N(r)){let a=Object.keys(r)[0],c=r[a];b=B(this.chart.scales[a].getPixelForValue(c))}h=(f=b-A)-w,j=a.left,l=a.right}let C=Q(p.ticks.maxTicksLimit,v),D=Math.max(1,Math.ceil(v/C));for(c=0;c<v;c+=D){let a=this.getContext(c),b=q.setContext(a),n=s.setContext(a),p=b.lineWidth,r=b.color,v=n.dash||[],w=n.dashOffset,y=b.tickWidth,z=b.tickColor,A=b.tickBorderDash||[],B=b.tickBorderDashOffset;void 0!==(d=function(a,b,c){let d,e=a.ticks.length,f=Math.min(b,e-1),g=a._startPixel,h=a._endPixel,i=a.getPixelForTick(f);if(!c||(d=1===e?Math.max(i-g,h-i):0===b?(a.getPixelForTick(1)-i)/2:(i-a.getPixelForTick(f-1))/2,!((i+=f<b?d:-d)<g-1e-6)&&!(i>h+1e-6)))return i}(this,c,t))&&(e=a3(o,d,p),u?f=h=j=l=e:g=i=k=m=e,x.push({tx1:f,ty1:g,tx2:h,ty2:i,x1:j,y1:k,x2:l,y2:m,width:p,color:r,borderDash:v,borderDashOffset:w,tickWidth:y,tickColor:z,tickBorderDash:A,tickBorderDashOffset:B}))}return this._ticksLength=v,this._borderValue=b,x}_computeLabelItems(a){let b,c,d,e,f,g,h,i,j,k,l,m=this.axis,n=this.options,{position:o,ticks:p}=n,q=this.isHorizontal(),r=this.ticks,{align:s,crossAlign:t,padding:u,mirror:v}=p,w=cL(n.grid),x=w+u,y=v?-u:x,z=-as(this.labelRotation),A=[],B="middle";if("top"===o)f=this.bottom-y,g=this._getXAxisLabelAlignment();else if("bottom"===o)f=this.top+y,g=this._getXAxisLabelAlignment();else if("left"===o){let a=this._getYAxisLabelAlignment(w);g=a.textAlign,e=a.x}else if("right"===o){let a=this._getYAxisLabelAlignment(w);g=a.textAlign,e=a.x}else if("x"===m){if("center"===o)f=(a.top+a.bottom)/2+x;else if(N(o)){let a=Object.keys(o)[0],b=o[a];f=this.chart.scales[a].getPixelForValue(b)+x}g=this._getXAxisLabelAlignment()}else if("y"===m){if("center"===o)e=(a.left+a.right)/2-x;else if(N(o)){let a=Object.keys(o)[0],b=o[a];e=this.chart.scales[a].getPixelForValue(b)}g=this._getYAxisLabelAlignment(w).textAlign}"y"===m&&("start"===s?B="top":"end"===s&&(B="bottom"));let C=this._getLabelSizes();for(b=0,c=r.length;b<c;++b){let a;d=r[b].label;let m=p.setContext(this.getContext(b));h=this.getPixelForTick(b)+p.labelOffset,j=(i=this._resolveTickFontOptions(b)).lineHeight;let n=(k=M(d)?d.length:1)/2,s=m.color,u=m.textStrokeColor,w=m.textStrokeWidth,x=g;if(q?(e=h,"inner"===g&&(x=b===c-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),l="top"===o?"near"===t||0!==z?-k*j+j/2:"center"===t?-C.highest.height/2-n*j+j:-C.highest.height+j/2:"near"===t||0!==z?j/2:"center"===t?C.highest.height/2-n*j:C.highest.height-k*j,v&&(l*=-1),0===z||m.showLabelBackdrop||(e+=j/2*Math.sin(z))):(f=h,l=(1-k)*j/2),m.showLabelBackdrop){let d=bk(m.backdropPadding),e=C.heights[b],f=C.widths[b],h=l-d.top,i=0-d.left;switch(B){case"middle":h-=e/2;break;case"bottom":h-=e}switch(g){case"center":i-=f/2;break;case"right":i-=f;break;case"inner":b===c-1?i-=f:b>0&&(i-=f/2)}a={left:i,top:h,width:f+d.width,height:e+d.height,color:m.backdropColor}}A.push({label:d,font:i,textOffset:l,options:{rotation:z,color:s,strokeColor:u,strokeWidth:w,textAlign:x,textBaseline:B,translation:[e,f],backdrop:a}})}return A}_getXAxisLabelAlignment(){let{position:a,ticks:b}=this.options;if(-as(this.labelRotation))return"top"===a?"left":"right";let c="center";return"start"===b.align?c="left":"end"===b.align?c="right":"inner"===b.align&&(c="inner"),c}_getYAxisLabelAlignment(a){let b,c,{position:d,ticks:{crossAlign:e,mirror:f,padding:g}}=this.options,h=this._getLabelSizes(),i=a+g,j=h.widest.width;return"left"===d?f?(c=this.right+g,"near"===e?b="left":"center"===e?(b="center",c+=j/2):(b="right",c+=j)):(c=this.right-i,"near"===e?b="right":"center"===e?(b="center",c-=j/2):(b="left",c=this.left)):"right"===d?f?(c=this.left+g,"near"===e?b="right":"center"===e?(b="center",c-=j/2):(b="left",c-=j)):(c=this.left+i,"near"===e?b="left":"center"===e?(b="center",c+=j/2):(b="right",c=this.right)):b="right",{textAlign:b,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let a=this.chart,b=this.options.position;return"left"===b||"right"===b?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===b||"bottom"===b?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){let{ctx:a,options:{backgroundColor:b},left:c,top:d,width:e,height:f}=this;b&&(a.save(),a.fillStyle=b,a.fillRect(c,d,e,f),a.restore())}getLineWidthForValue(a){let b=this.options.grid;if(!this._isVisible()||!b.display)return 0;let c=this.ticks.findIndex(b=>b.value===a);return c>=0?b.setContext(this.getContext(c)).lineWidth:0}drawGrid(a){let b,c,d=this.options.grid,e=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a)),g=(a,b,c)=>{c.width&&c.color&&(e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke(),e.restore())};if(d.display)for(b=0,c=f.length;b<c;++b){let a=f[b];d.drawOnChartArea&&g({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),d.drawTicks&&g({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){let a,b,c,d,{chart:e,ctx:f,options:{border:g,grid:h}}=this,i=g.setContext(this.getContext()),j=g.display?i.width:0;if(!j)return;let k=h.setContext(this.getContext(0)).lineWidth,l=this._borderValue;this.isHorizontal()?(a=a3(e,this.left,j)-j/2,b=a3(e,this.right,k)+k/2,c=d=l):(c=a3(e,this.top,j)-j/2,d=a3(e,this.bottom,k)+k/2,a=b=l),f.save(),f.lineWidth=i.width,f.strokeStyle=i.color,f.beginPath(),f.moveTo(a,c),f.lineTo(b,d),f.stroke(),f.restore()}drawLabels(a){if(!this.options.ticks.display)return;let b=this.ctx,c=this._computeLabelArea();for(let d of(c&&a8(b,c),this.getLabelItems(a))){let a=d.options,c=d.font;bc(b,d.label,0,d.textOffset,c,a)}c&&a9(b)}drawTitle(){let a,b,{ctx:c,options:{position:d,title:e,reverse:f}}=this;if(!e.display)return;let g=bl(e.font),h=bk(e.padding),i=e.align,j=g.lineHeight/2;"bottom"===d||"center"===d||N(d)?(j+=h.bottom,M(e.text)&&(j+=g.lineHeight*(e.text.length-1))):j+=h.top;let{titleX:k,titleY:l,maxWidth:m,rotation:n}=function(a,b,c,d){let e,f,g,{top:h,left:i,bottom:j,right:k,chart:l}=a,{chartArea:m,scales:n}=l,o=0,p=j-h,q=k-i;if(a.isHorizontal()){if(f=aJ(d,i,k),N(c)){let a=Object.keys(c)[0],d=c[a];g=n[a].getPixelForValue(d)+p-b}else g="center"===c?(m.bottom+m.top)/2+p-b:cI(a,c,b);e=k-i}else{if(N(c)){let a=Object.keys(c)[0],d=c[a];f=n[a].getPixelForValue(d)-q+b}else f="center"===c?(m.left+m.right)/2-q+b:cI(a,c,b);g=aJ(d,j,h),o="left"===c?-aj:aj}return{titleX:f,titleY:g,maxWidth:e,rotation:o}}(this,j,d,i);bc(c,e.text,0,0,g,{color:e.color,maxWidth:m,rotation:n,textAlign:(a=aI(i),(f&&"right"!==d||!f&&"right"===d)&&(a="left"===(b=a)?"right":"right"===b?"left":b),a),textBaseline:"middle",translation:[k,l]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){let a=this.options,b=a.ticks&&a.ticks.z||0,c=Q(a.grid&&a.grid.z,-1),d=Q(a.border&&a.border.z,0);return this._isVisible()&&this.draw===cN.prototype.draw?[{z:c,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:d,draw:()=>{this.drawBorder()}},{z:b,draw:a=>{this.drawLabels(a)}}]:[{z:b,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(a){let b,c,d=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",f=[];for(b=0,c=d.length;b<c;++b){let c=d[b];c[e]!==this.id||a&&c.type!==a||f.push(c)}return f}_resolveTickFontOptions(a){return bl(this.options.ticks.setContext(this.getContext(a)).font)}_maxDigits(){let a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class cO{constructor(a,b,c){this.type=a,this.scope=b,this.override=c,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){var b;let c,d=Object.getPrototypeOf(a);"id"in(b=d)&&"defaults"in b&&(c=this.register(d));let e=this.items,f=a.id,g=this.scope+"."+f;if(!f)throw Error("class does not have id: "+a);return f in e||(e[f]=a,function(a,b,c){var d,e;let f=Y(Object.create(null),[c?a1.get(c):{},a1.get(b),a.defaults]);a1.set(b,f),a.defaultRoutes&&(d=b,Object.keys(e=a.defaultRoutes).forEach(a=>{let b=a.split("."),c=b.pop(),f=[d].concat(b).join("."),g=e[a].split("."),h=g.pop(),i=g.join(".");a1.route(f,c,i,h)})),a.descriptors&&a1.describe(b,a.descriptors)}(a,g,c),this.override&&a1.override(a.id,a.overrides)),g}get(a){return this.items[a]}unregister(a){let b=this.items,c=a.id,d=this.scope;c in b&&delete b[c],d&&c in a1[d]&&(delete a1[d][c],this.override&&delete aZ[c])}}var cP=new class{constructor(){this.controllers=new cO(ca,"datasets",!0),this.elements=new cO(cG,"elements"),this.plugins=new cO(Object,"plugins"),this.scales=new cO(cN,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,b,c){[...b].forEach(b=>{let d=c||this._getRegistryForType(b);c||d.isForType(b)||d===this.plugins&&b.id?this._exec(a,d,b):T(b,b=>{let d=c||this._getRegistryForType(b);this._exec(a,d,b)})})}_exec(a,b,c){let d=ab(a);S(c["before"+d],[],c),b[a](c),S(c["after"+d],[],c)}_getRegistryForType(a){for(let b=0;b<this._typedRegistries.length;b++){let c=this._typedRegistries[b];if(c.isForType(a))return c}return this.plugins}_get(a,b,c){let d=b.get(a);if(void 0===d)throw Error('"'+a+'" is not a registered '+c+".");return d}};class cQ{constructor(){this._init=[]}notify(a,b,c,d){"beforeInit"===b&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));let e=d?this._descriptors(a).filter(d):this._descriptors(a),f=this._notify(e,a,b,c);return"afterDestroy"===b&&(this._notify(e,a,"stop"),this._notify(this._init,a,"uninstall")),f}_notify(a,b,c,d){for(let e of(d=d||{},a)){let a=e.plugin;if(!1===S(a[c],[b,d,e.options],a)&&d.cancelable)return!1}return!0}invalidate(){L(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;let b=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),b}_createDescriptors(a,b){let c=a&&a.config,d=Q(c.options&&c.options.plugins,{}),e=function(a){let b={},c=[],d=Object.keys(cP.plugins.items);for(let a=0;a<d.length;a++)c.push(cP.getPlugin(d[a]));let e=a.plugins||[];for(let a=0;a<e.length;a++){let d=e[a];-1===c.indexOf(d)&&(c.push(d),b[d.id]=!0)}return{plugins:c,localIds:b}}(c);return!1!==d||b?function(a,{plugins:b,localIds:c},d,e){let f=[],g=a.getContext();for(let i of b){var h;let b=i.id,j=(h=d[b],e||!1!==h?!0===h?{}:h:null);null!==j&&f.push({plugin:i,options:function(a,{plugin:b,local:c},d,e){let f=a.pluginScopeKeys(b),g=a.getOptionScopes(d,f);return c&&b.defaults&&g.push(b.defaults),a.createResolver(g,e,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(a.config,{plugin:i,local:c[b]},j,g)})}return f}(a,e,d,b):[]}_notifyStateChanges(a){let b=this._oldCache||[],c=this._cache,d=(a,b)=>a.filter(a=>!b.some(b=>a.plugin.id===b.plugin.id));this._notify(d(b,c),a,"stop"),this._notify(d(c,b),a,"start")}}function cR(a,b){let c=a1.datasets[a]||{};return((b.datasets||{})[a]||{}).indexAxis||b.indexAxis||c.indexAxis||"x"}function cS(a){if("x"===a||"y"===a||"r"===a)return a}function cT(a,...b){if(cS(a))return a;for(let d of b){var c;let b=d.axis||("top"===(c=d.position)||"bottom"===c?"x":"left"===c||"right"===c?"y":void 0)||a.length>1&&cS(a[0].toLowerCase());if(b)return b}throw Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function cU(a,b,c){if(c[b+"AxisID"]===a)return{axis:b}}function cV(a){let b=a.options||(a.options={});b.plugins=Q(b.plugins,{}),b.scales=function(a,b){let c=aZ[a.type]||{scales:{}},d=b.scales||{},e=cR(a.type,b),f=Object.create(null);return Object.keys(d).forEach(b=>{let g=d[b];if(!N(g))return console.error(`Invalid scale configuration for scale: ${b}`);if(g._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);let h=cT(b,g,function(a,b){if(b.data&&b.data.datasets){let c=b.data.datasets.filter(b=>b.xAxisID===a||b.yAxisID===a);if(c.length)return cU(a,"x",c[0])||cU(a,"y",c[0])}return{}}(b,a),a1.scales[g.type]),i=h===e?"_index_":"_value_",j=c.scales||{};f[b]=Z(Object.create(null),[{axis:h},g,j[h],j[i]])}),a.data.datasets.forEach(c=>{let e=c.type||a.type,g=c.indexAxis||cR(e,b),h=(aZ[e]||{}).scales||{};Object.keys(h).forEach(a=>{let b,e=(b=a,"_index_"===a?b=g:"_value_"===a&&(b="x"===g?"y":"x"),b),i=c[e+"AxisID"]||e;f[i]=f[i]||Object.create(null),Z(f[i],[{axis:e},d[i],h[a]])})}),Object.keys(f).forEach(a=>{let b=f[a];Z(b,[a1.scales[b.type],a1.scale])}),f}(a,b)}function cW(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}let cX=new Map,cY=new Set;function cZ(a,b){let c=cX.get(a);return c||(c=b(),cX.set(a,c),cY.add(c)),c}let c$=(a,b,c)=>{let d=aa(b,c);void 0!==d&&a.add(d)};class c_{constructor(a){this._config=function(a){return(a=a||{}).data=cW(a.data),cV(a),a}(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=cW(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){let a=this._config;this.clearCache(),cV(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return cZ(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,b){return cZ(`${a}.transition.${b}`,()=>[[`datasets.${a}.transitions.${b}`,`transitions.${b}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,b){return cZ(`${a}-${b}`,()=>[[`datasets.${a}.elements.${b}`,`datasets.${a}`,`elements.${b}`,""]])}pluginScopeKeys(a){let b=a.id,c=this.type;return cZ(`${c}-plugin-${b}`,()=>[[`plugins.${b}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,b){let c=this._scopeCache,d=c.get(a);return(!d||b)&&(d=new Map,c.set(a,d)),d}getOptionScopes(a,b,c){let{options:d,type:e}=this,f=this._cachedScopes(a,c),g=f.get(b);if(g)return g;let h=new Set;b.forEach(b=>{a&&(h.add(a),b.forEach(b=>c$(h,a,b))),b.forEach(a=>c$(h,d,a)),b.forEach(a=>c$(h,aZ[e]||{},a)),b.forEach(a=>c$(h,a1,a)),b.forEach(a=>c$(h,a$,a))});let i=Array.from(h);return 0===i.length&&i.push(Object.create(null)),cY.has(b)&&f.set(b,i),i}chartOptionScopes(){let{options:a,type:b}=this;return[a,aZ[b]||{},a1.datasets[b]||{},{type:b},a1,a$]}resolveNamedOptions(a,b,c,d=[""]){let e={$shared:!0},{resolver:f,subPrefixes:g}=c0(this._resolverCache,a,d),h=f;if(function(a,b){let{isScriptable:c,isIndexable:d}=bq(a);for(let e of b){let b=c(e),f=d(e),g=(f||b)&&a[e];if(b&&(ad(g)||c1(g))||f&&M(g))return!0}return!1}(f,b)){e.$shared=!1,c=ad(c)?c():c;let b=this.createResolver(a,c,g);h=bp(f,c,b)}for(let a of b)e[a]=h[a];return e}createResolver(a,b,c=[""],d){let{resolver:e}=c0(this._resolverCache,a,c);return N(b)?bp(e,b,void 0,d):e}}function c0(a,b,c){let d=a.get(b);d||(d=new Map,a.set(b,d));let e=c.join(),f=d.get(e);return f||(f={resolver:bo(b,c),subPrefixes:c.filter(a=>!a.toLowerCase().includes("hover"))},d.set(e,f)),f}let c1=a=>N(a)&&Object.getOwnPropertyNames(a).some(b=>ad(a[b])),c2=["top","bottom","left","right","chartArea"];function c3(a,b){return"top"===a||"bottom"===a||-1===c2.indexOf(a)&&"x"===b}function c4(a,b){return function(c,d){return c[a]===d[a]?c[b]-d[b]:c[a]-d[a]}}function c5(a){let b=a.chart,c=b.options.animation;b.notifyPlugins("afterRender"),S(c&&c.onComplete,[a],b)}function c6(a){let b=a.chart,c=b.options.animation;S(c&&c.onProgress,[a],b)}function c7(a){return a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}let c8={},c9=a=>{let b=c7(a);return Object.values(c8).filter(a=>a.canvas===b).pop()};class da{static defaults=a1;static instances=c8;static overrides=aZ;static registry=cP;static version="4.5.0";static getChart=c9;static register(...a){cP.add(...a),db()}static unregister(...a){cP.remove(...a),db()}constructor(a,b){let c=this.config=new c_(b),d=c7(a),e=c9(d);if(e)throw Error("Canvas is already in use. Chart with ID '"+e.id+"' must be destroyed before the canvas with ID '"+e.canvas.id+"' can be reused.");let f=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||cF),this.platform.updateConfig(c);let g=this.platform.acquireContext(d,f.aspectRatio),h=g&&g.canvas,i=h&&h.height,j=h&&h.width;if(this.id=K(),this.ctx=g,this.canvas=h,this.width=j,this.height=i,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(a,b){let c;return function(...d){return b?(clearTimeout(c),c=setTimeout(a,b,d)):a.apply(this,d),b}}(a=>this.update(a),f.resizeDelay||0),this._dataChanges=[],c8[this.id]=this,!g||!h)return void console.error("Failed to create chart: can't acquire context from the given item");bX.listen(this,"complete",c5),bX.listen(this,"progress",c6),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:a,maintainAspectRatio:b},width:c,height:d,_aspectRatio:e}=this;return L(a)?b&&e?e:d?c/d:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}get registry(){return cP}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a4(this.canvas,this.ctx),this}stop(){return bX.stop(this),this}resize(a,b){bX.running(this)?this._resizeBeforeDraw={width:a,height:b}:this._resize(a,b)}_resize(a,b){let c=this.options,d=this.canvas,e=c.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(d,a,b,e),g=c.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,bI(this,g,!0)&&(this.notifyPlugins("resize",{size:f}),S(c.onResize,[this,f],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){T(this.options.scales||{},(a,b)=>{a.id=b})}buildOrUpdateScales(){let a=this.options,b=a.scales,c=this.scales,d=Object.keys(c).reduce((a,b)=>(a[b]=!1,a),{}),e=[];b&&(e=e.concat(Object.keys(b).map(a=>{let c=b[a],d=cT(a,c),e="r"===d,f="x"===d;return{options:c,dposition:e?"chartArea":f?"bottom":"left",dtype:e?"radialLinear":f?"category":"linear"}}))),T(e,b=>{let e=b.options,f=e.id,g=cT(f,e),h=Q(e.type,b.dtype);(void 0===e.position||c3(e.position,g)!==c3(b.dposition))&&(e.position=b.dposition),d[f]=!0;let i=null;f in c&&c[f].type===h?i=c[f]:c[(i=new(cP.getScale(h))({id:f,type:h,ctx:this.ctx,chart:this})).id]=i,i.init(e,a)}),T(d,(a,b)=>{a||delete c[b]}),T(c,a=>{cD.configure(this,a,a.options),cD.addBox(this,a)})}_updateMetasets(){let a=this._metasets,b=this.data.datasets.length,c=a.length;if(a.sort((a,b)=>a.index-b.index),c>b){for(let a=b;a<c;++a)this._destroyDatasetMeta(a);a.splice(b,c-b)}this._sortedMetasets=a.slice(0).sort(c4("order","index"))}_removeUnreferencedMetasets(){let{_metasets:a,data:{datasets:b}}=this;a.length>b.length&&delete this._stacks,a.forEach((a,c)=>{0===b.filter(b=>b===a._dataset).length&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){let a,b,c=[],d=this.data.datasets;for(this._removeUnreferencedMetasets(),a=0,b=d.length;a<b;a++){let b=d[a],e=this.getDatasetMeta(a),f=b.type||this.config.type;if(e.type&&e.type!==f&&(this._destroyDatasetMeta(a),e=this.getDatasetMeta(a)),e.type=f,e.indexAxis=b.indexAxis||cR(f,this.options),e.order=b.order||0,e.index=a,e.label=""+b.label,e.visible=this.isDatasetVisible(a),e.controller)e.controller.updateIndex(a),e.controller.linkScales();else{let b=cP.getController(f),{datasetElementType:d,dataElementType:g}=a1.datasets[f];Object.assign(b,{dataElementType:cP.getElement(g),datasetElementType:d&&cP.getElement(d)}),e.controller=new b(this,a),c.push(e.controller)}}return this._updateMetasets(),c}_resetElements(){T(this.data.datasets,(a,b)=>{this.getDatasetMeta(b).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){let b=this.config;b.update();let c=this._options=b.createResolver(b.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0}))return;let e=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let a=0,b=this.data.datasets.length;a<b;a++){let{controller:b}=this.getDatasetMeta(a),c=!d&&-1===e.indexOf(b);b.buildOrUpdateElements(c),f=Math.max(+b.getMaxOverflow(),f)}f=this._minPadding=c.layout.autoPadding?f:0,this._updateLayout(f),d||T(e,a=>{a.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(c4("z","_idx"));let{_active:g,_lastEvent:h}=this;h?this._eventHandler(h,!0):g.length&&this._updateHoverStyles(g,g,!0),this.render()}_updateScales(){T(this.scales,a=>{cD.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let a=this.options;ae(new Set(Object.keys(this._listeners)),new Set(a.events))&&!!this._responsiveListeners===a.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:a}=this;for(let{method:c,start:d,count:e}of this._getUniformDataChanges()||[]){var b="_removeElements"===c?-e:e;for(let c of Object.keys(a)){let e=+c;if(e>=d){let f=a[c];delete a[c],(b>0||e>d)&&(a[e+b]=f)}}}}_getUniformDataChanges(){let a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];let b=this.data.datasets.length,c=b=>new Set(a.filter(a=>a[0]===b).map((a,b)=>b+","+a.splice(1).join(","))),d=c(0);for(let a=1;a<b;a++)if(!ae(d,c(a)))return;return Array.from(d).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(a){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;cD.update(this,this.width,this.height,a);let b=this.chartArea,c=b.width<=0||b.height<=0;this._layers=[],T(this.boxes,a=>{c&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,b)=>{a._idx=b}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(let a=0,b=this.data.datasets.length;a<b;++a)this.getDatasetMeta(a).controller.configure();for(let b=0,c=this.data.datasets.length;b<c;++b)this._updateDataset(b,ad(a)?a({datasetIndex:b}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,b){let c=this.getDatasetMeta(a),d={meta:c,index:a,mode:b,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",d)&&(c.controller._update(b),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(bX.has(this)?this.attached&&!bX.running(this)&&bX.start(this):(this.draw(),c5({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){let{width:a,height:b}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,b)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let b=this._layers;for(a=0;a<b.length&&b[a].z<=0;++a)b[a].draw(this.chartArea);for(this._drawDatasets();a<b.length;++a)b[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){let b,c,d=this._sortedMetasets,e=[];for(b=0,c=d.length;b<c;++b){let c=d[b];(!a||c.visible)&&e.push(c)}return e}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let a=this.getSortedVisibleDatasetMetas();for(let b=a.length-1;b>=0;--b)this._drawDataset(a[b]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){let b=this.ctx,c={meta:a,index:a.index,cancelable:!0},d=bW(this,a);!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(d&&a8(b,d),a.controller.draw(),d&&a9(b),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(a){return a7(a,this.chartArea,this._minPadding)}getElementsAtEventForMode(a,b,c,d){let e=ct.modes[b];return"function"==typeof e?e(this,a,c,d):[]}getDatasetMeta(a){let b=this.data.datasets[a],c=this._metasets,d=c.filter(a=>a&&a._dataset===b).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:b&&b.order||0,index:a,_dataset:b,_parsed:[],_sorted:!1},c.push(d)),d}getContext(){return this.$context||(this.$context=bn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){let b=this.data.datasets[a];if(!b)return!1;let c=this.getDatasetMeta(a);return"boolean"==typeof c.hidden?!c.hidden:!b.hidden}setDatasetVisibility(a,b){this.getDatasetMeta(a).hidden=!b}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,b,c){let d=c?"show":"hide",e=this.getDatasetMeta(a),f=e.controller._resolveAnimations(void 0,d);ac(b)?(e.data[b].hidden=!c,this.update()):(this.setDatasetVisibility(a,c),f.update(e,{visible:c}),this.update(b=>b.datasetIndex===a?d:void 0))}hide(a,b){this._updateVisibility(a,b,!1)}show(a,b){this._updateVisibility(a,b,!0)}_destroyDatasetMeta(a){let b=this._metasets[a];b&&b.controller&&b.controller._destroy(),delete this._metasets[a]}_stop(){let a,b;for(this.stop(),bX.remove(this),a=0,b=this.data.datasets.length;a<b;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:a,ctx:b}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),a4(a,b),this.platform.releaseContext(b),this.canvas=null,this.ctx=null),delete c8[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let a=this._listeners,b=this.platform,c=(c,d)=>{b.addEventListener(this,c,d),a[c]=d},d=(a,b,c)=>{a.offsetX=b,a.offsetY=c,this._eventHandler(a)};T(this.options.events,a=>c(a,d))}bindResponsiveEvents(){let a;this._responsiveListeners||(this._responsiveListeners={});let b=this._responsiveListeners,c=this.platform,d=(a,d)=>{c.addEventListener(this,a,d),b[a]=d},e=(a,d)=>{b[a]&&(c.removeEventListener(this,a,d),delete b[a])},f=(a,b)=>{this.canvas&&this.resize(a,b)},g=()=>{e("attach",g),this.attached=!0,this.resize(),d("resize",f),d("detach",a)};a=()=>{this.attached=!1,e("resize",f),this._stop(),this._resize(0,0),d("attach",g)},c.isAttached(this.canvas)?g():a()}unbindEvents(){T(this._listeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._listeners={},T(this._responsiveListeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,b,c){let d,e,f,g=c?"set":"remove";for("dataset"===b&&this.getDatasetMeta(a[0].datasetIndex).controller["_"+g+"DatasetHoverStyle"](),e=0,f=a.length;e<f;++e){let b=(d=a[e])&&this.getDatasetMeta(d.datasetIndex).controller;b&&b[g+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){let b=this._active||[],c=a.map(({datasetIndex:a,index:b})=>{let c=this.getDatasetMeta(a);if(!c)throw Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[b],index:b}});U(c,b)||(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,b))}notifyPlugins(a,b,c){return this._plugins.notify(this,a,b,c)}isPluginEnabled(a){return 1===this._plugins._cache.filter(b=>b.plugin.id===a).length}_updateHoverStyles(a,b,c){let d=this.options.hover,e=(a,b)=>a.filter(a=>!b.some(b=>a.datasetIndex===b.datasetIndex&&a.index===b.index)),f=e(b,a),g=c?a:e(a,b);f.length&&this.updateHoverStyle(f,d.mode,!1),g.length&&d.mode&&this.updateHoverStyle(g,d.mode,!0)}_eventHandler(a,b){let c={event:a,replay:b,cancelable:!0,inChartArea:this.isPointInArea(a)},d=b=>(b.options.events||this.options.events).includes(a.native.type);if(!1===this.notifyPlugins("beforeEvent",c,d))return;let e=this._handleEvent(a,b,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,d),(e||c.changed)&&this.render(),this}_handleEvent(a,b,c){var d;let{_active:e=[],options:f}=this,g=this._getActiveElements(a,e,c,b),h="mouseup"===a.type||"click"===a.type||"contextmenu"===a.type,i=(d=this._lastEvent,c&&"mouseout"!==a.type?h?d:a:null);c&&(this._lastEvent=null,S(f.onHover,[a,g,this],this),h&&S(f.onClick,[a,g,this],this));let j=!U(g,e);return(j||b)&&(this._active=g,this._updateHoverStyles(g,e,b)),this._lastEvent=i,j}_getActiveElements(a,b,c,d){if("mouseout"===a.type)return[];if(!c)return b;let e=this.options.hover;return this.getElementsAtEventForMode(a,e.mode,e,d)}}function db(){return T(da.instances,a=>a._plugins.invalidate())}function dc(a,b,c,d){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}}function dd(a,b,c,d,e,f){let{x:g,y:h,startAngle:i,pixelMargin:j,innerRadius:k}=b,l=Math.max(b.outerRadius+d+c-j,0),m=k>0?k+d+c+j:0,n=0,o=e-i;if(d){let a=l>0?l-d:0,b=((k>0?k-d:0)+a)/2;n=(o-(0!==b?o*b/(b+d):o))/2}let p=Math.max(.001,o*l-c/af)/l,q=(o-p)/2,r=i+q+n,s=e-q-n,{outerStart:t,outerEnd:u,innerStart:v,innerEnd:w}=function(a,b,c,d){let e=bh(a.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),f=(c-b)/2,g=Math.min(f,d*b/2),h=a=>{let b=(c-Math.min(f,a))*d/2;return az(a,0,Math.min(f,b))};return{outerStart:h(e.outerStart),outerEnd:h(e.outerEnd),innerStart:az(e.innerStart,0,g),innerEnd:az(e.innerEnd,0,g)}}(b,m,l,s-r),x=l-t,y=l-u,z=r+t/x,A=s-u/y,B=m+v,C=m+w,D=r+v/B,E=s-w/C;if(a.beginPath(),f){let b=(z+A)/2;if(a.arc(g,h,l,z,b),a.arc(g,h,l,b,A),u>0){let b=dc(y,A,g,h);a.arc(b.x,b.y,u,A,s+aj)}let c=dc(C,s,g,h);if(a.lineTo(c.x,c.y),w>0){let b=dc(C,E,g,h);a.arc(b.x,b.y,w,s+aj,E+Math.PI)}let d=(s-w/m+(r+v/m))/2;if(a.arc(g,h,m,s-w/m,d,!0),a.arc(g,h,m,d,r+v/m,!0),v>0){let b=dc(B,D,g,h);a.arc(b.x,b.y,v,D+Math.PI,r-aj)}let e=dc(x,r,g,h);if(a.lineTo(e.x,e.y),t>0){let b=dc(x,z,g,h);a.arc(b.x,b.y,t,r-aj,z)}}else{a.moveTo(g,h);let b=Math.cos(z)*l+g,c=Math.sin(z)*l+h;a.lineTo(b,c);let d=Math.cos(A)*l+g,e=Math.sin(A)*l+h;a.lineTo(d,e)}a.closePath()}class de extends cG{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,b,c){let{angle:d,distance:e}=au(this.getProps(["x","y"],c),{x:a,y:b}),{startAngle:f,endAngle:g,innerRadius:h,outerRadius:i,circumference:j}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),k=(this.options.spacing+this.options.borderWidth)/2,l=Q(j,g-f),m=ay(d,f,g)&&f!==g,n=l>=ag||m,o=aA(e,h+k,i+k);return n&&o}getCenterPoint(a){let{x:b,y:c,startAngle:d,endAngle:e,innerRadius:f,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:h,spacing:i}=this.options,j=(d+e)/2,k=(f+g+i+h)/2;return{x:b+Math.cos(j)*k,y:c+Math.sin(j)*k}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){let{options:b,circumference:c}=this,d=(b.offset||0)/4,e=(b.spacing||0)/2,f=b.circular;if(this.pixelMargin=.33*("inner"===b.borderAlign),this.fullCircles=c>ag?Math.floor(c/ag):0,0===c||this.innerRadius<0||this.outerRadius<0)return;a.save();let g=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(g)*d,Math.sin(g)*d);let h=d*(1-Math.sin(Math.min(af,c||0)));a.fillStyle=b.backgroundColor,a.strokeStyle=b.borderColor,function(a,b,c,d,e){let{fullCircles:f,startAngle:g,circumference:h}=b,i=b.endAngle;if(f){dd(a,b,c,d,i,e);for(let b=0;b<f;++b)a.fill();isNaN(h)||(i=g+(h%ag||ag))}dd(a,b,c,d,i,e),a.fill()}(a,this,h,e,f),function(a,b,c,d,e){let{fullCircles:f,startAngle:g,circumference:h,options:i}=b,{borderWidth:j,borderJoinStyle:k,borderDash:l,borderDashOffset:m,borderRadius:n}=i,o="inner"===i.borderAlign;if(!j)return;a.setLineDash(l||[]),a.lineDashOffset=m,o?(a.lineWidth=2*j,a.lineJoin=k||"round"):(a.lineWidth=j,a.lineJoin=k||"bevel");let p=b.endAngle;if(f){dd(a,b,c,d,p,e);for(let b=0;b<f;++b)a.stroke();isNaN(h)||(p=g+(h%ag||ag))}o&&function(a,b,c){let{startAngle:d,pixelMargin:e,x:f,y:g,outerRadius:h,innerRadius:i}=b,j=e/h;a.beginPath(),a.arc(f,g,h,d-j,c+j),i>e?(j=e/i,a.arc(f,g,i,c+j,d-j,!0)):a.arc(f,g,e,c+aj,d-aj),a.closePath(),a.clip()}(a,b,p),i.selfJoin&&p-g>=af&&0===n&&"miter"!==k&&function(a,b,c){let{startAngle:d,x:e,y:f,outerRadius:g,innerRadius:h,options:i}=b,{borderWidth:j,borderJoinStyle:k}=i,l=Math.min(j/g,ax(d-c));if(a.beginPath(),a.arc(e,f,g-j/2,d+l/2,c-l/2),h>0){let b=Math.min(j/h,ax(d-c));a.arc(e,f,h+j/2,c-b/2,d+b/2,!0)}else{let b=Math.min(j/2,g*ax(d-c));if("round"===k)a.arc(e,f,b,c-af/2,d+af/2,!0);else if("bevel"===k){let g=2*b*b,h=-g*Math.cos(c+af/2)+e,i=-g*Math.sin(c+af/2)+f,j=g*Math.cos(d+af/2)+e,k=g*Math.sin(d+af/2)+f;a.lineTo(h,i),a.lineTo(j,k)}}a.closePath(),a.moveTo(0,0),a.rect(0,0,a.canvas.width,a.canvas.height),a.clip("evenodd")}(a,b,p),f||(dd(a,b,c,d,p,e),a.stroke())}(a,this,h,e,f),a.restore()}}function df(a,b,c=b){a.lineCap=Q(c.borderCapStyle,b.borderCapStyle),a.setLineDash(Q(c.borderDash,b.borderDash)),a.lineDashOffset=Q(c.borderDashOffset,b.borderDashOffset),a.lineJoin=Q(c.borderJoinStyle,b.borderJoinStyle),a.lineWidth=Q(c.borderWidth,b.borderWidth),a.strokeStyle=Q(c.borderColor,b.borderColor)}function dg(a,b,c){a.lineTo(c.x,c.y)}function dh(a,b,c={}){let d=a.length,{start:e=0,end:f=d-1}=c,{start:g,end:h}=b,i=Math.max(e,g),j=Math.min(f,h);return{count:d,start:i,loop:b.loop,ilen:j<i&&!(e<g&&f<g||e>h&&f>h)?d+j-i:j-i}}function di(a,b,c,d){let e,f,g,{points:h,options:i}=b,{count:j,start:k,loop:l,ilen:m}=dh(h,c,d),n=i.stepped?ba:i.tension||"monotone"===i.cubicInterpolationMode?bb:dg,{move:o=!0,reverse:p}=d||{};for(e=0;e<=m;++e)(f=h[(k+(p?m-e:e))%j]).skip||(o?(a.moveTo(f.x,f.y),o=!1):n(a,g,f,p,i.stepped),g=f);return l&&n(a,g,f=h[(k+(p?m:0))%j],p,i.stepped),!!l}function dj(a,b,c,d){let e,f,g,h,i,j,k=b.points,{count:l,start:m,ilen:n}=dh(k,c,d),{move:o=!0,reverse:p}=d||{},q=0,r=0,s=a=>(m+(p?n-a:a))%l,t=()=>{h!==i&&(a.lineTo(q,i),a.lineTo(q,h),a.lineTo(q,j))};for(o&&(f=k[s(0)],a.moveTo(f.x,f.y)),e=0;e<=n;++e){if((f=k[s(e)]).skip)continue;let b=f.x,c=f.y,d=0|b;d===g?(c<h?h=c:c>i&&(i=c),q=(r*q+b)/++r):(t(),a.lineTo(b,c),g=d,r=0,h=i=c),j=c}t()}function dk(a){let b=a.options,c=b.borderDash&&b.borderDash.length;return a._decimated||a._loop||b.tension||"monotone"===b.cubicInterpolationMode||b.stepped||c?di:dj}let dl="function"==typeof Path2D;class dm extends cG{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a};constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,b){let c=this.options;if((c.tension||"monotone"===c.cubicInterpolationMode)&&!c.stepped&&!this._pointsUpdated){let d=c.spanGaps?this._loop:this._fullLoop;!function(a,b,c,d,e){let f,g,h,i;if(b.spanGaps&&(a=a.filter(a=>!a.skip)),"monotone"===b.cubicInterpolationMode)!function(a,b="x"){let c,d,e,f=bC(b),g=a.length,h=Array(g).fill(0),i=Array(g),j=bB(a,0);for(c=0;c<g;++c)if(d=e,e=j,j=bB(a,c+1),e){if(j){let a=j[b]-e[b];h[c]=0!==a?(j[f]-e[f])/a:0}i[c]=d?j?an(h[c-1])!==an(h[c])?0:(h[c-1]+h[c])/2:h[c-1]:h[c]}!function(a,b,c){let d,e,f,g,h,i=a.length,j=bB(a,0);for(let k=0;k<i-1;++k)if(h=j,j=bB(a,k+1),h&&j){if(ao(b[k],0,bA)){c[k]=c[k+1]=0;continue}(g=Math.pow(d=c[k]/b[k],2)+Math.pow(e=c[k+1]/b[k],2))<=9||(f=3/Math.sqrt(g),c[k]=d*f*b[k],c[k+1]=e*f*b[k])}}(a,h,i),function(a,b,c="x"){let d,e,f,g=bC(c),h=a.length,i=bB(a,0);for(let j=0;j<h;++j){if(e=f,f=i,i=bB(a,j+1),!f)continue;let h=f[c],k=f[g];e&&(d=(h-e[c])/3,f[`cp1${c}`]=h-d,f[`cp1${g}`]=k-d*b[j]),i&&(d=(i[c]-h)/3,f[`cp2${c}`]=h+d,f[`cp2${g}`]=k+d*b[j])}}(a,i,b)}(a,e);else{let c=d?a[a.length-1]:a[0];for(f=0,g=a.length;f<g;++f)i=function(a,b,c,d){let e=a.skip?b:a,f=c.skip?b:c,g=av(b,e),h=av(f,b),i=g/(g+h),j=h/(g+h);i=isNaN(i)?0:i,j=isNaN(j)?0:j;let k=d*i,l=d*j;return{previous:{x:b.x-k*(f.x-e.x),y:b.y-k*(f.y-e.y)},next:{x:b.x+l*(f.x-e.x),y:b.y+l*(f.y-e.y)}}}(c,h=a[f],a[Math.min(f+1,g-!d)%g],b.tension),h.cp1x=i.previous.x,h.cp1y=i.previous.y,h.cp2x=i.next.x,h.cp2y=i.next.y,c=h}b.capBezierPoints&&function(a,b){let c,d,e,f,g,h=a7(a[0],b);for(c=0,d=a.length;c<d;++c)g=f,f=h,h=c<d-1&&a7(a[c+1],b),f&&(e=a[c],g&&(e.cp1x=bD(e.cp1x,b.left,b.right),e.cp1y=bD(e.cp1y,b.top,b.bottom)),h&&(e.cp2x=bD(e.cp2x,b.left,b.right),e.cp2y=bD(e.cp2y,b.top,b.bottom)))}(a,c)}(this._points,c,a,d,b),this._pointsUpdated=!0}}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(a,b){let c=a.points,d=a.options.spanGaps,e=c.length;if(!e)return[];let f=!!a._loop,{start:g,end:h}=function(a,b,c,d){let e=0,f=b-1;if(c&&!d)for(;e<b&&!a[e].skip;)e++;for(;e<b&&a[e].skip;)e++;for(e%=b,c&&(f+=e);f>e&&a[f%b].skip;)f--;return{start:e,end:f%=b}}(c,e,f,d);if(!0===d)return bT(a,[{start:g,end:h,loop:f}],c,b);let i=h<g?h+e:h,j=!!a._fullLoop&&0===g&&h===e-1;return bT(a,function(a,b,c,d){let e,f=a.length,g=[],h=b,i=a[b];for(e=b+1;e<=c;++e){let c=a[e%f];c.skip||c.stop?i.skip||(d=!1,g.push({start:b%f,end:(e-1)%f,loop:d}),b=h=c.stop?e:null):(h=e,i.skip&&(b=e)),i=c}return null!==h&&g.push({start:b%f,end:h%f,loop:d}),g}(c,g,i,j),c,b)}(this,this.options.segment))}first(){let a=this.segments,b=this.points;return a.length&&b[a[0].start]}last(){let a=this.segments,b=this.points,c=a.length;return c&&b[a[c-1].end]}interpolate(a,b){let c,d,e=this.options,f=a[b],g=this.points,h=bS(this,{property:b,start:f,end:f});if(!h.length)return;let i=[],j=e.stepped?bK:e.tension||"monotone"===e.cubicInterpolationMode?bL:bJ;for(c=0,d=h.length;c<d;++c){let{start:d,end:k}=h[c],l=g[d],m=g[k];if(l===m){i.push(l);continue}let n=Math.abs((f-l[b])/(m[b]-l[b])),o=j(l,m,n,e.stepped);o[b]=a[b],i.push(o)}return 1===i.length?i[0]:i}pathSegment(a,b,c){return dk(this)(a,this,b,c)}path(a,b,c){let d=this.segments,e=dk(this),f=this._loop;for(let g of(b=b||0,c=c||this.points.length-b,d))f&=e(a,this,g,{start:b,end:b+c-1});return!!f}draw(a,b,c,d){let e=this.options||{};(this.points||[]).length&&e.borderWidth&&(a.save(),function(a,b,c,d){if(dl&&!b.options.segment){let e;(e=b._path)||(e=b._path=new Path2D,b.path(e,c,d)&&e.closePath()),df(a,b.options),a.stroke(e)}else{let{segments:e,options:f}=b,g=dk(b);for(let h of e)df(a,f,h.style),a.beginPath(),g(a,b,h,{start:c,end:c+d-1})&&a.closePath(),a.stroke()}}(a,this,c,d),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function dn(a,b,c,d){let e=a.options,{[c]:f}=a.getProps([c],d);return Math.abs(b-f)<e.radius+e.hitRadius}function dp(a,b){let c,d,e,f,g,{x:h,y:i,base:j,width:k,height:l}=a.getProps(["x","y","base","width","height"],b);return a.horizontal?(g=l/2,c=Math.min(h,j),d=Math.max(h,j),e=i-g,f=i+g):(c=h-(g=k/2),d=h+g,e=Math.min(i,j),f=Math.max(i,j)),{left:c,top:e,right:d,bottom:f}}function dq(a,b,c,d){return a?0:az(b,c,d)}function dr(a,b,c,d){let e=null===b,f=null===c,g=a&&!(e&&f)&&dp(a,d);return g&&(e||aA(b,g.left,g.right))&&(f||aA(c,g.top,g.bottom))}function ds(a,b){a.rect(b.x,b.y,b.w,b.h)}function dt(a,b,c={}){let d=a.x!==c.x?-b:0,e=a.y!==c.y?-b:0,f=(a.x+a.w!==c.x+c.w?b:0)-d,g=(a.y+a.h!==c.y+c.h?b:0)-e;return{x:a.x+d,y:a.y+e,w:a.w+f,h:a.h+g,radius:a.radius}}class du extends cG{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){var b;let{inflateAmount:c,options:{borderColor:d,backgroundColor:e}}=this,{inner:f,outer:g}=function(a){let b=dp(a),c=b.right-b.left,d=b.bottom-b.top,e=function(a,b,c){let d=a.options.borderWidth,e=a.borderSkipped,f=bi(d);return{t:dq(e.top,f.top,0,c),r:dq(e.right,f.right,0,b),b:dq(e.bottom,f.bottom,0,c),l:dq(e.left,f.left,0,b)}}(a,c/2,d/2),f=function(a,b,c){let{enableBorderRadius:d}=a.getProps(["enableBorderRadius"]),e=a.options.borderRadius,f=bj(e),g=Math.min(b,c),h=a.borderSkipped,i=d||N(e);return{topLeft:dq(!i||h.top||h.left,f.topLeft,0,g),topRight:dq(!i||h.top||h.right,f.topRight,0,g),bottomLeft:dq(!i||h.bottom||h.left,f.bottomLeft,0,g),bottomRight:dq(!i||h.bottom||h.right,f.bottomRight,0,g)}}(a,c/2,d/2);return{outer:{x:b.left,y:b.top,w:c,h:d,radius:f},inner:{x:b.left+e.l,y:b.top+e.t,w:c-e.l-e.r,h:d-e.t-e.b,radius:{topLeft:Math.max(0,f.topLeft-Math.max(e.t,e.l)),topRight:Math.max(0,f.topRight-Math.max(e.t,e.r)),bottomLeft:Math.max(0,f.bottomLeft-Math.max(e.b,e.l)),bottomRight:Math.max(0,f.bottomRight-Math.max(e.b,e.r))}}}}(this),h=(b=g.radius).topLeft||b.topRight||b.bottomLeft||b.bottomRight?bd:ds;a.save(),(g.w!==f.w||g.h!==f.h)&&(a.beginPath(),h(a,dt(g,c,f)),a.clip(),h(a,dt(f,-c,g)),a.fillStyle=d,a.fill("evenodd")),a.beginPath(),h(a,dt(f,c)),a.fillStyle=e,a.fill(),a.restore()}inRange(a,b,c){return dr(this,a,b,c)}inXRange(a,b){return dr(this,a,null,b)}inYRange(a,b){return dr(this,null,a,b)}getCenterPoint(a){let{x:b,y:c,base:d,horizontal:e}=this.getProps(["x","y","base","horizontal"],a);return{x:e?(b+d)/2:b,y:e?c:(c+d)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}}let dv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],dw=dv.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function dx(a,b,c,d){if(d)return;let e=b[a],f=c[a];return"angle"===a&&(e=ax(e),f=ax(f)),{property:a,start:e,end:f}}function dy(a,b,c){for(;b>a;b--){let a=c[b];if(!isNaN(a.x)&&!isNaN(a.y))break}return b}function dz(a,b,c,d){return a&&b?d(a[c],b[c]):a?a[c]:b?b[c]:0}function dA(a,b){let c=[],d=!1;return M(a)?(d=!0,c=a):c=function(a,b){let{x:c=null,y:d=null}=a||{},e=b.points,f=[];return b.segments.forEach(({start:a,end:b})=>{b=dy(a,b,e);let g=e[a],h=e[b];null!==d?(f.push({x:g.x,y:d}),f.push({x:h.x,y:d})):null!==c&&(f.push({x:c,y:g.y}),f.push({x:c,y:h.y}))}),f}(a,b),c.length?new dm({points:c,options:{tension:0},_loop:d,_fullLoop:d}):null}function dB(a){return a&&!1!==a.fill}class dC{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,b,c){let{x:d,y:e,radius:f}=this;return b=b||{start:0,end:ag},a.arc(d,e,f,b.end,b.start,!0),!c.bounds}interpolate(a){let{x:b,y:c,radius:d}=this,e=a.angle;return{x:b+Math.cos(e)*d,y:c+Math.sin(e)*d,angle:e}}}function dD(a,b,c){let d=function(a){let{chart:b,fill:c,line:d}=a;if(O(c)){var e,f=b,g=c;let a=f.getDatasetMeta(g);return a&&f.isDatasetVisible(g)?a.dataset:null}if("stack"===c)return function(a){let{scale:b,index:c,line:d}=a,e=[],f=d.segments,g=d.points,h=function(a,b){let c=[],d=a.getMatchingVisibleMetas("line");for(let a=0;a<d.length;a++){let e=d[a];if(e.index===b)break;e.hidden||c.unshift(e.dataset)}return c}(b,c);h.push(dA({x:null,y:b.bottom},d));for(let a=0;a<f.length;a++){let b=f[a];for(let a=b.start;a<=b.end;a++)!function(a,b,c){let d=[];for(let e=0;e<c.length;e++){let{first:f,last:g,point:h}=function(a,b,c){let d=a.interpolate(b,"x");if(!d)return{};let e=d[c],f=a.segments,g=a.points,h=!1,i=!1;for(let a=0;a<f.length;a++){let b=f[a],d=g[b.start][c],j=g[b.end][c];if(aA(e,d,j)){h=e===d,i=e===j;break}}return{first:h,last:i,point:d}}(c[e],b,"x");if(h&&(!f||!g)){if(f)d.unshift(h);else if(a.push(h),!g)break}}a.push(...d)}(e,g[a],h)}return new dm({points:e,options:{}})}(a);if("shape"===c)return!0;let h=((e=a).scale||{}).getPointPositionForValue?function(a){let{scale:b,fill:c}=a,d=b.options,e=b.getLabels().length,f=d.reverse?b.max:b.min,g="start"===c?f:"end"===c?b.options.reverse?b.min:b.max:N(c)?c.value:b.getBaseValue(),h=[];if(d.grid.circular){let a=b.getPointPositionForValue(0,f);return new dC({x:a.x,y:a.y,radius:b.getDistanceFromCenterForValue(g)})}for(let a=0;a<e;++a)h.push(b.getPointPositionForValue(a,g));return h}(e):function(a){let b,{scale:c={},fill:d}=a,e=(b=null,"start"===d?b=c.bottom:"end"===d?b=c.top:N(d)?b=c.getPixelForValue(d.value):c.getBasePixel&&(b=c.getBasePixel()),b);if(O(e)){let a=c.isHorizontal();return{x:a?e:null,y:a?null:e}}return null}(e);return h instanceof dC?h:dA(h,d)}(b),{chart:e,index:f,line:g,scale:h,axis:i}=b,j=g.options,k=j.fill,l=j.backgroundColor,{above:m=l,below:n=l}=k||{},o=e.getDatasetMeta(f),p=bW(e,o);d&&g.points.length&&(a8(a,c),function(a,b){let{line:c,target:d,above:e,below:f,area:g,scale:h,clip:i}=b,j=c._loop?"angle":b.axis;a.save();let k=f;f!==e&&("x"===j?(dE(a,d,g.top),dG(a,{line:c,target:d,color:e,scale:h,property:j,clip:i}),a.restore(),a.save(),dE(a,d,g.bottom)):"y"===j&&(dF(a,d,g.left),dG(a,{line:c,target:d,color:f,scale:h,property:j,clip:i}),a.restore(),a.save(),dF(a,d,g.right),k=e)),dG(a,{line:c,target:d,color:k,scale:h,property:j,clip:i}),a.restore()}(a,{line:g,target:d,above:m,below:n,area:c,scale:h,axis:i,clip:p}),a9(a))}function dE(a,b,c){let{segments:d,points:e}=b,f=!0,g=!1;for(let h of(a.beginPath(),d)){let{start:d,end:i}=h,j=e[d],k=e[dy(d,i,e)];f?(a.moveTo(j.x,j.y),f=!1):(a.lineTo(j.x,c),a.lineTo(j.x,j.y)),(g=!!b.pathSegment(a,h,{move:g}))?a.closePath():a.lineTo(k.x,c)}a.lineTo(b.first().x,c),a.closePath(),a.clip()}function dF(a,b,c){let{segments:d,points:e}=b,f=!0,g=!1;for(let h of(a.beginPath(),d)){let{start:d,end:i}=h,j=e[d],k=e[dy(d,i,e)];f?(a.moveTo(j.x,j.y),f=!1):(a.lineTo(c,j.y),a.lineTo(j.x,j.y)),(g=!!b.pathSegment(a,h,{move:g}))?a.closePath():a.lineTo(c,k.y)}a.lineTo(c,b.first().y),a.closePath(),a.clip()}function dG(a,b){let{line:c,target:d,property:e,color:f,scale:g,clip:h}=b;for(let{source:b,target:i,start:j,end:k}of function(a,b,c){let d=a.segments,e=a.points,f=b.points,g=[];for(let a of d){let{start:d,end:h}=a;h=dy(d,h,e);let i=dx(c,e[d],e[h],a.loop);if(!b.segments){g.push({source:a,target:i,start:e[d],end:e[h]});continue}for(let d of bS(b,i)){let b=dx(c,f[d.start],f[d.end],d.loop);for(let f of bR(a,e,b))g.push({source:f,target:d,start:{[c]:dz(i,b,"start",Math.max)},end:{[c]:dz(i,b,"end",Math.min)}})}}return g}(c,d,e)){let l,{style:{backgroundColor:m=f}={}}=b,n=!0!==d;a.save(),a.fillStyle=m,function(a,b,c,d){let e=b.chart.chartArea,{property:f,start:g,end:h}=d||{};if("x"===f||"y"===f){let b,d,i,j;"x"===f?(b=g,d=e.top,i=h,j=e.bottom):(b=e.left,d=g,i=e.right,j=h),a.beginPath(),c&&(b=Math.max(b,c.left),i=Math.min(i,c.right),d=Math.max(d,c.top),j=Math.min(j,c.bottom)),a.rect(b,d,i-b,j-d),a.clip()}}(a,g,h,n&&dx(e,j,k)),a.beginPath();let o=!!c.pathSegment(a,b);if(n){o?a.closePath():dH(a,d,k,e);let b=!!d.pathSegment(a,i,{move:o,reverse:!0});(l=o&&b)||dH(a,d,j,e)}a.closePath(),a.fill(l?"evenodd":"nonzero"),a.restore()}}function dH(a,b,c,d){let e=b.interpolate(c,d);e&&a.lineTo(e.x,e.y)}let dI=(a,b)=>{let{boxHeight:c=b,boxWidth:d=b}=a;return a.usePointStyle&&(c=Math.min(c,b),d=a.pointStyleWidth||Math.min(d,b)),{boxWidth:d,boxHeight:c,itemHeight:Math.max(b,c)}};class dJ extends cG{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,b,c){this.maxWidth=a,this.maxHeight=b,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let a=this.options.labels||{},b=S(a.generateLabels,[this.chart],this)||[];a.filter&&(b=b.filter(b=>a.filter(b,this.chart.data))),a.sort&&(b=b.sort((b,c)=>a.sort(b,c,this.chart.data))),this.options.reverse&&b.reverse(),this.legendItems=b}fit(){let a,b,{options:c,ctx:d}=this;if(!c.display){this.width=this.height=0;return}let e=c.labels,f=bl(e.font),g=f.size,h=this._computeTitleHeight(),{boxWidth:i,itemHeight:j}=dI(e,g);d.font=f.string,this.isHorizontal()?(a=this.maxWidth,b=this._fitRows(h,g,i,j)+10):(b=this.maxHeight,a=this._fitCols(h,f,i,j)+10),this.width=Math.min(a,c.maxWidth||this.maxWidth),this.height=Math.min(b,c.maxHeight||this.maxHeight)}_fitRows(a,b,c,d){let{ctx:e,maxWidth:f,options:{labels:{padding:g}}}=this,h=this.legendHitBoxes=[],i=this.lineWidths=[0],j=d+g,k=a;e.textAlign="left",e.textBaseline="middle";let l=-1,m=-j;return this.legendItems.forEach((a,n)=>{let o=c+b/2+e.measureText(a.text).width;(0===n||i[i.length-1]+o+2*g>f)&&(k+=j,i[i.length-(n>0?0:1)]=0,m+=j,l++),h[n]={left:0,top:m,row:l,width:o,height:d},i[i.length-1]+=o+g}),k}_fitCols(a,b,c,d){let{ctx:e,maxHeight:f,options:{labels:{padding:g}}}=this,h=this.legendHitBoxes=[],i=this.columnSizes=[],j=f-a,k=g,l=0,m=0,n=0,o=0;return this.legendItems.forEach((a,f)=>{var p,q,r,s,t,u,v,w,x,y,z,A;let B,C,{itemWidth:D,itemHeight:E}=(p=c,q=b,r=e,s=a,t=d,{itemWidth:(u=s,v=p,w=q,x=r,(B=u.text)&&"string"!=typeof B&&(B=B.reduce((a,b)=>a.length>b.length?a:b)),v+w.size/2+x.measureText(B).width),itemHeight:(y=t,z=s,A=q.lineHeight,C=y,"string"!=typeof z.text&&(C=dK(z,A)),C)});f>0&&m+E+2*g>j&&(k+=l+g,i.push({width:l,height:m}),n+=l+g,o++,l=m=0),h[f]={left:n,top:m,col:o,width:D,height:E},l=Math.max(l,D),m+=E+g}),k+=l,i.push({width:l,height:m}),k}adjustHitBoxes(){if(!this.options.display)return;let a=this._computeTitleHeight(),{legendHitBoxes:b,options:{align:c,labels:{padding:d},rtl:e}}=this,f=bM(e,this.left,this.width);if(this.isHorizontal()){let e=0,g=aJ(c,this.left+d,this.right-this.lineWidths[e]);for(let h of b)e!==h.row&&(e=h.row,g=aJ(c,this.left+d,this.right-this.lineWidths[e])),h.top+=this.top+a+d,h.left=f.leftForLtr(f.x(g),h.width),g+=h.width+d}else{let e=0,g=aJ(c,this.top+a+d,this.bottom-this.columnSizes[e].height);for(let h of b)h.col!==e&&(e=h.col,g=aJ(c,this.top+a+d,this.bottom-this.columnSizes[e].height)),h.top=g,h.left+=this.left+d,h.left=f.leftForLtr(f.x(h.left),h.width),g+=h.height+d}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let a=this.ctx;a8(a,this),this._draw(),a9(a)}}_draw(){let a,{options:b,columnSizes:c,lineWidths:d,ctx:e}=this,{align:f,labels:g}=b,h=a1.color,i=bM(b.rtl,this.left,this.width),j=bl(g.font),{padding:k}=g,l=j.size,m=l/2;this.drawTitle(),e.textAlign=i.textAlign("left"),e.textBaseline="middle",e.lineWidth=.5,e.font=j.string;let{boxWidth:n,boxHeight:o,itemHeight:p}=dI(g,l),q=function(a,b,c){if(isNaN(n)||n<=0||isNaN(o)||o<0)return;e.save();let d=Q(c.lineWidth,1);if(e.fillStyle=Q(c.fillStyle,h),e.lineCap=Q(c.lineCap,"butt"),e.lineDashOffset=Q(c.lineDashOffset,0),e.lineJoin=Q(c.lineJoin,"miter"),e.lineWidth=d,e.strokeStyle=Q(c.strokeStyle,h),e.setLineDash(Q(c.lineDash,[])),g.usePointStyle){let f={radius:o*Math.SQRT2/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:d};a6(e,f,i.xPlus(a,n/2),b+m,g.pointStyleWidth&&n)}else{let f=b+Math.max((l-o)/2,0),g=i.leftForLtr(a,n),h=bj(c.borderRadius);e.beginPath(),Object.values(h).some(a=>0!==a)?bd(e,{x:g,y:f,w:n,h:o,radius:h}):e.rect(g,f,n,o),e.fill(),0!==d&&e.stroke()}e.restore()},r=function(a,b,c){bc(e,c.text,a,b+p/2,j,{strikethrough:c.hidden,textAlign:i.textAlign(c.textAlign)})},s=this.isHorizontal(),t=this._computeTitleHeight();a=s?{x:aJ(f,this.left+k,this.right-d[0]),y:this.top+k+t,line:0}:{x:this.left+k,y:aJ(f,this.top+t+k,this.bottom-c[0].height),line:0},bN(this.ctx,b.textDirection);let u=p+k;this.legendItems.forEach((h,l)=>{var o,p;e.strokeStyle=h.fontColor,e.fillStyle=h.fontColor;let v=e.measureText(h.text).width,w=i.textAlign(h.textAlign||(h.textAlign=g.textAlign)),x=n+m+v,y=a.x,z=a.y;if(i.setWidth(this.width),s?l>0&&y+x+k>this.right&&(z=a.y+=u,a.line++,y=a.x=aJ(f,this.left+k,this.right-d[a.line])):l>0&&z+u>this.bottom&&(y=a.x=y+c[a.line].width+k,a.line++,z=a.y=aJ(f,this.top+t+k,this.bottom-c[a.line].height)),q(i.x(y),z,h),o=y+n+m,p=s?y+x:this.right,y=w===(b.rtl?"left":"right")?p:"center"===w?(o+p)/2:o,r(i.x(y),z,h),s)a.x+=x+k;else if("string"!=typeof h.text){let b=j.lineHeight;a.y+=dK(h,b)+k}else a.y+=u}),bO(this.ctx,b.textDirection)}drawTitle(){let a,b=this.options,c=b.title,d=bl(c.font),e=bk(c.padding);if(!c.display)return;let f=bM(b.rtl,this.left,this.width),g=this.ctx,h=c.position,i=d.size/2,j=e.top+i,k=this.left,l=this.width;if(this.isHorizontal())l=Math.max(...this.lineWidths),a=this.top+j,k=aJ(b.align,k,this.right-l);else{let c=this.columnSizes.reduce((a,b)=>Math.max(a,b.height),0);a=j+aJ(b.align,this.top,this.bottom-c-b.labels.padding-this._computeTitleHeight())}let m=aJ(h,k,k+l);g.textAlign=f.textAlign(aI(h)),g.textBaseline="middle",g.strokeStyle=c.color,g.fillStyle=c.color,g.font=d.string,bc(g,c.text,m,a,d)}_computeTitleHeight(){let a=this.options.title,b=bl(a.font),c=bk(a.padding);return a.display?b.lineHeight+c.height:0}_getLegendItemAt(a,b){let c,d,e;if(aA(a,this.left,this.right)&&aA(b,this.top,this.bottom)){for(c=0,e=this.legendHitBoxes;c<e.length;++c)if(aA(a,(d=e[c]).left,d.left+d.width)&&aA(b,d.top,d.top+d.height))return this.legendItems[c]}return null}handleEvent(a){var b,c;let d=this.options;if(b=a.type,c=d,("mousemove"!==b&&"mouseout"!==b||!c.onHover&&!c.onLeave)&&(!c.onClick||"click"!==b&&"mouseup"!==b))return;let e=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type||"mouseout"===a.type){let b=this._hoveredItem,c=null!==b&&null!==e&&b.datasetIndex===e.datasetIndex&&b.index===e.index;b&&!c&&S(d.onLeave,[a,b,this],this),this._hoveredItem=e,e&&!c&&S(d.onHover,[a,e,this],this)}else e&&S(d.onClick,[a,e,this],this)}}function dK(a,b){return b*(a.text?a.text.length:0)}class dL extends cG{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,b){let c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=a,this.height=this.bottom=b;let d=M(c.text)?c.text.length:1;this._padding=bk(c.padding);let e=d*bl(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=e:this.width=e}isHorizontal(){let a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){let b,c,d,{top:e,left:f,bottom:g,right:h,options:i}=this,j=i.align,k=0;return this.isHorizontal()?(c=aJ(j,f,h),d=e+a,b=h-f):("left"===i.position?(c=f+a,d=aJ(j,g,e),k=-.5*af):(c=h-a,d=aJ(j,e,g),k=.5*af),b=g-e),{titleX:c,titleY:d,maxWidth:b,rotation:k}}draw(){let a=this.ctx,b=this.options;if(!b.display)return;let c=bl(b.font),d=c.lineHeight/2+this._padding.top,{titleX:e,titleY:f,maxWidth:g,rotation:h}=this._drawArgs(d);bc(a,b.text,0,0,c,{color:b.color,maxWidth:g,rotation:h,textAlign:aI(b.align),textBaseline:"middle",translation:[e,f]})}}new WeakMap;let dM={average(a){let b,c;if(!a.length)return!1;let d=new Set,e=0,f=0;for(b=0,c=a.length;b<c;++b){let c=a[b].element;if(c&&c.hasValue()){let a=c.tooltipPosition();d.add(a.x),e+=a.y,++f}}return 0!==f&&0!==d.size&&{x:[...d].reduce((a,b)=>a+b)/d.size,y:e/f}},nearest(a,b){let c,d,e;if(!a.length)return!1;let f=b.x,g=b.y,h=1/0;for(c=0,d=a.length;c<d;++c){let d=a[c].element;if(d&&d.hasValue()){let a=av(b,d.getCenterPoint());a<h&&(h=a,e=d)}}if(e){let a=e.tooltipPosition();f=a.x,g=a.y}return{x:f,y:g}}};function dN(a,b){return b&&(M(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function dO(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function dP(a,b){let c=a.chart.ctx,{body:d,footer:e,title:f}=a,{boxWidth:g,boxHeight:h}=b,i=bl(b.bodyFont),j=bl(b.titleFont),k=bl(b.footerFont),l=f.length,m=e.length,n=d.length,o=bk(b.padding),p=o.height,q=0,r=d.reduce((a,b)=>a+b.before.length+b.lines.length+b.after.length,0);r+=a.beforeBody.length+a.afterBody.length,l&&(p+=l*j.lineHeight+(l-1)*b.titleSpacing+b.titleMarginBottom),r&&(p+=n*(b.displayColors?Math.max(h,i.lineHeight):i.lineHeight)+(r-n)*i.lineHeight+(r-1)*b.bodySpacing),m&&(p+=b.footerMarginTop+m*k.lineHeight+(m-1)*b.footerSpacing);let s=0,t=function(a){q=Math.max(q,c.measureText(a).width+s)};return c.save(),c.font=j.string,T(a.title,t),c.font=i.string,T(a.beforeBody.concat(a.afterBody),t),s=b.displayColors?g+2+b.boxPadding:0,T(d,a=>{T(a.before,t),T(a.lines,t),T(a.after,t)}),s=0,c.font=k.string,T(a.footer,t),c.restore(),{width:q+=o.width,height:p}}function dQ(a,b,c){let d=c.yAlign||b.yAlign||function(a,b){let{y:c,height:d}=b;return c<d/2?"top":c>a.height-d/2?"bottom":"center"}(a,c);return{xAlign:c.xAlign||b.xAlign||function(a,b,c,d){let{x:e,width:f}=c,{width:g,chartArea:{left:h,right:i}}=a,j="center";return"center"===d?j=e<=(h+i)/2?"left":"right":e<=f/2?j="left":e>=g-f/2&&(j="right"),function(a,b,c,d){let{x:e,width:f}=d,g=c.caretSize+c.caretPadding;if("left"===a&&e+f+g>b.width||"right"===a&&e-f-g<0)return!0}(j,a,b,c)&&(j="center"),j}(a,b,c,d),yAlign:d}}function dR(a,b,c,d){let{caretSize:e,caretPadding:f,cornerRadius:g}=a,{xAlign:h,yAlign:i}=c,j=e+f,{topLeft:k,topRight:l,bottomLeft:m,bottomRight:n}=bj(g),o=function(a,b){let{x:c,width:d}=a;return"right"===b?c-=d:"center"===b&&(c-=d/2),c}(b,h),p=function(a,b,c){let{y:d,height:e}=a;return"top"===b?d+=c:"bottom"===b?d-=e+c:d-=e/2,d}(b,i,j);return"center"===i?"left"===h?o+=j:"right"===h&&(o-=j):"left"===h?o-=Math.max(k,m)+e:"right"===h&&(o+=Math.max(l,n)+e),{x:az(o,0,d.width-b.width),y:az(p,0,d.height-b.height)}}function dS(a,b,c){let d=bk(c.padding);return"center"===b?a.x+a.width/2:"right"===b?a.x+a.width-d.right:a.x+d.left}function dT(a,b){let c=b&&b.dataset&&b.dataset.tooltip&&b.dataset.tooltip.callbacks;return c?a.override(c):a}let dU={beforeTitle:J,title(a){if(a.length>0){let b=a[0],c=b.chart.data.labels,d=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return b.dataset.label||"";if(b.label)return b.label;if(d>0&&b.dataIndex<d)return c[b.dataIndex]}return""},afterTitle:J,beforeBody:J,beforeLabel:J,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let b=a.dataset.label||"";b&&(b+=": ");let c=a.formattedValue;return L(c)||(b+=c),b},labelColor(a){let b=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:b.borderColor,backgroundColor:b.backgroundColor,borderWidth:b.borderWidth,borderDash:b.borderDash,borderDashOffset:b.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){let b=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:b.pointStyle,rotation:b.rotation}},afterLabel:J,afterBody:J,beforeFooter:J,footer:J,afterFooter:J};function dV(a,b,c,d){let e=a[b].call(c,d);return void 0===e?dU[b].call(c,d):e}class dW extends cG{static positioners=dM;constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let a=this._cachedAnimations;if(a)return a;let b=this.chart,c=this.options.setContext(this.getContext()),d=c.enabled&&b.options.animation&&c.animations,e=new b_(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(e)),e}getContext(){var a;return this.$context||(this.$context=(a=this.chart.getContext(),bn(a,{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(a,b){let{callbacks:c}=b,d=dV(c,"beforeTitle",this,a),e=dV(c,"title",this,a),f=dV(c,"afterTitle",this,a),g=[];return g=dN(g,dO(d)),g=dN(g,dO(e)),g=dN(g,dO(f))}getBeforeBody(a,b){return dN([],dO(dV(b.callbacks,"beforeBody",this,a)))}getBody(a,b){let{callbacks:c}=b,d=[];return T(a,a=>{let b={before:[],lines:[],after:[]},e=dT(c,a);dN(b.before,dO(dV(e,"beforeLabel",this,a))),dN(b.lines,dV(e,"label",this,a)),dN(b.after,dO(dV(e,"afterLabel",this,a))),d.push(b)}),d}getAfterBody(a,b){return dN([],dO(dV(b.callbacks,"afterBody",this,a)))}getFooter(a,b){let{callbacks:c}=b,d=dV(c,"beforeFooter",this,a),e=dV(c,"footer",this,a),f=dV(c,"afterFooter",this,a),g=[];return g=dN(g,dO(d)),g=dN(g,dO(e)),g=dN(g,dO(f))}_createItems(a){let b,c,d=this._active,e=this.chart.data,f=[],g=[],h=[],i=[];for(b=0,c=d.length;b<c;++b)i.push(function(a,b){let{element:c,datasetIndex:d,index:e}=b,f=a.getDatasetMeta(d).controller,{label:g,value:h}=f.getLabelAndValue(e);return{chart:a,label:g,parsed:f.getParsed(e),raw:a.data.datasets[d].data[e],formattedValue:h,dataset:f.getDataset(),dataIndex:e,datasetIndex:d,element:c}}(this.chart,d[b]));return a.filter&&(i=i.filter((b,c,d)=>a.filter(b,c,d,e))),a.itemSort&&(i=i.sort((b,c)=>a.itemSort(b,c,e))),T(i,b=>{let c=dT(a.callbacks,b);f.push(dV(c,"labelColor",this,b)),g.push(dV(c,"labelPointStyle",this,b)),h.push(dV(c,"labelTextColor",this,b))}),this.labelColors=f,this.labelPointStyles=g,this.labelTextColors=h,this.dataPoints=i,i}update(a,b){let c,d=this.options.setContext(this.getContext()),e=this._active,f=[];if(e.length){let a=dM[d.position].call(this,e,this._eventPosition);f=this._createItems(d),this.title=this.getTitle(f,d),this.beforeBody=this.getBeforeBody(f,d),this.body=this.getBody(f,d),this.afterBody=this.getAfterBody(f,d),this.footer=this.getFooter(f,d);let b=this._size=dP(this,d),g=Object.assign({},a,b),h=dQ(this.chart,d,g),i=dR(d,g,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,c={opacity:1,x:i.x,y:i.y,width:b.width,height:b.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=f,this.$context=void 0,c&&this._resolveAnimations().update(this,c),a&&d.external&&d.external.call(this,{chart:this.chart,tooltip:this,replay:b})}drawCaret(a,b,c,d){let e=this.getCaretPosition(a,c,d);b.lineTo(e.x1,e.y1),b.lineTo(e.x2,e.y2),b.lineTo(e.x3,e.y3)}getCaretPosition(a,b,c){let d,e,f,g,h,i,{xAlign:j,yAlign:k}=this,{caretSize:l,cornerRadius:m}=c,{topLeft:n,topRight:o,bottomLeft:p,bottomRight:q}=bj(m),{x:r,y:s}=a,{width:t,height:u}=b;return"center"===k?(h=s+u/2,"left"===j?(e=(d=r)-l,g=h+l,i=h-l):(e=(d=r+t)+l,g=h-l,i=h+l),f=d):(e="left"===j?r+Math.max(n,p)+l:"right"===j?r+t-Math.max(o,q)-l:this.caretX,"top"===k?(h=(g=s)-l,d=e-l,f=e+l):(h=(g=s+u)+l,d=e+l,f=e-l),i=g),{x1:d,x2:e,x3:f,y1:g,y2:h,y3:i}}drawTitle(a,b,c){let d,e,f,g=this.title,h=g.length;if(h){let i=bM(c.rtl,this.x,this.width);for(f=0,a.x=dS(this,c.titleAlign,c),b.textAlign=i.textAlign(c.titleAlign),b.textBaseline="middle",d=bl(c.titleFont),e=c.titleSpacing,b.fillStyle=c.titleColor,b.font=d.string;f<h;++f)b.fillText(g[f],i.x(a.x),a.y+d.lineHeight/2),a.y+=d.lineHeight+e,f+1===h&&(a.y+=c.titleMarginBottom-e)}}_drawColorBox(a,b,c,d,e){let f=this.labelColors[c],g=this.labelPointStyles[c],{boxHeight:h,boxWidth:i}=e,j=bl(e.bodyFont),k=dS(this,"left",e),l=d.x(k),m=h<j.lineHeight?(j.lineHeight-h)/2:0,n=b.y+m;if(e.usePointStyle){let b={radius:Math.min(i,h)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},c=d.leftForLtr(l,i)+i/2,j=n+h/2;a.strokeStyle=e.multiKeyBackground,a.fillStyle=e.multiKeyBackground,a5(a,b,c,j),a.strokeStyle=f.borderColor,a.fillStyle=f.backgroundColor,a5(a,b,c,j)}else{a.lineWidth=N(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,a.strokeStyle=f.borderColor,a.setLineDash(f.borderDash||[]),a.lineDashOffset=f.borderDashOffset||0;let b=d.leftForLtr(l,i),c=d.leftForLtr(d.xPlus(l,1),i-2),g=bj(f.borderRadius);Object.values(g).some(a=>0!==a)?(a.beginPath(),a.fillStyle=e.multiKeyBackground,bd(a,{x:b,y:n,w:i,h:h,radius:g}),a.fill(),a.stroke(),a.fillStyle=f.backgroundColor,a.beginPath(),bd(a,{x:c,y:n+1,w:i-2,h:h-2,radius:g}),a.fill()):(a.fillStyle=e.multiKeyBackground,a.fillRect(b,n,i,h),a.strokeRect(b,n,i,h),a.fillStyle=f.backgroundColor,a.fillRect(c,n+1,i-2,h-2))}a.fillStyle=this.labelTextColors[c]}drawBody(a,b,c){let d,e,f,g,h,i,{body:j}=this,{bodySpacing:k,bodyAlign:l,displayColors:m,boxHeight:n,boxWidth:o,boxPadding:p}=c,q=bl(c.bodyFont),r=q.lineHeight,s=0,t=bM(c.rtl,this.x,this.width),u=function(c){b.fillText(c,t.x(a.x+s),a.y+r/2),a.y+=r+k},v=t.textAlign(l);for(b.textAlign=l,b.textBaseline="middle",b.font=q.string,a.x=dS(this,v,c),b.fillStyle=c.bodyColor,T(this.beforeBody,u),s=m&&"right"!==v?"center"===l?o/2+p:o+2+p:0,f=0,h=j.length;f<h;++f){for(d=j[f],b.fillStyle=this.labelTextColors[f],T(d.before,u),e=d.lines,m&&e.length&&(this._drawColorBox(b,a,f,t,c),r=Math.max(q.lineHeight,n)),g=0,i=e.length;g<i;++g)u(e[g]),r=q.lineHeight;T(d.after,u)}s=0,r=q.lineHeight,T(this.afterBody,u),a.y-=k}drawFooter(a,b,c){let d,e,f=this.footer,g=f.length;if(g){let h=bM(c.rtl,this.x,this.width);for(a.x=dS(this,c.footerAlign,c),a.y+=c.footerMarginTop,b.textAlign=h.textAlign(c.footerAlign),b.textBaseline="middle",d=bl(c.footerFont),b.fillStyle=c.footerColor,b.font=d.string,e=0;e<g;++e)b.fillText(f[e],h.x(a.x),a.y+d.lineHeight/2),a.y+=d.lineHeight+c.footerSpacing}}drawBackground(a,b,c,d){let{xAlign:e,yAlign:f}=this,{x:g,y:h}=a,{width:i,height:j}=c,{topLeft:k,topRight:l,bottomLeft:m,bottomRight:n}=bj(d.cornerRadius);b.fillStyle=d.backgroundColor,b.strokeStyle=d.borderColor,b.lineWidth=d.borderWidth,b.beginPath(),b.moveTo(g+k,h),"top"===f&&this.drawCaret(a,b,c,d),b.lineTo(g+i-l,h),b.quadraticCurveTo(g+i,h,g+i,h+l),"center"===f&&"right"===e&&this.drawCaret(a,b,c,d),b.lineTo(g+i,h+j-n),b.quadraticCurveTo(g+i,h+j,g+i-n,h+j),"bottom"===f&&this.drawCaret(a,b,c,d),b.lineTo(g+m,h+j),b.quadraticCurveTo(g,h+j,g,h+j-m),"center"===f&&"left"===e&&this.drawCaret(a,b,c,d),b.lineTo(g,h+k),b.quadraticCurveTo(g,h,g+k,h),b.closePath(),b.fill(),d.borderWidth>0&&b.stroke()}_updateAnimationTarget(a){let b=this.chart,c=this.$animations,d=c&&c.x,e=c&&c.y;if(d||e){let c=dM[a.position].call(this,this._active,this._eventPosition);if(!c)return;let f=this._size=dP(this,a),g=Object.assign({},c,this._size),h=dQ(b,a,g),i=dR(a,g,h,b);(d._to!==i.x||e._to!==i.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=f.width,this.height=f.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,i))}}_willRender(){return!!this.opacity}draw(a){let b=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(b);let d={width:this.width,height:this.height},e={x:this.x,y:this.y};c=.001>Math.abs(c)?0:c;let f=bk(b.padding),g=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;b.enabled&&g&&(a.save(),a.globalAlpha=c,this.drawBackground(e,a,d,b),bN(a,b.textDirection),e.y+=f.top,this.drawTitle(e,a,b),this.drawBody(e,a,b),this.drawFooter(e,a,b),bO(a,b.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,b){let c=this._active,d=a.map(({datasetIndex:a,index:b})=>{let c=this.chart.getDatasetMeta(a);if(!c)throw Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),e=!U(c,d),f=this._positionChanged(d,b);(e||f)&&(this._active=d,this._eventPosition=b,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,b,c=!0){if(b&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let d=this.options,e=this._active||[],f=this._getActiveElements(a,e,b,c),g=this._positionChanged(f,a),h=b||!U(f,e)||g;return h&&(this._active=f,(d.enabled||d.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,b))),h}_getActiveElements(a,b,c,d){let e=this.options;if("mouseout"===a.type)return[];if(!d)return b.filter(a=>this.chart.data.datasets[a.datasetIndex]&&void 0!==this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index));let f=this.chart.getElementsAtEventForMode(a,e.mode,e,c);return e.reverse&&f.reverse(),f}_positionChanged(a,b){let{caretX:c,caretY:d,options:e}=this,f=dM[e.position].call(this,a,b);return!1!==f&&(c!==f.x||d!==f.y)}}function dX(a){let b=this.getLabels();return a>=0&&a<b.length?b[a]:a}function dY(a,b,{horizontal:c,minRotation:d}){let e=as(d),f=(c?Math.sin(e):Math.cos(e))||.001,g=.75*b*(""+a).length;return Math.min(b/f,g)}class dZ extends cN{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,b){return L(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){let{beginAtZero:a}=this.options,{minDefined:b,maxDefined:c}=this.getUserBounds(),{min:d,max:e}=this,f=a=>d=b?d:a,g=a=>e=c?e:a;if(a){let a=an(d),b=an(e);a<0&&b<0?g(0):a>0&&b>0&&f(0)}if(d===e){let b=0===e?1:Math.abs(.05*e);g(e+b),a||f(d-b)}this.min=d,this.max=e}getTickLimit(){let a,{maxTicksLimit:b,stepSize:c}=this.options.ticks;return c?(a=Math.ceil(this.max/c)-Math.floor(this.min/c)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3):(a=this.computeTickLimit(),b=b||11),b&&(a=Math.min(b,a)),a}computeTickLimit(){return 1/0}buildTicks(){let a=this.options,b=a.ticks,c=this.getTickLimit(),d=function(a,b){let c,d,e,f,g=[],{bounds:h,step:i,min:j,max:k,precision:l,count:m,maxTicks:n,maxDigits:o,includeBounds:p}=a,q=i||1,r=n-1,{min:s,max:t}=b,u=!L(j),v=!L(k),w=!L(m),x=(t-s)/(o+1),y=ap((t-s)/r/q)*q;if(y<1e-14&&!u&&!v)return[{value:s},{value:t}];(f=Math.ceil(t/y)-Math.floor(s/y))>r&&(y=ap(f*y/r/q)*q),L(l)||(y=Math.ceil(y*(c=Math.pow(10,l)))/c),"ticks"===h?(d=Math.floor(s/y)*y,e=Math.ceil(t/y)*y):(d=s,e=t),u&&v&&i&&function(a,b){let c=Math.round(a);return c-b<=a&&c+b>=a}((k-j)/i,y/1e3)?(f=Math.round(Math.min((k-j)/y,n)),y=(k-j)/f,d=j,e=k):w?(d=u?j:d,y=((e=v?k:e)-d)/(f=m-1)):f=ao(f=(e-d)/y,Math.round(f),y/1e3)?Math.round(f):Math.ceil(f);let z=Math.max(at(y),at(d));d=Math.round(d*(c=Math.pow(10,L(l)?z:l)))/c,e=Math.round(e*c)/c;let A=0;for(u&&(p&&d!==j?(g.push({value:j}),d<j&&A++,ao(Math.round((d+A*y)*c)/c,j,dY(j,x,a))&&A++):d<j&&A++);A<f;++A){let a=Math.round((d+A*y)*c)/c;if(v&&a>k)break;g.push({value:a})}return v&&p&&e!==k?g.length&&ao(g[g.length-1].value,k,dY(k,x,a))?g[g.length-1].value=k:g.push({value:k}):v&&e!==k||g.push({value:e}),g}({maxTicks:c=Math.max(2,c),bounds:a.bounds,min:a.min,max:a.max,precision:b.precision,step:b.stepSize,count:b.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:b.minRotation||0,includeBounds:!1!==b.includeBounds},this._range||this);return"ticks"===a.bounds&&ar(d,this,"value"),a.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){let a=this.ticks,b=this.min,c=this.max;if(super.configure(),this.options.offset&&a.length){let d=(c-b)/Math.max(a.length-1,1)/2;b-=d,c+=d}this._startValue=b,this._endValue=c,this._valueRange=c-b}getLabelForValue(a){return aW(a,this.chart.options.locale,this.options.ticks.format)}}class d$ extends dZ{static id="linear";static defaults={ticks:{callback:aY.formatters.numeric}};determineDataLimits(){let{min:a,max:b}=this.getMinMax(!0);this.min=O(a)?a:0,this.max=O(b)?b:1,this.handleTickRangeOptions()}computeTickLimit(){let a=this.isHorizontal(),b=a?this.width:this.height,c=as(this.options.ticks.minRotation),d=(a?Math.sin(c):Math.cos(c))||.001;return Math.ceil(b/Math.min(40,this._resolveTickFontOptions(0).lineHeight/d))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}let d_=a=>Math.floor(am(a)),d0=(a,b)=>Math.pow(10,d_(a)+b);function d1(a){return 1==a/Math.pow(10,d_(a))}function d2(a,b,c){let d=Math.pow(10,c),e=Math.floor(a/d);return Math.ceil(b/d)-e}class d3 extends cN{static id="logarithmic";static defaults={ticks:{callback:aY.formatters.logarithmic,major:{enabled:!0}}};constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,b){let c=dZ.prototype.parse.apply(this,[a,b]);if(0===c){this._zero=!0;return}return O(c)&&c>0?c:null}determineDataLimits(){let{min:a,max:b}=this.getMinMax(!0);this.min=O(a)?Math.max(0,a):null,this.max=O(b)?Math.max(0,b):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!O(this._userMin)&&(this.min=a===d0(this.min,0)?d0(this.min,-1):d0(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:a,maxDefined:b}=this.getUserBounds(),c=this.min,d=this.max,e=b=>c=a?c:b,f=a=>d=b?d:a;c===d&&(c<=0?(e(1),f(10)):(e(d0(c,-1)),f(d0(d,1)))),c<=0&&e(d0(d,-1)),d<=0&&f(d0(c,1)),this.min=c,this.max=d}buildTicks(){let a=this.options,b=function(a,{min:b,max:c}){b=P(a.min,b);let d=[],e=d_(b),f=function(a,b){let c=d_(b-a);for(;d2(a,b,c)>10;)c++;for(;10>d2(a,b,c);)c--;return Math.min(c,d_(a))}(b,c),g=f<0?Math.pow(10,Math.abs(f)):1,h=Math.pow(10,f),i=e>f?Math.pow(10,e):0,j=Math.round((b-i)*g)/g,k=Math.floor((b-i)/h/10)*h*10,l=Math.floor((j-k)/Math.pow(10,f)),m=P(a.min,Math.round((i+k+l*Math.pow(10,f))*g)/g);for(;m<c;)d.push({value:m,major:d1(m),significand:l}),l>=10?l=l<15?15:20:l++,l>=20&&(l=2,g=++f>=0?1:g),m=Math.round((i+k+l*Math.pow(10,f))*g)/g;let n=P(a.max,m);return d.push({value:n,major:d1(n),significand:l}),d}({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&ar(b,this,"value"),a.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}getLabelForValue(a){return void 0===a?"0":aW(a,this.chart.options.locale,this.options.ticks.format)}configure(){let a=this.min;super.configure(),this._startValue=am(a),this._valueRange=am(this.max)-am(a)}getPixelForValue(a){return((void 0===a||0===a)&&(a=this.min),null===a||isNaN(a))?NaN:this.getPixelForDecimal(a===this.min?0:(am(a)-this._startValue)/this._valueRange)}getValueForPixel(a){let b=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+b*this._valueRange)}}function d4(a){let b=a.ticks;if(b.display&&a.display){let a=bk(b.backdropPadding);return Q(b.font&&b.font.size,a1.font.size)+a.height}return 0}function d5(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c,end:b}:{start:b,end:b+c}}function d6(a,b,c,d){let{ctx:e}=a;if(c)e.arc(a.xCenter,a.yCenter,b,0,ag);else{let c=a.getPointPosition(0,b);e.moveTo(c.x,c.y);for(let f=1;f<d;f++)c=a.getPointPosition(f,b),e.lineTo(c.x,c.y)}}class d7 extends dZ{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:aY.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:a=>a,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let a=this._padding=bk(d4(this.options)/2),b=this.width=this.maxWidth-a.width,c=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+b/2+a.left),this.yCenter=Math.floor(this.top+c/2+a.top),this.drawingArea=Math.floor(Math.min(b,c)/2)}determineDataLimits(){let{min:a,max:b}=this.getMinMax(!1);this.min=O(a)&&!isNaN(a)?a:0,this.max=O(b)&&!isNaN(b)?b:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/d4(this.options))}generateTickLabels(a){dZ.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((a,b)=>{let c=S(this.options.pointLabels.callback,[a,b],this);return c||0===c?c:""}).filter((a,b)=>this.chart.getDataVisibility(b))}fit(){let a=this.options;a.display&&a.pointLabels.display?function(a){let b={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},c=Object.assign({},b),d=[],e=[],f=a._pointLabels.length,g=a.options.pointLabels,h=g.centerPointLabels?af/f:0;for(let k=0;k<f;k++){var i,j;let f=g.setContext(a.getPointLabelContext(k));e[k]=f.padding;let l=a.getPointPosition(k,a.drawingArea+e[k],h),m=bl(f.font),n=(i=a.ctx,j=M(j=a._pointLabels[k])?j:[j],{w:function(a,b,c,d){let e,f,g,h,i,j=(d=d||{}).data=d.data||{},k=d.garbageCollect=d.garbageCollect||[];d.font!==b&&(j=d.data={},k=d.garbageCollect=[],d.font=b),a.save(),a.font=b;let l=0,m=c.length;for(e=0;e<m;e++)if(null==(h=c[e])||M(h)){if(M(h))for(f=0,g=h.length;f<g;f++)null==(i=h[f])||M(i)||(l=a2(a,j,k,l,i))}else l=a2(a,j,k,l,h);a.restore();let n=k.length/2;if(n>c.length){for(e=0;e<n;e++)delete j[k[e]];k.splice(0,n)}return l}(i,m.string,j),h:j.length*m.lineHeight});d[k]=n;let o=ax(a.getIndexAngle(k)+h),p=Math.round(180/af*o);!function(a,b,c,d,e){let f=Math.abs(Math.sin(c)),g=Math.abs(Math.cos(c)),h=0,i=0;d.start<b.l?(h=(b.l-d.start)/f,a.l=Math.min(a.l,b.l-h)):d.end>b.r&&(h=(d.end-b.r)/f,a.r=Math.max(a.r,b.r+h)),e.start<b.t?(i=(b.t-e.start)/g,a.t=Math.min(a.t,b.t-i)):e.end>b.b&&(i=(e.end-b.b)/g,a.b=Math.max(a.b,b.b+i))}(c,b,o,d5(p,l.x,n.w,0,180),d5(p,l.y,n.h,90,270))}a.setCenterPoint(b.l-c.l,c.r-b.r,b.t-c.t,c.b-b.b),a._pointLabelItems=function(a,b,c){let d,e=[],f=a._pointLabels.length,g=a.options,{centerPointLabels:h,display:i}=g.pointLabels,j={extra:d4(g)/2,additionalAngle:h?af/f:0};for(let g=0;g<f;g++){j.padding=c[g],j.size=b[g];let f=function(a,b,c){var d,e,f,g,h,i,j;let k=a.drawingArea,{extra:l,additionalAngle:m,padding:n,size:o}=c,p=a.getPointPosition(b,k+l+n,m),q=Math.round(180/af*ax(p.angle+aj)),r=(d=p.y,e=o.h,90===(f=q)||270===f?d-=e/2:(f>270||f<90)&&(d-=e),d),s=0===(g=q)||180===g?"center":g<180?"left":"right",t=(h=p.x,i=o.w,"right"===(j=s)?h-=i:"center"===j&&(h-=i/2),h);return{visible:!0,x:p.x,y:r,textAlign:s,left:t,top:r,right:t+o.w,bottom:r+o.h}}(a,g,j);e.push(f),"auto"===i&&(f.visible=function(a,b){if(!b)return!0;let{left:c,top:d,right:e,bottom:f}=a;return!(a7({x:c,y:d},b)||a7({x:c,y:f},b)||a7({x:e,y:d},b)||a7({x:e,y:f},b))}(f,d),f.visible&&(d=f))}return e}(a,d,e)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,b,c,d){this.xCenter+=Math.floor((a-b)/2),this.yCenter+=Math.floor((c-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,b,c,d))}getIndexAngle(a){return ax(a*(ag/(this._pointLabels.length||1))+as(this.options.startAngle||0))}getDistanceFromCenterForValue(a){if(L(a))return NaN;let b=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*b:(a-this.min)*b}getValueForDistanceFromCenter(a){if(L(a))return NaN;let b=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-b:this.min+b}getPointLabelContext(a){let b=this._pointLabels||[];if(a>=0&&a<b.length){var c;let d=b[a];return c=this.getContext(),bn(c,{label:d,index:a,type:"pointLabel"})}}getPointPosition(a,b,c=0){let d=this.getIndexAngle(a)-aj+c;return{x:Math.cos(d)*b+this.xCenter,y:Math.sin(d)*b+this.yCenter,angle:d}}getPointPositionForValue(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){let{left:b,top:c,right:d,bottom:e}=this._pointLabelItems[a];return{left:b,top:c,right:d,bottom:e}}drawBackground(){let{backgroundColor:a,grid:{circular:b}}=this.options;if(a){let c=this.ctx;c.save(),c.beginPath(),d6(this,this.getDistanceFromCenterForValue(this._endValue),b,this._pointLabels.length),c.closePath(),c.fillStyle=a,c.fill(),c.restore()}}drawGrid(){let a,b,c,d=this.ctx,e=this.options,{angleLines:f,grid:g,border:h}=e,i=this._pointLabels.length;if(e.pointLabels.display&&function(a,b){let{ctx:c,options:{pointLabels:d}}=a;for(let e=b-1;e>=0;e--){let b=a._pointLabelItems[e];if(!b.visible)continue;let f=d.setContext(a.getPointLabelContext(e));!function(a,b,c){let{left:d,top:e,right:f,bottom:g}=c,{backdropColor:h}=b;if(!L(h)){let c=bj(b.borderRadius),i=bk(b.backdropPadding);a.fillStyle=h;let j=d-i.left,k=e-i.top,l=f-d+i.width,m=g-e+i.height;Object.values(c).some(a=>0!==a)?(a.beginPath(),bd(a,{x:j,y:k,w:l,h:m,radius:c}),a.fill()):a.fillRect(j,k,l,m)}}(c,f,b);let g=bl(f.font),{x:h,y:i,textAlign:j}=b;bc(c,a._pointLabels[e],h,i+g.lineHeight/2,g,{color:f.color,textAlign:j,textBaseline:"middle"})}}(this,i),g.display&&this.ticks.forEach((a,c)=>{if(0!==c||0===c&&this.min<0){b=this.getDistanceFromCenterForValue(a.value);let d=this.getContext(c),e=g.setContext(d),f=h.setContext(d);!function(a,b,c,d,e){let f=a.ctx,g=b.circular,{color:h,lineWidth:i}=b;(g||d)&&h&&i&&!(c<0)&&(f.save(),f.strokeStyle=h,f.lineWidth=i,f.setLineDash(e.dash||[]),f.lineDashOffset=e.dashOffset,f.beginPath(),d6(a,c,g,d),f.closePath(),f.stroke(),f.restore())}(this,e,b,i,f)}}),f.display){for(d.save(),a=i-1;a>=0;a--){let g=f.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:i}=g;i&&h&&(d.lineWidth=i,d.strokeStyle=h,d.setLineDash(g.borderDash),d.lineDashOffset=g.borderDashOffset,b=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,b),d.beginPath(),d.moveTo(this.xCenter,this.yCenter),d.lineTo(c.x,c.y),d.stroke())}d.restore()}}drawBorder(){}drawLabels(){let a,b,c=this.ctx,d=this.options,e=d.ticks;if(!e.display)return;let f=this.getIndexAngle(0);c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(f),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((f,g)=>{if(0===g&&this.min>=0&&!d.reverse)return;let h=e.setContext(this.getContext(g)),i=bl(h.font);if(a=this.getDistanceFromCenterForValue(this.ticks[g].value),h.showLabelBackdrop){c.font=i.string,b=c.measureText(f.label).width,c.fillStyle=h.backdropColor;let d=bk(h.backdropPadding);c.fillRect(-b/2-d.left,-a-i.size/2-d.top,b+d.width,i.size+d.height)}bc(c,f.label,0,-a,i,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),c.restore()}drawTitle(){}}let d8={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},d9=Object.keys(d8);function ea(a,b){return a-b}function eb(a,b){if(L(b))return null;let c=a._adapter,{parser:d,round:e,isoWeekday:f}=a._parseOpts,g=b;return("function"==typeof d&&(g=d(g)),O(g)||(g="string"==typeof d?c.parse(g,d):c.parse(g)),null===g)?null:(e&&(g="week"===e&&(aq(f)||!0===f)?c.startOf(g,"isoWeek",f):c.startOf(g,e)),+g)}function ec(a,b,c,d){let e=d9.length;for(let f=d9.indexOf(a);f<e-1;++f){let a=d8[d9[f]],e=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((c-b)/(e*a.size))<=d)return d9[f]}return d9[e-1]}function ed(a,b,c){if(c){if(c.length){let{lo:d,hi:e}=aB(c,b);a[c[d]>=b?c[d]:c[e]]=!0}}else a[b]=!0}function ee(a,b,c){let d,e,f=[],g={},h=b.length;for(d=0;d<h;++d)g[e=b[d]]=d,f.push({value:e,major:!1});return 0!==h&&c?function(a,b,c,d){let e,f,g=a._adapter,h=+g.startOf(b[0].value,d),i=b[b.length-1].value;for(e=h;e<=i;e=+g.add(e,1,d))(f=c[e])>=0&&(b[f].major=!0);return b}(a,f,g,c):f}class ef extends cN{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,b={}){let c=a.time||(a.time={}),d=this._adapter=new co._date(a.adapters.date);d.init(b),Z(c.displayFormats,d.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(a),this._normalized=b.normalized}parse(a,b){return void 0===a?null:eb(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let a=this.options,b=this._adapter,c=a.time.unit||"day",{min:d,max:e,minDefined:f,maxDefined:g}=this.getUserBounds();function h(a){f||isNaN(a.min)||(d=Math.min(d,a.min)),g||isNaN(a.max)||(e=Math.max(e,a.max))}f&&g||(h(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&h(this.getMinMax(!1))),d=O(d)&&!isNaN(d)?d:+b.startOf(Date.now(),c),e=O(e)&&!isNaN(e)?e:+b.endOf(Date.now(),c)+1,this.min=Math.min(d,e-1),this.max=Math.max(d+1,e)}_getLabelBounds(){let a=this.getLabelTimestamps(),b=1/0,c=-1/0;return a.length&&(b=a[0],c=a[a.length-1]),{min:b,max:c}}buildTicks(){let a=this.options,b=a.time,c=a.ticks,d="labels"===c.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);let e=this.min,f=function(a,b,c){let d=0,e=a.length;for(;d<e&&a[d]<b;)d++;for(;e>d&&a[e-1]>c;)e--;return d>0||e<a.length?a.slice(d,e):a}(d,e,this.max);return this._unit=b.unit||(c.autoSkip?ec(b.minUnit,this.min,this.max,this._getLabelCapacity(e)):function(a,b,c,d,e){for(let f=d9.length-1;f>=d9.indexOf(c);f--){let c=d9[f];if(d8[c].common&&a._adapter.diff(e,d,c)>=b-1)return c}return d9[c?d9.indexOf(c):0]}(this,f.length,b.minUnit,this.min,this.max)),this._majorUnit=c.major.enabled&&"year"!==this._unit?function(a){for(let b=d9.indexOf(a)+1,c=d9.length;b<c;++b)if(d8[d9[b]].common)return d9[b]}(this._unit):void 0,this.initOffsets(d),a.reverse&&f.reverse(),ee(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a=[]){let b,c,d=0,e=0;this.options.offset&&a.length&&(b=this.getDecimalForValue(a[0]),d=1===a.length?1-b:(this.getDecimalForValue(a[1])-b)/2,c=this.getDecimalForValue(a[a.length-1]),e=1===a.length?c:(c-this.getDecimalForValue(a[a.length-2]))/2);let f=a.length<3?.5:.25;d=az(d,0,f),e=az(e,0,f),this._offsets={start:d,end:e,factor:1/(d+1+e)}}_generate(){let a,b,c=this._adapter,d=this.min,e=this.max,f=this.options,g=f.time,h=g.unit||ec(g.minUnit,d,e,this._getLabelCapacity(d)),i=Q(f.ticks.stepSize,1),j="week"===h&&g.isoWeekday,k=aq(j)||!0===j,l={},m=d;if(k&&(m=+c.startOf(m,"isoWeek",j)),m=+c.startOf(m,k?"day":h),c.diff(e,d,h)>1e5*i)throw Error(d+" and "+e+" are too far apart with stepSize of "+i+" "+h);let n="data"===f.ticks.source&&this.getDataTimestamps();for(a=m,b=0;a<e;a=+c.add(a,i,h),b++)ed(l,a,n);return(a===e||"ticks"===f.bounds||1===b)&&ed(l,a,n),Object.keys(l).sort(ea).map(a=>+a)}getLabelForValue(a){let b=this._adapter,c=this.options.time;return c.tooltipFormat?b.format(a,c.tooltipFormat):b.format(a,c.displayFormats.datetime)}format(a,b){let c=this.options.time.displayFormats,d=this._unit,e=b||c[d];return this._adapter.format(a,e)}_tickFormatFunction(a,b,c,d){let e=this.options,f=e.ticks.callback;if(f)return S(f,[a,b,c],this);let g=e.time.displayFormats,h=this._unit,i=this._majorUnit,j=h&&g[h],k=i&&g[i],l=c[b],m=i&&k&&l&&l.major;return this._adapter.format(a,d||(m?k:j))}generateTickLabels(a){let b,c,d;for(b=0,c=a.length;b<c;++b)(d=a[b]).label=this._tickFormatFunction(d.value,b,a)}getDecimalForValue(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){let b=this._offsets,c=this.getDecimalForValue(a);return this.getPixelForDecimal((b.start+c)*b.factor)}getValueForPixel(a){let b=this._offsets,c=this.getDecimalForPixel(a)/b.factor-b.end;return this.min+c*(this.max-this.min)}_getLabelSize(a){let b=this.options.ticks,c=this.ctx.measureText(a).width,d=as(this.isHorizontal()?b.maxRotation:b.minRotation),e=Math.cos(d),f=Math.sin(d),g=this._resolveTickFontOptions(0).size;return{w:c*e+g*f,h:c*f+g*e}}_getLabelCapacity(a){let b=this.options.time,c=b.displayFormats,d=c[b.unit]||c.millisecond,e=this._tickFormatFunction(a,0,ee(this,[a],this._majorUnit),d),f=this._getLabelSize(e),g=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return g>0?g:1}getDataTimestamps(){let a,b,c=this._cache.data||[];if(c.length)return c;let d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(a=0,b=d.length;a<b;++a)c=c.concat(d[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){let a,b,c=this._cache.labels||[];if(c.length)return c;let d=this.getLabels();for(a=0,b=d.length;a<b;++a)c.push(eb(this,d[a]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(a){return aG(a.sort(ea))}}function eg(a,b,c){let d,e,f,g,h=0,i=a.length-1;c?(b>=a[h].pos&&b<=a[i].pos&&({lo:h,hi:i}=aC(a,"pos",b)),{pos:d,time:f}=a[h],{pos:e,time:g}=a[i]):(b>=a[h].time&&b<=a[i].time&&({lo:h,hi:i}=aC(a,"time",b)),{time:d,pos:f}=a[h],{time:e,pos:g}=a[i]);let j=e-d;return j?f+(g-f)*(b-d)/j:f}class eh extends ef{static id="timeseries";static defaults=ef.defaults;constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let a=this._getTimestampsForTable(),b=this._table=this.buildLookupTable(a);this._minPos=eg(b,this.min),this._tableRange=eg(b,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){let b,c,d,{min:e,max:f}=this,g=[],h=[];for(b=0,c=a.length;b<c;++b)(d=a[b])>=e&&d<=f&&g.push(d);if(g.length<2)return[{time:e,pos:0},{time:f,pos:1}];for(b=0,c=g.length;b<c;++b)Math.round((g[b+1]+g[b-1])/2)!==(d=g[b])&&h.push({time:d,pos:b/(c-1)});return h}_generate(){let a=this.min,b=this.max,c=super.getDataTimestamps();return c.includes(a)&&c.length||c.splice(0,0,a),c.includes(b)&&1!==c.length||c.push(b),c.sort((a,b)=>a-b)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;let b=this.getDataTimestamps(),c=this.getLabelTimestamps();return a=b.length&&c.length?this.normalize(b.concat(c)):b.length?b:c,a=this._cache.all=a}getDecimalForValue(a){return(eg(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){let b=this._offsets,c=this.getDecimalForPixel(a)/b.factor-b.end;return eg(this._table,c*this._tableRange+this._minPos,!0)}}let ei="label";function ej(a,b){"function"==typeof a?a(b):a&&(a.current=b)}function ek(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ei,d=[];a.datasets=b.map(b=>{let e=a.datasets.find(a=>a[c]===b[c]);return!e||!b.data||d.includes(e)?{...b}:(d.push(e),Object.assign(e,b),e)})}let el=(0,h.forwardRef)(function(a,b){let{height:c=150,width:d=300,redraw:e=!1,datasetIdKey:f,type:g,data:i,options:j,plugins:k=[],fallbackContent:l,updateMode:m,...n}=a,o=(0,h.useRef)(null),p=(0,h.useRef)(null),q=()=>{o.current&&(p.current=new da(o.current,{type:g,data:function(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei,c={labels:[],datasets:[]};return c.labels=a.labels,ek(c,a.datasets,b),c}(i,f),options:j&&{...j},plugins:k}),ej(b,p.current))},r=()=>{ej(b,null),p.current&&(p.current.destroy(),p.current=null)};return(0,h.useEffect)(()=>{!e&&p.current&&j&&function(a,b){let c=a.options;c&&b&&Object.assign(c,b)}(p.current,j)},[e,j]),(0,h.useEffect)(()=>{!e&&p.current&&(p.current.config.data.labels=i.labels)},[e,i.labels]),(0,h.useEffect)(()=>{!e&&p.current&&i.datasets&&ek(p.current.config.data,i.datasets,f)},[e,i.datasets]),(0,h.useEffect)(()=>{p.current&&(e?(r(),setTimeout(q)):p.current.update(m))},[e,j,i.labels,i.datasets,m]),(0,h.useEffect)(()=>{p.current&&(r(),setTimeout(q))},[g]),(0,h.useEffect)(()=>(q(),()=>r()),[]),h.default.createElement("canvas",{ref:o,role:"img",height:c,width:d,...n},l)}),em=(c=class extends ca{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){let b=this._cachedMeta,{dataset:c,data:d=[],_dataset:e}=b,f=this.chart._animationsDisabled,{start:g,count:h}=aK(b,d,f);this._drawStart=g,this._drawCount=h,aL(b)&&(g=0,h=d.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!e._decimated,c.points=d;let i=this.resolveDatasetElementOptions(a);this.options.showLine||(i.borderWidth=0),i.segment=this.options.segment,this.updateElement(c,void 0,{animated:!f,options:i},a),this.updateElements(d,g,h,a)}updateElements(a,b,c,d){let e="reset"===d,{iScale:f,vScale:g,_stacked:h,_dataset:i}=this._cachedMeta,{sharedOptions:j,includeOptions:k}=this._getSharedOptions(b,d),l=f.axis,m=g.axis,{spanGaps:n,segment:o}=this.options,p=aq(n)?n:1/0,q=this.chart._animationsDisabled||e||"none"===d,r=b+c,s=a.length,t=b>0&&this.getParsed(b-1);for(let c=0;c<s;++c){let n=a[c],s=q?n:{};if(c<b||c>=r){s.skip=!0;continue}let u=this.getParsed(c),v=L(u[m]),w=s[l]=f.getPixelForValue(u[l],c),x=s[m]=e||v?g.getBasePixel():g.getPixelForValue(h?this.applyStack(g,u,h):u[m],c);s.skip=isNaN(w)||isNaN(x)||v,s.stop=c>0&&Math.abs(u[l]-t[l])>p,o&&(s.parsed=u,s.raw=i.data[c]),k&&(s.options=j||this.resolveDataElementOptions(c,n.active?"active":d)),q||this.updateElement(n,c,s,d),t=u}}getMaxOverflow(){let a=this._cachedMeta,b=a.dataset,c=b.options&&b.options.borderWidth||0,d=a.data||[];return d.length?Math.max(c,d[0].size(this.resolveDataElementOptions(0)),d[d.length-1].size(this.resolveDataElementOptions(d.length-1)))/2:c}draw(){let a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}},da.register(c),(0,h.forwardRef)((a,b)=>h.default.createElement(el,{...a,ref:b,type:"line"})));function en({title:a,data:b,height:c=300,className:f=""}){let g=(0,h.useRef)(null);return(0,d.jsxs)(e.motion.div,{className:`bg-white rounded-lg shadow-lg p-6 border border-automotive-chrome ${f}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:a}),(0,d.jsx)("div",{style:{height:`${c}px`},children:(0,d.jsx)(em,{ref:g,data:b,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,family:"Inter, system-ui, sans-serif"}}},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#0ea5e9",borderWidth:1,cornerRadius:8,padding:12}},scales:{x:{grid:{color:"rgba(113, 113, 122, 0.1)"},ticks:{font:{size:11,family:"Inter, system-ui, sans-serif"},color:"#71717a"}},y:{grid:{color:"rgba(113, 113, 122, 0.1)"},ticks:{font:{size:11,family:"Inter, system-ui, sans-serif"},color:"#71717a"}}},elements:{point:{radius:4,hoverRadius:6},line:{tension:.4}},interaction:{intersect:!1,mode:"index"}}})})]})}da.register(class extends cN{static id="category";static defaults={ticks:{callback:dX}};constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){let b=this._addedLabels;if(b.length){let a=this.getLabels();for(let{index:c,label:d}of b)a[c]===d&&a.splice(c,1);this._addedLabels=[]}super.init(a)}parse(a,b){let c,d;if(L(a))return null;let e=this.getLabels();return c=b=isFinite(b)&&e[b]===a?b:function(a,b,c,d){let e=a.indexOf(b);if(-1===e){var f;return f=c,"string"==typeof b?(f=a.push(b)-1,d.unshift({index:f,label:b})):isNaN(b)&&(f=null),f}return e!==a.lastIndexOf(b)?c:e}(e,a,Q(b,a),this._addedLabels),d=e.length-1,null===c?null:az(Math.round(c),0,d)}determineDataLimits(){let{minDefined:a,maxDefined:b}=this.getUserBounds(),{min:c,max:d}=this.getMinMax(!0);"ticks"===this.options.bounds&&(a||(c=0),b||(d=this.getLabels().length-1)),this.min=c,this.max=d}buildTicks(){let a=this.min,b=this.max,c=this.options.offset,d=[],e=this.getLabels();e=0===a&&b===e.length-1?e:e.slice(a,b+1),this._valueRange=Math.max(e.length-!c,1),this._startValue=this.min-.5*!!c;for(let c=a;c<=b;c++)d.push({value:c});return d}getLabelForValue(a){return dX.call(this,a)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){let b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}},d$,class extends cG{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,b,c){let d=this.options,{x:e,y:f}=this.getProps(["x","y"],c);return Math.pow(a-e,2)+Math.pow(b-f,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(a,b){return dn(this,a,"x",b)}inYRange(a,b){return dn(this,a,"y",b)}getCenterPoint(a){let{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}size(a){let b=(a=a||this.options||{}).radius||0,c=(b=Math.max(b,b&&a.hoverRadius||0))&&a.borderWidth||0;return(b+c)*2}draw(a,b){let c=this.options;!this.skip&&!(c.radius<.1)&&a7(this,b,this.size(c)/2)&&(a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.fillStyle=c.backgroundColor,a5(a,c,this.x,this.y))}getRange(){let a=this.options||{};return a.radius+a.hitRadius}},dm,{id:"title",_element:dL,start(a,b,c){let d=new dL({ctx:a.ctx,options:c,chart:a});cD.configure(a,d,c),cD.addBox(a,d),a.titleBlock=d},stop(a){let b=a.titleBlock;cD.removeBox(a,b),delete a.titleBlock},beforeUpdate(a,b,c){let d=a.titleBlock;cD.configure(a,d,c),d.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},{id:"tooltip",_element:dW,positioners:dM,afterInit(a,b,c){c&&(a.tooltip=new dW({chart:a,options:c}))},beforeUpdate(a,b,c){a.tooltip&&a.tooltip.initialize(c)},reset(a,b,c){a.tooltip&&a.tooltip.initialize(c)},afterDraw(a){let b=a.tooltip;if(b&&b._willRender()){let c={tooltip:b};if(!1===a.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0}))return;b.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",c)}},afterEvent(a,b){if(a.tooltip){let c=b.replay;a.tooltip.handleEvent(b.event,c,b.inChartArea)&&(b.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,b)=>b.bodyFont.size,boxWidth:(a,b)=>b.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},{id:"legend",_element:dJ,start(a,b,c){let d=a.legend=new dJ({ctx:a.ctx,options:c,chart:a});cD.configure(a,d,c),cD.addBox(a,d)},stop(a){cD.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,b,c){let d=a.legend;cD.configure(a,d,c),d.options=c},afterUpdate(a){let b=a.legend;b.buildLabels(),b.adjustHitBoxes()},afterEvent(a,b){b.replay||a.legend.handleEvent(b.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,b,c){let d=b.datasetIndex,e=c.chart;e.isDatasetVisible(d)?(e.hide(d),b.hidden=!0):(e.show(d),b.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){let b=a.data.datasets,{labels:{usePointStyle:c,pointStyle:d,textAlign:e,color:f,useBorderRadius:g,borderRadius:h}}=a.legend.options;return a._getSortedDatasetMetas().map(a=>{let i=a.controller.getStyle(c?0:void 0),j=bk(i.borderWidth);return{text:b[a.index].label,fillStyle:i.backgroundColor,fontColor:f,hidden:!a.visible,lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:(j.width+j.height)/4,strokeStyle:i.borderColor,pointStyle:d||i.pointStyle,rotation:i.rotation,textAlign:e||i.textAlign,borderRadius:g&&(h||i.borderRadius),datasetIndex:a.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}},{id:"filler",afterDatasetsUpdate(a,b,c){let d,e,f,g,h=(a.data.datasets||[]).length,i=[];for(e=0;e<h;++e)f=(d=a.getDatasetMeta(e)).dataset,g=null,f&&f.options&&f instanceof dm&&(g={visible:a.isDatasetVisible(e),index:e,fill:function(a,b,c){var d,e,f,g;let h=function(a){let b=a.options,c=b.fill,d=Q(c&&c.target,c);return void 0===d&&(d=!!b.backgroundColor),!1!==d&&null!==d&&(!0===d?"origin":d)}(a);if(N(h))return!isNaN(h.value)&&h;let i=parseFloat(h);return O(i)&&Math.floor(i)===i?(d=h[0],e=b,f=i,g=c,("-"===d||"+"===d)&&(f=e+f),f!==e&&!(f<0)&&!(f>=g)&&f):["origin","start","end","stack","shape"].indexOf(h)>=0&&h}(f,e,h),chart:a,axis:d.controller.options.indexAxis,scale:d.vScale,line:f}),d.$filler=g,i.push(g);for(e=0;e<h;++e)(g=i[e])&&!1!==g.fill&&(g.fill=function(a,b,c){let d,e=a[b].fill,f=[b];if(!c)return e;for(;!1!==e&&-1===f.indexOf(e);){if(!O(e))return e;if(!(d=a[e]))break;if(d.visible)return e;f.push(e),e=d.fill}return!1}(i,e,c.propagate))},beforeDraw(a,b,c){let d="beforeDraw"===c.drawTime,e=a.getSortedVisibleDatasetMetas(),f=a.chartArea;for(let b=e.length-1;b>=0;--b){let c=e[b].$filler;c&&(c.line.updateControlPoints(f,c.axis),d&&c.fill&&dD(a.ctx,c,f))}},beforeDatasetsDraw(a,b,c){if("beforeDatasetsDraw"!==c.drawTime)return;let d=a.getSortedVisibleDatasetMetas();for(let b=d.length-1;b>=0;--b){let c=d[b].$filler;dB(c)&&dD(a.ctx,c,a.chartArea)}},beforeDatasetDraw(a,b,c){let d=b.meta.$filler;dB(d)&&"beforeDatasetDraw"===c.drawTime&&dD(a.ctx,d,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}});let eo=[{title:"Production Efficiency",value:94.7,suffix:"%",trend:"up",trendValue:2.3,icon:"",decimals:1},{title:"Quality Score",value:99.2,suffix:"%",trend:"up",trendValue:.8,icon:"",decimals:1},{title:"On-Time Delivery",value:96.5,suffix:"%",trend:"neutral",trendValue:.2,icon:"",decimals:1},{title:"Cost Reduction",value:12.4,suffix:"%",trend:"up",trendValue:3.1,icon:"",decimals:1}],ep={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Production Efficiency",data:[89,91,93,94,95,94.7],borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.1)",fill:!0},{label:"Quality Score",data:[97,98,98.5,99,99.1,99.2],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0}]},eq={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Demand Forecast",data:[2400,2600,2800,3200],borderColor:"#22d3ee",backgroundColor:"rgba(34, 211, 238, 0.1)",fill:!0},{label:"Inventory Optimization",data:[1800,2100,2300,2500],borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",fill:!0}]};function er(){return(0,d.jsx)("section",{className:"py-16 bg-gradient-to-br from-gray-900 via-black to-green-900",children:(0,d.jsxs)("div",{className:"container mx-auto px-4",children:[(0,d.jsxs)(e.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[(0,d.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:(0,d.jsx)("span",{className:"bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"Strategic Performance Analytics"})}),(0,d.jsx)("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Precision metrics that drive strategic decision-making and operational excellence"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:eo.map((a,b)=>(0,d.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*b},children:(0,d.jsx)(g,{...a})},a.title))}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsx)(en,{title:"Performance Trends",data:ep,height:350}),(0,d.jsx)(en,{title:"AI Predictions",data:eq,height:350})]}),(0,d.jsxs)(e.motion.div,{className:"mt-12 bg-white rounded-lg shadow-lg p-6 border border-automotive-chrome",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"System Status"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-automotive-success rounded-full animate-pulse-slow"}),(0,d.jsx)("span",{className:"text-automotive-steel",children:"Production Lines: Online"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-automotive-success rounded-full animate-pulse-slow"}),(0,d.jsx)("span",{className:"text-automotive-steel",children:"Quality Control: Active"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-3 h-3 bg-automotive-electric rounded-full animate-pulse-slow"}),(0,d.jsx)("span",{className:"text-automotive-steel",children:"AI Models: Processing"})]})]})]})]})})}},46439,a=>{"use strict";a.s(["default",()=>u],46439);var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(86723),f=a.i(74290),g=a.i(1703),h=a.i(14800),i=a.i(91128),j=c,k=a.i(65802);class l extends j.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,i.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:c,anchorX:d,root:e}){let f=(0,j.useId)(),g=(0,j.useRef)(null),h=(0,j.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=(0,j.useContext)(k.MotionConfigContext);return(0,j.useInsertionEffect)(()=>{let{width:a,height:b,top:j,left:k,right:l}=h.current;if(c||!g.current||!a||!b)return;let m="left"===d?`left: ${k}`:`right: ${l}`;g.current.dataset.motionPopId=f;let n=document.createElement("style");i&&(n.nonce=i);let o=e??document.head;return o.appendChild(n),n.sheet&&n.sheet.insertRule(`
          [data-motion-pop-id="${f}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${m}px !important;
            top: ${j}px !important;
          }
        `),()=>{o.contains(n)&&o.removeChild(n)}},[c]),(0,b.jsx)(l,{isPresent:c,childRef:g,sizeRef:h,children:j.cloneElement(a,{ref:g})})}let n=({children:a,initial:d,isPresent:e,onExitComplete:g,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,f.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:e,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;g&&g()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[e,p,g]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[e]),c.useEffect(()=>{e||p.size||!g||g()},[e]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:e,anchorX:l,root:n,children:a})),(0,b.jsx)(h.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(20410);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:d,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,f.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,g.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=q(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=q(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(r(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(e.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=q(a),e=(!l||!!s)&&(u===B||v.includes(c));return(0,b.jsx)(n,{isPresent:e,initial:(!w.current||!!h)&&void 0,custom:d,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:e?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})},t=[{id:"production-planning",title:"Production Planning",description:"Optimize manufacturing schedules and resource allocation with AI-driven planning algorithms.",icon:"",features:["Capacity Planning","Resource Optimization","Schedule Automation","Bottleneck Analysis"],benefits:["15% efficiency increase","Reduced downtime","Better resource utilization"],color:"from-blue-500 to-blue-600"},{id:"quality-control",title:"Quality Control",description:"Real-time quality monitoring and predictive defect detection using advanced analytics.",icon:"",features:["Defect Detection","Statistical Process Control","Root Cause Analysis","Quality Metrics"],benefits:["99.2% quality score","Reduced waste","Compliance assurance"],color:"from-green-500 to-green-600"},{id:"supply-chain",title:"Supply Chain Optimization",description:"End-to-end visibility and optimization of your automotive supply chain network.",icon:"",features:["Supplier Management","Inventory Optimization","Demand Forecasting","Risk Assessment"],benefits:["30% inventory reduction","Improved delivery times","Cost optimization"],color:"from-purple-500 to-purple-600"},{id:"predictive-maintenance",title:"Predictive Maintenance",description:"Prevent equipment failures with AI-powered predictive maintenance solutions.",icon:"",features:["Equipment Monitoring","Failure Prediction","Maintenance Scheduling","Performance Analytics"],benefits:["40% less downtime","Extended equipment life","Reduced maintenance costs"],color:"from-orange-500 to-orange-600"},{id:"logistics",title:"Logistics & Distribution",description:"Optimize transportation routes and warehouse operations for maximum efficiency.",icon:"",features:["Route Optimization","Warehouse Management","Fleet Tracking","Delivery Analytics"],benefits:["25% cost reduction","Faster deliveries","Better customer satisfaction"],color:"from-cyan-500 to-cyan-600"},{id:"compliance",title:"Regulatory Compliance",description:"Ensure full compliance with automotive industry standards and regulations.",icon:"",features:["ISO Standards","Audit Management","Documentation Control","Compliance Tracking"],benefits:["100% compliance rate","Reduced audit time","Risk mitigation"],color:"from-red-500 to-red-600"},{id:"analytics",title:"Advanced Analytics",description:"Transform data into actionable insights with powerful analytics and reporting tools.",icon:"",features:["Real-time Dashboards","Custom Reports","Data Visualization","Trend Analysis"],benefits:["Data-driven decisions","Improved visibility","Strategic insights"],color:"from-indigo-500 to-indigo-600"},{id:"integration",title:"System Integration",description:"Seamlessly connect with existing ERP, MES, and other automotive systems.",icon:"",features:["ERP Integration","API Connectivity","Data Synchronization","Legacy System Support"],benefits:["Unified data view","Reduced silos","Improved efficiency"],color:"from-teal-500 to-teal-600"}];function u(){let[a,e]=(0,c.useState)(t[0].id),f=t.find(b=>b.id===a)||t[0];return(0,b.jsx)("section",{className:"py-16 bg-white",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)(d.motion.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-automotive-carbon mb-4",children:"Automotive Solutions Portfolio"}),(0,b.jsx)("p",{className:"text-lg text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive supply chain management solutions tailored for the automotive industry"})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:t.map((c,f)=>(0,b.jsxs)(d.motion.button,{onClick:()=>e(c.id),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-lg":"bg-gray-100 text-automotive-steel hover:bg-gray-200"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*f},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.title]},c.id))})}),(0,b.jsx)(s,{mode:"wait",children:(0,b.jsx)(d.motion.div,{className:"bg-gradient-to-br from-slate-50 to-blue-50 rounded-2xl p-8 shadow-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center mb-6",children:[(0,b.jsx)("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center text-2xl shadow-lg`,children:f.icon}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)("h3",{className:"text-2xl font-bold text-automotive-carbon",children:f.title})})]}),(0,b.jsx)("p",{className:"text-automotive-steel text-lg mb-6 leading-relaxed",children:f.description}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-3",children:"Key Benefits"}),(0,b.jsx)("div",{className:"space-y-2",children:f.benefits.map((a,c)=>(0,b.jsxs)(d.motion.div,{className:"flex items-center text-automotive-steel",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*c},children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-automotive-success rounded-full mr-3"}),a]},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Core Features"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.features.map((a,c)=>(0,b.jsx)(d.motion.div,{className:"bg-white rounded-lg p-4 shadow-sm border border-automotive-chrome",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*c},whileHover:{scale:1.02},children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${f.color} flex items-center justify-center mr-3`,children:(0,b.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon text-sm",children:a})]})},a))}),(0,b.jsx)(d.motion.div,{className:"mt-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:(0,b.jsxs)("button",{className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg hover:shadow-xl",children:["Learn More About ",f.title]})})]})]})},a)})]})})}},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},55844,(a,b,c)=>{"use strict";var d={};function e(a,b){!b.unsigned&&--a;let c=b.unsigned?0:-Math.pow(2,a),d=Math.pow(2,a)-1,e=b.moduloBitLength?Math.pow(2,b.moduloBitLength):Math.pow(2,a),f=b.moduloBitLength?Math.pow(2,b.moduloBitLength-1):Math.pow(2,a-1);return function(a,g){g||(g={});let h=+a;if(g.enforceRange){if(!Number.isFinite(h))throw TypeError("Argument is not a finite number");if((h=(h<0?-1:1)*Math.floor(Math.abs(h)))<c||h>d)throw TypeError("Argument is not in byte range");return h}if(!isNaN(h)&&g.clamp){var i;return(h=(i=h)%1==.5&&(1&i)==0?Math.floor(i):Math.round(i))<c&&(h=c),h>d&&(h=d),h}if(!Number.isFinite(h)||0===h)return 0;if(h=(h<0?-1:1)*Math.floor(Math.abs(h))%e,!b.unsigned&&h>=f)return h-e;if(b.unsigned){if(h<0)h+=e;else if(-0===h)return 0}return h}}b.exports=d,d.void=function(){},d.boolean=function(a){return!!a},d.byte=e(8,{unsigned:!1}),d.octet=e(8,{unsigned:!0}),d.short=e(16,{unsigned:!1}),d["unsigned short"]=e(16,{unsigned:!0}),d.long=e(32,{unsigned:!1}),d["unsigned long"]=e(32,{unsigned:!0}),d["long long"]=e(32,{unsigned:!1,moduloBitLength:64}),d["unsigned long long"]=e(32,{unsigned:!0,moduloBitLength:64}),d.double=function(a){let b=+a;if(!Number.isFinite(b))throw TypeError("Argument is not a finite floating-point value");return b},d["unrestricted double"]=function(a){let b=+a;if(isNaN(b))throw TypeError("Argument is NaN");return b},d.float=d.double,d["unrestricted float"]=d["unrestricted double"],d.DOMString=function(a,b){return(b||(b={}),b.treatNullAsEmptyString&&null===a)?"":String(a)},d.ByteString=function(a,b){let c,d=String(a);for(let a=0;void 0!==(c=d.codePointAt(a));++a)if(c>255)throw TypeError("Argument is not a valid bytestring");return d},d.USVString=function(a){let b=String(a),c=b.length,d=[];for(let a=0;a<c;++a){let e=b.charCodeAt(a);if(e<55296||e>57343)d.push(String.fromCodePoint(e));else if(56320<=e&&e<=57343)d.push(String.fromCodePoint(65533));else if(a===c-1)d.push(String.fromCodePoint(65533));else{let c=b.charCodeAt(a+1);if(56320<=c&&c<=57343){let b=1023&e,f=1023&c;d.push(String.fromCodePoint(65536+1024*b+f)),++a}else d.push(String.fromCodePoint(65533))}}return d.join("")},d.Date=function(a,b){if(!(a instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(a))return a},d.RegExp=function(a,b){return a instanceof RegExp||(a=new RegExp(a)),a}},21905,(a,b,c)=>{"use strict";b.exports.mixin=function(a,b){let c=Object.getOwnPropertyNames(b);for(let d=0;d<c.length;++d)Object.defineProperty(a,c[d],Object.getOwnPropertyDescriptor(b,c[d]))},b.exports.wrapperSymbol=Symbol("wrapper"),b.exports.implSymbol=Symbol("impl"),b.exports.wrapperForImpl=function(a){return a[b.exports.wrapperSymbol]},b.exports.implForWrapper=function(a){return a[b.exports.implSymbol]}},92097,(a,b,c)=>{b.exports=a.x("punycode",()=>require("punycode"))},45736,a=>{a.v(JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]'))},66636,(a,b,c)=>{"use strict";var d=a.r(92097),e=a.r(45736),f={TRANSITIONAL:0,NONTRANSITIONAL:1};function g(a){return a.split("\0").map(function(a){return a.normalize("NFC")}).join("\0")}function h(a){for(var b=0,c=e.length-1;b<=c;){var d=Math.floor((b+c)/2),f=e[d];if(f[0][0]<=a&&f[0][1]>=a)return f;f[0][0]>a?c=d-1:b=d+1}return null}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function j(a){return a.replace(i,"_").length}var k=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function l(a,b,c){var e=function(a,b,c){for(var d=!1,e="",g=j(a),i=0;i<g;++i){var k=a.codePointAt(i),l=h(k);switch(l[1]){case"disallowed":d=!0,e+=String.fromCodePoint(k);break;case"ignored":break;case"mapped":e+=String.fromCodePoint.apply(String,l[2]);break;case"deviation":c===f.TRANSITIONAL?e+=String.fromCodePoint.apply(String,l[2]):e+=String.fromCodePoint(k);break;case"valid":e+=String.fromCodePoint(k);break;case"disallowed_STD3_mapped":b?(d=!0,e+=String.fromCodePoint(k)):e+=String.fromCodePoint.apply(String,l[2]);break;case"disallowed_STD3_valid":b&&(d=!0),e+=String.fromCodePoint(k)}}return{string:e,error:d}}(a,b,c);e.string=g(e.string);for(var i=e.string.split("."),m=0;m<i.length;++m)try{var n=function(a,b){"xn--"===a.substr(0,4)&&(a=d.toUnicode(a),f.NONTRANSITIONAL);var c=!1;(g(a)!==a||"-"===a[3]&&"-"===a[4]||"-"===a[0]||"-"===a[a.length-1]||-1!==a.indexOf(".")||0===a.search(k))&&(c=!0);for(var e=j(a),i=0;i<e;++i){var m=h(a.codePointAt(i));if(l===f.TRANSITIONAL&&"valid"!==m[1]||l===f.NONTRANSITIONAL&&"valid"!==m[1]&&"deviation"!==m[1]){c=!0;break}}return{label:a,error:c}}(i[m]);i[m]=n.label,e.error=e.error||n.error}catch(a){e.error=!0}return{string:i.join("."),error:e.error}}b.exports.toASCII=function(a,b,c,e){var f=l(a,b,c),g=f.string.split(".");if(g=g.map(function(a){try{return d.toASCII(a)}catch(b){return f.error=!0,a}}),e){var h=g.slice(0,g.length-1).join(".").length;(h.length>253||0===h.length)&&(f.error=!0);for(var i=0;i<g.length;++i)if(g.length>63||0===g.length){f.error=!0;break}}return f.error?null:g.join(".")},b.exports.toUnicode=function(a,b){var c=l(a,b,f.NONTRANSITIONAL);return{domain:c.string,error:c.error}},b.exports.PROCESSING_OPTIONS=f},81853,(a,b,c)=>{"use strict";let d=a.r(92097),e=a.r(66636),f={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},g=Symbol("failure");function h(a){return d.ucs2.decode(a).length}function i(a,b){let c=a[b];return isNaN(c)?void 0:String.fromCodePoint(c)}function j(a){return a>=48&&a<=57}function k(a){return a>=65&&a<=90||a>=97&&a<=122}function l(a){return j(a)||a>=65&&a<=70||a>=97&&a<=102}function m(a){return"."===a||"%2e"===a.toLowerCase()}function n(a){return 2===a.length&&k(a.codePointAt(0))&&(":"===a[1]||"|"===a[1])}function o(a){return void 0!==f[a]}function p(a){return o(a.scheme)}function q(a){let b=a.toString(16).toUpperCase();return 1===b.length&&(b="0"+b),"%"+b}function r(a){return a<=31||a>126}let s=new Set([32,34,35,60,62,63,96,123,125]);function t(a){return r(a)||s.has(a)}let u=new Set([47,58,59,61,64,91,92,93,94,124]);function v(a){return t(a)||u.has(a)}function w(a,b){let c=String.fromCodePoint(a);if(b(a)){let a=new Buffer(c),b="";for(let c=0;c<a.length;++c)b+=q(a[c]);return b}return c}function x(a,b){if("["===a[0])return"]"!==a[a.length-1]?g:function(a){let b=[0,0,0,0,0,0,0,0],c=0,e=null,f=0;if(58===(a=d.ucs2.decode(a))[f]){if(58!==a[f+1])return g;f+=2,e=++c}for(;f<a.length;){if(8===c)return g;if(58===a[f]){if(null!==e)return g;++f,e=++c;continue}let d=0,h=0;for(;h<4&&l(a[f]);)d=16*d+parseInt(i(a,f),16),++f,++h;if(46===a[f]){if(0===h||(f-=h,c>6))return g;let d=0;for(;void 0!==a[f];){let e=null;if(d>0)if(46!==a[f]||!(d<4))return g;else++f;if(!j(a[f]))return g;for(;j(a[f]);){let b=parseInt(i(a,f));if(null===e)e=b;else{if(0===e)return g;e=10*e+b}if(e>255)return g;++f}b[c]=256*b[c]+e,(2==++d||4===d)&&++c}if(4!==d)return g;break}if(58===a[f]){if(void 0===a[++f])return g}else if(void 0!==a[f])return g;b[c]=d,++c}if(null!==e){let a=c-e;for(c=7;0!==c&&a>0;){let d=b[e+a-1];b[e+a-1]=b[c],b[c]=d,--c,--a}}else if(null===e&&8!==c)return g;return b}(a.substring(1,a.length-1));if(!b){var c=a;if(-1!==c.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return g;let b="",e=d.ucs2.decode(c);for(let a=0;a<e.length;++a)b+=w(e[a],r);return b}let f=function(a){let b=new Buffer(a),c=[];for(let a=0;a<b.length;++a)37!==b[a]?c.push(b[a]):37===b[a]&&l(b[a+1])&&l(b[a+2])?(c.push(parseInt(b.slice(a+1,a+3).toString(),16)),a+=2):c.push(b[a]);return new Buffer(c).toString()}(a),h=e.toASCII(f,!1,e.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===h||-1!==h.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return g;let k=function(a){let b=a.split(".");if(""===b[b.length-1]&&b.length>1&&b.pop(),b.length>4)return a;let c=[];for(let d of b){if(""===d)return a;let b=function(a){let b=10;return(a.length>=2&&"0"===a.charAt(0)&&"x"===a.charAt(1).toLowerCase()?(a=a.substring(2),b=16):a.length>=2&&"0"===a.charAt(0)&&(a=a.substring(1),b=8),""===a)?0:(10===b?/[^0-9]/:16===b?/[^0-9A-Fa-f]/:/[^0-7]/).test(a)?g:parseInt(a,b)}(d);if(b===g)return a;c.push(b)}for(let a=0;a<c.length-1;++a)if(c[a]>255)return g;if(c[c.length-1]>=Math.pow(256,5-c.length))return g;let d=c.pop(),e=0;for(let a of c)d+=a*Math.pow(256,3-e),++e;return d}(h);return"number"==typeof k||k===g?k:h}function y(a){if("number"==typeof a){let b="",c=a;for(let a=1;a<=4;++a)b=String(c%256)+b,4!==a&&(b="."+b),c=Math.floor(c/256);return b}return a instanceof Array?"["+function(a){let b="",c=function(a){let b=null,c=1,d=null,e=0;for(let f=0;f<a.length;++f)0!==a[f]?(e>c&&(b=d,c=e),d=null,e=0):(null===d&&(d=f),++e);return e>c&&(b=d,c=e),{idx:b,len:c}}(a).idx,d=!1;for(let e=0;e<=7;++e)if(!d||0!==a[e]){if(d&&(d=!1),c===e){b+=0===e?"::":":",d=!0;continue}b+=a[e].toString(16),7!==e&&(b+=":")}return b}(a)+"]":a}function z(a){let b=a.path;if(0!==b.length){var c;"file"===a.scheme&&1===b.length&&(c=b[0],/^[A-Za-z]:$/.test(c))||b.pop()}}function A(a){return""!==a.username||""!==a.password}function B(a,b,c,e,f){if(this.pointer=0,this.input=a,this.base=b||null,this.encodingOverride=c||"utf-8",this.stateOverride=f,this.url=e,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let a=this.input.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"");a!==this.input&&(this.parseError=!0),this.input=a}let h=this.input.replace(/\u0009|\u000A|\u000D/g,"");for(h!==this.input&&(this.parseError=!0),this.input=h,this.state=f||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=d.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let a=this.input[this.pointer],b=isNaN(a)?void 0:String.fromCodePoint(a),c=this["parse "+this.state](a,b);if(c){if(c===g){this.failure=!0;break}}else break}}B.prototype["parse scheme start"]=function(a,b){if(k(a))this.buffer+=b.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,g;this.state="no scheme",--this.pointer}return!0},B.prototype["parse scheme"]=function(a,b){if(k(a)||j(a)||43===a||45===a||46===a)this.buffer+=b.toLowerCase();else if(58===a){if(this.stateOverride&&(p(this.url)&&!o(this.buffer)||!p(this.url)&&o(this.buffer)||(A(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):p(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":p(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,g;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},B.prototype["parse no scheme"]=function(a){return null===this.base||this.base.cannotBeABaseURL&&35!==a?g:(this.base.cannotBeABaseURL&&35===a?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},B.prototype["parse special relative or authority"]=function(a){return 47===a&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},B.prototype["parse path or authority"]=function(a){return 47===a?this.state="authority":(this.state="path",--this.pointer),!0},B.prototype["parse relative"]=function(a){return this.url.scheme=this.base.scheme,isNaN(a)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===a?this.state="relative slash":63===a?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===a?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):p(this.url)&&92===a?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},B.prototype["parse relative slash"]=function(a){return p(this.url)&&(47===a||92===a)?(92===a&&(this.parseError=!0),this.state="special authority ignore slashes"):47===a?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},B.prototype["parse special authority slashes"]=function(a){return 47===a&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},B.prototype["parse special authority ignore slashes"]=function(a){return 47!==a&&92!==a?(this.state="authority",--this.pointer):this.parseError=!0,!0},B.prototype["parse authority"]=function(a,b){if(64===a){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let a=h(this.buffer);for(let b=0;b<a;++b){let a=this.buffer.codePointAt(b);if(58===a&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let c=w(a,v);this.passwordTokenSeenFlag?this.url.password+=c:this.url.username+=c}this.buffer=""}else if(isNaN(a)||47===a||63===a||35===a||p(this.url)&&92===a){if(this.atFlag&&""===this.buffer)return this.parseError=!0,g;this.pointer-=h(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=b;return!0},B.prototype["parse hostname"]=B.prototype["parse host"]=function(a,b){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==a||this.arrFlag)if(isNaN(a)||47===a||63===a||35===a||p(this.url)&&92===a){if(--this.pointer,p(this.url)&&""===this.buffer)return this.parseError=!0,g;if(this.stateOverride&&""===this.buffer&&(A(this.url)||null!==this.url.port))return this.parseError=!0,!1;let a=x(this.buffer,p(this.url));if(a===g)return g;if(this.url.host=a,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===a?this.arrFlag=!0:93===a&&(this.arrFlag=!1),this.buffer+=b;else{if(""===this.buffer)return this.parseError=!0,g;let a=x(this.buffer,p(this.url));if(a===g)return g;if(this.url.host=a,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},B.prototype["parse port"]=function(a,b){if(j(a))this.buffer+=b;else{if(!(isNaN(a)||47===a||63===a||35===a||p(this.url)&&92===a)&&!this.stateOverride)return this.parseError=!0,g;if(""!==this.buffer){let a=parseInt(this.buffer);if(a>65535)return this.parseError=!0,g;this.url.port=a===f[this.url.scheme]?null:a,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let C=new Set([47,92,63,35]);B.prototype["parse file"]=function(a){if(this.url.scheme="file",47===a||92===a)92===a&&(this.parseError=!0),this.state="file slash";else if(null!==this.base&&"file"===this.base.scheme)if(isNaN(a))this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query;else if(63===a)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query";else if(35===a)this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else{var b;this.input.length-this.pointer-1!=0&&(b=this.input[this.pointer+1],k(a)&&(58===b||124===b))&&(!(this.input.length-this.pointer-1>=2)||C.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),z(this.url)),this.state="path",--this.pointer}else this.state="path",--this.pointer;return!0},B.prototype["parse file slash"]=function(a){if(47===a||92===a)92===a&&(this.parseError=!0),this.state="file host";else{if(null!==this.base&&"file"===this.base.scheme){var b;2===(b=this.base.path[0]).length&&k(b.codePointAt(0))&&":"===b[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host}this.state="path",--this.pointer}return!0},B.prototype["parse file host"]=function(a,b){if(isNaN(a)||47===a||92===a||63===a||35===a)if(--this.pointer,!this.stateOverride&&n(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let a=x(this.buffer,p(this.url));if(a===g)return g;if("localhost"===a&&(a=""),this.url.host=a,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=b;return!0},B.prototype["parse path start"]=function(a){return p(this.url)?(92===a&&(this.parseError=!0),this.state="path",47!==a&&92!==a&&--this.pointer):this.stateOverride||63!==a?this.stateOverride||35!==a?void 0!==a&&(this.state="path",47!==a&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},B.prototype["parse path"]=function(a){if(isNaN(a)||47===a||p(this.url)&&92===a||!this.stateOverride&&(63===a||35===a)){var b;if((p(this.url)&&92===a&&(this.parseError=!0),".."===(b=(b=this.buffer).toLowerCase())||"%2e."===b||".%2e"===b||"%2e%2e"===b)?(z(this.url),47===a||p(this.url)&&92===a||this.url.path.push("")):m(this.buffer)&&47!==a&&!(p(this.url)&&92===a)?this.url.path.push(""):m(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&n(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===a||63===a||35===a))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===a&&(this.url.query="",this.state="query"),35===a&&(this.url.fragment="",this.state="fragment")}else 37!==a||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=w(a,t);return!0},B.prototype["parse cannot-be-a-base-URL path"]=function(a){return 63===a?(this.url.query="",this.state="query"):35===a?(this.url.fragment="",this.state="fragment"):(isNaN(a)||37===a||(this.parseError=!0),37!==a||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),isNaN(a)||(this.url.path[0]=this.url.path[0]+w(a,r))),!0},B.prototype["parse query"]=function(a,b){if(isNaN(a)||!this.stateOverride&&35===a){p(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let b=new Buffer(this.buffer);for(let a=0;a<b.length;++a)b[a]<33||b[a]>126||34===b[a]||35===b[a]||60===b[a]||62===b[a]?this.url.query+=q(b[a]):this.url.query+=String.fromCodePoint(b[a]);this.buffer="",35===a&&(this.url.fragment="",this.state="fragment")}else 37!==a||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=b;return!0},B.prototype["parse fragment"]=function(a){return isNaN(a)||(0===a?this.parseError=!0:(37!==a||l(this.input[this.pointer+1])&&l(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=w(a,r))),!0},b.exports.serializeURL=function(a,b){let c=a.scheme+":";if(null!==a.host?(c+="//",(""!==a.username||""!==a.password)&&(c+=a.username,""!==a.password&&(c+=":"+a.password),c+="@"),c+=y(a.host),null!==a.port&&(c+=":"+a.port)):null===a.host&&"file"===a.scheme&&(c+="//"),a.cannotBeABaseURL)c+=a.path[0];else for(let b of a.path)c+="/"+b;return null!==a.query&&(c+="?"+a.query),b||null===a.fragment||(c+="#"+a.fragment),c},b.exports.serializeURLOrigin=function(a){switch(a.scheme){case"blob":try{return b.exports.serializeURLOrigin(b.exports.parseURL(a.path[0]))}catch(a){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":var c;let d;return d=(c={scheme:a.scheme,host:a.host,port:a.port}).scheme+"://"+y(c.host),null!==c.port&&(d+=":"+c.port),d;case"file":return"file://";default:return"null"}},b.exports.basicURLParse=function(a,b){void 0===b&&(b={});let c=new B(a,b.baseURL,b.encodingOverride,b.url,b.stateOverride);return c.failure?"failure":c.url},b.exports.setTheUsername=function(a,b){a.username="";let c=d.ucs2.decode(b);for(let b=0;b<c.length;++b)a.username+=w(c[b],v)},b.exports.setThePassword=function(a,b){a.password="";let c=d.ucs2.decode(b);for(let b=0;b<c.length;++b)a.password+=w(c[b],v)},b.exports.serializeHost=y,b.exports.cannotHaveAUsernamePasswordPort=function(a){return null===a.host||""===a.host||a.cannotBeABaseURL||"file"===a.scheme},b.exports.serializeInteger=function(a){return String(a)},b.exports.parseURL=function(a,c){return void 0===c&&(c={}),b.exports.basicURLParse(a,{baseURL:c.baseURL,encodingOverride:c.encodingOverride})}},81046,(a,b,c)=>{"use strict";let d=a.r(81853);c.implementation=class{constructor(a){let b=a[0],c=a[1],e=null;if(void 0!==c&&"failure"===(e=d.basicURLParse(c)))throw TypeError("Invalid base URL");let f=d.basicURLParse(b,{baseURL:e});if("failure"===f)throw TypeError("Invalid URL");this._url=f}get href(){return d.serializeURL(this._url)}set href(a){let b=d.basicURLParse(a);if("failure"===b)throw TypeError("Invalid URL");this._url=b}get origin(){return d.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(a){d.basicURLParse(a+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(a){d.cannotHaveAUsernamePasswordPort(this._url)||d.setTheUsername(this._url,a)}get password(){return this._url.password}set password(a){d.cannotHaveAUsernamePasswordPort(this._url)||d.setThePassword(this._url,a)}get host(){let a=this._url;return null===a.host?"":null===a.port?d.serializeHost(a.host):d.serializeHost(a.host)+":"+d.serializeInteger(a.port)}set host(a){this._url.cannotBeABaseURL||d.basicURLParse(a,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":d.serializeHost(this._url.host)}set hostname(a){this._url.cannotBeABaseURL||d.basicURLParse(a,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":d.serializeInteger(this._url.port)}set port(a){d.cannotHaveAUsernamePasswordPort(this._url)||(""===a?this._url.port=null:d.basicURLParse(a,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(a){this._url.cannotBeABaseURL||(this._url.path=[],d.basicURLParse(a,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(a){let b=this._url;if(""===a){b.query=null;return}let c="?"===a[0]?a.substring(1):a;b.query="",d.basicURLParse(c,{url:b,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(a){if(""===a){this._url.fragment=null;return}let b="#"===a[0]?a.substring(1):a;this._url.fragment="",d.basicURLParse(b,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},98394,(a,b,c)=>{"use strict";let d=a.r(55844),e=a.r(21905),f=a.r(81046),g=e.implSymbol;function h(a){if(!this||this[g]||!(this instanceof h))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let c=[];for(let a=0;a<arguments.length&&a<2;++a)c[a]=arguments[a];c[0]=d.USVString(c[0]),void 0!==c[1]&&(c[1]=d.USVString(c[1])),b.exports.setup(this,c)}h.prototype.toJSON=function(){if(!this||!b.exports.is(this))throw TypeError("Illegal invocation");let a=[];for(let b=0;b<arguments.length&&b<0;++b)a[b]=arguments[b];return this[g].toJSON.apply(this[g],a)},Object.defineProperty(h.prototype,"href",{get(){return this[g].href},set(a){a=d.USVString(a),this[g].href=a},enumerable:!0,configurable:!0}),h.prototype.toString=function(){if(!this||!b.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(h.prototype,"origin",{get(){return this[g].origin},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"protocol",{get(){return this[g].protocol},set(a){a=d.USVString(a),this[g].protocol=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"username",{get(){return this[g].username},set(a){a=d.USVString(a),this[g].username=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"password",{get(){return this[g].password},set(a){a=d.USVString(a),this[g].password=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"host",{get(){return this[g].host},set(a){a=d.USVString(a),this[g].host=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"hostname",{get(){return this[g].hostname},set(a){a=d.USVString(a),this[g].hostname=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"port",{get(){return this[g].port},set(a){a=d.USVString(a),this[g].port=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"pathname",{get(){return this[g].pathname},set(a){a=d.USVString(a),this[g].pathname=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"search",{get(){return this[g].search},set(a){a=d.USVString(a),this[g].search=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"hash",{get(){return this[g].hash},set(a){a=d.USVString(a),this[g].hash=a},enumerable:!0,configurable:!0}),b.exports={is:a=>!!a&&a[g]instanceof f.implementation,create(a,b){let c=Object.create(h.prototype);return this.setup(c,a,b),c},setup(a,b,c){c||(c={}),c.wrapper=a,a[g]=new f.implementation(b,c),a[g][e.wrapperSymbol]=a},interface:h,expose:{Window:{URL:h},Worker:{URL:h}}}},70705,(a,b,c)=>{"use strict";c.URL=a.r(98394).interface,c.serializeURL=a.r(81853).serializeURL,c.serializeURLOrigin=a.r(81853).serializeURLOrigin,c.basicURLParse=a.r(81853).basicURLParse,c.setTheUsername=a.r(81853).setTheUsername,c.setThePassword=a.r(81853).setThePassword,c.serializeHost=a.r(81853).serializeHost,c.serializeInteger=a.r(81853).serializeInteger,c.parseURL=a.r(81853).parseURL},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},71277,a=>{"use strict";let b;a.s(["FetchError",()=>m,"Headers",()=>C,"Request",()=>R,"Response",()=>J,"default",()=>Y]);var c=a.i(88947),d=a.i(21517),e=a.i(92509),f=a.i(70705),g=a.i(24836),h=a.i(6461);let i=c.default.Readable,j=Symbol("buffer"),k=Symbol("type");class l{constructor(){this[k]="";let a=arguments[0],b=arguments[1],c=[];if(a){let b=Number(a.length);for(let d=0;d<b;d++){let b,e=a[d];(b=e instanceof Buffer?e:ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?Buffer.from(e):e instanceof l?e[j]:Buffer.from("string"==typeof e?e:String(e))).length,c.push(b)}}this[j]=Buffer.concat(c);let d=b&&void 0!==b.type&&String(b.type).toLowerCase();d&&!/[^\u0020-\u007E]/.test(d)&&(this[k]=d)}get size(){return this[j].length}get type(){return this[k]}text(){return Promise.resolve(this[j].toString())}arrayBuffer(){let a=this[j];return Promise.resolve(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength))}stream(){let a=new i;return a._read=function(){},a.push(this[j]),a.push(null),a}toString(){return"[object Blob]"}slice(){let a,b=this.size,c=arguments[0],d=arguments[1];a=void 0===c?0:c<0?Math.max(b+c,0):Math.min(c,b);let e=Math.max((void 0===d?b:d<0?Math.max(b+d,0):Math.min(d,b))-a,0),f=this[j].slice(a,a+e),g=new l([],{type:arguments[2]});return g[j]=f,g}}function m(a,b,c){Error.call(this,a),this.message=a,this.type=b,c&&(this.code=this.errno=c.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(l.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m.prototype.name="FetchError";try{b=(()=>{let a=Error("Cannot find module 'encoding'");throw a.code="MODULE_NOT_FOUND",a})().convert}catch(a){}let n=Symbol("Body internals"),o=c.default.PassThrough;function p(a){var b=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=d.size,f=d.timeout;null==a?a=null:r(a)?a=Buffer.from(a.toString()):s(a)||Buffer.isBuffer(a)||("[object ArrayBuffer]"===Object.prototype.toString.call(a)?a=Buffer.from(a):ArrayBuffer.isView(a)?a=Buffer.from(a.buffer,a.byteOffset,a.byteLength):a instanceof c.default||(a=Buffer.from(String(a)))),this[n]={body:a,disturbed:!1,error:null},this.size=void 0===e?0:e,this.timeout=void 0===f?0:f,a instanceof c.default&&a.on("error",function(a){let c="AbortError"===a.name?a:new m(`Invalid response body while trying to fetch ${b.url}: ${a.message}`,"system",a);b[n].error=c})}function q(){var a=this;if(this[n].disturbed)return p.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[n].disturbed=!0,this[n].error)return p.Promise.reject(this[n].error);let b=this.body;if(null===b)return p.Promise.resolve(Buffer.alloc(0));if(s(b)&&(b=b.stream()),Buffer.isBuffer(b))return p.Promise.resolve(b);if(!(b instanceof c.default))return p.Promise.resolve(Buffer.alloc(0));let d=[],e=0,f=!1;return new p.Promise(function(c,g){let h;a.timeout&&(h=setTimeout(function(){f=!0,g(new m(`Response timeout while trying to fetch ${a.url} (over ${a.timeout}ms)`,"body-timeout"))},a.timeout)),b.on("error",function(b){"AbortError"===b.name?(f=!0,g(b)):g(new m(`Invalid response body while trying to fetch ${a.url}: ${b.message}`,"system",b))}),b.on("data",function(b){if(!f&&null!==b){if(a.size&&e+b.length>a.size){f=!0,g(new m(`content size at ${a.url} over limit: ${a.size}`,"max-size"));return}e+=b.length,d.push(b)}}),b.on("end",function(){if(!f){clearTimeout(h);try{c(Buffer.concat(d,e))}catch(b){g(new m(`Could not create Buffer from response body for ${a.url}: ${b.message}`,"system",b))}}})})}function r(a){return"object"==typeof a&&"function"==typeof a.append&&"function"==typeof a.delete&&"function"==typeof a.get&&"function"==typeof a.getAll&&"function"==typeof a.has&&"function"==typeof a.set&&("URLSearchParams"===a.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(a)||"function"==typeof a.sort)}function s(a){return"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&"function"==typeof a.constructor&&"string"==typeof a.constructor.name&&/^(Blob|File)$/.test(a.constructor.name)&&/^(Blob|File)$/.test(a[Symbol.toStringTag])}function t(a){let b,d,e=a.body;if(a.bodyUsed)throw Error("cannot clone body after it is used");return e instanceof c.default&&"function"!=typeof e.getBoundary&&(b=new o,d=new o,e.pipe(b),e.pipe(d),a[n].body=b,e=d),e}function u(a){if(null===a)return null;if("string"==typeof a)return"text/plain;charset=UTF-8";if(r(a))return"application/x-www-form-urlencoded;charset=UTF-8";if(s(a))return a.type||null;if(Buffer.isBuffer(a))return null;else if("[object ArrayBuffer]"===Object.prototype.toString.call(a))return null;else if(ArrayBuffer.isView(a))return null;else if("function"==typeof a.getBoundary)return`multipart/form-data;boundary=${a.getBoundary()}`;else if(a instanceof c.default)return null;else return"text/plain;charset=UTF-8"}function v(a){let b=a.body;return null===b?0:s(b)?b.size:Buffer.isBuffer(b)?b.length:b&&"function"==typeof b.getLengthSync?b._lengthRetrievers&&0==b._lengthRetrievers.length||b.hasKnownLength&&b.hasKnownLength()?b.getLengthSync():null:null}p.prototype={get body(){return this[n].body},get bodyUsed(){return this[n].disturbed},arrayBuffer(){return q.call(this).then(function(a){return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)})},blob(){let a=this.headers&&this.headers.get("content-type")||"";return q.call(this).then(function(b){return Object.assign(new l([],{type:a.toLowerCase()}),{[j]:b})})},json(){var a=this;return q.call(this).then(function(b){try{return JSON.parse(b.toString())}catch(b){return p.Promise.reject(new m(`invalid json response body at ${a.url} reason: ${b.message}`,"invalid-json"))}})},text(){return q.call(this).then(function(a){return a.toString()})},buffer(){return q.call(this)},textConverted(){var a=this;return q.call(this).then(function(c){return function(a,c){let d,e;if("function"!=typeof b)throw Error("The package `encoding` must be installed to use the textConverted() function");let f=c.get("content-type"),g="utf-8";return f&&(d=/charset=([^;]*)/i.exec(f)),e=a.slice(0,1024).toString(),!d&&e&&(d=/<meta.+?charset=(['"])(.+?)\1/i.exec(e)),!d&&e&&(!(d=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(e))&&(d=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(e))&&d.pop(),d&&(d=/charset=(.*)/i.exec(d.pop()))),!d&&e&&(d=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(e)),d&&("gb2312"===(g=d.pop())||"gbk"===g)&&(g="gb18030"),b(a,"UTF-8",g).toString()}(c,a.headers)})}},Object.defineProperties(p.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),p.mixIn=function(a){for(let b of Object.getOwnPropertyNames(p.prototype))if(!(b in a)){let c=Object.getOwnPropertyDescriptor(p.prototype,b);Object.defineProperty(a,b,c)}},p.Promise=a.g.Promise;let w=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function y(a){if(a=`${a}`,w.test(a)||""===a)throw TypeError(`${a} is not a legal HTTP header name`)}function z(a){if(a=`${a}`,x.test(a))throw TypeError(`${a} is not a legal HTTP header value`)}function A(a,b){for(let c in b=b.toLowerCase(),a)if(c.toLowerCase()===b)return c}let B=Symbol("map");class C{constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[B]=Object.create(null),a instanceof C){let b=a.raw();for(let a of Object.keys(b))for(let c of b[a])this.append(a,c);return}if(null==a);else if("object"==typeof a){let b=a[Symbol.iterator];if(null!=b){if("function"!=typeof b)throw TypeError("Header pairs must be iterable");let c=[];for(let b of a){if("object"!=typeof b||"function"!=typeof b[Symbol.iterator])throw TypeError("Each header pair must be iterable");c.push(Array.from(b))}for(let a of c){if(2!==a.length)throw TypeError("Each header pair must be a name/value tuple");this.append(a[0],a[1])}}else for(let b of Object.keys(a)){let c=a[b];this.append(b,c)}}else throw TypeError("Provided initializer must be an object")}get(a){y(a=`${a}`);let b=A(this[B],a);return void 0===b?null:this[B][b].join(", ")}forEach(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=D(this),d=0;for(;d<c.length;){var e=c[d];let f=e[0],g=e[1];a.call(b,g,f,this),c=D(this),d++}}set(a,b){a=`${a}`,b=`${b}`,y(a),z(b);let c=A(this[B],a);this[B][void 0!==c?c:a]=[b]}append(a,b){a=`${a}`,b=`${b}`,y(a),z(b);let c=A(this[B],a);void 0!==c?this[B][c].push(b):this[B][a]=[b]}has(a){return y(a=`${a}`),void 0!==A(this[B],a)}delete(a){y(a=`${a}`);let b=A(this[B],a);void 0!==b&&delete this[B][b]}raw(){return this[B]}keys(){return F(this,"key")}values(){return F(this,"value")}[Symbol.iterator](){return F(this,"key+value")}}function D(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(a[B]).sort().map("key"===b?function(a){return a.toLowerCase()}:"value"===b?function(b){return a[B][b].join(", ")}:function(b){return[b.toLowerCase(),a[B][b].join(", ")]})}C.prototype.entries=C.prototype[Symbol.iterator],Object.defineProperty(C.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(C.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let E=Symbol("internal");function F(a,b){let c=Object.create(G);return c[E]={target:a,kind:b,index:0},c}let G=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==G)throw TypeError("Value of `this` is not a HeadersIterator");var a=this[E];let b=a.target,c=a.kind,d=a.index,e=D(b,c);return d>=e.length?{value:void 0,done:!0}:(this[E].index=d+1,{value:e[d],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(G,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let H=Symbol("Response internals"),I=d.default.STATUS_CODES;class J{constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.call(this,a,b);let c=b.status||200,d=new C(b.headers);if(null!=a&&!d.has("Content-Type")){let b=u(a);b&&d.append("Content-Type",b)}this[H]={url:b.url,status:c,statusText:b.statusText||I[c],headers:d,counter:b.counter}}get url(){return this[H].url||""}get status(){return this[H].status}get ok(){return this[H].status>=200&&this[H].status<300}get redirected(){return this[H].counter>0}get statusText(){return this[H].statusText}get headers(){return this[H].headers}clone(){return new J(t(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}p.mixIn(J.prototype),Object.defineProperties(J.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let K=Symbol("Request internals"),L=e.default.URL||f.default.URL,M=e.default.parse,N=e.default.format;function O(a){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(a)&&(a=new L(a).toString()),M(a)}let P="destroy"in c.default.Readable.prototype;function Q(a){return"object"==typeof a&&"object"==typeof a[K]}class R{constructor(a){let b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Q(a)?b=O(a.url):(b=a&&a.href?O(a.href):O(`${a}`),a={});let d=c.method||a.method||"GET";if(d=d.toUpperCase(),(null!=c.body||Q(a)&&null!==a.body)&&("GET"===d||"HEAD"===d))throw TypeError("Request with GET/HEAD method cannot have body");let e=null!=c.body?c.body:Q(a)&&null!==a.body?t(a):null;p.call(this,e,{timeout:c.timeout||a.timeout||0,size:c.size||a.size||0});let f=new C(c.headers||a.headers||{});if(null!=e&&!f.has("Content-Type")){let a=u(e);a&&f.append("Content-Type",a)}let g=Q(a)?a.signal:null;if("signal"in c&&(g=c.signal),null!=g&&!function(a){let b=a&&"object"==typeof a&&Object.getPrototypeOf(a);return!!(b&&"AbortSignal"===b.constructor.name)}(g))throw TypeError("Expected signal to be an instanceof AbortSignal");this[K]={method:d,redirect:c.redirect||a.redirect||"follow",headers:f,parsedURL:b,signal:g},this.follow=void 0!==c.follow?c.follow:void 0!==a.follow?a.follow:20,this.compress=void 0!==c.compress?c.compress:void 0===a.compress||a.compress,this.counter=c.counter||a.counter||0,this.agent=c.agent||a.agent}get method(){return this[K].method}get url(){return N(this[K].parsedURL)}get headers(){return this[K].headers}get redirect(){return this[K].redirect}get signal(){return this[K].signal}clone(){return new R(this)}}function S(a){Error.call(this,a),this.type="aborted",this.message=a,Error.captureStackTrace(this,this.constructor)}p.mixIn(R.prototype),Object.defineProperty(R.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(R.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S.prototype.name="AbortError";let T=e.default.URL||f.default.URL,U=c.default.PassThrough,V=function(a,b){let c=new T(b).hostname,d=new T(a).hostname;return c===d||"."===c[c.length-d.length-1]&&c.endsWith(d)};function W(a,b){if(!W.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return p.Promise=W.Promise,new W.Promise(function(e,f){var i,j;let k,l,n=new R(a,b),o=function(a){let b=a[K].parsedURL,d=new C(a[K].headers);if(d.has("Accept")||d.set("Accept","*/*"),!b.protocol||!b.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(b.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(a.signal&&a.body instanceof c.default.Readable&&!P)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let e=null;if(null==a.body&&/^(POST|PUT)$/i.test(a.method)&&(e="0"),null!=a.body){let b=v(a);"number"==typeof b&&(e=String(b))}e&&d.set("Content-Length",e),d.has("User-Agent")||d.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),a.compress&&!d.has("Accept-Encoding")&&d.set("Accept-Encoding","gzip,deflate");let f=a.agent;return"function"==typeof f&&(f=f(b)),Object.assign({},b,{method:a.method,headers:function(a){let b=Object.assign({__proto__:null},a[B]),c=A(a[B],"Host");return void 0!==c&&(b[c]=b[c][0]),b}(d),agent:f})}(n),p=("https:"===o.protocol?g.default:d.default).request,q=n.signal,r=null,t=function(){let a=new S("The user aborted a request.");f(a),n.body&&n.body instanceof c.default.Readable&&X(n.body,a),r&&r.body&&r.body.emit("error",a)};if(q&&q.aborted)return void t();let u=function(){t(),z()},y=p(o);function z(){y.abort(),q&&q.removeEventListener("abort",u),clearTimeout(k)}q&&q.addEventListener("abort",u),n.timeout&&y.once("socket",function(a){k=setTimeout(function(){f(new m(`network timeout at: ${n.url}`,"request-timeout")),z()},n.timeout)}),y.on("error",function(a){f(new m(`request to ${n.url} failed, reason: ${a.message}`,"system",a)),r&&r.body&&X(r.body,a),z()}),i=y,j=function(a){(!q||!q.aborted)&&r&&r.body&&X(r.body,a)},i.on("socket",function(a){l=a}),i.on("response",function(a){let b=a.headers;"chunked"!==b["transfer-encoding"]||b["content-length"]||a.once("close",function(a){if(l&&l.listenerCount("data")>0&&!a){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",j(a)}})}),14>parseInt(process.version.substring(1))&&y.on("socket",function(a){a.addListener("close",function(b){let c=a.listenerCount("data")>0;if(r&&c&&!b&&!(q&&q.aborted)){let a=Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",r.body.emit("error",a)}})}),y.on("response",function(a){clearTimeout(k);let b=function(a){let b=new C;for(let c of Object.keys(a))if(!w.test(c))if(Array.isArray(a[c]))for(let d of a[c])x.test(d)||(void 0===b[B][c]?b[B][c]=[d]:b[B][c].push(d));else x.test(a[c])||(b[B][c]=[a[c]]);return b}(a.headers);if(W.isRedirect(a.statusCode)){let d=b.get("Location"),g=null;try{g=null===d?null:new T(d,n.url).toString()}catch(a){if("manual"!==n.redirect){f(new m(`uri requested responds with an invalid redirect URL: ${d}`,"invalid-redirect")),z();return}}switch(n.redirect){case"error":f(new m(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),z();return;case"manual":if(null!==g)try{b.set("Location",g)}catch(a){f(a)}break;case"follow":var c;if(null===g)break;if(n.counter>=n.follow){f(new m(`maximum redirect reached at: ${n.url}`,"max-redirect")),z();return}let h={headers:new C(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body,signal:n.signal,timeout:n.timeout,size:n.size};if(!V(n.url,g)||(c=n.url,new T(g).protocol!==new T(c).protocol))for(let a of["authorization","www-authenticate","cookie","cookie2"])h.headers.delete(a);if(303!==a.statusCode&&n.body&&null===v(n)){f(new m("Cannot follow redirect with body being a readable stream","unsupported-redirect")),z();return}(303===a.statusCode||(301===a.statusCode||302===a.statusCode)&&"POST"===n.method)&&(h.method="GET",h.body=void 0,h.headers.delete("content-length")),e(W(new R(g,h))),z();return}}a.once("end",function(){q&&q.removeEventListener("abort",u)});let d=a.pipe(new U),g={url:n.url,status:a.statusCode,statusText:a.statusMessage,headers:b,size:n.size,timeout:n.timeout,counter:n.counter},i=b.get("Content-Encoding");if(!n.compress||"HEAD"===n.method||null===i||204===a.statusCode||304===a.statusCode)return void e(r=new J(d,g));let j={flush:h.default.Z_SYNC_FLUSH,finishFlush:h.default.Z_SYNC_FLUSH};if("gzip"==i||"x-gzip"==i)return void e(r=new J(d=d.pipe(h.default.createGunzip(j)),g));if("deflate"==i||"x-deflate"==i){let b=a.pipe(new U);b.once("data",function(a){e(r=new J(d=(15&a[0])==8?d.pipe(h.default.createInflate()):d.pipe(h.default.createInflateRaw()),g))}),b.on("end",function(){r||e(r=new J(d,g))});return}if("br"==i&&"function"==typeof h.default.createBrotliDecompress)return void e(r=new J(d=d.pipe(h.default.createBrotliDecompress()),g));e(r=new J(d,g))});let D=n.body;null===D?y.end():s(D)?D.stream().pipe(y):Buffer.isBuffer(D)?(y.write(D),y.end()):D.pipe(y)})}function X(a,b){a.destroy?a.destroy(b):(a.emit("error",b),a.end())}W.isRedirect=function(a){return 301===a||302===a||303===a||307===a||308===a},W.Promise=a.g.Promise;let Y=W},86301,(a,b,c)=>{b.exports=e;var d=null;try{d=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(a){}function e(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}function f(a){return!0===(a&&a.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=f;var g={},h={};function i(a,b){var c,d,e;if(b)return(a>>>=0,(e=0<=a&&a<256)&&(d=h[a]))?d:(c=k(a,(0|a)<0?-1:0,!0),e&&(h[a]=c),c);return(a|=0,(e=-128<=a&&a<128)&&(d=g[a]))?d:(c=k(a,a<0?-1:0,!1),e&&(g[a]=c),c)}function j(a,b){if(isNaN(a))return b?t:s;if(b){if(a<0)return t;if(a>=p)return y}else{if(a<=-q)return z;if(a+1>=q)return x}return a<0?j(-a,b).neg():k(a%o|0,a/o|0,b)}function k(a,b,c){return new e(a,b,c)}e.fromInt=i,e.fromNumber=j,e.fromBits=k;var l=Math.pow;function m(a,b,c){if(0===a.length)throw Error("empty string");if("NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return s;if("number"==typeof b?(c=b,b=!1):b=!!b,(c=c||10)<2||36<c)throw RangeError("radix");if((d=a.indexOf("-"))>0)throw Error("interior hyphen");if(0===d)return m(a.substring(1),b,c).neg();for(var d,e=j(l(c,8)),f=s,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),i=parseInt(a.substring(g,g+h),c);if(h<8){var k=j(l(c,h));f=f.mul(k).add(j(i))}else f=(f=f.mul(e)).add(j(i))}return f.unsigned=b,f}function n(a,b){return"number"==typeof a?j(a,b):"string"==typeof a?m(a,b):k(a.low,a.high,"boolean"==typeof b?b:a.unsigned)}e.fromString=m,e.fromValue=n;var o=0x100000000,p=0xffffffffffffffff,q=0x8000000000000000,r=i(0x1000000),s=i(0);e.ZERO=s;var t=i(0,!0);e.UZERO=t;var u=i(1);e.ONE=u;var v=i(1,!0);e.UONE=v;var w=i(-1);e.NEG_ONE=w;var x=k(-1,0x7fffffff,!1);e.MAX_VALUE=x;var y=k(-1,-1,!0);e.MAX_UNSIGNED_VALUE=y;var z=k(0,-0x80000000,!1);e.MIN_VALUE=z;var A=e.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},A.toString=function(a){if((a=a||10)<2||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(z))return"-"+this.neg().toString(a);else{var b=j(a),c=this.div(b),d=c.mul(b).sub(this);return c.toString(a)+d.toInt().toString(a)}for(var e=j(l(a,6),this.unsigned),f=this,g="";;){var h=f.div(e),i=(f.sub(h.mul(e)).toInt()>>>0).toString(a);if((f=h).isZero())return i+g;for(;i.length<6;)i="0"+i;g=""+i+g}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(z)?64:this.neg().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;b>0&&(a&1<<b)==0;b--);return 0!=this.high?b+33:b+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return(1&this.low)==1},A.isEven=function(){return(1&this.low)==0},A.equals=function(a){return f(a)||(a=n(a)),(this.unsigned===a.unsigned||this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low},A.eq=A.equals,A.notEquals=function(a){return!this.eq(a)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(a){return 0>this.comp(a)},A.lt=A.lessThan,A.lessThanOrEqual=function(a){return 0>=this.comp(a)},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(a){return this.comp(a)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(a){return this.comp(a)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(a){if(f(a)||(a=n(a)),this.eq(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(z)?z:this.not().add(u)},A.neg=A.negate,A.add=function(a){f(a)||(a=n(a));var b,c,d=this.high>>>16,e=65535&this.high,g=this.low>>>16,h=65535&this.low,i=a.high>>>16,j=65535&a.high,l=a.low>>>16,m=65535&a.low,o=0,p=0;return b=0+((c=0+(h+m))>>>16),c&=65535,b+=g+l,p+=b>>>16,b&=65535,p+=e+j,o+=p>>>16,p&=65535,o+=d+i,k(b<<16|c,(o&=65535)<<16|p,this.unsigned)},A.subtract=function(a){return f(a)||(a=n(a)),this.add(a.neg())},A.sub=A.subtract,A.multiply=function(a){if(this.isZero())return s;if(f(a)||(a=n(a)),d)return k(d.mul(this.low,this.high,a.low,a.high),d.get_high(),this.unsigned);if(a.isZero())return s;if(this.eq(z))return a.isOdd()?z:s;if(a.eq(z))return this.isOdd()?z:s;if(this.isNegative())if(a.isNegative())return this.neg().mul(a.neg());else return this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(r)&&a.lt(r))return j(this.toNumber()*a.toNumber(),this.unsigned);var b,c,e=this.high>>>16,g=65535&this.high,h=this.low>>>16,i=65535&this.low,l=a.high>>>16,m=65535&a.high,o=a.low>>>16,p=65535&a.low,q=0,t=0;return b=0+((c=0+i*p)>>>16),c&=65535,b+=h*p,t+=b>>>16,b&=65535,b+=i*o,t+=b>>>16,b&=65535,t+=g*p,q+=t>>>16,t&=65535,t+=h*o,q+=t>>>16,t&=65535,t+=i*m,q+=t>>>16,t&=65535,q+=e*p+g*o+h*m+i*l,k(b<<16|c,(q&=65535)<<16|t,this.unsigned)},A.mul=A.multiply,A.divide=function(a){if(f(a)||(a=n(a)),a.isZero())throw Error("division by zero");if(d){var b,c,e;return this.unsigned||-0x80000000!==this.high||-1!==a.low||-1!==a.high?k((this.unsigned?d.div_u:d.div_s)(this.low,this.high,a.low,a.high),d.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?t:s;if(this.unsigned){if(a.unsigned||(a=a.toUnsigned()),a.gt(this))return t;if(a.gt(this.shru(1)))return v;e=t}else{if(this.eq(z))if(a.eq(u)||a.eq(w))return z;else return a.eq(z)?u:(b=this.shr(1).div(a).shl(1)).eq(s)?a.isNegative()?u:w:(c=this.sub(a.mul(b)),e=b.add(c.div(a)));if(a.eq(z))return this.unsigned?t:s;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();e=s}for(c=this;c.gte(a);){for(var g=Math.ceil(Math.log(b=Math.max(1,Math.floor(c.toNumber()/a.toNumber())))/Math.LN2),h=g<=48?1:l(2,g-48),i=j(b),m=i.mul(a);m.isNegative()||m.gt(c);)b-=h,m=(i=j(b,this.unsigned)).mul(a);i.isZero()&&(i=u),e=e.add(i),c=c.sub(m)}return e},A.div=A.divide,A.modulo=function(a){return(f(a)||(a=n(a)),d)?k((this.unsigned?d.rem_u:d.rem_s)(this.low,this.high,a.low,a.high),d.get_high(),this.unsigned):this.sub(this.div(a).mul(a))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return k(~this.low,~this.high,this.unsigned)},A.and=function(a){return f(a)||(a=n(a)),k(this.low&a.low,this.high&a.high,this.unsigned)},A.or=function(a){return f(a)||(a=n(a)),k(this.low|a.low,this.high|a.high,this.unsigned)},A.xor=function(a){return f(a)||(a=n(a)),k(this.low^a.low,this.high^a.high,this.unsigned)},A.shiftLeft=function(a){return(f(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?k(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):k(0,this.low<<a-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(a){return(f(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?k(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):k(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(a){if(f(a)&&(a=a.toInt()),0==(a&=63))return this;var b=this.high;return a<32?k(this.low>>>a|b<<32-a,b>>>a,this.unsigned):32===a?k(b,0,this.unsigned):k(b>>>a-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?k(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:k(this.low,this.high,!0)},A.toBytes=function(a){return a?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]},A.toBytesBE=function(){var a=this.high,b=this.low;return[a>>>24,a>>>16&255,a>>>8&255,255&a,b>>>24,b>>>16&255,b>>>8&255,255&b]},e.fromBytes=function(a,b,c){return c?e.fromBytesLE(a,b):e.fromBytesBE(a,b)},e.fromBytesLE=function(a,b){return new e(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24,b)},e.fromBytesBE=function(a,b){return new e(a[4]<<24|a[5]<<16|a[6]<<8|a[7],a[0]<<24|a[1]<<16|a[2]<<8|a[3],b)}},91919,(a,b,c)=>{!function(b,c,d){function e(a){var b,c=this,d=(b=0xefc8249d,function(a){a=String(a);for(var c=0;c<a.length;c++){var d=.02519603282416938*(b+=a.charCodeAt(c));b=d>>>0,d-=b,d*=b,b=d>>>0,d-=b,b+=0x100000000*d}return(b>>>0)*23283064365386963e-26});c.next=function(){var a=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=a-(c.c=0|a)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(a),c.s0<0&&(c.s0+=1),c.s1-=d(a),c.s1<0&&(c.s1+=1),c.s2-=d(a),c.s2<0&&(c.s2+=1)}function f(a,b){return b.c=a.c,b.s0=a.s0,b.s1=a.s1,b.s2=a.s2,b}function g(a,b){var c=new e(a),d=b&&b.state,g=c.next;return g.int32=function(){return 0x100000000*c.next()|0},g.double=function(){return g()+(2097152*g()|0)*11102230246251565e-32},g.quick=g,d&&("object"==typeof d&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.alea=g}(a.e,b,"function"==typeof define&&define)},734,(a,b,c)=>{!function(b,c,d){function e(a){var b=this,c="";b.x=0,b.y=0,b.z=0,b.w=0,b.next=function(){var a=b.x^b.x<<11;return b.x=b.y,b.y=b.z,b.z=b.w,b.w^=b.w>>>19^a^a>>>8},a===(0|a)?b.x=a:c+=a;for(var d=0;d<c.length+64;d++)b.x^=c.charCodeAt(d),b.next()}function f(a,b){return b.x=a.x,b.y=a.y,b.z=a.z,b.w=a.w,b}function g(a,b){var c=new e(a),d=b&&b.state,g=function(){return(c.next()>>>0)/0x100000000};return g.double=function(){do var a=((c.next()>>>11)+(c.next()>>>0)/0x100000000)/2097152;while(0===a)return a},g.int32=c.next,g.quick=g,d&&("object"==typeof d&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.xor128=g}(a.e,b,"function"==typeof define&&define)},96209,(a,b,c)=>{!function(b,c,d){function e(a){var b=this,c="";b.next=function(){var a=b.x^b.x>>>2;return b.x=b.y,b.y=b.z,b.z=b.w,b.w=b.v,(b.d=b.d+362437|0)+(b.v=b.v^b.v<<4^(a^a<<1))|0},b.x=0,b.y=0,b.z=0,b.w=0,b.v=0,a===(0|a)?b.x=a:c+=a;for(var d=0;d<c.length+64;d++)b.x^=c.charCodeAt(d),d==c.length&&(b.d=b.x<<10^b.x>>>4),b.next()}function f(a,b){return b.x=a.x,b.y=a.y,b.z=a.z,b.w=a.w,b.v=a.v,b.d=a.d,b}function g(a,b){var c=new e(a),d=b&&b.state,g=function(){return(c.next()>>>0)/0x100000000};return g.double=function(){do var a=((c.next()>>>11)+(c.next()>>>0)/0x100000000)/2097152;while(0===a)return a},g.int32=c.next,g.quick=g,d&&("object"==typeof d&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.xorwow=g}(a.e,b,"function"==typeof define&&define)},33556,(a,b,c)=>{!function(b,c,d){function e(a){var b=this;b.next=function(){var a,c,d=b.x,e=b.i;return a=d[e],a^=a>>>7,c=a^a<<24^((a=d[e+1&7])^a>>>10)^((a=d[e+3&7])^a>>>3)^((a=d[e+4&7])^a<<7),a=d[e+7&7],a^=a<<13,c^=a^a<<9,d[e]=c,b.i=e+1&7,c};var c,d=a,e=[];if(d===(0|d))e[0]=d;else for(c=0,d=""+d;c<d.length;++c)e[7&c]=e[7&c]<<15^d.charCodeAt(c)+e[c+1&7]<<13;for(;e.length<8;)e.push(0);for(c=0;c<8&&0===e[c];++c);for(8==c?e[7]=-1:e[c],b.x=e,b.i=0,c=256;c>0;--c)b.next()}function f(a,b){return b.x=a.x.slice(),b.i=a.i,b}function g(a,b){null==a&&(a=+new Date);var c=new e(a),d=b&&b.state,g=function(){return(c.next()>>>0)/0x100000000};return g.double=function(){do var a=((c.next()>>>11)+(c.next()>>>0)/0x100000000)/2097152;while(0===a)return a},g.int32=c.next,g.quick=g,d&&(d.x&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.xorshift7=g}(a.e,b,"function"==typeof define&&define)},21073,(a,b,c)=>{!function(b,c,d){function e(a){var b=this;b.next=function(){var a,c,d=b.w,e=b.X,f=b.i;return b.w=d=d+0x61c88647|0,c=e[f+34&127],a=e[f=f+1&127],c^=c<<13,a^=a<<17,c^=c>>>15,a^=a>>>12,c=e[f]=c^a,b.i=f,c+(d^d>>>16)|0},!function(a,b){var c,d,e,f,g,h=[],i=128;for(b===(0|b)?(d=b,b=null):(b+="\0",d=0,i=Math.max(i,b.length)),e=0,f=-32;f<i;++f)b&&(d^=b.charCodeAt((f+32)%b.length)),0===f&&(g=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,f>=0&&(g=g+0x61c88647|0,e=0==(c=h[127&f]^=d+g)?e+1:0);for(e>=128&&(h[127&(b&&b.length||0)]=-1),e=127,f=512;f>0;--f)d=h[e+34&127],c=h[e=e+1&127],d^=d<<13,c^=c<<17,d^=d>>>15,c^=c>>>12,h[e]=d^c;a.w=g,a.X=h,a.i=e}(b,a)}function f(a,b){return b.i=a.i,b.w=a.w,b.X=a.X.slice(),b}function g(a,b){null==a&&(a=+new Date);var c=new e(a),d=b&&b.state,g=function(){return(c.next()>>>0)/0x100000000};return g.double=function(){do var a=((c.next()>>>11)+(c.next()>>>0)/0x100000000)/2097152;while(0===a)return a},g.int32=c.next,g.quick=g,d&&(d.X&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.xor4096=g}(a.e,b,"function"==typeof define&&define)},20251,(a,b,c)=>{!function(b,c,d){function e(a){var b=this,c="";b.next=function(){var a=b.b,c=b.c,d=b.d,e=b.a;return a=a<<25^a>>>7^c,c=c-d|0,d=d<<24^d>>>8^e,e=e-a|0,b.b=a=a<<20^a>>>12^c,b.c=c=c-d|0,b.d=d<<16^c>>>16^e,b.a=e-a|0},b.a=0,b.b=0,b.c=-0x61c88647,b.d=0x517cc1b7,a===Math.floor(a)?(b.a=a/0x100000000|0,b.b=0|a):c+=a;for(var d=0;d<c.length+20;d++)b.b^=c.charCodeAt(d),b.next()}function f(a,b){return b.a=a.a,b.b=a.b,b.c=a.c,b.d=a.d,b}function g(a,b){var c=new e(a),d=b&&b.state,g=function(){return(c.next()>>>0)/0x100000000};return g.double=function(){do var a=((c.next()>>>11)+(c.next()>>>0)/0x100000000)/2097152;while(0===a)return a},g.int32=c.next,g.quick=g,d&&("object"==typeof d&&f(d,c),g.state=function(){return f(c,{})}),g}if(c&&c.exports)c.exports=g;else if(d&&d.amd)a.r,void 0!==g&&a.v(g);else this.tychei=g}(a.e,b,"function"==typeof define&&define)},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},75303,(a,b,c)=>{!function(c,d,e){var f,g="random",h=e.pow(256,6),i=e.pow(2,52),j=2*i;function k(a,b,k){var p=[],q=n(function a(b,c){var d,e=[],f=typeof b;if(c&&"object"==f)for(d in b)try{e.push(a(b[d],c-1))}catch(a){}return e.length?e:"string"==f?b:b+"\0"}((b=!0==b?{entropy:!0}:b||{}).entropy?[a,o(d)]:null==a?function(){try{var a;return f&&(a=f.randomBytes)?a=a(256):(a=new Uint8Array(256),(c.crypto||c.msCrypto).getRandomValues(a)),o(a)}catch(a){var b=c.navigator,e=b&&b.plugins;return[+new Date,c,e,c.screen,o(d)]}}():a,3),p),r=new l(p),s=function(){for(var a=r.g(6),b=h,c=0;a<i;)a=(a+c)*256,b*=256,c=r.g(1);for(;a>=j;)a/=2,b/=2,c>>>=1;return(a+c)/b};return s.int32=function(){return 0|r.g(4)},s.quick=function(){return r.g(4)/0x100000000},s.double=s,n(o(r.S),d),(b.pass||k||function(a,b,c,d){return(d&&(d.S&&m(d,r),a.state=function(){return m(r,{})}),c)?(e[g]=a,b):a})(s,q,"global"in b?b.global:this==e,b.state)}function l(a){var b,c=a.length,d=this,e=0,f=d.i=d.j=0,g=d.S=[];for(c||(a=[c++]);e<256;)g[e]=e++;for(e=0;e<256;e++)g[e]=g[f=255&f+a[e%c]+(b=g[e])],g[f]=b;(d.g=function(a){for(var b,c=0,e=d.i,f=d.j,g=d.S;a--;)b=g[e=255&e+1],c=256*c+g[255&(g[e]=g[f=255&f+b])+(g[f]=b)];return d.i=e,d.j=f,c})(256)}function m(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function n(a,b){for(var c,d=a+"",e=0;e<d.length;)b[255&e]=255&(c^=19*b[255&e])+d.charCodeAt(e++);return o(b)}function o(a){return String.fromCharCode.apply(0,a)}if(n(e.random(),d),b.exports){b.exports=k;try{f=a.r(54799)}catch(a){}}else if("function"==typeof define&&define.amd)a.r,void 0!==k&&a.v(k);else e["seed"+g]=k}("undefined"!=typeof self?self:a.e,[],Math)},99416,(a,b,c)=>{var d=a.r(91919),e=a.r(734),f=a.r(96209),g=a.r(33556),h=a.r(21073),i=a.r(20251),j=a.r(75303);j.alea=d,j.xor128=e,j.xorwow=f,j.xorshift7=g,j.xor4096=h,j.tychei=i,b.exports=j},99348,(a,b,c)=>{b.exports=a.x("string_decoder",()=>require("string_decoder"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},42868,a=>{"use strict";let b,c,d,e,f,g,h,i;a.s(["default",()=>B4],42868);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a.i(87924),z=a.i(72131),A=a.i(46271);class B{constructor(a,b){this.backend=a,this.dataMover=b,this.data=new WeakMap,this.dataIdsCount=0}get(a){return this.data.has(a)||this.dataMover.moveData(this.backend,a),this.data.get(a)}set(a,b){this.dataIdsCount++,this.data.set(a,b)}has(a){return this.data.has(a)}delete(a){return this.dataIdsCount--,this.data.delete(a)}numDataIds(){return this.dataIdsCount}}class C{refCount(a){return D("refCount")}incRef(a){return D("incRef")}timerAvailable(){return!0}time(a){return D("time")}read(a){return D("read")}readSync(a){return D("readSync")}readToGPU(a,b){return D("readToGPU")}numDataIds(){return D("numDataIds")}disposeData(a,b){return D("disposeData")}write(a,b,c){return D("write")}move(a,b,c,d,e){return D("move")}createTensorFromGPUData(a,b,c){return D("createTensorFromGPUData")}memory(){return D("memory")}floatPrecision(){return D("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return D("dispose")}}function D(a){throw Error(`'${a}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function E(a){let b=a.length,c=0;for(;b>0;)c=Math.random()*b|0,I(a,--b,c)}function F(a,b){if(a.length!==b.length)throw Error(`Array sizes must match to be shuffled together First array length was ${a.length}Second array length was ${b.length}`);let c=a.length,d=0;for(;c>0;)d=Math.random()*c|0,I(a,--c,d),I(b,c,d)}function G(a,b,c){return Math.max(a,Math.min(b,c))}function H(a){return a%2==0?a:a+1}function I(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function J(a){let b=0;for(let c=0;c<a.length;c++)b+=a[c];return b}function K(a,b){let c=Math.random();return b*c+(1-c)*a}function L(a,b){let c=0;for(let d=0;d<a.length;d++){let e=Number(a[d])-Number(b[d]);c+=e*e}return c}function M(a,b){if(!a)throw Error("string"==typeof b?b:b())}function N(a,b,c=""){M(S(a,b),()=>c+` Shapes ${a} and ${b} must match`)}function O(a){M(null!=a,()=>"The input to the tensor constructor must be a non-null value.")}function P(a){if(0===a.length)return 1;let b=a[0];for(let c=1;c<a.length;c++)b*=a[c];return b}function Q(a){return 0===a.length}function R(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(null!==a[c]&&null!==b[c]&&a[c]!==b[c])return!1;return!0}function S(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function T(a){return a%1==0}function U(a){if(null!=Math.tanh)return Math.tanh(a);if(a===1/0)return 1;{if(a===-1/0)return -1;let b=Math.exp(2*a);return(b-1)/(b+1)}}function V(a){let b=Math.ceil(Math.sqrt(a));return[b,Math.ceil(a/b)]}function W(a){let b=new Uint32Array(a);for(let c=0;c<a;++c)b[c]=c;return E(b),b}function X(a,b){return b<=a.length?a:a+" ".repeat(b-a.length)}function Y(a,b=a=>0,c,d){return new Promise((e,f)=>{let g=0,h=()=>{if(a())return void e();let i=b(++g);if(null!=c&&g>=c)return void f();null!=d?d(h,i):setTimeout(h,i)};h()})}function Z(a,b){let c=1,d=-1;for(let b=0;b<a.length;++b)if(a[b]>=0)c*=a[b];else if(-1===a[b]){if(-1!==d)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${d} and dim ${b}`);d=b}else if(a[b]<0)throw Error(`Shapes can not be < 0. Found ${a[b]} at dim ${b}`);if(-1===d){if(b>0&&b!==c)throw Error(`Size(${b}) must match the product of shape ${a}`);return a}if(0===c)throw Error(`Cannot infer the missing size in [${a}] when there are 0 elements`);if(b%c!=0)throw Error(`The implicit shape can't be a fractional number. Got ${b} / ${c}`);let e=a.slice();return e[d]=b/c,e}function $(a,b){let c=b.length;return M((a=null==a?b.map((a,b)=>b):[].concat(a)).every(a=>a>=-c&&a<c),()=>`All values in axis param must be in range [-${c}, ${c}) but got axis ${a}`),M(a.every(a=>T(a)),()=>`All values in axis param must be integers but got axis ${a}`),a.map(a=>a<0?c+a:a)}function _(a,b){let c=[],d=[],e=null!=b&&Array.isArray(b)&&0===b.length,f=null==b||e?null:$(b,a).sort(),g=0;for(let b=0;b<a.length;++b){if(null!=f){if(f[g]===b&&1!==a[b])throw Error(`Can't squeeze axis ${b} since its dim '${a[b]}' is not 1`);(null==f[g]||f[g]>b)&&1===a[b]&&(c.push(a[b]),d.push(b)),f[g]<=b&&g++}1!==a[b]&&(c.push(a[b]),d.push(b))}return{newShape:c,keptDims:d}}function aa(a,b){return ab(a,b)}function ab(a,b){let c=null;if(null==a||"float32"===a)c=new Float32Array(b);else if("int32"===a)c=new Int32Array(b);else if("bool"===a)c=new Uint8Array(b);else if("string"===a)c=Array(b);else throw Error(`Unknown data type ${a}`);return c}function ac(a,b){for(let c=0;c<a.length;c++){let d=a[c];if(isNaN(d)||!isFinite(d))throw Error(`A tensor of type ${b} being uploaded contains ${d}.`)}}function ad(a){return"bool"===a||"complex64"===a||"float32"===a||"int32"===a||"string"===a}function ae(a,b){return"complex64"!==b&&("float32"!==b||"complex64"===a)&&("int32"!==b||"float32"===a||"complex64"===a)&&("bool"!==b||"bool"!==a)}function af(a){if("float32"===a||"int32"===a)return 4;if("complex64"===a)return 8;if("bool"===a)return 1;throw Error(`Unknown dtype ${a}`)}function ag(a){if(null==a)return 0;let b=0;return a.forEach(a=>b+=a.length),b}function ah(a){return"string"==typeof a||a instanceof String}function ai(a){return"boolean"==typeof a}function aj(a){return"number"==typeof a}function ak(a){if(Array.isArray(a))return ak(a[0]);if(a instanceof Float32Array);else if(a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray)return"int32";else if(aj(a));else if(ah(a))return"string";else if(ai(a))return"bool";return"float32"}function al(a){return!!(a&&a.constructor&&a.call&&a.apply)}function am(a,b){for(let c=b;c<a;++c)if(a%c==0)return c;return a}function an(a){let b=a.length;if(b<2)return[];let c=Array(b-1);c[b-2]=a[b-1];for(let d=b-3;d>=0;--d)c[d]=c[d+1]*a[d+1];return c}function ao(a,b,c=!1){if(0===a.length)return b[0];let d=a.reduce((a,b)=>a*b)*(c?2:1);if(0===d)return[];if(d!==b.length)throw Error(`[${a}] does not match the input size ${b.length}${c?" for a complex tensor":""}.`);return function a(b,c,d,e=!1){let f=[];if(1===c.length){let a=c[0]*(e?2:1);for(let c=0;c<a;c++)f[c]=d[b+c]}else{let g=c[0],h=c.slice(1),i=h.reduce((a,b)=>a*b)*(e?2:1);for(let c=0;c<g;c++)f[c]=a(b+c*i,h,d,e)}return f}(0,a,b,c)}function ap(a,b){if(Array.isArray(a))return a;if("float32"===b)return a instanceof Float32Array?a:new Float32Array(a);if("int32"===b)return a instanceof Int32Array?a:new Int32Array(a);if("bool"===b||"string"===b)return Uint8Array.from(new Int32Array(a));throw Error(`Unknown dtype ${b}`)}function aq(a,b){let c=ar(a,b);for(let a=0;a<c.length;a++)c[a]=1;return c}function ar(a,b){if(null==b||"float32"===b||"complex64"===b)return new Float32Array(a);if("int32"===b)return new Int32Array(a);if("bool"===b)return new Uint8Array(a);throw Error(`Unknown data type ${b}`)}function as(a,b){let c=a.reduce((a,b)=>a*b,1);if(null==b||"float32"===b)return ao(a,new Float32Array(c));if("int32"===b)return ao(a,new Int32Array(c));if("bool"===b)return ao(a,new Uint8Array(c));throw Error(`Unknown data type ${b}`)}function at(a){a.forEach(b=>{M(Number.isInteger(b)&&b>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${a}].`)})}function au(a,b,c){if(0===b)return 0;if(1===b)return a[0];let d=a[a.length-1];for(let b=0;b<a.length-1;++b)d+=c[b]*a[b];return d}function av(a,b,c){if(0===b)return[];if(1===b)return[a];let d=Array(b);for(let b=0;b<d.length-1;++b)d[b]=Math.floor(a/c[b]),a-=d[b]*c[b];return d[d.length-1]=a,d}function aw(a){return a&&a.then&&"function"==typeof a.then}a.s(["arraysEqual",()=>S,"arraysEqualWithNull",()=>R,"assert",()=>M,"assertNonNegativeIntegerDimensions",()=>at,"assertNonNull",()=>O,"assertShapesMatch",()=>N,"bytesFromStringArray",()=>ag,"bytesPerElement",()=>af,"checkConversionForErrors",()=>ac,"clamp",()=>G,"computeStrides",()=>an,"convertBackendValuesAndArrayBuffer",()=>ap,"createShuffledIndices",()=>W,"distSquared",()=>L,"getArrayFromDType",()=>ab,"getTypedArrayFromDType",()=>aa,"hasEncodingLoss",()=>ae,"indexToLoc",()=>av,"inferDtype",()=>ak,"inferFromImplicitShape",()=>Z,"isBoolean",()=>ai,"isFunction",()=>al,"isInt",()=>T,"isNumber",()=>aj,"isPromise",()=>aw,"isScalarShape",()=>Q,"isString",()=>ah,"isValidDtype",()=>ad,"locToIndex",()=>au,"makeOnesTypedArray",()=>aq,"makeZerosNestedTypedArray",()=>as,"makeZerosTypedArray",()=>ar,"nearestDivisor",()=>am,"nearestLargerEven",()=>H,"parseAxisParam",()=>$,"randUniform",()=>K,"repeatedTry",()=>Y,"rightPad",()=>X,"shuffle",()=>E,"shuffleCombo",()=>F,"sizeFromShape",()=>P,"sizeToSquarishShape",()=>V,"squeezeShape",()=>_,"sum",()=>J,"swap",()=>I,"tanh",()=>U,"toNestedArray",()=>ao],34750);let ax="tfjsflags";class ay{constructor(a){this.global=a,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=az,this.populateURLFlags()}setPlatform(a,b){null==this.platform||aA.getBool("IS_TEST")||aA.getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${a}.`),this.platformName=a,this.platform=b}registerFlag(a,b,c){if(this.flagRegistry[a]={evaluationFn:b,setHook:c},null!=this.urlFlags[a]){let b=this.urlFlags[a];aA.getBool("IS_TEST")||aA.getBool("PROD")||console.warn(`Setting feature override from URL ${a}: ${b}.`),this.set(a,b)}}async getAsync(a){return a in this.flags||(this.flags[a]=await this.evaluateFlag(a)),this.flags[a]}get(a){if(a in this.flags)return this.flags[a];let b=this.evaluateFlag(a);if(aw(b))throw Error(`Flag ${a} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[a]=b,this.flags[a]}getNumber(a){return this.get(a)}getBool(a){return this.get(a)}getString(a){return this.get(a)}getFlags(){return this.flags}get features(){return this.flags}set(a,b){if(null==this.flagRegistry[a])throw Error(`Cannot set flag ${a} as it has not been registered.`);this.flags[a]=b,null!=this.flagRegistry[a].setHook&&this.flagRegistry[a].setHook(b)}evaluateFlag(a){if(null==this.flagRegistry[a])throw Error(`Cannot evaluate flag '${a}': no evaluation function found.`);return this.flagRegistry[a].evaluationFn()}setFlags(a){this.flags=Object.assign({},a)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;let a=this.getQueryParams(this.global.location.search);ax in a&&a[ax].split(",").forEach(a=>{let[b,c]=a.split(":");this.urlFlags[b]=function(a,b){let c=b.toLowerCase();return"true"===c||"false"===c?"true"===c:`${+c}`===c?+c:b}(0,c)})}}function az(a){let b={};return a.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(a,...c)=>{var d,e,f;return d=b,e=c[0],f=c[1],d[decodeURIComponent(e)]=decodeURIComponent(f||""),c.join("=")}),b}let aA=null;function aB(){if(null==b){let c;b=c="undefined"!=typeof window?window:a.g}return b}function aC(a,b){let c=function(){let a=aB();return null==a._tfGlobals&&(a._tfGlobals=new Map),a._tfGlobals}();if(c.has(a))return c.get(a);{let d=b();return c.set(a,d),c.get(a)}}let aD="Acos",aE="Acosh",aF="AddN",aG="ArgMax",aH="ArgMin",aI="Asin",aJ="Asinh",aK="Atan",aL="Atanh",aM="Atan2",aN="AvgPool",aO="AvgPoolGrad",aP="AvgPool3D",aQ="AvgPool3DGrad",aR="BatchMatMul",aS="BatchToSpaceND",aT="Bincount",aU="BitwiseAnd",aV="BroadcastArgs",aW="Cast",aX="Ceil",aY="ClipByValue",aZ="Complex",a$="ComplexAbs",a_="Concat",a0="Conv2D",a1="Conv2DBackpropFilter",a2="Conv2DBackpropInput",a3="Conv3D",a4="Conv3DBackpropFilterV2",a5="Conv3DBackpropInputV2",a6="Cosh",a7="Cumprod",a8="Cumsum",a9="CropAndResize",ba="DenseBincount",bb="DepthToSpace",bc="DepthwiseConv2dNative",bd="DepthwiseConv2dNativeBackpropFilter",be="DepthwiseConv2dNativeBackpropInput",bf="Diag",bg="Dilation2D",bh="Dilation2DBackpropInput",bi="Dilation2DBackpropFilter",bj="Draw",bk="RealDiv",bl="Einsum",bm="EluGrad",bn="Equal",bo="ExpandDims",bp="Expm1",bq="Fill",br="FlipLeftRight",bs="Floor",bt="FloorDiv",bu="FusedBatchNorm",bv="GatherV2",bw="GatherNd",bx="Greater",by="GreaterEqual",bz="Identity",bA="IFFT",bB="Imag",bC="IsFinite",bD="IsInf",bE="IsNan",bF="LeakyRelu",bG="Less",bH="LessEqual",bI="LinSpace",bJ="Log1p",bK="LogicalAnd",bL="LogicalNot",bM="LogicalOr",bN="LRNGrad",bO="Maximum",bP="MaxPool",bQ="MaxPoolGrad",bR="MaxPool3D",bS="MaxPool3DGrad",bT="MaxPoolWithArgmax",bU="Mean",bV="Minimum",bW="MirrorPad",bX="Multinomial",bY="Multiply",bZ="NotEqual",b$="NonMaxSuppressionV3",b_="NonMaxSuppressionV4",b0="NonMaxSuppressionV5",b1="OnesLike",b2="OneHot",b3="Pack",b4="PadV2",b5="Prelu",b6="Prod",b7="RaggedGather",b8="RaggedRange",b9="RaggedTensorToTensor",ca="Range",cb="Real",cc="Reciprocal",cd="Relu",ce="Reshape",cf="ResizeNearestNeighbor",cg="ResizeNearestNeighborGrad",ch="ResizeBilinear",ci="ResizeBilinearGrad",cj="Relu6",ck="Reverse",cl="Round",cm="Rsqrt",cn="ScatterNd",co="TensorScatterUpdate",cp="SearchSorted",cq="Select",cr="Selu",cs="Slice",ct="Sinh",cu="Sign",cv="Sigmoid",cw="Softplus",cx="Sqrt",cy="SpaceToBatchND",cz="SplitV",cA="Softmax",cB="SparseFillEmptyRows",cC="SparseReshape",cD="SparseSegmentMean",cE="SparseSegmentSum",cF="SparseToDense",cG="SquaredDifference",cH="Square",cI="StaticRegexReplace",cJ="StridedSlice",cK="StringNGrams",cL="StringSplit",cM="StringToHashBucketFast",cN="Tanh",cO="Tile",cP="TopK",cQ="Transform",cR="Transpose",cS="Unique",cT="Unpack",cU="UnsortedSegmentSum",cV="ZerosLike",cW="Step",cX="FromPixels",cY="RotateWithOffset",cZ="_FusedMatMul",c$="FusedConv2D",c_="FusedDepthwiseConv2D";function c0(...a){aA.getBool("IS_TEST")||aA.getBool("PROD")||console.warn(...a)}function c1(...a){aA.getBool("IS_TEST")||aA.getBool("PROD")||console.log(...a)}a.s(["log",()=>c1,"warn",()=>c0],84572);let c2=aC("kernelRegistry",()=>new Map),c3=aC("gradRegistry",()=>new Map);function c4(a,b){var c,d;let e=(c=a,d=b,`${d}_${c}`);return c2.get(e)}function c5(a){let b=c2.entries(),c=[];for(;;){let{done:d,value:e}=b.next();if(d)break;let[f,g]=e,[h]=f.split("_");h===a&&c.push(g)}return c}function c6(a){var b,c;let{kernelName:d,backendName:e}=a,f=(b=d,c=e,`${c}_${b}`);c2.has(f)&&c0(`The kernel '${d}' for backend '${e}' is already registered`),c2.set(f,a)}function c7(a){return a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray}function c8(a,b){return"string"===b?dc(a):c9([a],b)}function c9(a,b){var c;if("string"===b)throw Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(a)&&(a=df(a)),aA.getBool("DEBUG")&&ac(a,b),(c=a)instanceof Float32Array&&"float32"===b||c instanceof Int32Array&&"int32"===b||c instanceof Uint8Array&&"bool"===b)return a;if(null==b||"float32"===b||"complex64"===b)return new Float32Array(a);if("int32"===b)return new Int32Array(a);if("bool"===b){let b=new Uint8Array(a.length);for(let c=0;c<b.length;++c)0!==Math.round(a[c])&&(b[c]=1);return b}throw Error(`Unknown data type ${b}`)}function da(){return aA.platform.now()}function db(a,b){return aA.platform.fetch(a,b)}function dc(a,b="utf-8"){return b=b||"utf-8",aA.platform.encode(a,b)}function dd(a,b="utf-8"){return b=b||"utf-8",aA.platform.decode(a,b)}function de(a){return null!=aA.platform.isTypedArray?aA.platform.isTypedArray(a):c7(a)}function df(a,b=[],c=!1){if(null==b&&(b=[]),"boolean"==typeof a||"number"==typeof a||"string"==typeof a||aw(a)||null==a||de(a)&&c)b.push(a);else if(Array.isArray(a)||de(a))for(let d=0;d<a.length;++d)df(a[d],b,c);else{let d=-1;for(let b of Object.keys(a))/^([1-9]+[0-9]*|0)$/.test(b)&&(d=Math.max(d,Number(b)));for(let e=0;e<=d;e++)df(a[e],b,c)}return b}a.s(["createScalarValue",()=>c8,"decodeString",()=>dd,"encodeString",()=>dc,"fetch",()=>db,"flatten",()=>df,"isTypedArray",()=>de,"now",()=>da,"toTypedArray",()=>c9],17594);class dg{constructor(a,b){this.backendTimer=a,this.logger=b,null==b&&(this.logger=new dh)}profileKernel(a,b,c){let d,e,f=()=>{d=c()},g=da();if(this.backendTimer.timerAvailable())e=this.backendTimer.time(f);else{for(let a of(f(),d))a.dataSync();e=Promise.resolve({kernelMs:da()-g})}if(aA.getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let b=0;b<d.length;b++){let c=d[b];c.data().then(b=>{!function(a,b,c){if("float32"===b)for(let b=0;b<a.length;b++){let d=a[b];if(isNaN(d)||!isFinite(d))return console.warn(`Found ${d} in the result of '${c}'`),!0}}(b,c.dtype,a)})}return{kernelName:a,outputs:d,inputs:b,timeMs:e.then(a=>a.kernelMs),extraInfo:e.then(a=>null!=a.getExtraProfileInfo?a.getExtraProfileInfo():"")}}logKernelProfile(a){let{kernelName:b,outputs:c,timeMs:d,inputs:e,extraInfo:f}=a;c.forEach(a=>{Promise.all([a.data(),d,f]).then(c=>{this.logger.logKernelProfile(b,a,c[0],c[1],e,c[2])})})}}class dh{logKernelProfile(a,b,c,d,e,f){let g="number"==typeof d?X(`${d}ms`,9):d.error,h=X(a,25),i=b.rank,j=b.size,k=X(b.shape.toString(),14),l="";for(let a in e){let c=e[a];if(null!=c){let d=c.shape||b.shape,e=d.length;l+=`${a}: ${e}D ${e>0?d:""} `}}console.log(`%c${h}	%c${g}	%c${i}D ${k}	%c${j}	%c${l}	%c${f}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function di(a,b,c){return X(Array.isArray(a)?`${parseFloat(a[0].toFixed(7))} + ${parseFloat(a[1].toFixed(7))}j`:ah(a)?`'${a}'`:"bool"===c?dj(a):parseFloat(a.toFixed(7)).toString(),b)}function dj(a){return 0===a?"false":"true"}function dk(a){let b=[];for(let c=0;c<a.length;c+=2)b.push([a[c],a[c+1]]);return b}class dl{constructor(a,b,c){if(this.dtype=b,this.shape=a.slice(),this.size=P(a),null!=c){let a=c.length;M(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===b)throw Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=c||ab(b,this.size),this.strides=an(a)}set(a,...b){0===b.length&&(b=[0]),M(b.length===this.rank,()=>`The number of provided coordinates (${b.length}) must match the rank (${this.rank})`);let c=this.locToIndex(b);this.values[c]=a}get(...a){0===a.length&&(a=[0]);let b=0;for(let c of a){if(c<0||c>=this.shape[b])throw Error(`Requested out of range element at ${a}.   Buffer shape=${this.shape}`);b++}let c=a[a.length-1];for(let b=0;b<a.length-1;++b)c+=this.strides[b]*a[b];return this.values[c]}locToIndex(a){if(0===this.rank)return 0;if(1===this.rank)return a[0];let b=a[a.length-1];for(let c=0;c<a.length-1;++c)b+=this.strides[c]*a[c];return b}indexToLoc(a){if(0===this.rank)return[];if(1===this.rank)return[a];let b=Array(this.shape.length);for(let c=0;c<b.length-1;++c)b[c]=Math.floor(a/this.strides[c]),a-=b[c]*this.strides[c];return b[b.length-1]=a,b}get rank(){return this.shape.length}toTensor(){return dm().makeTensor(this.values,this.shape,this.dtype)}}let dm=null,dn=null;class dp{constructor(a,b,c,d){this.kept=!1,this.isDisposedInternal=!1,this.shape=a.slice(),this.dtype=b||"float32",this.size=P(a),this.strides=an(a),this.dataId=c,this.id=d,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){let a=await this.data();return dn.buffer(this.shape,this.dtype,a)}bufferSync(){return dn.buffer(this.shape,this.dtype,this.dataSync())}async array(){let a=await this.data();return ao(this.shape,a,"complex64"===this.dtype)}arraySync(){return ao(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();let a=dm().read(this.dataId);if("string"===this.dtype){let b=await a;try{return b.map(a=>dd(a))}catch(a){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return a}dataToGPU(a){return this.throwIfDisposed(),dm().readToGPU(this.dataId,a)}dataSync(){this.throwIfDisposed();let a=dm().readSync(this.dataId);if("string"===this.dtype)try{return a.map(a=>dd(a))}catch(a){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return a}async bytes(){this.throwIfDisposed();let a=await dm().read(this.dataId);return"string"===this.dtype?a:new Uint8Array(a.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),dm().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw Error("Tensor is disposed.")}print(a=!1){return dn.print(this,a)}clone(){return this.throwIfDisposed(),dn.clone(this)}toString(a=!1){return function(a,b,c,d){let e=an(b),f=function(a,b,c,d){let e=P(b),f=d[d.length-1],g=Array(f).fill(0),h=b.length,i="complex64"===c?dk(a):a;if(h>1)for(let a=0;a<e/f;a++){let b=a*f;for(let a=0;a<f;a++)g[a]=Math.max(g[a],di(i[b+a],0,c).length)}return g}(a,b,c,e),g=b.length,h=function a(b,c,d,e,f,g=!0){let h="complex64"===d?2:1,i=c[0],j=c.length;if(0===j)return"complex64"===d?[di(dk(b)[0],0,d)]:"bool"===d?[dj(b[0])]:[b[0].toString()];if(1===j){if(i>20){let a=Array.from(b.slice(0,3*h)),c=Array.from(b.slice((i-3)*h,i*h));return"complex64"===d&&(a=dk(a),c=dk(c)),["["+a.map((a,b)=>di(a,f[b],d)).join(", ")+", ..., "+c.map((a,b)=>di(a,f[i-3+b],d)).join(", ")+"]"]}return["["+("complex64"===d?dk(b):Array.from(b)).map((a,b)=>di(a,f[b],d)).join(", ")+"]"]}let k=c.slice(1),l=e.slice(1),m=e[0]*h,n=[];if(i>20){for(let c=0;c<3;c++){let e=c*m,g=e+m;n.push(...a(b.slice(e,g),k,d,l,f,!1))}n.push("...");for(let c=i-3;c<i;c++){let e=c*m,g=e+m;n.push(...a(b.slice(e,g),k,d,l,f,c===i-1))}}else for(let c=0;c<i;c++){let e=c*m,g=e+m;n.push(...a(b.slice(e,g),k,d,l,f,c===i-1))}let o=2===j?",":"";n[0]="["+(i>0?n[0]+o:"");for(let a=1;a<n.length-1;a++)n[a]=" "+n[a]+o;let p=",\n";for(let a=2;a<j;a++)p+="\n";return n[n.length-1]=" "+n[n.length-1]+"]"+(g?"":p),n}(a,b,c,e,f),i=["Tensor"];return d&&(i.push(`  dtype: ${c}`),i.push(`  rank: ${g}`),i.push(`  shape: [${b}]`),i.push("  values:")),i.push(h.map(a=>"    "+a).join("\n")),i.join("\n")}(this.dataSync(),this.shape,this.dtype,a)}cast(a){return this.throwIfDisposed(),dn.cast(this,a)}variable(a=!0,b,c){return this.throwIfDisposed(),dm().makeVariable(this,a,b,c)}}function dq(){return aC("Tensor",()=>dp)}Object.defineProperty(dp,Symbol.hasInstance,{value:a=>!!a&&null!=a.data&&null!=a.dataSync&&null!=a.throwIfDisposed}),dq();class dr extends dp{constructor(a,b,c,d){super(a.shape,a.dtype,a.dataId,d),this.trainable=b,this.name=c}assign(a){if(a.dtype!==this.dtype)throw Error(`dtype of the new value (${a.dtype}) and previous value (${this.dtype}) must match`);if(!S(a.shape,this.shape))throw Error(`shape of the new value (${a.shape}) and previous value (${this.shape}) must match`);dm().disposeTensor(this),this.dataId=a.dataId,dm().incRef(this,null)}dispose(){dm().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(dr,Symbol.hasInstance,{value:a=>a instanceof dp&&null!=a.assign&&a.assign instanceof Function}),a.s(["assertTypesMatch",()=>dy,"getTensorsInContainer",()=>dA,"isTensorInList",()=>dz,"makeTypesMatch",()=>dx],99899),function(a){a.R0="R0",a.R1="R1",a.R2="R2",a.R3="R3",a.R4="R4",a.R5="R5",a.R6="R6"}(j||(j={})),function(a){a.float32="float32",a.int32="int32",a.bool="int32",a.complex64="complex64"}(k||(k={})),function(a){a.float32="float32",a.int32="int32",a.bool="bool",a.complex64="complex64"}(l||(l={})),function(a){a.float32="float32",a.int32="float32",a.bool="float32",a.complex64="complex64"}(m||(m={})),function(a){a.float32="complex64",a.int32="complex64",a.bool="complex64",a.complex64="complex64"}(n||(n={}));let ds={float32:m,int32:k,bool:l,complex64:n};function dt(a,b){if("string"===a||"string"===b){if("string"===a&&"string"===b)return"string";throw Error(`Can not upcast ${a} with ${b}`)}return ds[a][b]}function du(a){return dt(a,"int32")}function dv(a){return null!=a&&"object"==typeof a&&"texture"in a&&a.texture instanceof WebGLTexture}function dw(a){return"undefined"!=typeof GPUBuffer&&null!=a&&"object"==typeof a&&"buffer"in a&&a.buffer instanceof GPUBuffer}function dx(a,b){if(a.dtype===b.dtype)return[a,b];let c=dt(a.dtype,b.dtype);return[a.cast(c),b.cast(c)]}function dy(a,b){M(a.dtype===b.dtype,()=>`The dtypes of the first(${a.dtype}) and second(${b.dtype}) input must match`)}function dz(a,b){return b.some(b=>b.id===a.id)}function dA(a){let b=[];return function a(b,c,d){var e;if(null!=b){if(b instanceof dp)return void c.push(b);if(Array.isArray(e=b)||"object"==typeof e)for(let e in b){let f=b[e];d.has(f)||(d.add(f),a(f,c,d))}}}(a,b,new Set),b}function dB(a){return null!=a.kernelName}class dC{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(a=>a.name)))}}}dispose(){for(let a in this.registeredVariables)this.registeredVariables[a].dispose()}}class dD{constructor(a){this.ENV=a,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new dC}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;let a=this.getSortedBackends();for(let b=0;b<a.length;b++){let c=a[b];if(await this.initializeBackend(c).success)return void await this.setBackend(c)}throw Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){let{name:a,asyncInit:b}=this.initializeBackendsAndReturnBest();if(b)throw Error(`The highest priority backend '${a}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(a)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(a){if(!(a in this.registry))if(!(a in this.registryFactory))return null;else{let{asyncInit:b}=this.initializeBackend(a);if(b)return null}return this.registry[a]}findBackendFactory(a){return a in this.registryFactory?this.registryFactory[a].factory:null}registerBackend(a,b,c=1){return a in this.registryFactory?(c0(`${a} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[a]={factory:b,priority:c},!0)}async setBackend(a){if(null==this.registryFactory[a])throw Error(`Backend name '${a}' not found in registry`);if(this.backendName=a,null==this.registry[a]){this.backendInstance=null;let{success:b,asyncInit:c}=this.initializeBackend(a);if(!(c?await b:b))return!1}return this.backendInstance=this.registry[a],this.setupRegisteredKernels(),this.profiler=new dg(this.backendInstance),!0}setupRegisteredKernels(){c5(this.backendName).forEach(a=>{null!=a.setupFunc&&a.setupFunc(this.backendInstance)})}disposeRegisteredKernels(a){c5(a).forEach(b=>{null!=b.disposeFunc&&b.disposeFunc(this.registry[a])})}initializeBackend(a){let b=this.registryFactory[a];if(null==b)throw Error(`Cannot initialize backend ${a}, no registration found.`);try{let c=b.factory();if(!c||c instanceof C||"function"!=typeof c.then)return this.registry[a]=c,{success:!0,asyncInit:!1};{let b=++this.pendingBackendInitId,d=c.then(c=>!(b<this.pendingBackendInitId)&&(this.registry[a]=c,this.pendingBackendInit=null,!0)).catch(c=>!(b<this.pendingBackendInitId)&&(this.pendingBackendInit=null,c0(`Initialization of backend ${a} failed`),c0(c.stack||c.message),!1));return this.pendingBackendInit=d,{success:d,asyncInit:!0}}}catch(b){return c0(`Initialization of backend ${a} failed`),c0(b.stack||b.message),{success:!1,asyncInit:!1}}}removeBackend(a){if(!(a in this.registryFactory))throw Error(`${a} backend not found in registry`);this.backendName===a&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,a in this.registry&&(this.disposeRegisteredKernels(a),this.registry[a].dispose(),delete this.registry[a]),delete this.registryFactory[a],this.backendName===a&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((a,b)=>this.registryFactory[b].priority-this.registryFactory[a].priority)}initializeBackendsAndReturnBest(){let a=this.getSortedBackends();for(let b=0;b<a.length;b++){let c=a[b],{success:d,asyncInit:e}=this.initializeBackend(c);if(e||d)return{name:c,asyncInit:e}}throw Error("Could not initialize any backends, all backend initializations failed.")}moveData(a,b){let c=this.state.tensorInfo.get(b),d=c.backend,e=this.readSync(b),f=d.refCount(b);d.disposeData(b,!0),c.backend=a,a.move(b,e,c.shape,c.dtype,f),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(a,b){let c,d=null;if(null==b){if("function"!=typeof a)throw Error("Please provide a function to tidy()");b=a}else{if("string"!=typeof a&&!(a instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof b)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");d=a}return this.scopedRun(()=>this.startScope(d),()=>this.endScope(c),()=>((c=b())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),c))}scopedRun(a,b,c){a();try{let a=c();return b(),a}catch(a){throw b(),a}}nextTensorId(){return dD.nextTensorId++}nextVariableId(){return dD.nextVariableId++}clone(a){let b=dF.runKernel(bz,{x:a});return this.addTapeNode(this.state.activeScope.name,{x:a},[b],a=>({x:()=>dF.runKernel(aW,{x:a},{dtype:"float32"})}),[],{}),b}runKernel(a,b,c){if(null==this.backendName&&this.backend,null==c4(a,this.backendName))throw Error(`Kernel '${a}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:a,inputs:b,attrs:c})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(a,b,c){let d=this.backend.numDataIds(),e=0;c.forEach(a=>{e+="complex64"===a.dtype?3:1});let f=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],g=d-b-e-f;if(g>0)throw Error(`Backend '${this.backendName}' has an internal memory leak (${g} data ids) after running '${a}'`)}runKernelFunc(a){let b,c,d,e,f=[],g=this.isTapeOn(),h=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;let j=dB(a)?a.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(dB(a)){let{kernelName:b,inputs:e,attrs:h}=a;null==this.backendName&&this.backend;let i=c4(b,this.backendName);M(null!=i,()=>`Cannot find registered kernel '${b}' for backend '${this.backendName}'`),c=()=>{let a=this.backend.numDataIds(),c=Array.isArray(d=i.kernelFunc({inputs:e,attrs:h,backend:this.backend}))?d:[d];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(b,a,c);let j=c.map(a=>null!=a.rank?a:this.makeTensorFromTensorInfo(a));if(g){let a=this.getTensorsForGradient(b,e,j);f=this.saveTensorsForBackwardMode(a)}return j}}else{let{forwardFunc:b}=a,e=a=>{g&&(f=a.map(a=>this.keep(this.clone(a))))};c=()=>{let a=this.backend.numDataIds(),c=Array.isArray(d=this.tidy(()=>b(this.backend,e)))?d:[d];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(j,a,c),c}}let{inputs:k,attrs:l}=a,m=dB(a)?null:a.backwardsFunc;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(e=this.profiler.profileKernel(j,k,()=>c()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(e),b=e.outputs):b=c()}),g&&this.addTapeNode(j,k,b,m,f,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:j,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(k).map(a=>null!=k[a]?k[a].shape:null),outputShapes:b.map(a=>a.shape),kernelTimeMs:e.timeMs,extraInfo:e.extraInfo}),Array.isArray(d)?b:b[0]}saveTensorsForBackwardMode(a){return a.map(a=>this.keep(this.clone(a)))}getTensorsForGradient(a,b,c){let d=c3.get(a);if(null!=d){let a,e=d.inputsToSave||[],f=d.outputsToSave||[];d.saveAllInputs?(M(Array.isArray(b),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(b).map(a=>b[a])):a=e.map(a=>b[a]);let g=c.filter((a,b)=>f[b]);return a.concat(g)}return[]}makeTensor(a,b,c,d){if(null==a)throw Error("Values passed to engine.makeTensor() are null");c=c||"float32",d=d||this.backend;let e=a;"string"===c&&ah(a[0])&&(e=a.map(a=>dc(a)));let f=d.write(e,b,c),g=new dp(b,c,f,this.nextTensorId());if(this.trackTensor(g,d),"string"===c){let a=this.state.tensorInfo.get(f),b=ag(e);this.state.numBytes+=b-a.bytes,a.bytes=b}return g}makeTensorFromDataId(a,b,c,d){let e={dataId:a,shape:b,dtype:c=c||"float32"};return this.makeTensorFromTensorInfo(e,d)}makeTensorFromTensorInfo(a,b){let{dataId:c,shape:d,dtype:e}=a,f=new dp(d,e,c,this.nextTensorId());return this.trackTensor(f,b),f}makeVariable(a,b=!0,c,d){c=c||this.nextVariableId().toString(),null!=d&&d!==a.dtype&&(a=a.cast(d));let e=new dr(a,b,c,this.nextTensorId());if(null!=this.state.registeredVariables[e.name])throw Error(`Variable with name ${e.name} was already registered`);return this.state.registeredVariables[e.name]=e,this.incRef(e,this.backend),e}trackTensor(a,b){this.state.numTensors++,"string"===a.dtype&&this.state.numStringTensors++;let c=0;"complex64"!==a.dtype&&"string"!==a.dtype&&(c=a.size*af(a.dtype)),this.state.numBytes+=c,this.state.tensorInfo.has(a.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(a.dataId,{backend:b||this.backend,dtype:a.dtype,shape:a.shape,bytes:c})),a instanceof dr||this.track(a)}incRef(a,b){this.trackTensor(a,b),this.backend.incRef(a.dataId)}removeDataId(a,b){this.state.tensorInfo.has(a)&&this.state.tensorInfo.get(a).backend===b&&(this.state.tensorInfo.delete(a),this.state.numDataBuffers--)}disposeTensor(a){if(!this.state.tensorInfo.has(a.dataId))return;let b=this.state.tensorInfo.get(a.dataId);if(this.state.numTensors--,"string"===a.dtype&&(this.state.numStringTensors--,this.state.numBytes-=b.bytes),"complex64"!==a.dtype&&"string"!==a.dtype){let b=a.size*af(a.dtype);this.state.numBytes-=b}b.backend.disposeData(a.dataId)&&this.removeDataId(a.dataId,b.backend)}disposeVariables(){for(let a in this.state.registeredVariables){let b=this.state.registeredVariables[a];this.disposeVariable(b)}}disposeVariable(a){this.disposeTensor(a),null!=this.state.registeredVariables[a.name]&&delete this.state.registeredVariables[a.name]}memory(){let a=this.backend.memory();return a.numTensors=this.state.numTensors,a.numDataBuffers=this.state.numDataBuffers,a.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(a.unreliable=!0,null==a.reasons&&(a.reasons=[]),a.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),a}async profile(a){this.state.profiling=!0;let b=this.state.numBytes,c=this.state.numTensors;for(let d of(this.state.activeProfile.kernels=[],this.state.activeProfile.result=await a(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-b,this.state.activeProfile.newTensors=this.state.numTensors-c,this.state.activeProfile.kernels))d.kernelTimeMs=await d.kernelTimeMs,d.extraInfo=await d.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(a,b,c,d,e,f){let g={id:this.state.nextTapeNodeId++,kernelName:a,inputs:b,outputs:c,saved:e},h=c3.get(a);null!=h&&(d=h.gradFunc),null!=d&&(g.gradient=a=>(a=a.map((a,b)=>{if(null==a){let a=c[b],d=ar(a.size,a.dtype);return this.makeTensor(d,a.shape,a.dtype)}return a}),d(a.length>1?a:a[0],e,f))),this.state.activeTape.push(g)}keep(a){return a.kept=!0,a}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(a){let b={track:[],name:"unnamed scope",id:this.state.nextScopeId++};a&&(b.name=a),this.state.scopeStack.push(b),this.state.activeScope=b}endScope(a){let b=dA(a),c=new Set(b.map(a=>a.id));for(let a=0;a<this.state.activeScope.track.length;a++){let b=this.state.activeScope.track[a];b.kept||c.has(b.id)||b.dispose()}let d=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],b.forEach(a=>{a.kept||a.scopeId!==d.id||this.track(a)})}gradients(a,b,c,d=!1){if(M(b.length>0,()=>"gradients() received an empty list of xs."),null!=c&&"float32"!==c.dtype)throw Error(`dy must have 'float32' dtype, but has '${c.dtype}'`);let e=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",a));M(e instanceof dp,()=>"The result y returned by f() must be a tensor.");let f=function(a,b,c){let d={},e={};for(let a=0;a<b.length;a++)d[b[a].id]=!0;for(let c=0;c<a.length;c++){let f=a[c],g=f.inputs;for(let a in g){let c=g[a],h=!1;for(let a=0;a<b.length;a++)if(d[c.id]){f.outputs.forEach(a=>d[a.id]=!0),h=!0,e[f.id]=!0;break}if(h)break}}let f={};f[c.id]=!0;let g={};for(let b=a.length-1;b>=0;b--){let c=a[b],d=c.inputs;for(let a=0;a<c.outputs.length;a++)if(f[c.outputs[a].id]){for(let a in d)f[d[a].id]=!0,g[c.id]=!0;break}}let h=[];for(let b=0;b<a.length;b++){let c=a[b];if(e[c.id]&&g[c.id]){let a={};for(let b in c.inputs){let e=c.inputs[b];d[e.id]&&(a[b]=e)}let b=Object.assign({},c);b.inputs=a,b.outputs=c.outputs,h.push(b)}}return h}(this.state.activeTape,b,e);if(!d&&0===f.length&&b.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let a={};a[e.id]=null==c?function(a){let b=aq(P(a),"float32");return dF.makeTensor(b,a,"float32")}(e.shape):c,function(a,b,c,d){for(let e=b.length-1;e>=0;e--){let f=b[e],g=[];if(f.outputs.forEach(b=>{let c=a[b.id];null!=c?g.push(c):g.push(null)}),null==f.gradient)throw Error(`Cannot compute gradient: gradient function not found for ${f.kernelName}.`);let h=f.gradient(g);for(let b in f.inputs){if(!(b in h))throw Error(`Cannot backprop through input ${b}. Available gradients found: ${Object.keys(h)}.`);let e=c(()=>h[b]());if("float32"!==e.dtype)throw Error(`Error in gradient for op ${f.kernelName}. The gradient of input ${b} must have 'float32' dtype, but has '${e.dtype}'`);let g=f.inputs[b];if(!S(e.shape,g.shape))throw Error(`Error in gradient for op ${f.kernelName}. The gradient of input '${b}' has shape '${e.shape}', which does not match the shape of the input '${g.shape}'`);if(null==a[g.id])a[g.id]=e;else{let b=a[g.id];a[g.id]=d(b,e),b.dispose()}}}}(a,f,a=>this.tidy(a),dG);let d=b.map(b=>a[b.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(a=>{for(let b of a.saved)b.dispose()}),this.state.activeTape=null),{value:e,grads:d}})}customGrad(a){return M(al(a),()=>"The f passed in customGrad(f) must be a function."),(...b)=>{let c;M(b.every(a=>a instanceof dp),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let d={};return b.forEach((a,b)=>{d[b]=a}),this.runKernelFunc({forwardFunc:(d,e)=>(M((c=a(...b,e)).value instanceof dp,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),M(al(c.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),c.value),backwardsFunc:(a,d)=>{let e=c.gradFunc(a,d),f=Array.isArray(e)?e:[e];M(f.length===b.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),M(f.every(a=>a instanceof dp),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let g={};return f.forEach((a,b)=>{g[b]=()=>a}),g},inputs:d})}}readSync(a){return this.state.tensorInfo.get(a).backend.readSync(a)}read(a){return this.state.tensorInfo.get(a).backend.read(a)}readToGPU(a,b){return this.state.tensorInfo.get(a).backend.readToGPU(a,b)}async time(a){let b=da(),c=await this.backend.time(a);return c.wallMs=da()-b,c}track(a){return null!=this.state.activeScope&&(a.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(a)),a}get registeredVariables(){return this.state.registeredVariables}reset(){for(let a in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new dC,this.registry)this.disposeRegisteredKernels(a),this.registry[a].dispose(),delete this.registry[a];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function dE(){let a=aB();if(null==a._tfengine){let b=new ay(a);a._tfengine=new dD(b)}return aA=a._tfengine.ENV,dm=()=>a._tfengine,a._tfengine}dD.nextTensorId=0,dD.nextVariableId=0;let dF=dE();function dG(a,b){return dF.runKernel("Add",{a,b})}function dH(a){c=a}function dI(a){if(void 0!==c)return c;if(a||"undefined"!=typeof navigator&&null!=navigator){if(a||(a=navigator),"ReactNative"===a.product)return!0;let b=a.userAgent||a.vendor||"";if(!b){let b=a;return b.userAgentData&&b.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))}return!1}function dJ(){return"undefined"!=typeof WorkerGlobalScope}a.s(["isBrowser",()=>dJ,"isMobile",()=>dI,"mockIsMobile",()=>dH],50695);let dK=aA;function dL(a,b){let c=a;if(de(a))return"string"===b?[]:[a.length];if(dv(a)){let b=a.channels||"RGBA";return[a.height,a.width*b.length]}if(dw(a))return[a.buffer.size/(null==b?4:af(b))];if(!Array.isArray(a))return[];let d=[];for(;Array.isArray(c)||de(c)&&"string"!==b;)d.push(c.length),c=c[0];return Array.isArray(a)&&aA.getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(b,c,d){if(d=d||[],!Array.isArray(b)&&!de(b))return void M(0===c.length,()=>`Element arr[${d.join("][")}] is a primitive, but should be an array/TypedArray of ${c[0]} elements`);M(c.length>0,()=>`Element arr[${d.join("][")}] should be a primitive, but is an array of ${b.length} elements`),M(b.length===c[0],()=>`Element arr[${d.join("][")}] should have ${c[0]} elements, but has ${b.length} elements`);let e=c.slice(1);for(let c=0;c<b.length;++c)a(b[c],e,d.concat(c))}(a,d,[]),d}function dM(a,b,c,d){if("string_or_numeric"!==a){if(null==a)throw Error("Expected dtype cannot be null.");if("numeric"!==a&&a!==b||"numeric"===a&&"string"===b)throw Error(`Argument '${c}' passed to '${d}' must be ${a} tensor, but got ${b} tensor`)}}function dN(a,b,c,d="numeric"){if(a instanceof dq())return dM(d,a.dtype,b,c),a;let e=ak(a);if("string"!==e&&["bool","int32","float32"].indexOf(d)>=0&&(e=d),dM(d,e,b,c),null==a||!de(a)&&!Array.isArray(a)&&"number"!=typeof a&&"boolean"!=typeof a&&"string"!=typeof a){let d=null==a?"null":a.constructor.name;throw Error(`Argument '${b}' passed to '${c}' must be a Tensor or TensorLike, but got '${d}'`)}let f=dL(a,e);de(a)||Array.isArray(a)||(a=[a]);let g="string"!==e?c9(a,e):df(a,[],!0);return dF.makeTensor(g,f,e)}function dO(a,b,c,d="numeric"){if(!Array.isArray(a))throw Error(`Argument ${b} passed to ${c} must be a \`Tensor[]\` or \`TensorLike[]\``);return a.map((a,e)=>dN(a,`${b}[${e}]`,c,d))}dK.registerFlag("DEBUG",()=>!1,a=>{a&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),dK.registerFlag("IS_BROWSER",()=>dJ()),dK.registerFlag("IS_NODE",()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node),dK.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),dK.registerFlag("IS_SAFARI",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),dK.registerFlag("PROD",()=>!1),dK.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>dK.getBool("DEBUG")),dK.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),dK.registerFlag("IS_TEST",()=>!1),dK.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>dK.getBool("DEBUG")),dK.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),dK.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),dK.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);let dP="__op";function dQ(a){let b=Object.keys(a);if(1!==b.length)throw Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${b.length} keys.`);let c=b[0],d=a[c];c.endsWith("_")&&(c=c.substring(0,c.length-1));let e=(...a)=>{dF.startScope(c);try{let b=d(...a);return aw(b)&&console.error("Cannot return a Promise inside of tidy."),dF.endScope(b),b}catch(a){throw dF.endScope(null),a}};return Object.defineProperty(e,"name",{value:c+=dP,configurable:!0}),e}let dR=dQ({complex_:function(a,b){let c=dN(a,"real","complex"),d=dN(b,"imag","complex");return N(c.shape,d.shape,`real and imag shapes, ${c.shape} and ${d.shape}, must match in call to tf.complex().`),dF.runKernel(aZ,{real:c,imag:d})}});function dS(a,b,c,d){if(null==d)d=ak(a);else if("complex64"===d)throw Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(dw(a)||dv(a)){if("float32"!==d&&"int32"!==d)throw Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${d}.`);return dF.backend.createTensorFromGPUData(a,b||c,d)}if(!de(a)&&!Array.isArray(a)&&"number"!=typeof a&&"boolean"!=typeof a&&"string"!=typeof a)throw Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=b){at(b);let a=P(b),d=P(c);M(a===d,()=>`Based on the provided shape, [${b}], the tensor should have ${a} values but has ${d}`);for(let a=0;a<c.length;++a){let d=c[a],e=a!==c.length-1||d!==P(b.slice(a));M(c[a]===b[a]||!e,()=>`Error creating a new Tensor. Inferred shape (${c}) does not match the provided shape (${b}). `)}}return de(a)||Array.isArray(a)||(a=[a]),b=b||c,a="string"!==d?c9(a,d):df(a,[],!0),dF.makeTensor(a,b,d)}function dT(a,b,c){let d=dL(a,c);return dS(a,b,d,c)}let dU={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class dV{static join(a){return new dV(a).slice()}constructor(a){if(this.shards=[],this.previousShardIndex=0,null==a||(a instanceof Array||(a=[a]),0===(a=a.map(a=>de(a)?a.buffer:a)).length))return;this.bufferUniformSize=a[0].byteLength;let b=0;for(let c=0;c<a.length;c++){let d=a[c];c!==a.length-1&&d.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let e=b+d.byteLength;this.shards.push({buffer:d,start:b,end:e}),b=e}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(a=0,b=this.byteLength){if(0===this.shards.length||(a=isNaN(Number(a))?0:a,b=isNaN(Number(b))?0:b,a=Math.max(0,a),(b=Math.min(this.byteLength,b))<=a))return new ArrayBuffer(0);let c=this.findShardForByte(a);if(-1===c)throw Error(`Could not find start shard for byte ${a}`);let d=new ArrayBuffer(b-a),e=new Uint8Array(d),f=0;for(let d=c;d<this.shards.length;d++){let c=this.shards[d],g=a+f-c.start,h=f,i=Math.min(b,c.end)-c.start,j=new Uint8Array(c.buffer,g,i-g);if(e.set(j,h),f+=j.length,b<c.end)break}return d}findShardForByte(a){if(0===this.shards.length||a<0||a>=this.byteLength)return -1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(a/this.bufferUniformSize),this.previousShardIndex;function b(b){return a<b.start?-1:+(a>=b.end)}if(0===b(this.shards[this.previousShardIndex]))return this.previousShardIndex;let c=function(a,b){let c=0,d=a.length;for(;c<=d;){let e=Math.floor((d-c)/2)+c,f=b(a[e]);if(0===f)return e;f<0?d=e:c=e+1}return -1}(this.shards,b);return -1===c?-1:(this.previousShardIndex=c,this.previousShardIndex)}}function dW(){return dF.memory()}function dX(a,b){return dF.tidy(a,b)}function dY(a){dA(a).forEach(a=>a.dispose())}function dZ(a){return dF.keep(a)}function d$(a,b,c=1){return dF.registerBackend(a,b,c)}async function d_(a,b){let c=[],d=[],e=Array.isArray(a)?a.map(a=>a.name):Object.keys(a);for(let f=0;f<e.length;++f){let g=e[f],h=Array.isArray(a)?a[f].tensor:a[g];if("float32"!==h.dtype&&"int32"!==h.dtype&&"bool"!==h.dtype&&"string"!==h.dtype&&"complex64"!==h.dtype)throw Error(`Unsupported dtype in weight '${g}': ${h.dtype}`);let i={name:g,shape:h.shape,dtype:h.dtype};if("string"===h.dtype){let a=new Promise(async a=>{let b=await h.bytes(),c=new Uint8Array(b.reduce((a,b)=>a+b.length,0)+4*b.length),d=0;for(let a=0;a<b.length;a++){let e=b[a],f=new Uint8Array(new Uint32Array([e.length]).buffer);c.set(f,d),d+=4,c.set(e,d),d+=e.length}a(c)});d.push(a)}else d.push(h.data());null!=b&&(i.group=b),c.push(i)}return{data:function(a){if(null===a)throw Error(`Invalid input value: ${JSON.stringify(a)}`);let b=0,c=[];a.forEach(a=>{if(b+=a.byteLength,c.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});let d=new Uint8Array(b),e=0;return c.forEach(a=>{d.set(new Uint8Array(a.buffer),e),e+=a.byteLength}),d.buffer}(await Promise.all(d)),specs:c}}function d0(a,b){let c=new dV(a),d={},e=0;for(let a of b){let b=function(a,b){let c,d=P(a.shape);if("quantization"in a)c=dU[a.quantization.dtype];else if("string"===a.dtype){let a=0;for(let c=0;c<d;c++)a+=4+new Uint32Array(b(a,a+4))[0];return a}else c=dU[a.dtype];return d*c}(a,(a,b)=>c.slice(e+a,e+b));d[a.name]=d2(a,c.slice(e,e+b)),e+=b}return d}async function d1(a,b){let c,d=P(a.shape);if("quantization"in a)c=dU[a.quantization.dtype];else if("string"===a.dtype){let a=0;for(let c=0;c<d;c++)a+=4+new Uint32Array(await b(a,a+4))[0];return a}else c=dU[a.dtype];return d*c}function d2(a,b){let c,d=a.name,e=a.dtype,f=a.shape,g=P(f),h=0;if("quantization"in a){let f=a.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f&&"scale"in f))throw Error(`Weight ${a.name} with quantization ${f.dtype} doesn't have corresponding metadata min and scale.`)}else if("float16"===f.dtype){if("float32"!==e)throw Error(`Weight ${a.name} is quantized with ${f.dtype} which only supports weights of type float32 not ${e}.`)}else throw Error(`Weight ${a.name} has unknown quantization dtype ${f.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);let i=dU[f.dtype],j="uint8"===f.dtype?new Uint8Array(b):new Uint16Array(b);if("float32"===e)if("uint8"===f.dtype||"uint16"===f.dtype){c=new Float32Array(j.length);for(let a=0;a<j.length;a++){let b=j[a];c[a]=b*f.scale+f.min}}else if("float16"===f.dtype)c=(function(){let a=function(){let a=a=>{let b=a<<13,c=0;for(;(8388608&b)==0;)c-=8388608,b<<=1;return(b&=-8388609)|(c+=0x38800000)},b=new Uint32Array(2048);b[0]=0;for(let c=1;c<1024;c++)b[c]=a(c);for(let a=1024;a<2048;a++)b[a]=0x38000000+(a-1024<<13);return b}(),b=function(){let a=new Uint32Array(64);a[0]=0,a[31]=0x47800000,a[32]=0x80000000,a[63]=0xc7800000;for(let b=1;b<31;b++)a[b]=b<<23;for(let b=33;b<63;b++)a[b]=0x80000000+(b-32<<23);return a}(),c=function(){let a=new Uint32Array(64);for(let b=0;b<64;b++)a[b]=1024;return a[0]=a[32]=0,a}();return d=>{let e=new ArrayBuffer(4*d.length),f=new Uint32Array(e);for(let e=0;e<d.length;e++){let g=d[e],h=a[c[g>>10]+(1023&g)]+b[g>>10];f[e]=h}return new Float32Array(e)}})()(j);else throw Error(`Unsupported quantization type ${f.dtype} for weight type float32.`);else if("int32"===e){if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw Error(`Unsupported quantization type ${f.dtype} for weight type int32.`);c=new Int32Array(j.length);for(let a=0;a<j.length;a++){let b=j[a];c[a]=Math.round(b*f.scale+f.min)}}else throw Error(`Unsupported dtype in weight '${d}': ${e}`);h+=g*i}else if("string"===e){let d=P(a.shape);c=[];for(let a=0;a<d;a++){let a=new Uint32Array(b.slice(h,h+4))[0];h+=4;let d=new Uint8Array(b.slice(h,h+a));c.push(d),h+=a}}else{let a=dU[e];if("float32"===e)c=new Float32Array(b);else if("int32"===e)c=new Int32Array(b);else if("bool"===e)c=new Uint8Array(b);else if("complex64"===e){c=new Float32Array(b);let a=new Float32Array(c.length/2),d=new Float32Array(c.length/2);for(let b=0;b<a.length;b++)a[b]=c[2*b],d[b]=c[2*b+1];let e=dT(a,f,"float32"),g=dT(d,f,"float32"),h=dR(e,g);return e.dispose(),g.dispose(),h}else throw Error(`Unsupported dtype in weight '${d}': ${e}`);h+=g*a}return dT(c,f,e)}async function d3(a,b,c){let d=new Uint8Array(b);for(;d.byteLength<c;){let{done:b,value:e}=await a.read();if(b&&null==e){let a=c-d.byteLength;throw Error(`Reader is done but ${a} bytes are still expected`)}let f=new Uint8Array(d.length+e.byteLength);f.set(d,0),f.set(new Uint8Array(e),d.length),d=f}return d.buffer}async function d4(a,b){let c={},d=a.getReader(),e=new ArrayBuffer(0);for(let a of b){let b=await d1(a,async(a,b)=>(e=await d3(d,e,b)).slice(a,b)),f=(e=await d3(d,e,b)).slice(0,b);e=e.slice(b);let g=d2(a,f);if(c[a.name]=g,"webgpu"===dF.backendName){let a=dF.backend;"uploadToGPU"in a&&P(g.shape)>=aA.get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&a.uploadToGPU(g.dataId)}}return c}let d5="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function d6(a){return d5?Buffer.byteLength(a,"utf8"):new Blob([a]).size}function d7(a){return dV.join(a)}function d8(a){for(a=a.trim();a.endsWith("/");)a=a.slice(0,a.length-1);let b=a.split("/");return b[b.length-1]}function d9(a,b){let c={modelTopology:a.modelTopology,format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,weightsManifest:b};return null!=a.signature&&(c.signature=a.signature),null!=a.userDefinedMetadata&&(c.userDefinedMetadata=a.userDefinedMetadata),null!=a.modelInitializer&&(c.modelInitializer=a.modelInitializer),null!=a.initializerSignature&&(c.initializerSignature=a.initializerSignature),null!=a.trainingConfig&&(c.trainingConfig=a.trainingConfig),c}function ea(a,b,c){let d={modelTopology:a.modelTopology,format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy};if(null!=a.trainingConfig&&(d.trainingConfig=a.trainingConfig),null!=a.weightsManifest){if(!b)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!c)throw Error("modelJSON has weightsManifest but weightData is null");d.weightSpecs=b,d.weightData=c}return null!=a.signature&&(d.signature=a.signature),null!=a.userDefinedMetadata&&(d.userDefinedMetadata=a.userDefinedMetadata),null!=a.modelInitializer&&(d.modelInitializer=a.modelInitializer),null!=a.initializerSignature&&(d.initializerSignature=a.initializerSignature),d}async function eb(a,b){let c,d;return null!=a.weightsManifest&&([c,d]=await b(a.weightsManifest)),ea(a,c,d)}function ec(a){if(a.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==a.modelTopology?0:d6(JSON.stringify(a.modelTopology)),weightSpecsBytes:null==a.weightSpecs?0:d6(JSON.stringify(a.weightSpecs)),weightDataBytes:null==a.weightData?0:new dV(a.weightData).byteLength}}function ed(a){let b=[];for(let c of a)b.push(...c.weights);return b}class ee{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==ee.instance&&(ee.instance=new ee),ee.instance}static registerSaveRouter(a){ee.getInstance().saveRouters.push(a)}static registerLoadRouter(a){ee.getInstance().loadRouters.push(a)}static getSaveHandlers(a){return ee.getHandlers(a,"save")}static getLoadHandlers(a,b){return ee.getHandlers(a,"load",b)}static getHandlers(a,b,c){let d=[];return("load"===b?ee.getInstance().loadRouters:ee.getInstance().saveRouters).forEach(b=>{let e=b(a,c);null!==e&&d.push(e)}),d}}let ef=a=>ee.registerSaveRouter(a),eg=a=>ee.registerLoadRouter(a),eh=a=>ee.getSaveHandlers(a),ei=(a,b)=>ee.getLoadHandlers(a,b),ej="tensorflowjs",ek="models_store",el="model_info_store";function em(){if(!aA.getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let a=self,b=a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB||a.shimIndexedDB;if(null==b)throw Error("The current browser does not appear to support IndexedDB.");return b}function en(a){let b=a.result;b.createObjectStore(ek,{keyPath:"modelPath"}),b.createObjectStore(el,{keyPath:"modelPath"})}class eo{constructor(a){if(this.indexedDB=em(),null==a||!a)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=a}async save(a){if(a.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,a)}async load(){return this.databaseAction(this.modelPath)}databaseAction(a,b){return new Promise((a,c)=>{let d=this.indexedDB.open(ej,1);d.onupgradeneeded=()=>en(d),d.onsuccess=()=>{let e=d.result;if(null==b){let b=e.transaction(ek,"readonly"),d=b.objectStore(ek).get(this.modelPath);d.onsuccess=()=>{if(null==d.result)return e.close(),c(Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));a(d.result.modelArtifacts)},d.onerror=a=>(e.close(),c(d.error)),b.oncomplete=()=>e.close()}else{let d,f;b.weightData=dV.join(b.weightData);let g=ec(b),h=e.transaction(el,"readwrite"),i=h.objectStore(el);try{d=i.put({modelPath:this.modelPath,modelArtifactsInfo:g})}catch(a){return c(a)}d.onsuccess=()=>{let d,j=(f=e.transaction(ek,"readwrite")).objectStore(ek);try{d=j.put({modelPath:this.modelPath,modelArtifacts:b,modelArtifactsInfo:g})}catch(a){return c(a)}d.onsuccess=()=>a({modelArtifactsInfo:g}),d.onerror=a=>{let b=(i=h.objectStore(el)).delete(this.modelPath);b.onsuccess=()=>(e.close(),c(d.error)),b.onerror=a=>(e.close(),c(d.error))}},d.onerror=a=>(e.close(),c(d.error)),h.oncomplete=()=>{null==f?e.close():f.oncomplete=()=>e.close()}}},d.onerror=a=>c(d.error)})}}eo.URL_SCHEME="indexeddb://";let ep=a=>{var b;return aA.getBool("IS_BROWSER")&&!Array.isArray(a)&&a.startsWith(eo.URL_SCHEME)?(b=a.slice(eo.URL_SCHEME.length),new eo(b)):null};ee.registerSaveRouter(ep),ee.registerLoadRouter(ep);let eq="tensorflowjs_models",er="info";function es(a){for(let b of Object.values(a))window.localStorage.removeItem(b)}class et{constructor(a){throw aA.getBool("IS_BROWSER"),Error("The current environment does not support local storage.")}async save(a){if(a.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let b=JSON.stringify(a.modelTopology),c=JSON.stringify(a.weightSpecs),d=ec(a),e=dV.join(a.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(d)),this.LS.setItem(this.keys.topology,b),this.LS.setItem(this.keys.weightSpecs,c),this.LS.setItem(this.keys.weightData,function(a){if(d5)return Buffer.from(a).toString("base64");let b=new Uint8Array(a),c="";for(let a=0,d=b.length;a<d;a++)c+=String.fromCharCode(b[a]);return btoa(c)}(e));let f={format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,signature:null!=a.signature?a.signature:void 0,userDefinedMetadata:null!=a.userDefinedMetadata?a.userDefinedMetadata:void 0,modelInitializer:null!=a.modelInitializer?a.modelInitializer:void 0,initializerSignature:null!=a.initializerSignature?a.initializerSignature:void 0,trainingConfig:null!=a.trainingConfig?a.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(f)),{modelArtifactsInfo:d}}catch(a){throw es(this.keys),Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${d.modelTopologyBytes}, weightSpecsBytes=${d.weightSpecsBytes}, weightDataBytes=${d.weightDataBytes}.`)}}}async load(){let a=JSON.parse(this.LS.getItem(this.keys.info));if(null==a)throw Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==a.modelTopologyType)throw Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let b={},c=JSON.parse(this.LS.getItem(this.keys.topology));if(null==c)throw Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);b.modelTopology=c;let d=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==d)throw Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);b.weightSpecs=d;let e=this.LS.getItem(this.keys.modelMetadata);if(null!=e){let a=JSON.parse(e);b.format=a.format,b.generatedBy=a.generatedBy,b.convertedBy=a.convertedBy,null!=a.signature&&(b.signature=a.signature),null!=a.userDefinedMetadata&&(b.userDefinedMetadata=a.userDefinedMetadata),null!=a.modelInitializer&&(b.modelInitializer=a.modelInitializer),null!=a.initializerSignature&&(b.initializerSignature=a.initializerSignature),null!=a.trainingConfig&&(b.trainingConfig=a.trainingConfig)}let f=this.LS.getItem(this.keys.weightData);if(null==f)throw Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return b.weightData=function(a){if(d5){let b=Buffer.from(a,"base64");return b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)}let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;++a)c.set([b.charCodeAt(a)],a);return c.buffer}(f),b}}et.URL_SCHEME="localstorage://";let eu=a=>{var b;return aA.getBool("IS_BROWSER")&&!Array.isArray(a)&&a.startsWith(et.URL_SCHEME)?(b=a.slice(et.URL_SCHEME.length),new et(b)):null};ee.registerSaveRouter(eu),ee.registerLoadRouter(eu);class ev{constructor(){this.managers={}}static getInstance(){return null==ev.instance&&(ev.instance=new ev),ev.instance}static registerManager(a,b){M(null!=a,()=>"scheme must not be undefined or null."),a.endsWith("://")&&(a=a.slice(0,a.indexOf("://"))),M(a.length>0,()=>"scheme must not be an empty string.");let c=ev.getInstance();M(null==c.managers[a],()=>`A model store manager is already registered for scheme '${a}'.`),c.managers[a]=b}static getManager(a){let b=ev.getInstance().managers[a];if(null==b)throw Error(`Cannot find model manager for scheme '${a}'`);return b}static getSchemes(){return Object.keys(ev.getInstance().managers)}}function ew(a){if(-1===a.indexOf("://"))throw Error(`The url string provided does not contain a scheme. Supported schemes are: ${ev.getSchemes().join(",")}`);return{scheme:a.split("://")[0],path:a.split("://")[1]}}async function ex(a,b,c=!1){M(a!==b,()=>`Old path and new path are the same: '${a}'`);let d=ee.getLoadHandlers(a);M(d.length>0,()=>`Copying failed because no load handler is found for source URL ${a}.`),M(d.length<2,()=>`Copying failed because more than one (${d.length}) load handlers for source URL ${a}.`);let e=d[0],f=ee.getSaveHandlers(b);M(f.length>0,()=>`Copying failed because no save handler is found for destination URL ${b}.`),M(f.length<2,()=>`Copying failed because more than one (${d.length}) save handlers for destination URL ${b}.`);let g=f[0],h=ew(a).scheme,i=ew(a).path,j=h===ew(a).scheme,k=await e.load();c&&j&&await ev.getManager(h).removeModel(i);let l=await g.save(k);return c&&!j&&await ev.getManager(h).removeModel(i),l.modelArtifactsInfo}async function ey(){let a=ev.getSchemes(),b={};for(let c of a){let a=await ev.getManager(c).listModels();for(let d in a)b[c+"://"+d]=a[d]}return b}async function ez(a){let b=ew(a);return ev.getManager(b.scheme).removeModel(b.path)}async function eA(a,b){return ex(a,b,!1)}async function eB(a,b){return ex(a,b,!0)}if(aA.get("IS_BROWSER")){aA.setPlatform("browser",new class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(a,b){return fetch(a,b)}now(){return performance.now()}encode(a,b){if("utf-8"!==b&&"utf8"!==b)throw Error(`Browser's encoder only supports utf-8, but got ${b}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(a)}decode(a,b){return new TextDecoder(b).decode(a)}setTimeoutCustom(a,b){setTimeout(a,b)}isTypedArray(a){return c7(a)}});try{ev.registerManager(et.URL_SCHEME,new class{constructor(){M(aA.getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),M(!0,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){let a={},b=eq+"/",c="/"+er;for(let d=0;d<this.LS.length;++d){let e=this.LS.key(d);e.startsWith(b)&&e.endsWith(c)&&(a[function(a){let b=a.split("/");if(b.length<3)throw Error(`Invalid key format: ${a}`);return b.slice(1,b.length-1).join("/")}(e)]=JSON.parse(this.LS.getItem(e)))}return a}async removeModel(a){var b,c;let d={info:[eq,c=a=(b=a).startsWith(et.URL_SCHEME)?b.slice(et.URL_SCHEME.length):b,er].join("/"),topology:[eq,c,"model_topology"].join("/"),weightSpecs:[eq,c,"weight_specs"].join("/"),weightData:[eq,c,"weight_data"].join("/"),modelMetadata:[eq,c,"model_metadata"].join("/")};if(null==this.LS.getItem(d.info))throw Error(`Cannot find model at path '${a}'`);let e=JSON.parse(this.LS.getItem(d.info));return es(d),e}})}catch(a){}try{ev.registerManager(eo.URL_SCHEME,new class{constructor(){this.indexedDB=em()}async listModels(){return new Promise((a,b)=>{let c=this.indexedDB.open(ej,1);c.onupgradeneeded=()=>en(c),c.onsuccess=()=>{let d=c.result,e=d.transaction(el,"readonly"),f=e.objectStore(el).getAll();f.onsuccess=()=>{let b={};for(let a of f.result)b[a.modelPath]=a.modelArtifactsInfo;a(b)},f.onerror=a=>(d.close(),b(f.error)),e.oncomplete=()=>d.close()},c.onerror=a=>b(c.error)})}async removeModel(a){var b;return a=(b=a).startsWith(eo.URL_SCHEME)?b.slice(eo.URL_SCHEME.length):b,new Promise((b,c)=>{let d=this.indexedDB.open(ej,1);d.onupgradeneeded=()=>en(d),d.onsuccess=()=>{let e,f=d.result,g=f.transaction(el,"readwrite"),h=g.objectStore(el),i=h.get(a);i.onsuccess=()=>{if(null==i.result)return f.close(),c(Error(`Cannot find model with path '${a}' in IndexedDB.`));{let d=h.delete(a),g=()=>{let d=(e=f.transaction(ek,"readwrite")).objectStore(ek).delete(a);d.onsuccess=()=>b(i.result.modelArtifactsInfo),d.onerror=a=>c(i.error)};d.onsuccess=g,d.onerror=a=>(g(),f.close(),c(i.error))}},i.onerror=a=>(f.close(),c(i.error)),g.oncomplete=()=>{null==e?f.close():e.oncomplete=()=>f.close()}},d.onerror=a=>c(d.error)})}})}catch(a){}}let eC={importFetch:()=>a.r(71277)};function eD(a,b="float32",c){return b=b||"float32",at(a),new dl(a,b,c)}aA.get("IS_NODE")&&!aA.get("IS_BROWSER")&&aA.setPlatform("node",new class{constructor(){this.util=a.r(24361),this.textEncoder=new this.util.TextEncoder}fetch(a,b){return null!=aA.global.fetch?aA.global.fetch(a,b):(null==d&&(d=eC.importFetch()),d(a,b))}now(){let a=process.hrtime();return 1e3*a[0]+a[1]/1e6}encode(a,b){if("utf-8"!==b&&"utf8"!==b)throw Error(`Node built-in encoder only supports utf-8, but got ${b}`);return this.textEncoder.encode(a)}decode(a,b){return 0===a.length?"":new this.util.TextDecoder(b).decode(a)}isTypedArray(a){return this.util.types.isFloat32Array(a)||this.util.types.isInt32Array(a)||this.util.types.isUint8Array(a)||this.util.types.isUint8ClampedArray(a)}});let eE=dQ({cast_:function(a,b){let c=dN(a,"x","cast");if(!ad(b))throw Error(`Failed to cast to unknown dtype ${b}`);if("string"===b&&"string"!==c.dtype||"string"!==b&&"string"===c.dtype)throw Error("Only strings can be casted to strings");return dF.runKernel(aW,{x:c},{dtype:b})}}),eF=dQ({clone_:function(a){let b=dN(a,"x","clone","string_or_numeric");return dF.runKernel(bz,{x:b})}});function eG(a,b=!1){console.log(a.toString(b))}dE(),dn={buffer:eD,cast:eE,clone:eF,print:eG};let eH=dQ({add_:function(a,b){let c=dN(a,"a","add"),d=dN(b,"b","add");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel("Add",e)}}),eI=dQ({floorDiv_:function(a,b){let c=dN(a,"a","floorDiv"),d=dN(b,"b","floorDiv");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel(bt,e)}}),eJ=dQ({div_:function(a,b){let c=dN(a,"a","div"),d=dN(b,"b","div");if([c,d]=dx(c,d),"int32"===c.dtype&&"int32"===d.dtype)return eI(c,d);let e={a:c,b:d};return dF.runKernel(bk,e,{})}}),eK=dQ({mul_:function(a,b){let c=dN(a,"a","mul"),d=dN(b,"b","mul");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel(bY,e)}}),eL=dQ({sqrt_:function(a){let b=dN(a,"x","sqrt","float32");return dF.runKernel(cx,{x:b})}}),eM=dQ({square_:function(a){let b=dN(a,"x","square");return dF.runKernel("Square",{x:b},{})}}),eN=dQ({zerosLike_:function(a){let b=dN(a,"x","zerosLike");return dF.runKernel(cV,{x:b})}});function eO(a){return dF.customGrad(a)}function eP(a,b){if((de(a)&&"string"!==b||Array.isArray(a))&&"complex64"!==b)throw Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===b&&de(a)&&!(a instanceof Uint8Array))throw Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return dS(a,[],[],b)}a.s(["Serializable",()=>eS,"SerializationMap",()=>eT,"getRegisteredName",()=>eV,"registerClass",()=>eU],53321);let eQ=new Map,eR=new Map;class eS{getClassName(){return this.constructor.className}static fromConfig(a,b){return new a(b)}}class eT{constructor(){this.classNameMap={}}static getMap(){return null==eT.instance&&(eT.instance=new eT),eT.instance}static register(a){eT.getMap().classNameMap[a.className]=[a,a.fromConfig]}}function eU(a,b,c){M(null!=a.className,()=>"Class being registered does not have the static className property defined."),M("string"==typeof a.className,()=>"className is required to be a string, but got type "+typeof a.className),M(a.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),void 0===b&&(b="Custom"),void 0===c&&(c=a.className);let d=b+">"+c;return eT.register(a),eQ.set(d,a),eR.set(a,d),a}function eV(a){return eR.has(a)?eR.get(a):a.className}class eW extends eS{minimize(a,b=!1,c){let{value:d,grads:e}=this.computeGradients(a,c);if(null!=c){let a=c.map(a=>({name:a.name,tensor:e[a.name]}));this.applyGradients(a)}else this.applyGradients(e);return(dY(e),b)?d:(d.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(a,b){return function(a,b){M(al(a),()=>"The f passed in variableGrads(f) must be a function"),M(null==b||Array.isArray(b)&&b.every(a=>a instanceof dr),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let c=null!=b;if(!c)for(let a in b=[],dF.registeredVariables)b.push(dF.registeredVariables[a]);let d=c?b.filter(a=>!a.trainable):null,e=b.length;M((b=b.filter(a=>a.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${e} variables is trainable.`);let{value:f,grads:g}=dF.gradients(a,b,null,!0);M(g.some(a=>null!=a),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),M(0===f.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${f.rank} tensor`);let h={};return b.forEach((a,b)=>{null!=g[b]&&(h[a.name]=g[b])}),null!=d&&d.forEach(a=>h[a.name]=null),{value:f,grads:h}}(a,b)}dispose(){null!=this.iterations_&&dY(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:eP(this.iterations_,"int32")}}async getWeights(){throw Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(a){throw Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(a){return this.iterations_=(await a[0].tensor.data())[0],a.slice(1)}}Object.defineProperty(eW,Symbol.hasInstance,{value:a=>null!=a.minimize&&null!=a.computeGradients&&null!=a.applyGradients});class eX extends eW{static get className(){return"Adadelta"}constructor(a,b,c=null){super(),this.learningRate=a,this.rho=b,this.epsilon=c,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==c&&(this.epsilon=dF.backend.epsilon())}applyGradients(a){(Array.isArray(a)?a.map(a=>a.name):Object.keys(a)).forEach((b,c)=>{let d=dF.registeredVariables[b];null==this.accumulatedGrads[c]&&(this.accumulatedGrads[c]={originalName:`${b}/accum_grad`,variable:dX(()=>eN(d).variable(!1))}),null==this.accumulatedUpdates[c]&&(this.accumulatedUpdates[c]={originalName:`${b}/accum_var`,variable:dX(()=>eN(d).variable(!1))});let e=Array.isArray(a)?a[c].tensor:a[b];if(null==e)return;let f=this.accumulatedGrads[c].variable,g=this.accumulatedUpdates[c].variable;dX(()=>{let a=eH(eK(f,this.rho),eK(eM(e),1-this.rho)),b=eK(eJ(eL(eH(g,this.epsilon)),eL(eH(f,this.epsilon))),e),c=eH(eK(g,this.rho),eK(eM(b),1-this.rho));f.assign(a),g.assign(c);let h=eH(eK(b,-this.learningRate),d);d.assign(h)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(dY(this.accumulatedGrads.map(a=>a.variable)),dY(this.accumulatedUpdates.map(a=>a.variable)))}async getWeights(){let a=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(a.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(a){let b=(a=await this.extractIterations(a)).length/2;this.accumulatedGrads=a.slice(0,b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)})),this.accumulatedUpdates=a.slice(b,2*b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(a,b){return new a(b.learningRate,b.rho,b.epsilon)}}function eY(a,b,c){at(a),c=c||ak(b);let d={shape:a,value:b,dtype:c};return dF.runKernel(bq,{},d)}class eZ extends eW{static get className(){return"Adagrad"}constructor(a,b=.1){super(),this.learningRate=a,this.initialAccumulatorValue=b,this.accumulatedGrads=[]}applyGradients(a){(Array.isArray(a)?a.map(a=>a.name):Object.keys(a)).forEach((b,c)=>{let d=dF.registeredVariables[b];null==this.accumulatedGrads[c]&&(this.accumulatedGrads[c]={originalName:`${b}/accumulator`,variable:dX(()=>eY(d.shape,this.initialAccumulatorValue).variable(!1))});let e=Array.isArray(a)?a[c].tensor:a[b];if(null==e)return;let f=this.accumulatedGrads[c].variable;dX(()=>{let a=eH(f,eM(e));f.assign(a);let b=eH(eK(eJ(e,eL(eH(a,dF.backend.epsilon()))),-this.learningRate),d);d.assign(b)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&dY(this.accumulatedGrads.map(a=>a.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(a){a=await this.extractIterations(a),this.accumulatedGrads=a.map(a=>({originalName:a.name,variable:a.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(a,b){return new a(b.learningRate,b.initialAccumulatorValue)}}let e$=dQ({pow_:function(a,b){let c=dN(a,"base","pow"),d=dN(b,"exp","pow");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel("Pow",e)}}),e_=dQ({sub_:function(a,b){let c=dN(a,"a","sub"),d=dN(b,"b","sub");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel("Sub",e)}});class e0 extends eW{static get className(){return"Adam"}constructor(a,b,c,d=null){super(),this.learningRate=a,this.beta1=b,this.beta2=c,this.epsilon=d,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],dX(()=>{this.accBeta1=eP(b).variable(),this.accBeta2=eP(c).variable()}),null==d&&(this.epsilon=dF.backend.epsilon())}applyGradients(a){let b=Array.isArray(a)?a.map(a=>a.name):Object.keys(a);dX(()=>{let c=e_(1,this.accBeta1),d=e_(1,this.accBeta2);b.forEach((b,e)=>{let f=dF.registeredVariables[b];null==this.accumulatedFirstMoment[e]&&(this.accumulatedFirstMoment[e]={originalName:`${b}/m`,variable:dX(()=>eN(f).variable(!1))}),null==this.accumulatedSecondMoment[e]&&(this.accumulatedSecondMoment[e]={originalName:`${b}/v`,variable:dX(()=>eN(f).variable(!1))});let g=Array.isArray(a)?a[e].tensor:a[b];if(null==g)return;let h=this.accumulatedFirstMoment[e].variable,i=this.accumulatedSecondMoment[e].variable,j=eH(eK(h,this.beta1),eK(g,1-this.beta1)),k=eH(eK(i,this.beta2),eK(eM(g),1-this.beta2)),l=eJ(j,c),m=eJ(k,d);h.assign(j),i.assign(k);let n=eH(eK(eJ(l,eH(eL(m),this.epsilon)),-this.learningRate),f);f.assign(n)}),this.accBeta1.assign(eK(this.accBeta1,this.beta1)),this.accBeta2.assign(eK(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&dY(this.accumulatedFirstMoment.map(a=>a.variable)),null!=this.accumulatedSecondMoment&&dY(this.accumulatedSecondMoment.map(a=>a.variable))}async getWeights(){let a=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(a.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(a){a=await this.extractIterations(a),dX(()=>{this.accBeta1.assign(e$(this.beta1,this.iterations_+1)),this.accBeta2.assign(e$(this.beta2,this.iterations_+1))});let b=a.length/2;this.accumulatedFirstMoment=a.slice(0,b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)})),this.accumulatedSecondMoment=a.slice(b,2*b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(a,b){return new a(b.learningRate,b.beta1,b.beta2,b.epsilon)}}let e1=dQ({abs_:function(a){let b=dN(a,"x","abs");return"complex64"===b.dtype?dF.runKernel(a$,{x:b}):dF.runKernel("Abs",{x:b})}});function e2(a,b){let c=a.length,d=[];for(let e=0;e<c;e++){let f=c-1-e,g=a[f]||1;(b[b.length-1-e]||1)>1&&1===g&&d.unshift(f)}return d}function e3(a,b){let c=[];for(let d=0;d<b.length;d++){let e=a[a.length-d-1],f=b.length-d-1,g=b[f];(null==e||1===e&&g>1)&&c.unshift(f)}return c}function e4(a,b){let c=Math.max(a.length,b.length),d=Array(c);for(let e=0;e<c;e++){let f=a[a.length-e-1];null==f&&(f=1);let g=b[b.length-e-1];if(null==g&&(g=1),1===f)d[c-e-1]=g;else if(1===g)d[c-e-1]=f;else if(f!==g)throw Error(`Operands could not be broadcast together with shapes ${a} and ${b}.`);else d[c-e-1]=f}return d}a.s(["assertAndGetBroadcastShape",()=>e4,"getBroadcastDims",()=>e2,"getReductionAxes",()=>e3],28505);let e5=dQ({maximum_:function(a,b){let c=dN(a,"a","maximum"),d=dN(b,"b","maximum");[c,d]=dx(c,d),"bool"===c.dtype&&(c=eE(c,"int32"),d=eE(d,"int32")),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bO,e)}});class e6 extends eW{static get className(){return"Adamax"}constructor(a,b,c,d=null,e=0){super(),this.learningRate=a,this.beta1=b,this.beta2=c,this.epsilon=d,this.decay=e,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],dX(()=>{this.iteration=eP(0).variable(),this.accBeta1=eP(b).variable()}),null==d&&(this.epsilon=dF.backend.epsilon())}applyGradients(a){let b=Array.isArray(a)?a.map(a=>a.name):Object.keys(a);dX(()=>{let c=e_(1,this.accBeta1),d=eJ(-this.learningRate,eH(eK(this.iteration,this.decay),1));b.forEach((b,e)=>{let f=dF.registeredVariables[b];null==this.accumulatedFirstMoment[e]&&(this.accumulatedFirstMoment[e]={originalName:`${b}/m`,variable:eN(f).variable(!1)}),null==this.accumulatedWeightedInfNorm[e]&&(this.accumulatedWeightedInfNorm[e]={originalName:`${b}/v`,variable:eN(f).variable(!1)});let g=Array.isArray(a)?a[e].tensor:a[b];if(null==g)return;let h=this.accumulatedFirstMoment[e].variable,i=this.accumulatedWeightedInfNorm[e].variable,j=eH(eK(h,this.beta1),eK(g,1-this.beta1)),k=e5(eK(i,this.beta2),e1(g));h.assign(j),i.assign(k);let l=eH(eK(eJ(d,c),eJ(j,eH(k,this.epsilon))),f);f.assign(l)}),this.iteration.assign(eH(this.iteration,1)),this.accBeta1.assign(eK(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&dY(this.accumulatedFirstMoment.map(a=>a.variable)),null!=this.accumulatedWeightedInfNorm&&dY(this.accumulatedWeightedInfNorm.map(a=>a.variable))}async getWeights(){throw Error("getWeights() is not implemented for Adamax yet.")}async setWeights(a){throw Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(a,b){return new a(b.learningRate,b.beta1,b.beta2,b.epsilon,b.decay)}}class e7 extends eW{static get className(){return"SGD"}constructor(a){super(),this.learningRate=a,this.setLearningRate(a)}applyGradients(a){(Array.isArray(a)?a.map(a=>a.name):Object.keys(a)).forEach((b,c)=>{let d=Array.isArray(a)?a[c].tensor:a[b];if(null==d)return;let e=dF.registeredVariables[b];dX(()=>{let a=eH(eK(this.c,d),e);e.assign(a)})}),this.incrementIterations()}setLearningRate(a){this.learningRate=a,null!=this.c&&this.c.dispose(),this.c=dZ(eP(-a))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(a){if(0!==(a=await this.extractIterations(a)).length)throw Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(a,b){return new a(b.learningRate)}}class e8 extends e7{static get className(){return"Momentum"}constructor(a,b,c=!1){super(a),this.learningRate=a,this.momentum=b,this.useNesterov=c,this.accumulations=[],this.m=eP(this.momentum)}applyGradients(a){(Array.isArray(a)?a.map(a=>a.name):Object.keys(a)).forEach((b,c)=>{let d=dF.registeredVariables[b];null==this.accumulations[c]&&(this.accumulations[c]={originalName:`${b}/momentum`,variable:dX(()=>eN(d).variable(!1))});let e=this.accumulations[c].variable,f=Array.isArray(a)?a[c].tensor:a[b];null!=f&&dX(()=>{let a,b=eH(eK(this.m,e),f);a=this.useNesterov?eH(eK(this.c,eH(f,eK(b,this.m))),d):eH(eK(this.c,b),d),e.assign(b),d.assign(a)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&dY(this.accumulations.map(a=>a.variable))}setMomentum(a){this.momentum=a}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(a){a=await this.extractIterations(a),this.accumulations=a.map(a=>({originalName:a.name,variable:a.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(a,b){return new a(b.learningRate,b.momentum,b.useNesterov)}}class e9 extends eW{static get className(){return"RMSProp"}constructor(a,b=.9,c=0,d=null,e=!1){if(super(),this.learningRate=a,this.decay=b,this.momentum=c,this.epsilon=d,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=e,null==d&&(this.epsilon=dF.backend.epsilon()),null==a)throw Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(a){(Array.isArray(a)?a.map(a=>a.name):Object.keys(a)).forEach((b,c)=>{let d=dF.registeredVariables[b];null==this.accumulatedMeanSquares[c]&&(this.accumulatedMeanSquares[c]={originalName:`${b}/rms`,variable:dX(()=>eN(d).variable(!1))}),null==this.accumulatedMoments[c]&&(this.accumulatedMoments[c]={originalName:`${b}/momentum`,variable:dX(()=>eN(d).variable(!1))}),null==this.accumulatedMeanGrads[c]&&this.centered&&(this.accumulatedMeanGrads[c]={originalName:`${b}/mg`,variable:dX(()=>eN(d).variable(!1))});let e=Array.isArray(a)?a[c].tensor:a[b];if(null==e)return;let f=this.accumulatedMeanSquares[c].variable,g=this.accumulatedMoments[c].variable;dX(()=>{let a=eH(eK(f,this.decay),eK(eM(e),1-this.decay));if(this.centered){let b=this.accumulatedMeanGrads[c].variable,h=eH(eK(b,this.decay),eK(e,1-this.decay)),i=eJ(eK(e,this.learningRate),eL(e_(a,eH(eM(h),this.epsilon)))),j=eH(eK(g,this.momentum),i);f.assign(a),b.assign(h),g.assign(j);let k=e_(d,j);d.assign(k)}else{let a=eH(eK(f,this.decay),eK(eM(e),1-this.decay)),b=eH(eK(g,this.momentum),eJ(eK(e,this.learningRate),eL(eH(a,this.epsilon))));f.assign(a),g.assign(b);let c=e_(d,b);d.assign(c)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&dY(this.accumulatedMeanSquares.map(a=>a.variable)),null!=this.accumulatedMeanGrads&&this.centered&&dY(this.accumulatedMeanGrads.map(a=>a.variable)),null!=this.accumulatedMoments&&dY(this.accumulatedMoments.map(a=>a.variable))}async getWeights(){let a=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&a.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(a.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(a){a=await this.extractIterations(a);let b=this.centered?a.length/3:a.length/2;this.accumulatedMeanSquares=a.slice(0,b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)})),this.accumulatedMoments=a.slice(b,2*b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)})),this.centered&&(this.accumulatedMeanGrads=a.slice(2*b,3*b).map(a=>({originalName:a.name,variable:a.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(a,b){return new a(b.learningRate,b.decay,b.momentum,b.epsilon,b.centered)}}for(let a of[eX,eZ,e0,e6,e8,e9,e7])eU(a);let fa=dQ({step_:function(a,b=0){let c=dN(a,"x","step");return dF.runKernel(cW,{x:c},{alpha:b})}}),fb={kernelName:"Abs",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,fa(eE(c,"float32"),-1))}}},fc=dQ({neg_:function(a){let b=dN(a,"x","neg");return dF.runKernel("Neg",{x:b})}}),fd=dQ({reshape_:function(a,b){let c=dN(a,"x","reshape","string_or_numeric");return dF.runKernel(ce,{x:c},{shape:b})}}),fe=dQ({sum_:function(a,b=null,c=!1){let d=dN(a,"x","sum");"bool"===d.dtype&&(d=eE(d,"int32"));let e={x:d};return dF.runKernel("Sum",e,{axis:b,keepDims:c})}});function ff(a,b,c,d,e="NHWC",f){let g=[...b,a[3]];return fi(a,g,c,f,d,null,null,fs(e))}function fg(a,b,c,d,e,f,g="channelsLast"){let h,[i,j]=fl(b);if("channelsLast"===g)h=[i,j,a[3],a[3]];else if("channelsFirst"===g)h=[i,j,a[1],a[1]];else throw Error(`Unknown dataFormat ${g}`);return fi(a,h,c,d,e,f,!1,g)}function fh(a,b,c,d,e,f,g="NDHWC"){let h,i,[j,k,l]=fm(b);if("NDHWC"===g)i="channelsLast",h=[j,k,l,a[4],a[4]];else if("NCDHW"===g)i="channelsFirst",h=[j,k,l,a[1],a[1]];else throw Error(`Unknown dataFormat ${g}`);return fj(a,h,c,d,e,!1,i,f)}function fi(a,b,c,d,e,f,g=!1,h="channelsLast"){let i,[j,k,l,m]=[-1,-1,-1,-1];if("channelsLast"===h)[j,k,l,m]=a;else if("channelsFirst"===h)[j,m,k,l]=a;else throw Error(`Unknown dataFormat ${h}`);let[n,o,,p]=b,[q,r]=fl(c),[s,t]=fl(d),u=fn(n,s),v=fn(o,t),{padInfo:w,outHeight:x,outWidth:y}=function(a,b,c,d,e,f,g,h,i){let j,k,l;if("number"==typeof a){let e=0===a?"VALID":"NUMBER";j={top:a,bottom:a,left:a,right:a,type:e};let g=function(a,b,c,d,e){null==d&&(d=fk(a,b,c));let f=a[0],g=a[1];return[fo((f-b+2*d)/c+1,e),fo((g-b+2*d)/c+1,e)]}([b,c],f,d,a,h);k=g[0],l=g[1]}else if("same"===a){let a=Math.max(0,((k=Math.ceil(b/d))-1)*d+f-b),h=Math.max(0,((l=Math.ceil(c/e))-1)*e+g-c),i=Math.floor(a/2),m=Math.floor(h/2);j={top:i,bottom:a-i,left:m,right:h-m,type:"SAME"}}else if("valid"===a)j={top:0,bottom:0,left:0,right:0,type:"VALID"},k=Math.ceil((b-f+1)/d),l=Math.ceil((c-g+1)/e);else if("object"==typeof a){let m="channelsLast"===i?a[1][0]:a[2][0],n="channelsLast"===i?a[1][1]:a[2][1],o="channelsLast"===i?a[2][0]:a[3][0],p="channelsLast"===i?a[2][1]:a[3][1];j={top:m,bottom:n,left:o,right:p,type:0===m&&0===n&&0===o&&0===p?"VALID":"EXPLICIT"},k=fo((b-f+m+n)/d+1,h),l=fo((c-g+o+p)/e+1,h)}else throw Error(`Unknown padding parameter: ${a}`);return{padInfo:j,outHeight:k,outWidth:l}}(e,k,l,q,r,u,v,f,h),z=g?p*m:p;return"channelsFirst"===h?i=[j,z,x,y]:"channelsLast"===h&&(i=[j,x,y,z]),{batchSize:j,dataFormat:h,inHeight:k,inWidth:l,inChannels:m,outHeight:x,outWidth:y,outChannels:z,padInfo:w,strideHeight:q,strideWidth:r,filterHeight:n,filterWidth:o,effectiveFilterHeight:u,effectiveFilterWidth:v,dilationHeight:s,dilationWidth:t,inShape:a,outShape:i,filterShape:b}}function fj(a,b,c,d,e,f=!1,g="channelsLast",h){let i,[j,k,l,m,n]=[-1,-1,-1,-1,-1];if("channelsLast"===g)[j,k,l,m,n]=a;else if("channelsFirst"===g)[j,n,k,l,m]=a;else throw Error(`Unknown dataFormat ${g}`);let[o,p,q,,r]=b,[s,t,u]=fm(c),[v,w,x]=fm(d),y=fn(o,v),z=fn(p,w),A=fn(q,x),{padInfo:B,outDepth:C,outHeight:D,outWidth:E}=function(a,b,c,d,e,f,g,h,i,j,k){let l,m,n,o;if("valid"===a&&(a=0),"number"==typeof a){let p=0===a?"VALID":"NUMBER";l={top:a,bottom:a,left:a,right:a,front:a,back:a,type:p};let q=function(a,b,c,d,e,f){null==e&&(e=fk(a,b[0],d[0]));let g=[0,0,0,1];for(let c=0;c<3;c++)a[c]+2*e>=b[c]&&(g[c]=fo((a[c]-b[c]+2*e)/d[c]+1,f));return g}([b,c,d,1],[h,i,j],0,[e,f,g],a,k);m=q[0],n=q[1],o=q[2]}else if("same"===a){let a=((m=Math.ceil(b/e))-1)*e+h-b,k=((n=Math.ceil(c/f))-1)*f+i-c,p=((o=Math.ceil(d/g))-1)*g+j-d,q=Math.floor(a/2),r=Math.floor(k/2),s=Math.floor(p/2);l={top:r,bottom:k-r,left:s,right:p-s,front:q,back:a-q,type:"SAME"}}else throw Error(`Unknown padding parameter: ${a}`);return{padInfo:l,outDepth:m,outHeight:n,outWidth:o}}(e,k,l,m,s,t,u,y,z,A,h),F=f?r*n:r;return"channelsFirst"===g?i=[j,F,C,D,E]:"channelsLast"===g&&(i=[j,C,D,E,F]),{batchSize:j,dataFormat:g,inDepth:k,inHeight:l,inWidth:m,inChannels:n,outDepth:C,outHeight:D,outWidth:E,outChannels:F,padInfo:B,strideDepth:s,strideHeight:t,strideWidth:u,filterDepth:o,filterHeight:p,filterWidth:q,effectiveFilterDepth:y,effectiveFilterHeight:z,effectiveFilterWidth:A,dilationDepth:v,dilationHeight:w,dilationWidth:x,inShape:a,outShape:i,filterShape:b}}function fk(a,b,c,d=1){let e=fn(b,d);return Math.floor((a[0]*(c-1)-c+e)/2)}function fl(a){return"number"==typeof a?[a,a,a]:2===a.length?[a[0],a[1],1]:a}function fm(a){return"number"==typeof a?[a,a,a]:a}function fn(a,b){return b<=1?a:a+(a-1)*(b-1)}function fo(a,b){if(!b)return Math.trunc(a);switch(b){case"round":return Math.round(a);case"ceil":return Math.ceil(a);case"floor":return Math.floor(a);default:throw Error(`Unknown roundingMode ${b}`)}}function fp(a){let[b,c,d]=fl(a);return 1===b&&1===c&&1===d}function fq(a,b){return fp(a)||fp(b)}function fr(a){return fl(a).every(a=>a>0)}function fs(a){if("NHWC"===a)return"channelsLast";if("NCHW"===a)return"channelsFirst";throw Error(`Unknown dataFormat ${a}`)}function ft(a,b,c){if(null!=c)if("string"==typeof b)throw Error(`Error in ${a}: pad must be an integer when using dimRoundingMode ${c} but got pad ${b}.`);else if("number"==typeof b)M(T(b),()=>`Error in ${a}: pad must be an integer when using dimRoundingMode ${c} but got pad ${b}.`);else if("object"==typeof b)b.forEach(b=>{b.forEach(b=>{M(T(b),()=>`Error in ${a}: pad must be an integer when using dimRoundingMode ${c} but got pad ${b}.`)})});else throw Error(`Error in ${a}: Unknown padding parameter: ${b}`)}a.s(["checkPadOnDimRoundingMode",()=>ft,"computeConv2DInfo",()=>fi,"computeConv3DInfo",()=>fj,"computeDefaultPad",()=>fk,"computeDilation2DInfo",()=>ff,"computePool2DInfo",()=>fg,"computePool3DInfo",()=>fh,"convertConv2DDataFormat",()=>fs,"eitherStridesOrDilationsAreOne",()=>fq,"stridesOrDilationsArePositive",()=>fr,"tupleValuesAreOne",()=>fp],36202);let fu=dQ({avgPool3dGrad_:function(a,b,c,d,e,f){let g=dN(a,"dy","avgPool3dGrad"),h=dN(b,"input","avgPool3dGrad"),i=g,j=h,k=!1;4===h.rank&&(k=!0,i=fd(g,[1,g.shape[0],g.shape[1],g.shape[2],g.shape[3]]),j=fd(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),M(5===i.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${i.rank}.`),M(5===j.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${j.rank}.`),ft("avgPool3dGrad",e,f);let l={dy:i,input:j},m=dF.runKernel(aQ,l,{filterSize:c,strides:d,pad:e,dimRoundingMode:f});return k?fd(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),fv=dQ({avgPoolGrad_:function(a,b,c,d,e){let f=dN(a,"dy","avgPoolGrad"),g=dN(b,"input","avgPoolGrad");M(g.rank===f.rank,()=>`Rank of input (${g.rank}) does not match rank of dy (${f.rank})`);let h=g,i=f,j=!1;3===g.rank&&(j=!0,h=fd(g,[1,g.shape[0],g.shape[1],g.shape[2]]),i=fd(f,[1,f.shape[0],f.shape[1],f.shape[2]])),M(4===i.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${i.rank}.`),M(4===h.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${h.rank}.`);let k={dy:i,input:h},l=dF.runKernel(aO,k,{filterSize:c,strides:d,pad:e});return j?fd(l,[l.shape[1],l.shape[2],l.shape[3]]):l}}),fw=dQ({matMul_:function(a,b,c=!1,d=!1){let e=dN(a,"a","matMul"),f=dN(b,"b","matMul");[e,f]=dx(e,f);let g={a:e,b:f};return dF.runKernel(aR,g,{transposeA:c,transposeB:d})}}),fx=dQ({spaceToBatchND_:function(a,b,c){let d=dN(a,"x","spaceToBatchND");return M(d.rank>=1+b.length,()=>`input rank ${d.rank} should be > than [blockShape] ${b.length}`),M(c.length===b.length,()=>`paddings.shape[0] ${c.length} must be equal to [blockShape] ${b.length}`),M(d.shape.reduce((a,d,e)=>e>0&&e<=b.length?a&&(d+c[e-1][0]+c[e-1][1])%b[e-1]==0:a,!0),()=>`input spatial dimensions ${d.shape.slice(1)} with paddings ${c.toString()} must be divisible by blockShapes ${b.toString()}`),dF.runKernel(cy,{x:d},{blockShape:b,paddings:c})}}),fy=dQ({greaterEqual_:function(a,b){let c=dN(a,"a","greaterEqual","string_or_numeric"),d=dN(b,"b","greaterEqual","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(by,e)}}),fz=dQ({lessEqual_:function(a,b){let c=dN(a,"a","lessEqual","string_or_numeric"),d=dN(b,"b","lessEqual","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bH,e)}}),fA=dQ({logicalAnd_:function(a,b){let c=dN(a,"a","logicalAnd","bool"),d=dN(b,"b","logicalAnd","bool");return e4(c.shape,d.shape),dF.runKernel(bK,{a:c,b:d})}}),fB=dQ({broadcastTo_:function(a,b){let c=dN(a,"broadcastTo","x"),d=c.shape;if(at(b),b.length<c.rank)throw Error(`broadcastTo(): shape.length=${b.length} < input.rank=${c.rank}.`);if(b.length>c.rank){let a=c.shape.slice();for(;a.length<b.length;)a.unshift(1);c=fd(c,a)}let e=c.shape,f=Array.from(b);for(let a=b.length-1;a>=0;a--)if(e[a]===b[a])f[a]=1;else if(1!==c.shape[a])throw Error(`broadcastTo(): [${d}] cannot be broadcast to [${b}].`);if(0===f.map((a,b)=>a>1?b:-1).filter(a=>a>=0).length)return eF(c);let g={x:c};return dF.runKernel(cO,g,{reps:f})}}),fC=dQ({where_:function(a,b,c){let d=dN(b,"a","where"),e=dN(c,"b","where"),f=dN(a,"condition","where","bool"),g=e4(e4(f.shape,d.shape),e.shape),h=fB(f,g),i=fB(d,g),j=fB(e,g);return dF.runKernel(cq,{condition:h,t:i,e:j})}}),fD={kernelName:a$,inputsToSave:["x"],gradFunc:fb.gradFunc},fE=dQ({split_:function(a,b,c=0){let d=dN(a,"x","split");return dF.runKernel(cz,{x:d},{numOrSizeSplits:b,axis:c})}}),fF=dQ({conv2DBackpropFilter_:function(a,b,c,d,e,f="NHWC",g){let h=a;3===a.rank&&(h=fd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));let i=b;3===i.rank&&(i=fd(b,[1,b.shape[0],b.shape[1],b.shape[2]])),M(4===h.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${h.shape}.`),M(4===i.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${i.shape}.`),M(4===c.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${c}.`);let j="NHWC"===f?h.shape[3]:h.shape[1],k="NHWC"===f?i.shape[3]:i.shape[1];M(j===c[2],()=>`Error in conv2dDerFilter: depth of input ${j}) must match input depth in filter (${c[2]}.`),M(k===c[3],()=>`Error in conv2dDerFilter: depth of dy (${k}) must match output depth for filter (${c[3]}).`),ft("conv2dDerFilter",e,g);let l={x:h,dy:i};return dF.runKernel(a1,l,{strides:d,pad:e,dataFormat:f,dimRoundingMode:g,filterShape:c})}}),fG=dQ({conv2DBackpropInput_:function(a,b,c,d,e,f="NHWC",g){M(a.length===b.rank,()=>`Length of inShape (${a.length}) and rank of dy (${b.rank}) must match`);let h=a,i=b,j=!1;3===b.rank&&(j=!0,i=fd(b,[1,b.shape[0],b.shape[1],b.shape[2]]),h=[1,a[0],a[1],a[2]]),M(4===h.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${h.length}.`),M(4===i.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${i.rank}`),M(4===c.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${c.rank}`);let k="NHWC"===f?h[3]:h[1],l="NHWC"===f?i.shape[3]:i.shape[1];M(k===c.shape[2],()=>`Error in conv2dDerInput: depth of input (${k}) must match input depth for filter ${c.shape[2]}.`),M(l===c.shape[3],()=>`Error in conv2dDerInput: depth of output (${l}) must match output depth for filter ${c.shape[3]}.`),ft("conv2dDerInput",e,g);let m={dy:i,filter:c},n={strides:d,pad:e,dataFormat:f,dimRoundingMode:g,inputShape:h},o=dF.runKernel(a2,m,n);return j?fd(o,[o.shape[1],o.shape[2],o.shape[3]]):o}}),fH=dQ({conv2d_:function(a,b,c,d,e="NHWC",f=[1,1],g){let h=dN(a,"x","conv2d","float32"),i=dN(b,"filter","conv2d","float32"),j=h,k=!1;3===h.rank&&(k=!0,j=fd(h,[1,h.shape[0],h.shape[1],h.shape[2]])),M(4===j.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${j.rank}.`),M(4===i.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${i.rank}.`),ft("conv2d",d,g);let l="NHWC"===e?j.shape[3]:j.shape[1];M(l===i.shape[2],()=>`Error in conv2d: depth of input (${l}) must match input depth for filter ${i.shape[2]}.`),M(fq(c,f),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${c} and dilations '${f}'`),M(fr(f),()=>"Error in conv2D: Dilated rates should be larger than 0."),M(fr(c),()=>"Error in conv2D: Strides should be larger than 0.");let m={x:j,filter:i},n=dF.runKernel(a0,m,{strides:c,pad:d,dataFormat:e,dilations:f,dimRoundingMode:g});return k?fd(n,[n.shape[1],n.shape[2],n.shape[3]]):n}}),fI=dQ({conv3DBackpropFilter_:function(a,b,c,d,e){let f=a;4===a.rank&&(f=fd(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]));let g=b;4===g.rank&&(g=fd(b,[1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]])),M(5===f.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${f.shape}.`),M(5===g.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${g.shape}.`),M(5===c.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${c}.`),M(f.shape[4]===c[3],()=>`Error in conv3dDerFilter: depth of input ${f.shape[4]}) must match input depth in filter (${c[3]}.`),M(g.shape[4]===c[4],()=>`Error in conv3dDerFilter: depth of dy (${g.shape[4]}) must match output depth for filter (${c[4]}).`);let h={x:f,dy:g};return dF.runKernel(a4,h,{strides:d,pad:e,filterShape:c})}}),fJ=dQ({conv3DBackpropInput_:function(a,b,c,d,e){M(a.length===b.rank,()=>`Length of inShape (${a.length}) and rank of dy (${b.rank}) must match`);let f=a,g=b,h=!1;4===b.rank&&(h=!0,g=fd(b,[1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]]),f=[1,a[0],a[1],a[2],a[3]]);let i=f[4],j=g.shape[4];M(5===f.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${f.length}.`),M(5===g.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${g.rank}`),M(5===c.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${c.rank}`),M(i===c.shape[3],()=>`Error in conv3dDerInput: depth of input (${i}) must match input depth for filter ${c.shape[3]}.`),M(j===c.shape[4],()=>`Error in conv3dDerInput: depth of output (${j}) must match output depth for filter ${c.shape[4]}.`);let k={dy:g,filter:c},l={pad:e,strides:d,inputShape:f},m=dF.runKernel(a5,k,l);return h?fd(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),fK=dQ({sin_:function(a){let b=dN(a,"x","sin","float32");return dF.runKernel("Sin",{x:b})}}),fL=dQ({sinh_:function(a){let b=dN(a,"x","sinh");return dF.runKernel(ct,{x:b})}});function fM(a,b){for(let c=0;c<a.length;++c)if(a[a.length-c-1]!==b-1-c)return!1;return!0}function fN(a,b,c){let d=a.length+b.length,e=[],f=0,g=0;for(let h=0;h<d;h++)-1===c.indexOf(h)?e.push(a[f++]):e.push(b[g++]);return e}function fO(a,b){let c=[],d=a.length;for(let e=0;e<d;e++)-1===b.indexOf(e)&&c.push(a[e]);return[c,b.map(b=>a[b])]}function fP(a,b){return fN(a,b.map(a=>1),b)}function fQ(a,b,c){M(fM(b,c),()=>`${a} supports only inner-most axes for now. Got axes ${b} and rank-${c} input.`)}function fR(a,b){if(fM(a,b))return null;let c=[];for(let d=0;d<b;++d)-1===a.indexOf(d)&&c.push(d);return a.forEach(a=>c.push(a)),c}function fS(a){return a.map((a,b)=>[b,a]).sort((a,b)=>a[1]-b[1]).map(a=>a[0])}function fT(a,b){let c=[];for(let d=b-a;d<b;++d)c.push(d);return c}a.s(["assertAxesAreInnerMostDims",()=>fQ,"axesAreInnerMostDims",()=>fM,"combineLocations",()=>fN,"computeOutAndReduceShapes",()=>fO,"expandShapeToKeepDim",()=>fP,"getAxesPermutation",()=>fR,"getInnerMostAxes",()=>fT,"getUndoAxesPermutation",()=>fS],59596);let fU=dQ({cumsum_:function(a,b=0,c=!1,d=!1){let e=dN(a,"x","cumsum");return dF.runKernel(a8,{x:e},{axis:b,exclusive:c,reverse:d})}});a.s(["transpose",()=>fX],29970);let fV=dQ({imag_:function(a){let b=dN(a,"input","imag");return dF.runKernel(bB,{input:b})}}),fW=dQ({real_:function(a){let b=dN(a,"input","real");return dF.runKernel(cb,{input:b})}}),fX=dQ({transpose_:function(a,b,c){let d=dN(a,"x","transpose");if(null==b&&(b=d.shape.map((a,b)=>b).reverse()),M(d.rank===b.length,()=>`Error in transpose: rank of input ${d.rank} must match length of perm ${b}.`),b.forEach(a=>{M(a>=0&&a<d.rank,()=>`All entries in 'perm' must be between 0 and ${d.rank-1} but got ${b}`)}),d.rank<=1)return d.clone();let e={perm:b};return"complex64"===d.dtype?dX(()=>{let a=fW(d),b=fV(d);return a=dF.runKernel(cR,{x:a},e),b=dF.runKernel(cR,{x:b},e),c&&(b=fc(b)),dR(a,b)}):dF.runKernel(cR,{x:d},e)}}),fY=dQ({depthwiseConv2dNativeBackpropFilter_:function(a,b,c,d,e,f=[1,1],g){let h=a;3===a.rank&&(h=fd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));let i=b;3===i.rank&&(i=fd(b,[1,b.shape[0],b.shape[1],b.shape[2]]));let j={x:h,dy:i};return dF.runKernel(bd,j,{strides:d,pad:e,dimRoundingMode:g,dilations:f,filterShape:c})}}),fZ=dQ({depthwiseConv2dNativeBackpropInput_:function(a,b,c,d,e,f=[1,1],g){let h=b,i=!1;3===b.rank&&(i=!0,h=fd(b,[1,b.shape[0],b.shape[1],b.shape[2]]));let j={dy:h,filter:c},k=dF.runKernel(be,j,{strides:d,pad:e,dimRoundingMode:g,dilations:f,inputShape:a});return i?fd(k,[k.shape[1],k.shape[2],k.shape[3]]):k}}),f$=dQ({exp_:function(a){let b=dN(a,"x","exp");return dF.runKernel("Exp",{x:b})}}),f_=dQ({rsqrt_:function(a){let b=dN(a,"x","rsqrt","float32");return dF.runKernel(cm,{x:b})}}),f0=dQ({tile_:function(a,b){let c=dN(a,"x","tile","string_or_numeric");return M(c.rank===b.length,()=>`Error in transpose: rank of input ${c.rank} must match length of reps ${b}.`),dF.runKernel(cO,{x:c},{reps:b})}}),f1=dQ({stack_:function(a,b=0){let c=dO(a,"tensors","stack","string_or_numeric");return M(c.length>=1,()=>"Pass at least one tensor to tf.stack"),c.length>0&&M(b<=c[0].rank,()=>"Axis must be <= rank of the tensor"),dF.runKernel(b3,c,{axis:b})}}),f2=dQ({unsortedSegmentSum_:function(a,b,c){let d=dN(a,"x","unsortedSegmentSum"),e=dN(b,"segmentIds","unsortedSegmentSum","int32");return M(T(c),()=>"numSegments must be of dtype int"),dF.runKernel(cU,{x:d,segmentIds:e},{numSegments:c})}});function f3(a,b){let c=[];for(let d=a;d<b;++d)c.push(d);return c}function f4(a){let b=[];for(let c=0;c<a.length;++c)for(let d=0;d<a[c].length;++d)b.push(a[c][d]);return b}let f5=dQ({greater_:function(a,b){let c=dN(a,"a","greater","string_or_numeric"),d=dN(b,"b","greater","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bx,e)}}),f6=dQ({localResponseNormalizationBackprop_:function(a,b,c,d=5,e=1,f=1,g=.5){return dF.runKernel(bN,{x:a,y:b,dy:c},{depthRadius:d,bias:e,alpha:f,beta:g})}}),f7=dQ({equal_:function(a,b){let c=dN(a,"a","equal","string_or_numeric"),d=dN(b,"b","equal","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bn,e)}});function f8(a,b,c,d){return b.rank<c.rank&&(b=fd(b,fP(b.shape,d))),a.rank<c.rank&&(a=fd(a,fP(a.shape,d))),{x:()=>eK(a,eE(f7(c,b),a.dtype))}}let f9={kernelName:"Max",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(a,b,c)=>{let{reductionIndices:d}=c,e=b[0],f=b[1],g=$(d,e.shape),h=f8(a,f,e,g);return{x:()=>h.x()}}},ga=dQ({less_:function(a,b){let c=dN(a,"a","less","string_or_numeric"),d=dN(b,"b","less","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bG,e)}}),gb=dQ({maxPool3dGrad_:function(a,b,c,d,e,f,g){let h=dN(a,"dy","maxPool3dGrad"),i=dN(b,"input","maxPool3dGrad"),j=dN(c,"output","maxPool3dGrad"),k=h,l=i,m=j,n=!1;4===i.rank&&(n=!0,k=fd(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]]),l=fd(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),m=fd(j,[1,j.shape[0],j.shape[1],j.shape[2],j.shape[3]])),M(5===k.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${k.rank}.`),M(5===l.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${l.rank}.`),M(5===m.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${m.rank}.`),ft("maxPool3dGrad",f,g);let o={dy:k,input:l,output:m},p=dF.runKernel(bS,o,{filterSize:d,strides:e,pad:f,dimRoundingMode:g});return n?fd(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),gc=dQ({maxPoolGrad_:function(a,b,c,d,e,f,g){let h=dN(a,"dy","maxPoolGrad"),i=dN(b,"input","maxPoolGrad"),j=dN(c,"output","maxPoolGrad");return M(i.rank===h.rank,()=>`Rank of input (${i.rank}) does not match rank of dy (${h.rank})`),M(4===h.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${h.rank}.`),M(4===i.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${i.rank}.`),ft("maxPoolGrad",f,g),dF.runKernel(bQ,{dy:h,input:i,output:j},{filterSize:d,strides:e,pad:f,dimRoundingMode:g})}});function gd(a,b="float32"){if(at(a),"complex64"===b)return dR(gd(a,"float32"),gd(a,"float32"));let c=ar(P(a),b);return dF.makeTensor(c,a,b)}function ge(a,b="float32"){if(at(a),"complex64"===b)return dR(ge(a,"float32"),gd(a,"float32"));let c=aq(P(a),b);return dF.makeTensor(c,a,b)}let gf=dQ({slice_:function(a,b,c){let d=dN(a,"x","slice","string_or_numeric");if(0===d.rank)throw Error("Slicing scalar is not possible");return dF.runKernel(cs,{x:d},{begin:b,size:c})}}),gg=dQ({floor_:function(a){let b=dN(a,"x","floor","float32");return dF.runKernel(bs,{x:b})}}),gh=dQ({unstack_:function(a,b=0){let c=dN(a,"x","unstack","string_or_numeric");return M(b>=-c.shape.length&&b<c.shape.length,()=>`Axis = ${b} is not in [-${c.shape.length}, ${c.shape.length})`),dF.runKernel(cT,{value:c},{axis:b})}}),gi={kernelName:b4,inputsToSave:["x"],gradFunc:(a,b,c)=>{let d=b[0],{paddings:e}=c,f=e.map(a=>a[0]);return{x:()=>gf(a,f,d.shape)}}},gj=dQ({log_:function(a){let b=dN(a,"x","log","float32");return dF.runKernel("Log",{x:b})}});function gk(a,b,c){let d=a.shape.length;M(d===b.length,()=>`Error in slice${d}D: Length of begin ${b} must match the rank of the array (${d}).`),M(d===c.length,()=>`Error in slice${d}D: Length of size ${c} must match the rank of the array (${d}).`);for(let e=0;e<d;++e)M(b[e]+c[e]<=a.shape[e],()=>`Error in slice${d}D: begin[${e}] + size[${e}] (${b[e]+c[e]}) would overflow input.shape[${e}] (${a.shape[e]})`)}function gl(a){let b=[],c=0;for(;a>0;)1&a&&b.push(c),a/=2,c++;return b}function gm(a,b,c){let d=[];for(let e=0;e<a.length;e++)d[e]=Math.ceil((b[e]-a[e])/c[e]);return d}function gn(a,b,c,d){let e=[...a];for(let a=e.length;a<d.length;a++)e.push(1);for(let a=0;a<c;a++)0===a?e[b]=1:(e.splice(b,0,1),e.pop());return e}function go(a,b){let c=[];for(let d=0;d<a;d++)c.push(b+d);return c}function gp(a,b,c,d,e,f,g,h,i){let j=a.length,k=Array(j),l=Array(j),m=Array(j);if(b.length&&c>0){let i=b[0],j=c+1;k=gq(g,i,j,d,a),l=gr(h,i,j,e,a),m=gn(f,i,j,a)}else for(let b=0;b<j;b++)k[b]=gt(g,d,f,a,b,i),l[b]=gu(h,e,f,a,b,i),m[b]=gs(f,b,i);return{begin:k,end:l,strides:m}}function gq(a,b,c,d,e){let f=[...e],g=go(c,b);for(let e=0;e<f.length;e++)if(g.indexOf(e)>-1)f[e]=0;else{var h,i,j;let g=(h=b,i=c,(j=e)<=h?j:j-(i-1)),k=d[g];a&1<<g&&(k=0),f[e]=k}return f}function gr(a,b,c,d,e){let f=[...e],g=go(c,b);for(let e=0;e<f.length;e++)if(g.indexOf(e)>-1)f[e]=Number.MAX_SAFE_INTEGER;else{var h,i,j;let g=(h=b,i=c,(j=e)<=h?j:j-(i-1)),k=d[g];a&1<<g&&(k=Number.MAX_SAFE_INTEGER),f[e]=k}for(let a=0;a<f.length;a++){let b=e[a];f[a]<0&&(f[a]+=b),f[a]=G(0,f[a],e[a])}return f}function gs(a,b,c){let d=a[b];return(c&1<<b||null==d)&&(d=1),d}function gt(a,b,c,d,e,f){let g=b[e],h=c[e]||1;(a&1<<e||f&1<<e||null==g)&&(g=h>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);let i=d[e];return g<0&&(g+=i),g=G(0,g,i-1)}function gu(a,b,c,d,e,f){let g=b[e],h=c[e]||1;(a&1<<e||f&1<<e||null==g)&&(g=h>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);let i=d[e];return g<0&&(g+=i),g=h>0?G(0,g,i):G(-1,g,i-1)}function gv(a,b,c){let d=c.length;for(let a=0;a<c.length;a++)if(c[a]>1){d=a;break}for(let e=d+1;e<c.length;e++)if(b[e]>0||c[e]!==a[e])return!1;return!0}function gw(a,b){let c=a.length>0?a[a.length-1]:1;for(let d=0;d<a.length-1;d++)c+=a[d]*b[d];return c}function gx(a,b,c){let d,e,f=a.shape.length;return(d="number"==typeof b?[b,...Array(f-1).fill(0)]:b.length<f?b.concat(Array(f-b.length).fill(0)):b.slice()).forEach(a=>{M(-1!==a,()=>"slice() does not support negative begin indexing.")}),e=(e=null==c?Array(f).fill(-1):"number"==typeof c?[c,...Array(f-1).fill(-1)]:c.length<f?c.concat(Array(f-c.length).fill(-1)):c).map((b,c)=>b>=0?b:(M(-1===b,()=>`Negative size values should be exactly -1 but got ${b} for the slice() size at index ${c}.`),a.shape[c]-d[c])),[d,e]}function gy(a,b,c,d,e,f,g,h,i){let j;if(null==d?(j=Array(b.length)).fill(1):j=d,null!=g&&(g&g-1)!=0)throw Error("Multiple ellipses in slice is not allowed.");let k=!1,l={dims:j.length,numAddAxisAfterEllipsis:0,begin:b.slice(),end:c.slice(),strides:j.slice(),beginMask:e,endMask:f,ellipsisMask:g,newAxisMask:h,shrinkAxisMask:i};for(let a=0;a<l.dims;a++)k&&(1<<a&h)!=0&&l.numAddAxisAfterEllipsis++,1<<a&g&&(k=!0);!k&&(l.ellipsisMask|=1<<l.dims,l.dims++);let m={dims:a.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};var n=l,o=m;o.beginMask=0,o.endMask=0,o.shrinkAxisMask=0;let p=0;o.beginValid=null!=n.begin,o.endValid=null!=n.end,o.begin=Array(o.dims),o.end=Array(o.dims),o.strides=Array(o.dims),o.finalShapeGatherIndices=[],o.finalShapeGatherIndicesSparse=[],o.inputShapeGatherIndicesSparse=Array(o.dims);for(let a=0;a<n.dims;a++)if(1<<a&n.ellipsisMask){let b=Math.min(o.dims-(n.dims-a)+1+n.numAddAxisAfterEllipsis,o.dims);for(;p<b;p++)o.begin[p]=0,o.end[p]=0,o.strides[p]=1,o.beginMask|=1<<p,o.endMask|=1<<p,o.finalShapeGatherIndices.push(p),o.finalShapeGatherIndicesSparse.push(-1),o.inputShapeGatherIndicesSparse[p]=a}else if(1<<a&n.newAxisMask)o.finalShapeGatherIndices.push(-2),o.finalShapeGatherIndicesSparse.push(-1);else{if(p===o.begin.length)throw Error(`Index out of range using input dim ${p}; input has only ${o.dims} dims, ${o.begin.length}.`);null!=n.begin&&(o.begin[p]=n.begin[a]),null!=n.end&&(o.end[p]=n.end[a]),o.strides[p]=n.strides[a],n.beginMask&1<<a&&(o.beginMask|=1<<p),n.endMask&1<<a&&(o.endMask|=1<<p),n.shrinkAxisMask&1<<a?(o.finalShapeGatherIndices.push(-1),o.finalShapeGatherIndicesSparse.push(-1),o.shrinkAxisMask|=1<<p):(o.finalShapeGatherIndices.push(p),o.finalShapeGatherIndicesSparse.push(a)),o.inputShapeGatherIndicesSparse[p]=a,p++}let q=!0,r=!0,s=!0,t=[],u=[];for(let b=0;b<a.length;++b){let c;if(0===m.strides[b])throw Error(`strides[${b}] must be non-zero`);let d=!!(m.shrinkAxisMask&1<<b),e=a[b];if(-1===e){t.push(d?1:-1);continue}let f=[m.beginMask&1<<b,m.endMask&1<<b],g=[m.strides[b]>0?0:-1,m.strides[b]>0?e:e-1];if(d&&m.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");s=s&&1===m.strides[b];let h=!!(m.beginMask&1<<b&&m.endMask&1<<b);if(m.beginValid&&m.endValid){if(d){let a=m.begin[b]<0?e+m.begin[b]:m.begin[b];if(m.begin[b]=a,m.end[b]=m.begin[b]+1,a<0||a>=e)throw Error(`slice index ${m.begin[b]} of dimension ${b} out of bounds.`)}else m.begin[b]=gz(m.begin[b],0,m.strides[b],e,f,g),m.end[b]=gz(m.end[b],1,m.strides[b],e,f,g);let a=1===m.strides[b]&&0===m.begin[b]&&m.end[b]===e;q=q&&a,r=r&&(0===b&&1===m.strides[b]||a)}else q=q&&1===m.strides[b]&&h,r=r&&(0===b&&1===m.strides[b]||h);let i=!1;if(m.beginValid&&m.endValid?(c=m.end[b]-m.begin[b],i=!0):d?(c=1,i=!0):h&&e>=0&&(c=m.strides[b]<0?-e:e,i=!0),i){let a;a=0===c||c<0!=m.strides[b]<0?0:Math.trunc(c/m.strides[b])+ +(c%m.strides[b]!=0),t.push(a)}else t.push(-1)}for(let a=0;a<m.finalShapeGatherIndices.length;++a){let b=m.finalShapeGatherIndices[a];b>=0?u.push(t[b]):-2===b&&u.push(1)}return{finalShapeSparse:u.filter((a,b)=>-2!==m.finalShapeGatherIndices[b]),finalShape:u,isIdentity:q,sliceDim0:r,isSimpleSlice:s,begin:m.begin,end:m.end,strides:m.strides}}function gz(a,b,c,d,e,f){if(e[b])return c>0?f[b]:f[b+1&1];{let b=a<0?d+a:a;return b<f[0]?f[0]:b>f[1]?f[1]:b}}a.s(["ERF_A1",()=>hc,"ERF_A2",()=>hd,"ERF_A3",()=>he,"ERF_A4",()=>hf,"ERF_A5",()=>hg,"ERF_P",()=>hb,"PARALLELIZE_THRESHOLD",()=>gB,"RowPartitionType",()=>o,"SELU_SCALE",()=>ha,"SELU_SCALEALPHA",()=>g9,"applyActivation",()=>gU,"assertAndGetBroadcastShape",()=>e4,"assertAxesAreInnerMostDims",()=>fQ,"assertParamsConsistent",()=>gK,"assignToTypedArray",()=>hm,"axesAreInnerMostDims",()=>fM,"calculateShapes",()=>g8,"checkEinsumDimSizes",()=>hs,"checkPadOnDimRoundingMode",()=>ft,"combineLocations",()=>fN,"combineRaggedTensorToTensorShapes",()=>gW,"complexWithEvenIndex",()=>hj,"complexWithOddIndex",()=>hk,"computeConv2DInfo",()=>fi,"computeConv3DInfo",()=>fj,"computeDefaultPad",()=>fk,"computeDilation2DInfo",()=>ff,"computeOptimalWindowSize",()=>gC,"computeOutAndReduceShapes",()=>fO,"computeOutShape",()=>gL,"computePool2DInfo",()=>fg,"computePool3DInfo",()=>fh,"convertConv2DDataFormat",()=>fs,"decodeEinsumEquation",()=>hq,"eitherStridesOrDilationsAreOne",()=>fq,"expandShapeToKeepDim",()=>fP,"exponent",()=>ho,"exponents",()=>hn,"fromStringArrayToUint8",()=>gI,"fromUint8ToStringArray",()=>gH,"getAxesPermutation",()=>fR,"getBroadcastDims",()=>e2,"getComplexWithIndex",()=>hl,"getEinsumComputePath",()=>ht,"getEinsumPermutation",()=>hr,"getFusedBiasGradient",()=>gT,"getFusedDyActivation",()=>gS,"getImageCenter",()=>g_,"getInnerMostAxes",()=>fT,"getPermuted",()=>g1,"getRaggedRank",()=>gY,"getReductionAxes",()=>e3,"getReshaped",()=>g0,"getReshapedPermuted",()=>g2,"getRowPartitionTypesHelper",()=>gX,"getSliceBeginCoords",()=>g3,"getSliceSize",()=>g4,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",()=>hw,"getSparseFillEmptyRowsNegativeIndexErrorMessage",()=>hx,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",()=>hy,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",()=>hB,"getSparseReshapeInputOutputMismatchErrorMessage",()=>hD,"getSparseReshapeInputOutputMultipleErrorMessage",()=>hC,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",()=>hz,"getSparseReshapeNegativeOutputDimErrorMessage",()=>hA,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",()=>hH,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",()=>hE,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",()=>hF,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",()=>hG,"getUndoAxesPermutation",()=>fS,"isIdentityPermutation",()=>hu,"log",()=>c1,"mergeRealAndImagArrays",()=>hh,"prepareAndValidate",()=>g5,"prepareSplitSize",()=>hv,"segment_util",()=>hI,"shouldFuse",()=>gV,"slice_util",()=>g$,"splitRealAndImagArrays",()=>hi,"stridesOrDilationsArePositive",()=>fr,"tupleValuesAreOne",()=>fp,"upcastType",()=>dt,"validateDefaultValueShape",()=>gZ,"validateInput",()=>g7,"validateUpdateShape",()=>g6,"warn",()=>c0],37368),a.s(["fromStringArrayToUint8",()=>gI,"fromUint8ToStringArray",()=>gH],46893),a.s(["assertParamsValid",()=>gk,"computeFlatOffset",()=>gw,"computeOutShape",()=>gm,"getNormalizedAxes",()=>gp,"isSliceContinous",()=>gv,"maskToAxes",()=>gl,"parseSliceParams",()=>gx,"sliceInfo",()=>gy,"startForAxis",()=>gt,"startIndicesWithElidedDims",()=>gq,"stopForAxis",()=>gu,"stopIndicesWithElidedDims",()=>gr,"stridesForAxis",()=>gs,"stridesWithElidedDims",()=>gn],87483);var gA=a.i(87483);a.s(["collectGatherOpShapeInfo",()=>gF,"computeOutShape",()=>gE,"segOpComputeOptimalWindowSize",()=>gD],63065),a.s(["PARALLELIZE_THRESHOLD",()=>gB,"computeOptimalWindowSize",()=>gC],50809);let gB=30;function gC(a){return a<=gB?a:am(a,Math.floor(Math.sqrt(a)))}function gD(a,b){let c,d=!1;for(a<=gB?(c=a,d=!0):c=am(a,Math.floor(Math.sqrt(a)));!d;)c>b||c===a?d=!0:c=am(a,c+1);return c}function gE(a,b,c){let d=[],e=a.length;for(let f=0;f<e;f++)f!==b?d.push(a[f]):d.push(c);return d}function gF(a,b,c,d){let e=b.shape.length,f=a.shape.length;if(0!==d&&(d<-e||d>e))throw Error(`Expect batchDims in the range of [-${e}, ${e}], but got ${d}`);if(d<0&&(d+=e),d>f)throw Error(`batchDims (${d}) must be less than rank(x) (
    ${f}).`);if(c<d)throw Error(`batchDims (${d}) must be less than or equal to axis (${c}).`);for(let c=0;c<d;++c)if(a.shape[c]!==b.shape[c])throw Error(`x.shape[${c}]: ${a.shape[c]} should be equal to indices.shape[${c}]: ${b.shape[c]}.`);let g=a.shape[c],h=[],i=1,j=1,k=1;for(let b=0;b<d;++b)h.push(a.shape[b]),i*=a.shape[b];for(let b=d;b<c;b++)h.push(a.shape[b]),j*=a.shape[b];for(let a=d;a<e;a++)h.push(b.shape[a]);for(let b=c+1;b<f;b++)h.push(a.shape[b]),k*=a.shape[b];return{batchSize:i,sliceSize:k,outerSize:j,dimSize:g,outputShape:h}}var gG=a.i(63065);function gH(a){try{return a.map(a=>dd(a))}catch(a){throw Error(`Failed to decode encoded string bytes into utf-8, error: ${a}`)}}function gI(a){return a.map(a=>dc(a))}a.i(46893),a.i(59596);var gJ=a.i(28505);function gK(a,b){let c=a[0].length;a.forEach((a,b)=>{M(a.length===c,()=>`Error in concat${c}D: rank of tensors[${b}] must be the same as the rank of the rest (${c})`)}),M(b>=0&&b<c,()=>`Error in concat${c}D: axis must be between 0 and ${c-1}.`);let d=a[0];a.forEach((a,e)=>{for(let f=0;f<c;f++)M(f===b||a[f]===d[f],()=>`Error in concat${c}D: Shape of tensors[${e}] (${a}) does not match the shape of the rest (${d}) along the non-concatenated axis ${e}.`)})}function gL(a,b){let c=a[0].slice();for(let d=1;d<a.length;d++)c[b]+=a[d][b];return c}a.s(["assertParamsConsistent",()=>gK,"computeOutShape",()=>gL],96881),a.i(96881),a.i(36202),a.s(["applyActivation",()=>gU,"getFusedBiasGradient",()=>gT,"getFusedDyActivation",()=>gS,"shouldFuse",()=>gV],5517);let gM=dQ({elu_:function(a){let b=dN(a,"x","elu","float32");return dF.runKernel("Elu",{x:b})}}),gN=dQ({leakyRelu_:function(a,b=.2){let c=dN(a,"x","leakyRelu");return dF.runKernel(bF,{x:c},{alpha:b})}}),gO=dQ({prelu_:function(a,b){let c=dN(a,"x","prelu"),d=dN(b,"alpha","prelu");return dF.runKernel(b5,{x:c,alpha:d})}}),gP=dQ({relu_:function(a){let b=dN(a,"x","relu");return dF.runKernel(cd,{x:b})}}),gQ=dQ({relu6_:function(a){let b=dN(a,"x","relu6");return dF.runKernel(cj,{x:b})}}),gR=dQ({sigmoid_:function(a){let b=dN(a,"x","sigmoid","float32");return dF.runKernel(cv,{x:b})}});function gS(a,b,c){if(null==c||"linear"===c)return a;if("relu"===c)return eK(a,fa(b));throw Error(`Cannot compute gradient for fused activation ${c}.`)}function gT(a,b){let c=b,d=e3(a.shape,b.shape);return d.length>0&&(c=fe(c,d)),fd(c,a.shape)}function gU(a,b,c,d){if("linear"===b)return a;if("relu"===b)return gP(a);if("elu"===b)return gM(a);if("relu6"===b)return gQ(a);if("prelu"===b)return gO(a,c);else if("leakyrelu"===b)return gN(a,d);else if("sigmoid"===b)return gR(a);throw Error(`Unknown fused activation ${b}.`)}let gV=(a,b)=>!(a>0)||"linear"===b;function gW(a,b,c){let d=[];if(null==c&&null==b)return d;if(null==b)for(;d.length<a+c.length;)d.push(-1);else d=b.slice();if(null==c)return d;if(a+c.length!==d.length)throw Error(`rt input.shape and shape=${b} are incompatible: rt input.rank = ${a+c.length}, but shape.rank = ${d.length}`);for(let e=1;e<c.length;++e){let f=c[e],g=d[d.length-c.length+e],h=d[g];if(f>=0)if(h>=0){if(h!==f)throw Error(`rt input.shape and shape=${b} are incompatible: rt input.shape[${e+a}] = ${f} but shape[${e+a}] = ${h}`)}else d[g]=f}return d}function gX(a){let b={FIRST_DIM_SIZE:o.FIRST_DIM_SIZE,VALUE_ROWIDS:o.VALUE_ROWIDS,ROW_LENGTHS:o.ROW_LENGTHS,ROW_SPLITS:o.ROW_SPLITS,ROW_LIMITS:o.ROW_LIMITS,ROW_STARTS:o.ROW_STARTS},c=[];for(let d of a)if(d in b)c.push(b[d]);else break;return c}function gY(a){return 0===a.length?0:a[0]===o.FIRST_DIM_SIZE?a.length-1:a.length}function gZ(a,b){if(null==a||null==b)return;let c=a.length,d=b.length;if(c>=d)throw Error(`defaultValue.shape=${a} and ragged tensor flatValues.shape=${b}, are incompatible: defaultValue.rank = ${c} must be less than ragged tensor input flatValues.rank = ${d})`);for(let e=0;e<Math.min(c,d-1);++e){let c=a[e],d=b[e+1];if(c>=0&&d>=0&&1!==c&&c!==d)throw Error(`defaultValue.shape=${a}, and ragged tensor input flatValues.shape=${b} are incompatible: defaultValue.shape[${e-a.length}] = ${c} but ragged tensor input.flatValues.shape[${e-a.length}] = ${d}`)}}a.i(5517),a.s([],78745),a.i(78745),a.s(["RowPartitionType",()=>o,"combineRaggedTensorToTensorShapes",()=>gW,"getRaggedRank",()=>gY,"getRowPartitionTypesHelper",()=>gX,"validateDefaultValueShape",()=>gZ],77234),function(a){a[a.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",a[a.VALUE_ROWIDS=1]="VALUE_ROWIDS",a[a.ROW_LENGTHS=2]="ROW_LENGTHS",a[a.ROW_SPLITS=3]="ROW_SPLITS",a[a.ROW_LIMITS=4]="ROW_LIMITS",a[a.ROW_STARTS=5]="ROW_STARTS"}(o||(o={})),a.i(77234),a.i(50809);var g$=gA;function g_(a,b,c){return[c*("number"==typeof a?a:a[0]),b*("number"==typeof a?a:a[1])]}function g0(a,b,c,d=!0){let e=[];if(d)(e=e.concat(b.slice(0))).push(a[0]/c),e=e.concat(a.slice(1));else{e=e.concat(a[0]);let c=b.length;for(let d=0;d<c;++d)e=e.concat([a[d+1]/b[d],b[d]]);e=e.concat(a.slice(c+1))}return e}function g1(a,b,c=!0){let d=[];if(c){d.push(b);for(let c=b+1;c<a;++c)c<=2*b?(d.push(c),d.push(c-(b+1))):d.push(c)}else{let c=[],e=[];for(let d=1;d<a;++d)d>=2*b+1||d%2==1?e.push(d):c.push(d);d.push(...c),d.push(0),d.push(...e)}return d}function g2(a,b,c,d=!0){let e=[];d?e.push(a[0]/c):e.push(a[0]*c);for(let c=1;c<a.length;++c)c<=b.length?d?e.push(b[c-1]*a[c]):e.push(a[c]/b[c-1]):e.push(a[c]);return e}function g3(a,b){let c=[0];for(let d=0;d<b;++d)c.push(a[d][0]);return c}function g4(a,b,c){let d=a.slice(0,1);for(let e=0;e<c;++e)d.push(a[e+1]-b[e][0]-b[e][1]);return d}function g5(a,b){let c=a.shape.length,d=b.shape.length;if(c<1)throw Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${c}.`);if(d<1)throw Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${d}.`);if("int32"!==b.dtype)throw Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${b.dtype}.`);if(b.shape[d-1]>c)throw Error(`index innermost dimension length must be <= tensor rank; saw: ${b.shape[d-1]} vs. ${c}`);if(0===P(a.shape))throw Error(`Requested more than 0 entries, but input is empty. Input shape: ${a.shape}.`);let e=b.shape,f=e[e.length-1],g=1;for(let a=0;a<e.length-1;++a)g*=e[a];let h=a.shape,i=e.slice();i.pop();let j=1;for(let a=f;a<c;++a)j*=h[a],i.push(h[a]);let k=[...an(a.shape).map(a=>a/j),1].slice(0,f);return[i,g,j,k]}function g6(a,b,c){let d=b.rank>1?b.shape[b.rank-1]:1,e=b.rank>1?b.rank-1:1,f=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${c.shape}, indices.shape: ${b.shape}, shape: ${a}, sliceDim: ${d}, and batchDim: ${e}.`;if(c.rank<e)throw Error(f+` update.rank < ${e}. `);if(a.length<d+(c.rank-e))throw Error(f+` Output shape length < ${d+(c.rank-e)}`);if(c.rank!==e+a.length-d)throw Error(f+` update.rank != ${e+a.length-d}`);for(let a=0;a<e;++a)if(c.shape[a]!==b.shape[a])throw Error(f+` updates.shape[${a}] (${c.shape[a]}) != indices.shape[${a}] (${b.shape[a]}).`);for(let b=0;b<c.rank-e;++b)if(c.shape[b+e]!==a[b+d])throw Error(f+` updates.shape[${b+e}] (${c.shape[b+e]}) != shape[${b+e}] (${a[b+e]})`)}function g7(a,b,c){if(b.rank<1)throw Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${b.rank}.`);if(a.rank<1)throw Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${a.rank}.`);if("int32"!==b.dtype)throw Error(`The dtype of 'indices' should be int32, but got dtype: ${b.dtype}`);if(c.length<1)throw Error(`Output rank must be greater or equal to 1, but got shape: ${c}`);if(0===c.length){if(0===b.size)throw Error(`Indices specified for empty output. indices shape: ${b.shape}`);if(0===a.size)throw Error(`Updates specified for empty output. updates shape: ${a.shape}`)}g6(c,b,a)}function g8(a,b,c){let d=b.shape.length,e=d>1?b.shape[d-1]:1,f=c.length,g=1;for(let a=e;a<f;++a)g*=c[a];let h=e<1?1:e,i=P(b.shape)/h,j=[...an(c.slice(0,e)),1];return{sliceRank:e,numUpdates:i,sliceSize:g,strides:j,outputSize:P(c)}}a.s(["getImageCenter",()=>g_],27027),a.i(27027),a.s(["getPermuted",()=>g1,"getReshaped",()=>g0,"getReshapedPermuted",()=>g2,"getSliceBeginCoords",()=>g3,"getSliceSize",()=>g4],1249),a.i(1249),a.s(["prepareAndValidate",()=>g5],83587),a.i(83587),a.s(["calculateShapes",()=>g8,"validateInput",()=>g7,"validateUpdateShape",()=>g6],80797),a.i(80797),a.s(["SELU_SCALE",()=>ha,"SELU_SCALEALPHA",()=>g9],64388);let g9=1.7580993408473768,ha=1.0507009873554805;a.i(64388),a.s(["ERF_A1",()=>hc,"ERF_A2",()=>hd,"ERF_A3",()=>he,"ERF_A4",()=>hf,"ERF_A5",()=>hg,"ERF_P",()=>hb],37938);let hb=.3275911,hc=.254829592,hd=-.284496736,he=1.421413741,hf=-1.453152027,hg=1.061405429;function hh(a,b){if(a.length!==b.length)throw Error(`Cannot merge real and imag arrays of different lengths. real:${a.length}, imag: ${b.length}.`);let c=new Float32Array(2*a.length);for(let d=0;d<c.length;d+=2)c[d]=a[d/2],c[d+1]=b[d/2];return c}function hi(a){let b=new Float32Array(a.length/2),c=new Float32Array(a.length/2);for(let d=0;d<a.length;d+=2)b[d/2]=a[d],c[d/2]=a[d+1];return{real:b,imag:c}}function hj(a){let b=Math.ceil(a.length/4),c=new Float32Array(b),d=new Float32Array(b);for(let b=0;b<a.length;b+=4)c[Math.floor(b/4)]=a[b],d[Math.floor(b/4)]=a[b+1];return{real:c,imag:d}}function hk(a){let b=Math.floor(a.length/4),c=new Float32Array(b),d=new Float32Array(b);for(let b=2;b<a.length;b+=4)c[Math.floor(b/4)]=a[b],d[Math.floor(b/4)]=a[b+1];return{real:c,imag:d}}function hl(a,b){return{real:a[2*b],imag:a[2*b+1]}}function hm(a,b,c,d){a[2*d]=b,a[2*d+1]=c}function hn(a,b){let c=new Float32Array(a/2),d=new Float32Array(a/2);for(let e=0;e<Math.ceil(a/2);e++){let f=(b?2:-2)*Math.PI*(e/a);c[e]=Math.cos(f),d[e]=Math.sin(f)}return{real:c,imag:d}}function ho(a,b,c){let d=(c?2:-2)*Math.PI*(a/b);return{real:Math.cos(d),imag:Math.sin(d)}}a.i(37938),a.i(84572),a.s(["assignToTypedArray",()=>hm,"complexWithEvenIndex",()=>hj,"complexWithOddIndex",()=>hk,"exponent",()=>ho,"exponents",()=>hn,"getComplexWithIndex",()=>hl,"mergeRealAndImagArrays",()=>hh,"splitRealAndImagArrays",()=>hi],9600),a.i(9600),a.s(["checkEinsumDimSizes",()=>hs,"decodeEinsumEquation",()=>hq,"getEinsumComputePath",()=>ht,"getEinsumPermutation",()=>hr,"isIdentityPermutation",()=>hu],63852);let hp=/->/g;function hq(a,b){let c=((a=a.replace(/\s/g,"")).length-a.replace(hp,"").length)/2;if(c<1)throw Error("Equations without an arrow are not supported.");if(c>1)throw Error('Equation must contain exactly one arrow ("->").');let[d,e]=a.split("->");M(-1===d.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');let f=d.split(","),g=f.length;if(b!==g)throw Error(`Expected ${g} input tensors, received ${b}`);if(g>2)throw Error("Support for more than 2 input tensors is not implemented yet.");let h=[];for(let a=0;a<e.length;++a){let b=e[a];if(!f.some(a=>-1!==a.indexOf(b)))throw Error(`Output subscripts contain the label ${b} not present in the input subscripts.`);-1===h.indexOf(b)&&h.push(b)}for(let a=0;a<d.length;++a){let b=d[a];-1===h.indexOf(b)&&","!==b&&h.push(b)}let i=Array(f.length);for(let a=0;a<g;++a){if(new Set(f[a].split("")).size!==f[a].length)throw Error(`Found duplicate axes in input component ${f[a]}. Support for duplicate axes in input is not implemented yet.`);i[a]=[];for(let b=0;b<f[a].length;++b)i[a].push(h.indexOf(f[a][b]))}let j=h.length,k=e.length,l=[];for(let a=k;a<j;++a)l.push(a);return{allDims:h,summedDims:l,idDims:i}}function hr(a,b){let c=Array(a);c.fill(-1);for(let a=0;a<b.length;++a)c[b[a]]=a;let d=[];for(let b=0;b<a;++b)-1===c[b]&&d.push(b);return{permutationIndices:c=c.filter(a=>-1!==a),expandDims:d}}function hs(a,b,c){let d=Array(a);for(let a=0;a<c.length;++a){let e=c[a].shape;for(let c=0;c<b[a].length;++c)void 0===d[b[a][c]]?d[b[a][c]]=e[c]:M(d[b[a][c]]===e[c],()=>`Expected dimension ${d[b[a][c]]} at axis ${c} of input shaped ${JSON.stringify(e)}, but got dimension ${e[c]}`)}}function ht(a,b){let c=[],d=0;0===a.length&&a.push(-1),d=a.length+1;for(let a=0;a<d;++a)c.push([]);let e=[];for(let d=0;d<a.length;++d)for(let f of function(a,b){let c=[];for(let d=0;d<a.length;++d)(0===a[d].length||-1!==a[d].indexOf(b)||-1===b)&&c.push(d);return c}(b,a[d]))-1===e.indexOf(f)&&(c[d].push(f),e.push(f));return{path:a,steps:c}}function hu(a){return a.every((a,b)=>a===b)}function hv(a,b,c=0){let d=[];if("number"==typeof b)M(a.shape[c]%b==0,()=>"Number of splits must evenly divide the axis."),d=Array(b).fill(a.shape[c]/b);else{M(1>=b.reduce((a,b)=>(-1===b&&(a+=1),a),0),()=>"There should be only one negative value in split array.");let e=b.indexOf(-1);if(-1!==e){let d=b.reduce((a,b)=>b>0?a+b:a);b[e]=a.shape[c]-d}M(a.shape[c]===b.reduce((a,b)=>a+b),()=>"The sum of sizes must match the size of the axis dimension."),d=b}return d}function hw(a){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${a}`}function hx(a,b){return`indices(${a}, 0) is invalid: ${b} < 0`}function hy(a,b,c){return`indices(${a}, 0) is invalid: ${b} >= ${c}`}function hz(a,b){return`only one output dimension may be -1, not both ${a} and ${b}`}function hA(a,b){return`size ${a} must be non-negative, not ${b}`}function hB(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function hC(a,b){let c=P(a),d=P(b);return`Input to reshape is a SparseTensor with ${c}
  dense values, but the requested shape requires a multiple of ${d}. inputShape=${a} outputShape= ${b}`}function hD(a,b){let c=P(a),d=P(b);return`Input to reshape is a tensor with ${c} dense values, but the requested shape has ${d}. inputShape=${a} outputShape=${b}`}function hE(){return"segment ids must be >= 0"}function hF(){return"segment ids are not increasing"}function hG(a,b){return`Segment id ${a} out of range [0, ${b}), possibly because segmentIds input is not sorted.`}function hH(a,b,c){return`Bad: indices[${a}] == ${b} out of range [0, ${c})`}a.i(63852),a.s(["prepareSplitSize",()=>hv],85239),a.i(85239),a.s(["getSparseFillEmptyRowsIndicesDenseShapeMismatch",()=>hw,"getSparseFillEmptyRowsNegativeIndexErrorMessage",()=>hx,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",()=>hy],36928),a.i(36928),a.s(["getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",()=>hB,"getSparseReshapeInputOutputMismatchErrorMessage",()=>hD,"getSparseReshapeInputOutputMultipleErrorMessage",()=>hC,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",()=>hz,"getSparseReshapeNegativeOutputDimErrorMessage",()=>hA],37600),a.i(37600),a.s(["getSparseSegmentReductionIndicesOutOfRangeErrorMessage",()=>hH,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",()=>hE,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",()=>hF,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",()=>hG],23186),a.i(23186);var hI=gG,hJ=a.i(37368),hJ=hJ;let hK=dQ({cumprod_:function(a,b=0,c=!1,d=!1){let e=dN(a,"x","cumprod");return dF.runKernel(a7,{x:e},{axis:b,exclusive:c,reverse:d})}}),hL=dQ({reverse_:function(a,b){let c=dN(a,"x","reverse");return dF.runKernel(ck,{x:c},{dims:b})}}),hM=dQ({logicalNot_:function(a){let b=dN(a,"x","logicalNot","bool");return dF.runKernel(bL,{x:b})}}),hN=dQ({cos_:function(a){let b=dN(a,"x","cos","float32");return dF.runKernel("Cos",{x:b})}}),hO=dQ({cosh_:function(a){let b=dN(a,"x","cosh","float32");return dF.runKernel(a6,{x:b})}}),hP=dQ({pad_:function(a,b,c=0){let d=dN(a,"x","pad");if(0===d.rank)throw Error("pad(scalar) is not defined. Pass non-scalar to pad");return dF.runKernel(b4,{x:d},{paddings:b,constantValue:c})}}),hQ=dQ({batchToSpaceND_:function(a,b,c){let d=dN(a,"x","batchToSpaceND"),e=b.reduce((a,b)=>a*b);return M(d.rank>=1+b.length,()=>`input rank is ${d.rank} but should be > than blockShape.length ${b.length}`),M(c.length===b.length,()=>`crops.length is ${c.length} but should be equal to blockShape.length  ${b.length}`),M(d.shape[0]%e==0,()=>`input tensor batch is ${d.shape[0]} but is not divisible by the product of the elements of blockShape ${b.join(" * ")} === ${e}`),dF.runKernel(aS,{x:d},{blockShape:b,crops:c})}}),hR={kernelName:cy,gradFunc:(a,b,c)=>{let{blockShape:d,paddings:e}=c;return{x:()=>hQ(a,d,e)}}},hS=dQ({concat_:function(a,b=0){M(a.length>=1,()=>"Pass at least one tensor to concat");let c=dO(a,"tensors","concat","string_or_numeric");return("complex64"===c[0].dtype&&c.forEach(a=>{if("complex64"!==a.dtype)throw Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${a.dtype}. `)}),1===c.length)?eF(c[0]):dF.runKernel(a_,c,{axis:b})}}),hT={kernelName:cz,gradFunc:(a,b,c)=>{let{axis:d}=c;return{x:()=>hS(a,d)}}},hU=dQ({expandDims_:function(a,b=0){let c=dN(a,"x","expandDims","string_or_numeric");return M(b<=c.rank,()=>"Axis must be <= rank of the tensor"),dF.runKernel(bo,{input:c},{dim:b})}}),hV=dQ({gather_:function(a,b,c=0,d=0){let e=dN(a,"x","gather"),f=dN(b,"indices","gather","int32");return dF.runKernel(bv,{x:e,indices:f},{axis:c,batchDims:d})}});for(let a of[fb,{kernelName:aD,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>{let b=eM(eE(c,"float32"));return fc(eJ(a,eL(e_(eP(1),b))))}}}},{kernelName:aE,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eL(e_(eM(eE(c,"float32")),1)))}}},{kernelName:"Add",inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=a,d=e3(c.shape,e);return d.length>0&&(b=fe(b,d)),fd(b,c.shape)},b:()=>{let b=a,c=e3(d.shape,e);return c.length>0&&(b=fe(b,c)),fd(b,d.shape)}}}},{kernelName:aF,saveAllInputs:!0,gradFunc:(a,b)=>{let c={};return b.forEach((b,d)=>{c[d]=()=>a.clone()}),c}},{kernelName:aG,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eN(c)}}},{kernelName:aH,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eN(c)}}},{kernelName:aI,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eL(e_(eP(1),eM(eE(c,"float32")))))}}},{kernelName:aJ,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eL(eH(eP(1),eM(eE(c,"float32")))))}}},{kernelName:aM,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=eH(eM(c),eM(d)),f=eK(a,eJ(d,b)),g=e3(c.shape,e);return g.length>0&&(f=fe(f,g)),fd(f,c.shape)},b:()=>{let b=eH(eM(c),eM(d)),f=fc(eK(a,eJ(c,b))),g=e3(d.shape,e);return g.length>0&&(f=fe(f,g)),fd(f,d.shape)}}}},{kernelName:aK,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eH(eM(eE(c,"float32")),1))}}},{kernelName:aL,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,e_(eP(1),eM(eE(c,"float32"))))}}},{kernelName:aP,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{filterSize:e,strides:f,pad:g,dimRoundingMode:h}=c;return{x:()=>fu(a,d,e,f,g,h)}}},{kernelName:aN,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{filterSize:e,strides:f,pad:g}=c;return{x:()=>fv(a,d,e,f,g)}}},{kernelName:aR,inputsToSave:["a","b"],gradFunc:(a,b,c)=>{let[d,e]=b,{transposeA:f,transposeB:g}=c;return f||g?!f&&g?{a:()=>fw(a,e,!1,!1),b:()=>fw(a,d,!0,!1)}:f&&!g?{a:()=>fw(e,a,!1,!0),b:()=>fw(d,a,!1,!1)}:{a:()=>fw(e,a,!0,!0),b:()=>fw(a,d,!0,!0)}:{a:()=>fw(a,e,!1,!0),b:()=>fw(d,a,!0,!1)}}},{kernelName:aS,gradFunc:(a,b,c)=>{let{blockShape:d,crops:e}=c;return{x:()=>fx(a,d,e)}}},{kernelName:"BroadcastTo",gradFunc:(a,b,c)=>{let d=c.inputShape,e=c.shape,f=Array.from(e);for(let a=d.length-1;a>=0;a--)if(d[a]===e[a])f[a]=1;else if(1!==d[a])throw Error(`broadcastTo(): [${d}] cannot be broadcast to [${e}].`);let g=[];for(let a=0;a<f.length;a++)f[a]>1&&g.push(a);return{x:()=>fe(a,g,!0)}}},{kernelName:aW,gradFunc:a=>({x:()=>a.clone()})},{kernelName:aX,gradFunc:a=>({x:()=>eN(a)})},{kernelName:aY,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{clipValueMin:e,clipValueMax:f}=c;return{x:()=>fC(fA(fy(d,e),fz(d,f)),a,eN(a))}}},fD,{kernelName:a_,saveAllInputs:!0,gradFunc:(a,b,c)=>{let d=b.map(a=>a.shape),{axis:e}=c,f=$(e,b[0].shape)[0];return fE(a,d.map(a=>a[f]),f).map(a=>()=>a)}},{kernelName:a2,inputsToSave:["dy","filter"],gradFunc:(a,b,c)=>{let[d,e]=b,{strides:f,pad:g,dataFormat:h,dimRoundingMode:i}=c;return{dy:()=>fH(a,e,f,g,h,1,i),filter:()=>fF(a,d,e.shape,f,g,h,i)}}},{kernelName:a0,inputsToSave:["x","filter"],gradFunc:(a,b,c)=>{let[d,e]=b,{dilations:f,strides:g,pad:h,dataFormat:i}=c;return M(fp(f),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${f}'`),{x:()=>fG(d.shape,a,e,g,h,i),filter:()=>fF(d,a,e.shape,g,h,i)}}},{kernelName:a3,inputsToSave:["x","filter"],gradFunc:(a,b,c)=>{let{dilations:d,strides:e,pad:f}=c;M(fp(d),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${d}'`);let[g,h]=b;return{x:()=>fJ(g.shape,a,h,e,f),filter:()=>fI(g,a,h.shape,e,f)}}},{kernelName:"Cos",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(fc(fK(eE(c,"float32"))),a)}}},{kernelName:a6,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(fL(eE(c,"float32")),a)}}},{kernelName:a8,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{axis:e,exclusive:f,reverse:g}=c;return{x:()=>{let b=fR([e],d.rank),c=fU(a,e,f,!g);return null!=b&&(c=fX(c,b)),c}}}},{kernelName:bc,inputsToSave:["x","filter"],gradFunc:(a,b,c)=>{let{dilations:d,strides:e,pad:f,dimRoundingMode:g}=c,h=null==d?[1,1]:d;M(fp(h),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${h}'`);let[i,j]=b;return M(4===i.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${i.rank}.`),M(4===j.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${j.rank}.`),M(i.shape[3]===j.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${i.shape[3]}) must match the inChannels dimension in filter ${j.shape[2]}.`),M(fq(e,h),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${e} and dilations '${h}'.`),ft("depthwiseConv2d",f,g),{x:()=>fZ(i.shape,a,j,e,f,h,g),filter:()=>fY(i,a,j.shape,e,f,h,g)}}},{kernelName:bg,inputsToSave:["x","filter"],gradFunc:(a,b,c)=>{let[d,e]=b,f={x:d,filter:e,dy:a},g={x:d,filter:e,dy:a};return{x:()=>dF.runKernel(bh,f,c),filter:()=>dF.runKernel(bi,g,c)}}},{kernelName:bk,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=eJ(a,eE(d,"float32")),f=e3(c.shape,e);return f.length>0?fd(fe(b,f),c.shape):b},b:()=>{let b=eK(a,eE(c,"float32")),f=e3(d.shape,e);return f.length>0&&(b=fd(fe(b,f),d.shape)),fc(eJ(b,eE(eM(d),"float32")))}}}},{kernelName:"Elu",outputsToSave:[!0],gradFunc:(a,b)=>{let[c]=b,d={dy:a,y:c};return{x:()=>dF.runKernel(bm,d)}}},{kernelName:"Erf",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b,d=eK(f$(fc(eM(c))),2/Math.sqrt(Math.PI));return{x:()=>eK(a,d)}}},{kernelName:"Exp",outputsToSave:[!0],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,c)}}},{kernelName:bo,inputsToSave:["input"],gradFunc:(a,b)=>{let[c]=b;return{input:()=>fd(a,c.shape)}}},{kernelName:bp,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,f$(c))}}},{kernelName:bt,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=eJ(a,eE(d,"float32")),f=e3(c.shape,e);return f.length>0?fd(fe(b,f),c.shape):b},b:()=>{let b=eK(a,eE(c,"float32")),f=e3(d.shape,e);return f.length>0&&(b=fd(fe(b,f),d.shape)),fc(eJ(b,eE(eM(d),"float32")))}}}},{kernelName:bs,gradFunc:a=>({x:()=>eN(a)})},{kernelName:bu,inputsToSave:["x","mean","variance","scale"],gradFunc:(a,b,c)=>{let{varianceEpsilon:d}=c,[e,f,g,h]=b,i=null==h?eP(1):h,j=e3(f.shape,e.shape),k=[];if(1===f.rank){for(let a=0;a<e.shape.length-1;++a)k.push(e.shape[a]);k.push(1)}let l=e_(e,f),m=eK(a,i),n=f_(eH(g,eP(d))),o=eK(eK(eK(n,n),n),eP(-.5));return{x:()=>1===f.rank?fd(eK(eK(a,f0(fd(n,[1,1,1,f.shape[0]]),k)),i),e.shape):fd(eK(eK(a,n),i),e.shape),mean:()=>{let a=eK(eK(n,eP(-1)),m);return 1===f.rank&&(a=fe(a,j)),fd(a,f.shape)},variance:()=>{let a=eK(eK(o,l),m);return 1===f.rank&&(a=fe(a,j)),fd(a,f.shape)},scale:()=>{let b=eK(l,n),c=eK(a,b);return 1===f.rank&&(c=fe(c,j)),fd(c,f.shape)},offset:()=>{let b=a;return 1===f.rank&&(b=fe(b,j)),fd(b,f.shape)}}}},{kernelName:bv,inputsToSave:["x","indices"],gradFunc:(a,b,c)=>{let[d,e]=b,{axis:f,batchDims:g}=c,h=$(f,d.shape)[0],i=(a,b,c)=>()=>{let d=a.shape,e=b.size,g=d.slice(0,h),i=g.length,j=d.slice(f,d.length).slice(1),k=j.length,l=f3(0,i),m=f3(i+1,i+1+k),n=fd(c,f4([g,[e],j])),o=fd(b,[e]),p=f4([[i],l,m]),q=f2(fX(n,p),o,a.shape[h]);return fX(q,fS(p))};if(1!==g)return{x:i(d,e,a),indices:()=>e};{let b=d.shape[0],c=d.split(b,0);return{x:()=>f1(c.map((b,c)=>i(b,e.slice(c,1),a.slice(c,1))())).reshape(d.shape),indices:()=>e}}}},{kernelName:by,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b;return{a:()=>eN(c),b:()=>eN(d)}}},{kernelName:bz,gradFunc:a=>({x:()=>eE(a,"float32")})},{kernelName:bC,gradFunc:a=>({x:()=>eN(a)})},{kernelName:bD,gradFunc:a=>({x:()=>eN(a)})},{kernelName:bE,gradFunc:a=>({x:()=>eN(a)})},{kernelName:bF,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{alpha:e}=c,f=f5(d,0);return{x:()=>fC(f,a,eK(a,e))}}},{kernelName:bJ,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eH(c,1))}}},{kernelName:"Log",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eE(c,"float32"))}}},{kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(a,b,c)=>{let[d]=b,{axis:e}=c;return{logits:()=>{let b=f$(d);return e_(a,eK(fe(a,e,!0),b))}}}},{kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(a,b,c)=>{let[d,e]=b,{depthRadius:f,bias:g,alpha:h,beta:i}=c;return{x:()=>f6(d,e,a,f,g,h,i)}}},f9,f9,{kernelName:bO,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b;return{a:()=>eK(a,eE(fy(c,d),"float32")),b:()=>eK(a,eE(ga(c,d),"float32"))}}},{kernelName:bR,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(a,b,c)=>{let[d,e]=b,{filterSize:f,strides:g,pad:h,dimRoundingMode:i}=c;return{x:()=>gb(a,d,e,f,g,h,i)}}},{kernelName:bP,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(a,b,c)=>{let[d,e]=b,{filterSize:f,strides:g,pad:h}=c;return{x:()=>gc(a,d,e,f,g,h)}}},{kernelName:bU,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{axis:e}=c,f=$(e,d.shape),g=P(fO(d.shape,f)[1]);return{x:()=>{let b=d.shape.slice();return f.forEach(a=>{b[a]=1}),eJ(eK(fd(a,b),ge(d.shape,"float32")),g)}}}},{kernelName:"Min",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(a,b,c)=>{let{axis:d}=c,[e,f]=b,g=$(d,e.shape),h=f8(a,f,e,g);return{x:()=>h.x()}}},{kernelName:bV,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b;return{a:()=>eK(a,eE(fz(c,d),"float32")),b:()=>eK(a,eE(f5(c,d),"float32"))}}},{kernelName:bW,inputsToSave:["x"],gradFunc:(a,b,c)=>{let d=b[0],{paddings:e}=c,f=e.map(a=>a[0]);return{x:()=>gf(a,f,d.shape)}}},{kernelName:"Mod",inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=e3(c.shape,e);return b.length>0?fd(fe(a,b),c.shape):a},b:()=>{let b=eK(a,fc(gg(eJ(c,d)))),f=e3(d.shape,e);return f.length>0?fd(fe(b,f),d.shape):b}}}},{kernelName:bY,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=eK(a,eE(d,"float32")),f=e3(c.shape,e);return f.length>0?fd(fe(b,f),c.shape):b},b:()=>{let b=eK(a,eE(c,"float32")),f=e3(d.shape,e);return f.length>0?fd(fe(b,f),d.shape):b}}}},{kernelName:"Neg",gradFunc:a=>({x:()=>fc(a)})},{kernelName:b2,inputsToSave:["indices"],gradFunc:(a,b)=>{let c=b[0];return{indices:()=>gd(c.shape,"float32")}}},{kernelName:b1,gradFunc:a=>({x:()=>eN(a)})},{kernelName:b3,saveAllInputs:!0,gradFunc:(a,b,c)=>{let{axis:d}=c;return gh(a,d).map(a=>()=>a)}},gi,gi,{kernelName:"Pow",inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(a,b)=>{let[c,d,e]=b,f=e4(c.shape,d.shape);return{a:()=>{let b=eE(d,"float32"),e=eK(a,eK(b,e$(c,e_(b,eP(1))))),g=e3(c.shape,f);return g.length>0&&(e=fe(e,g)),fd(e,c.shape)},b:()=>{let b=eK(a,eK(e,fC(f5(c,0),gj(c),eN(c)))),g=e3(d.shape,f);return g.length>0&&(b=fe(b,g)),fd(b,d.shape)}}}},{kernelName:b5,inputsToSave:["x","alpha"],gradFunc:(a,b)=>{let[c,d]=b,e=f5(c,0);return{x:()=>fC(e,a,eK(a,d)),alpha:()=>{let b=fC(e,eN(a),eK(a,c)),f=e3(d.shape,a.shape);return f.length>0&&(b=fe(b,f)),fd(b,d.shape)}}}},{kernelName:b6,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{axis:e}=c,f=[];return f=null==e?d.shape.map((a,b)=>b):"number"==typeof e?[e]:e,{x:()=>(function(a,b,c){let d=a.shape.length,e=d-c.length,f=hJ.getAxesPermutation(c,d),g=a;null!=f&&(g=fX(a,f));let h=g.shape.slice(),i=h.splice(d-c.length,c.length).reduce((a,b)=>a*b,1);h.push(i);let j=function(a,b,c){let d=a.shape.slice();d[c]=1;let e=fd(b,d),f=eK(hK(a,c,!0,!1),hK(a,c,!0,!0));return eK(e,f)}(g.reshape(h),b,e);return j=j.reshape(g.shape),null!=f&&(j=fX(j,hJ.getUndoAxesPermutation(f))),j})(d,a,f)}}},{kernelName:cc,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,fc(eM(c)))}}},{kernelName:cj,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b,d=eK(fz(c,6),fa(c));return{x:()=>eK(a,eE(d,"float32"))}}},{kernelName:cd,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,eE(fa(c),"float32"))}}},{kernelName:ce,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>fd(a,c.shape)}}},{kernelName:ch,inputsToSave:["images"],gradFunc:(a,b,c)=>{let[d]=b,e={dy:a,images:d};return{images:()=>dF.runKernel(ci,e,c)}}},{kernelName:cf,inputsToSave:["images"],gradFunc:(a,b,c)=>{let[d]=b,e={dy:a,images:d};return{images:()=>dF.runKernel(cg,e,c)}}},{kernelName:ck,gradFunc:(a,b,c)=>{let{dims:d}=c,e=$(d,a.shape);return{x:()=>hL(a,e)}}},{kernelName:cl,gradFunc:a=>({x:()=>eN(a)})},{kernelName:cm,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>fc(eJ(a,eK(e$(c,1.5),2)))}}},{kernelName:cq,inputsToSave:["condition"],gradFunc:(a,b)=>{let[c]=b;return{condition:()=>eE(eN(c),"float32"),t:()=>eK(a,eE(c,a.dtype)),e:()=>eK(a,eE(hM(c),a.dtype))}}},{kernelName:cr,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>{let b=f5(c,eP(0)),d=eP(g9);return fC(b,eK(a,eP(ha)),eK(eK(a,d),f$(eE(c,"float32"))))}}}},{kernelName:cv,outputsToSave:[!0],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,eK(c,e_(eP(1),c)))}}},{kernelName:cu,gradFunc:a=>({x:()=>eN(a)})},{kernelName:"Sin",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(hN(eE(c,"float32")),a)}}},{kernelName:ct,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(hO(eE(c,"float32")),a)}}},{kernelName:cs,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{begin:e,size:f}=c,g=d.shape,[h,i]=gx(d,e,f),j=[];for(let b=0;b<a.rank;b++)j.push([h[b],g[b]-h[b]-i[b]]);return{x:()=>hP(a,j)}}},{kernelName:cA,outputsToSave:[!0],gradFunc:(a,b,c)=>{let[d]=b,{dim:e}=c,f=eK(a,d);return{logits:()=>e_(f,eK(fe(f,[e],!0),d))}}},{kernelName:cw,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,gR(c))}}},hR,hR,hT,hT,{kernelName:cx,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eK(eL(eE(c,"float32")),2))}}},{kernelName:cG,inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=eP(2);return{a:()=>eK(a,eK(e,e_(c,d))),b:()=>eK(a,eK(e,e_(d,c)))}}},{kernelName:cH,inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(a,eK(eE(c,"float32"),2))}}},{kernelName:cW,gradFunc:a=>({x:()=>eN(a)})},{kernelName:"Sub",inputsToSave:["a","b"],gradFunc:(a,b)=>{let[c,d]=b,e=e4(c.shape,d.shape);return{a:()=>{let b=a,d=e3(c.shape,e);return d.length>0&&(b=fe(b,d)),fd(b,c.shape)},b:()=>{let b=a,c=e3(d.shape,e);return c.length>0&&(b=fe(b,c)),fd(fc(b),d.shape)}}}},{kernelName:"Sum",inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,e=d.shape.slice(),{axis:f}=c;$(f,d.shape).forEach(a=>{e[a]=1});let g=eK(fd(a,e),ge(d.shape,"float32"));return{x:()=>g}}},{kernelName:"Tan",inputsToSave:["x"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eJ(a,eM(hN(c)))}}},{kernelName:cN,outputsToSave:[!0],gradFunc:(a,b)=>{let[c]=b;return{x:()=>eK(e_(eP(1),eM(c)),a)}}},{kernelName:cO,inputsToSave:["x"],gradFunc:(a,b,c)=>{let[d]=b,{reps:e}=c;return{x:()=>{let b=eN(d);if(1===d.rank)for(let c=0;c<e[0];++c)b=eH(b,gf(a,[c*d.shape[0]],[d.shape[0]]));else if(2===d.rank)for(let c=0;c<e[0];++c)for(let f=0;f<e[1];++f)b=eH(b,gf(a,[c*d.shape[0],f*d.shape[1]],[d.shape[0],d.shape[1]]));else if(3===d.rank)for(let c=0;c<e[0];++c)for(let f=0;f<e[1];++f)for(let g=0;g<e[2];++g)b=eH(b,gf(a,[c*d.shape[0],f*d.shape[1],g*d.shape[2]],[d.shape[0],d.shape[1],d.shape[2]]));else if(4===d.rank)for(let c=0;c<e[0];++c)for(let f=0;f<e[1];++f)for(let g=0;g<e[2];++g)for(let h=0;h<e[3];++h)b=eH(b,gf(a,[c*d.shape[0],f*d.shape[1],g*d.shape[2],h*d.shape[3]],[d.shape[0],d.shape[1],d.shape[2],d.shape[3]]));else throw Error(`Gradient for tile operation is not implemented for rank-${d.rank} tensors yet.`);return b}}}},{kernelName:cR,gradFunc:(a,b,c)=>{let{perm:d}=c,e=fS(d);return{x:()=>fX(a,e)}}},{kernelName:cT,gradFunc:(a,b,c)=>{let{axis:d}=c;return{value:()=>f1(a,d)}}},{kernelName:cU,inputsToSave:["segmentIds"],gradFunc:(a,b)=>{let[c]=b;return{x:()=>(function(a,b){let c=hV(a,e5(b,eN(b))),d=fy(b,eP(0,"int32")),e=c.rank-d.rank;for(let a=0;a<e;++a)d=hU(d,a+1);d=fA(d,ge(c.shape,"bool"));let f=eN(c);return fC(d,c,f)})(a,c)}}},{kernelName:cV,gradFunc:a=>({x:()=>eN(a)})}])!function(a){let{kernelName:b}=a;c3.has(b)&&aA.getBool("DEBUG")&&c0(`Overriding the gradient for '${b}'`),c3.set(b,a)}(a);dq().prototype.abs=function(){return this.throwIfDisposed(),e1(this)};let hW=dQ({acos_:function(a){let b=dN(a,"x","acos");return dF.runKernel(aD,{x:b})}});dq().prototype.acos=function(){return this.throwIfDisposed(),hW(this)};let hX=dQ({acosh_:function(a){let b=dN(a,"x","acosh");return dF.runKernel(aE,{x:b})}});dq().prototype.acosh=function(){return this.throwIfDisposed(),hX(this)},dq().prototype.add=function(a){return this.throwIfDisposed(),eH(this,a)};let hY=dQ({all_:function(a,b=null,c=!1){let d=dN(a,"x","all","bool");return dF.runKernel("All",{x:d},{axis:b,keepDims:c})}});dq().prototype.all=function(a,b){return this.throwIfDisposed(),hY(this,a,b)};let hZ=dQ({any_:function(a,b=null,c=!1){let d=dN(a,"x","any","bool");return dF.runKernel("Any",{x:d},{axis:b,keepDims:c})}});dq().prototype.any=function(a,b){return this.throwIfDisposed(),hZ(this,a,b)};let h$=dQ({argMax_:function(a,b=0){let c=dN(a,"x","argMax");return dF.runKernel(aG,{x:c},{axis:b})}});dq().prototype.argMax=function(a){return this.throwIfDisposed(),h$(this,a)};let h_=dQ({argMin_:function(a,b=0){let c=dN(a,"x","argMin");return dF.runKernel(aH,{x:c},{axis:b})}});dq().prototype.argMin=function(a){return this.throwIfDisposed(),h_(this,a)},dq().prototype.asScalar=function(){return this.throwIfDisposed(),M(1===this.size,()=>"The array must have only 1 element."),fd(this,[])},dq().prototype.asType=function(a){return this.throwIfDisposed(),eE(this,a)},dq().prototype.as1D=function(){return this.throwIfDisposed(),fd(this,[this.size])},dq().prototype.as2D=function(a,b){return this.throwIfDisposed(),fd(this,[a,b])},dq().prototype.as3D=function(a,b,c){return this.throwIfDisposed(),fd(this,[a,b,c])},dq().prototype.as4D=function(a,b,c,d){return this.throwIfDisposed(),fd(this,[a,b,c,d])},dq().prototype.as5D=function(a,b,c,d,e){return this.throwIfDisposed(),fd(this,[a,b,c,d,e])};let h0=dQ({asin_:function(a){let b=dN(a,"x","asin");return dF.runKernel(aI,{x:b})}});dq().prototype.asin=function(){return this.throwIfDisposed(),h0(this)};let h1=dQ({asinh_:function(a){let b=dN(a,"x","asinh");return dF.runKernel(aJ,{x:b})}});dq().prototype.asinh=function(){return this.throwIfDisposed(),h1(this)};let h2=dQ({atan_:function(a){let b=dN(a,"x","atan");return dF.runKernel(aK,{x:b})}});dq().prototype.atan=function(){return this.throwIfDisposed(),h2(this)};let h3=dQ({atan2_:function(a,b){let c=dN(a,"a","atan2"),d=dN(b,"b","atan2");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel(aM,e)}});dq().prototype.atan2=function(a){return this.throwIfDisposed(),h3(this,a)};let h4=dQ({atanh_:function(a){let b=dN(a,"x","atanh");return dF.runKernel(aL,{x:b})}});dq().prototype.atanh=function(){return this.throwIfDisposed(),h4(this)};let h5=dQ({avgPool_:function(a,b,c,d,e){let f=dN(a,"x","avgPool","float32");M(fq(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);let g=f,h=!1;3===f.rank&&(h=!0,g=fd(f,[1,f.shape[0],f.shape[1],f.shape[2]])),M(4===g.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${g.rank}.`),ft("avgPool",d,e);let i={x:g},j=dF.runKernel(aN,i,{filterSize:b,strides:c,pad:d,dimRoundingMode:e});return(j=eE(j,f.dtype),h)?fd(j,[j.shape[1],j.shape[2],j.shape[3]]):j}});dq().prototype.avgPool=function(a,b,c,d){return this.throwIfDisposed(),h5(this,a,b,c,d)},dq().prototype.batchToSpaceND=function(a,b){return this.throwIfDisposed(),hQ(this,a,b)};let h6=dQ({batchNorm_:function(a,b,c,d,e,f){let g,h;null==f&&(f=.001);let i=dN(a,"x","batchNorm"),j=dN(b,"mean","batchNorm"),k=dN(c,"variance","batchNorm");null!=e&&(g=dN(e,"scale","batchNorm")),null!=d&&(h=dN(d,"offset","batchNorm")),M(j.rank===k.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),M(null==h||j.rank===h.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),M(null==g||j.rank===g.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let l={x:0===i.rank||1===i.rank?fd(i,[1,1,1,i.size]):2===i.rank?fd(i,[1,1,i.shape[0],i.shape[1]]):3===i.rank?fd(i,[1,i.shape[0],i.shape[1],i.shape[2]]):i,scale:g,offset:h,mean:j,variance:k},m={varianceEpsilon:f};return fd(dF.runKernel(bu,l,m),i.shape)}});dq().prototype.batchNorm=function(a,b,c,d,e){return this.throwIfDisposed(),h6(this,a,b,c,d,e)},dq().prototype.broadcastTo=function(a){return this.throwIfDisposed(),fB(this,a)},dq().prototype.cast=function(a){return this.throwIfDisposed(),eE(this,a)};let h7=dQ({ceil_:function(a){let b=dN(a,"x","ceil","float32");return dF.runKernel(aX,{x:b})}});dq().prototype.ceil=function(){return this.throwIfDisposed(),h7(this)};let h8=dQ({clipByValue_:function(a,b,c){let d=dN(a,"x","clipByValue");return(M(b<=c,()=>`Error in clip: min (${b}) must be less than or equal to max (${c}).`),b===c)?eY(d.shape,b,d.dtype):dF.runKernel(aY,{x:d},{clipValueMin:b,clipValueMax:c})}});dq().prototype.clipByValue=function(a,b){return this.throwIfDisposed(),h8(this,a,b)},dq().prototype.concat=function(a,b){return this.throwIfDisposed(),a instanceof dp&&(a=[a]),hS([this,...a],b)};let h9=dQ({conv1d_:function(a,b,c,d,e="NWC",f=1,g){let h=dN(a,"x","conv1d"),i=dN(b,"filter","conv1d"),j=h,k=!1;2===h.rank&&(k=!0,j=fd(h,[1,h.shape[0],h.shape[1]])),M(3===j.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${j.rank}.`),M(3===i.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${i.rank}.`),ft("conv1d",d,g),M(j.shape[2]===i.shape[1],()=>`Error in conv1d: depth of input (${j.shape[2]}) must match input depth for filter ${i.shape[1]}.`),M(fq(c,f),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${c} and dilation '${f}'`),M(fr(f),()=>"Error in conv1D: Dilated rates should be larger than 0."),M(fr(c),()=>"Error in conv1D: Stride should be larger than 0."),M("NWC"===e,()=>`Error in conv1d: got dataFormat of ${e} but only NWC is currently supported.`);let l=fd(i,[1,i.shape[0],i.shape[1],i.shape[2]]),m=fH(fd(j,[j.shape[0],1,j.shape[1],j.shape[2]]),l,[1,c],d,"NHWC",[1,f],g);return k?fd(m,[m.shape[2],m.shape[3]]):fd(m,[m.shape[0],m.shape[2],m.shape[3]])}});dq().prototype.conv1d=function(a,b,c,d,e,f){return this.throwIfDisposed(),h9(this,a,b,c,d,e,f)};let ia=dQ({conv2dTranspose_:function(a,b,c,d,e,f){return fG(c,dN(a,"x","conv2dTranspose"),dN(b,"filter","conv2dTranspose"),d,e,"NHWC",f)}});dq().prototype.conv2dTranspose=function(a,b,c,d,e){return this.throwIfDisposed(),ia(this,a,b,c,d,e)},dq().prototype.conv2d=function(a,b,c,d,e,f){return this.throwIfDisposed(),fH(this,a,b,c,d,e,f)},dq().prototype.cos=function(){return this.throwIfDisposed(),hN(this)},dq().prototype.cosh=function(){return this.throwIfDisposed(),hO(this)},dq().prototype.cumprod=function(a,b,c){return this.throwIfDisposed(),hK(this,a,b,c)},dq().prototype.cumsum=function(a,b,c){return this.throwIfDisposed(),fU(this,a,b,c)};let ib=dQ({depthToSpace_:function(a,b,c="NHWC"){let d=dN(a,"x","depthToSpace","float32"),e="NHWC"===c?d.shape[1]:d.shape[2],f="NHWC"===c?d.shape[2]:d.shape[3],g="NHWC"===c?d.shape[3]:d.shape[1];return M(b>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${b}`),M(e*b>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${e} and ${b}  for depthToSpace with input shape
    ${d.shape}`),M(f*b>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${f} and ${b} for depthToSpace with input shape
        ${d.shape}`),M(g%(b*b)==0,()=>`Dimension size must be evenly divisible by ${b*b} but is ${g} for depthToSpace with input shape ${d.shape}`),dF.runKernel(bb,{x:d},{blockSize:b,dataFormat:c})}});dq().prototype.depthToSpace=function(a,b){return this.throwIfDisposed(),ib(this,a,b)};let ic=dQ({depthwiseConv2d_:function(a,b,c,d,e="NHWC",f=[1,1],g){let h=dN(a,"x","depthwiseConv2d","float32"),i=dN(b,"filter","depthwiseConv2d","float32"),j=h,k=!1;3===h.rank&&(k=!0,j=fd(h,[1,h.shape[0],h.shape[1],h.shape[2]])),M(4===j.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${j.rank}.`),M(4===i.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${i.rank}.`);let l="NHWC"===e?j.shape[3]:j.shape[1];M(l===i.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${l}) must match the inChannels dimension in filter ${i.shape[2]}.`),ft("depthwiseConv2d",d,g);let m={x:j,filter:i},n=dF.runKernel(bc,m,{strides:c,pad:d,dataFormat:e,dilations:f,dimRoundingMode:g});return k?fd(n,[n.shape[1],n.shape[2],n.shape[3]]):n}});dq().prototype.depthwiseConv2d=function(a,b,c,d,e,f){return this.throwIfDisposed(),ic(this,a,b,c,d,e,f)};let id=dQ({dilation2d_:function(a,b,c,d,e=[1,1],f="NHWC"){let g=dN(a,"x","dilation2d"),h=dN(b,"filter","dilation2d");M(3===g.rank||4===g.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${g.rank}.`),M(3===h.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${h.rank}.`),M("NHWC"===f,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${f}`);let i=g,j=!1;3===g.rank&&(i=fd(g,[1,g.shape[0],g.shape[1],g.shape[2]]),j=!0),M(i.shape[3]===h.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${i.shape[3]} vs ${h.shape[2]}`);let k={x:i,filter:h},l=dF.runKernel(bg,k,{strides:c,pad:d,dilations:e});return j?fd(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});dq().prototype.dilation2d=function(a,b,c,d,e){return this.throwIfDisposed(),id(this,a,b,c,d,e)};let ie=dQ({divNoNan_:function(a,b){let c=dN(a,"a","div"),d=dN(b,"b","div");[c,d]=dx(c,d);let e=eJ(c,d),f=eN(e);return fC(f7(d,f),f,e)}});dq().prototype.divNoNan=function(a){return this.throwIfDisposed(),ie(this,a)},dq().prototype.div=function(a){return this.throwIfDisposed(),eJ(this,a)};let ig=dQ({dot_:function(a,b){let c=dN(a,"t1","dot"),d=dN(b,"t2","dot");M((1===c.rank||2===c.rank)&&(1===d.rank||2===d.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${c.rank} and ${d.rank}.`);let e=1===c.rank?c.size:c.shape[1],f=1===d.rank?d.size:d.shape[0];if(M(e===f,()=>`Error in dot: inner dimensions of inputs must match, but got ${e} and ${f}.`),1===c.rank&&1===d.rank){let a=fw(fd(c,[1,-1]),fd(d,[-1,1]));return fd(a,[])}if(1===c.rank&&2===d.rank){let a=fw(fd(c,[1,-1]),fd(d,[d.shape[0],d.shape[1]]));return fd(a,[a.size])}if(2!==c.rank||1!==d.rank)return fw(c,fd(d,[d.shape[0],d.shape[1]]));{let a=fw(c,fd(d,[-1,1]));return fd(a,[a.size])}}});dq().prototype.dot=function(a){return this.throwIfDisposed(),ig(this,a)},dq().prototype.elu=function(){return this.throwIfDisposed(),gM(this)},dq().prototype.equal=function(a){return this.throwIfDisposed(),f7(this,a)};let ih=dQ({erf_:function(a){let b=dN(a,"x","erf");M("int32"===b.dtype||"float32"===b.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===b.dtype&&(b=eE(b,"float32"));let c={x:b};return dF.runKernel("Erf",c)}});dq().prototype.erf=function(){return this.throwIfDisposed(),ih(this)},a.s(["norm",()=>ik],54846);let ii=dQ({max_:function(a,b=null,c=!1){let d=dN(a,"x","max");return dF.runKernel("Max",{x:d},{reductionIndices:b,keepDims:c})}}),ij=dQ({min_:function(a,b=null,c=!1){let d=dN(a,"x","min");return dF.runKernel("Min",{x:d},{axis:b,keepDims:c})}}),ik=dQ({norm_:function(a,b="euclidean",c=null,d=!1){let e=function a(b,c,d=null){if(0===b.rank)return e1(b);if(1!==b.rank&&null===d)return a(fd(b,[-1]),c,d);if(1===b.rank||"number"==typeof d||Array.isArray(d)&&1===d.length){if(1===c)return fe(e1(b),d);if(c===1/0)return ii(e1(b),d);if(c===-1/0)return ij(e1(b),d);if("euclidean"===c||2===c)return eL(fe(e$(e1(b),eP(2,"int32")),d));throw Error(`Error in norm: invalid ord value: ${c}`)}if(Array.isArray(d)&&2===d.length){if(1===c)return ii(fe(e1(b),d[0]),d[1]-1);if(c===1/0)return ii(fe(e1(b),d[1]),d[0]);if(c===-1/0)return ij(fe(e1(b),d[1]),d[0]);if("fro"===c||"euclidean"===c)return eL(fe(eM(b),d));throw Error(`Error in norm: invalid ord value: ${c}`)}throw Error(`Error in norm: invalid axis: ${d}`)}(a=dN(a,"x","norm"),b,c),f=e.shape;if(d){let b=$(c,a.shape);f=fP(e.shape,b)}return fd(e,f)}}),il=dQ({euclideanNorm_:function(a,b=null,c=!1){return ik(a,"euclidean",b,c)}});dq().prototype.euclideanNorm=function(a,b){return this.throwIfDisposed(),il(this,a,b)},dq().prototype.exp=function(){return this.throwIfDisposed(),f$(this)},dq().prototype.expandDims=function(a){return this.throwIfDisposed(),hU(this,a)};let im=dQ({expm1_:function(a){let b=dN(a,"x","expm1");return dF.runKernel(bp,{x:b})}});dq().prototype.expm1=function(){return this.throwIfDisposed(),im(this)};let io=dQ({fft_:function(a){return M("complex64"===a.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${a.dtype}.`),dF.runKernel("FFT",{input:a})}});dq().prototype.fft=function(){return this.throwIfDisposed(),io(this)},dq().prototype.flatten=function(){return this.throwIfDisposed(),fd(this,[this.size])},dq().prototype.floor=function(){return this.throwIfDisposed(),gg(this)},dq().prototype.floorDiv=function(a){return this.throwIfDisposed(),eI(this,a)},dq().prototype.gather=function(a,b,c){return this.throwIfDisposed(),hV(this,a,b,c)},dq().prototype.greaterEqual=function(a){return this.throwIfDisposed(),fy(this,a)},dq().prototype.greater=function(a){return this.throwIfDisposed(),f5(this,a)};let ip=dQ({ifft_:function(a){return M("complex64"===a.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${a.dtype}.`),dF.runKernel(bA,{input:a})}});dq().prototype.ifft=function(){return this.throwIfDisposed(),ip(this)};let iq=dQ({irfft_:function(a){let b,c=a.shape[a.shape.length-1],d=a.size/c;if(c<=2)b=ip(fd(a,[d,c]));else{let e=[d,2*(c-1)],f=fd(fW(a),[d,c]),g=fd(fV(a),[d,c]),h=hL(gf(f,[0,1],[d,c-2]),1),i=eK(hL(gf(g,[0,1],[d,c-2]),1),eP(-1));b=ip(fd(dR(hS([f,h],1),hS([g,i],1)),[e[0],e[1]]))}if(b=fW(b),3===a.rank&&0!==a.shape[0]){let c=b,d=a.shape[0];b=fd(b,[d,b.shape[0]/d,b.shape[1]]),c.dispose()}return b}});dq().prototype.irfft=function(){return this.throwIfDisposed(),iq(this)};let ir=dQ({isFinite_:function(a){let b=dN(a,"x","isFinite");return dF.runKernel(bC,{x:b})}});dq().prototype.isFinite=function(){return this.throwIfDisposed(),ir(this)};let is=dQ({isInf_:function(a){let b=dN(a,"x","isInf");return dF.runKernel(bD,{x:b})}});dq().prototype.isInf=function(){return this.throwIfDisposed(),is(this)};let it=dQ({isNaN_:function(a){let b=dN(a,"x","isNaN");return dF.runKernel(bE,{x:b})}});dq().prototype.isNaN=function(){return this.throwIfDisposed(),it(this)},dq().prototype.leakyRelu=function(a){return this.throwIfDisposed(),gN(this,a)},dq().prototype.lessEqual=function(a){return this.throwIfDisposed(),fz(this,a)},dq().prototype.less=function(a){return this.throwIfDisposed(),ga(this,a)};let iu=dQ({localResponseNormalization_:function(a,b=5,c=1,d=1,e=.5){let f=dN(a,"x","localResponseNormalization");M(4===f.rank||3===f.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${f.rank}.`),M(T(b),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${b}.`);let g=f,h=!1;3===f.rank&&(h=!0,g=fd(f,[1,f.shape[0],f.shape[1],f.shape[2]]));let i={x:g},j=dF.runKernel("LRN",i,{depthRadius:b,bias:c,alpha:d,beta:e});return h?fd(j,[j.shape[1],j.shape[2],j.shape[3]]):j}});dq().prototype.localResponseNormalization=function(a,b,c,d){return this.throwIfDisposed(),iu(this,a,b,c,d)};let iv=dQ({softplus_:function(a){let b=dN(a,"x","softplus");return dF.runKernel(cw,{x:b})}}),iw=dQ({logSigmoid_:function(a){let b=dN(a,"x","logSigmoid");return eO(a=>({value:fc(iv(fc(a))),gradFunc:b=>eK(b,gR(fc(a)))}))(b)}});dq().prototype.logSigmoid=function(){return this.throwIfDisposed(),iw(this)};let ix=dQ({logSoftmax_:function(a,b=-1){let c=dN(a,"logits","logSoftmax");if(-1===b&&(b=c.rank-1),b!==c.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${c.rank} and axis was ${b}`);return eO((a,c)=>{let d=ii(a,b,!0),e=e_(a,d),f=e_(eE(e,"float32"),gj(fe(f$(e),b,!0)));return c([f]),{value:f,gradFunc:(a,c)=>{let[d]=c,e=f$(d);return e_(a,eK(fe(a,b,!0),e))}}})(c)}});dq().prototype.logSoftmax=function(a){return this.throwIfDisposed(),ix(this,a)};let iy=dQ({logSumExp_:function(a,b=null,c=!1){let d=dN(a,"x","logSumExp"),e=$(b,d.shape),f=ii(d,e,!0),g=gj(fe(f$(e_(d,f)),e)),h=eH(fd(f,g.shape),g);if(c){let a=fP(h.shape,e);return fd(h,a)}return h}});dq().prototype.logSumExp=function(a,b){return this.throwIfDisposed(),iy(this,a,b)},dq().prototype.log=function(){return this.throwIfDisposed(),gj(this)};let iz=dQ({log1p_:function(a){let b=dN(a,"x","log1p");return dF.runKernel(bJ,{x:b})}});dq().prototype.log1p=function(){return this.throwIfDisposed(),iz(this)},dq().prototype.logicalAnd=function(a){return this.throwIfDisposed(),fA(this,a)},dq().prototype.logicalNot=function(){return this.throwIfDisposed(),hM(this)};let iA=dQ({logicalOr_:function(a,b){let c=dN(a,"a","logicalOr","bool"),d=dN(b,"b","logicalOr","bool");return e4(c.shape,d.shape),dF.runKernel(bM,{a:c,b:d})}});dq().prototype.logicalOr=function(a){return this.throwIfDisposed(),iA(this,a)};let iB=dQ({logicalXor_:function(a,b){let c=dN(a,"a","logicalXor","bool"),d=dN(b,"b","logicalXor","bool");return e4(c.shape,d.shape),fA(iA(a,b),hM(fA(a,b)))}});dq().prototype.logicalXor=function(a){return this.throwIfDisposed(),iB(this,a)},dq().prototype.matMul=function(a,b,c){return this.throwIfDisposed(),fw(this,a,b,c)};let iC=dQ({maxPool_:function(a,b,c,d,e){let f=dN(a,"x","maxPool"),g=f,h=!1;3===f.rank&&(h=!0,g=fd(f,[1,f.shape[0],f.shape[1],f.shape[2]])),M(4===g.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${g.rank}.`),M(fq(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`),ft("maxPool",d,e);let i={x:g},j=dF.runKernel(bP,i,{filterSize:b,strides:c,pad:d,dimRoundingMode:e});return h?fd(j,[j.shape[1],j.shape[2],j.shape[3]]):j}});dq().prototype.maxPool=function(a,b,c,d){return this.throwIfDisposed(),iC(this,a,b,c,d)},dq().prototype.max=function(a,b){return this.throwIfDisposed(),ii(this,a,b)},dq().prototype.maximum=function(a){return this.throwIfDisposed(),e5(this,a)};let iD=dQ({mean_:function(a,b=null,c=!1){let d=dN(a,"x","mean");return dF.runKernel(bU,{x:d},{axis:b,keepDims:c})}});dq().prototype.mean=function(a,b){return this.throwIfDisposed(),iD(this,a,b)},dq().prototype.min=function(a,b){return this.throwIfDisposed(),ij(this,a,b)};let iE=dQ({minimum_:function(a,b){let c=dN(a,"a","minimum"),d=dN(b,"b","minimum");[c,d]=dx(c,d),"bool"===c.dtype&&(c=eE(c,"int32"),d=eE(d,"int32")),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bV,e)}});dq().prototype.minimum=function(a){return this.throwIfDisposed(),iE(this,a)};let iF=dQ({mirrorPad_:function(a,b,c){M("reflect"===c||"symmetric"===c,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${c}.`);let d=dN(a,"x","mirrorPad");if(0===d.rank)throw Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");M(b.length===d.rank,()=>`Padding doesn't match input. Must be ${d.rank}. Got ${b.length}.`);let e=+("reflect"===c);for(let a=0;a<d.rank;a++)M(2===b[a].length,()=>"Invalid number of paddings. Must be length of 2 each."),M(b[a][0]>=0&&b[a][0]<=d.shape[a]-e&&b[a][1]>=0&&b[a][1]<=d.shape[a]-e,()=>`Padding in dimension ${a} cannot be greater than or equal to ${d.shape[a]-e} or less than 0 for input of shape ${d.shape}`);return dF.runKernel(bW,{x:d},{paddings:b,mode:c})}});dq().prototype.mirrorPad=function(a,b){return this.throwIfDisposed(),iF(this,a,b)};let iG=dQ({mod_:function(a,b){let c=dN(a,"a","mod"),d=dN(b,"b","mod");[c,d]=dx(c,d);let e={a:c,b:d};return dF.runKernel("Mod",e)}});dq().prototype.mod=function(a){return this.throwIfDisposed(),iG(this,a)},dq().prototype.mul=function(a){return this.throwIfDisposed(),eK(this,a)},dq().prototype.neg=function(){return this.throwIfDisposed(),fc(this)},dq().prototype.norm=function(a,b,c){return this.throwIfDisposed(),ik(this,a,b,c)};let iH=dQ({notEqual_:function(a,b){let c=dN(a,"a","notEqual","string_or_numeric"),d=dN(b,"b","notEqual","string_or_numeric");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(bZ,e)}});dq().prototype.notEqual=function(a){return this.throwIfDisposed(),iH(this,a)};let iI=dQ({oneHot_:function(a,b,c=1,d=0,e="int32"){if(b<2)throw Error(`Error in oneHot: depth must be >=2, but it is ${b}`);let f=dN(a,"indices","oneHot","int32");return dF.runKernel(b2,{indices:f},{dtype:e,depth:b,onValue:c,offValue:d})}});dq().prototype.oneHot=function(a,b=1,c=0){return this.throwIfDisposed(),iI(this,a,b,c)};let iJ=dQ({onesLike_:function(a){let b=dN(a,"x","onesLike");return dF.runKernel(b1,{x:b})}});dq().prototype.onesLike=function(){return this.throwIfDisposed(),iJ(this)},dq().prototype.pad=function(a,b){return this.throwIfDisposed(),hP(this,a,b)};let iK=dQ({pool_:function(a,b,c,d,e,f,g){let h;null==e&&(e=[1,1]),null==f&&(f=1),0===d&&(d="valid");let i=dN(a,"x","maxPool"),j=i,k=!1;3===i.rank&&(k=!0,j=fd(i,[1,i.shape[0],i.shape[1],i.shape[2]])),M(fq(f,e),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${f} and dilations '${e}'`);let l=fg(j.shape,b,f,e,d),m=[l.dilationHeight,l.dilationWidth];h="same"===d?function(a,b){let c=a.map((a,c)=>a+(a-1)*(b[c]-1)).map(a=>a-1),d=c.map(a=>Math.floor(a/2)),e=c.map((a,b)=>a-d[b]);return c.map((a,b)=>[d[b],e[b]])}([l.filterHeight,l.filterWidth],m):[[0,0],[0,0]];let n=1===m[0]&&1===m[1],[o,p]=function(a,b,c){let d=c.map(a=>a[0]),e=c.map(a=>a[1]),f=a.concat(d,e),g=b.map((a,b)=>(a-f[b]%a)%a),h=e.map((a,b)=>a+g[b]);return[b.map((a,b)=>[d[b],h[b]]),b.map((a,b)=>[0,g[b]])]}([l.inHeight,l.inWidth],m,h),q=n?d:"valid",r=n?j:fx(j,m,o),s=("avg"===c?()=>h5(r,b,f,q,g):()=>iC(r,b,f,q,g))(),t=n?s:hQ(s,m,p);return k?fd(t,[t.shape[1],t.shape[2],t.shape[3]]):t}});dq().prototype.pool=function(a,b,c,d,e,f){return this.throwIfDisposed(),iK(this,a,b,c,d,e,f)},dq().prototype.pow=function(a){return this.throwIfDisposed(),e$(this,a)},dq().prototype.prelu=function(a){return this.throwIfDisposed(),gO(this,a)};let iL=dQ({prod_:function(a,b=null,c=!1){let d=dN(a,"x","prod");"bool"===d.dtype&&(d=eE(d,"int32"));let e={x:d};return dF.runKernel(b6,e,{axis:b,keepDims:c})}});dq().prototype.prod=function(a,b){return this.throwIfDisposed(),iL(this,a,b)};let iM=dQ({reciprocal_:function(a){let b=dN(a,"x","reciprocal");return dF.runKernel(cc,{x:b})}});dq().prototype.reciprocal=function(){return this.throwIfDisposed(),iM(this)},dq().prototype.relu=function(){return this.throwIfDisposed(),gP(this)},dq().prototype.relu6=function(){return this.throwIfDisposed(),gQ(this)},dq().prototype.reshapeAs=function(a){return this.throwIfDisposed(),fd(this,a.shape)},dq().prototype.reshape=function(a){return this.throwIfDisposed(),fd(this,a)};let iN=dQ({resizeBilinear_:function(a,b,c=!1,d=!1){let e=dN(a,"images","resizeBilinear");M(3===e.rank||4===e.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${e.rank}.`),M(2===b.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${b}.`),M(!1===d||!1===c,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let f=e,g=!1;3===e.rank&&(g=!0,f=fd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let[]=b,h={images:f},i=dF.runKernel(ch,h,{alignCorners:c,halfPixelCenters:d,size:b});return g?fd(i,[i.shape[1],i.shape[2],i.shape[3]]):i}});dq().prototype.resizeBilinear=function(a,b,c){return this.throwIfDisposed(),iN(this,a,b,c)};let iO=dQ({resizeNearestNeighbor_:function(a,b,c=!1,d=!1){let e=dN(a,"images","resizeNearestNeighbor");M(3===e.rank||4===e.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${e.rank}.`),M(2===b.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${b}.`),M("float32"===e.dtype||"int32"===e.dtype,()=>"`images` must have `int32` or `float32` as dtype"),M(!1===d||!1===c,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let f=e,g=!1;3===e.rank&&(g=!0,f=fd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let[]=b,h={images:f},i=dF.runKernel(cf,h,{alignCorners:c,halfPixelCenters:d,size:b});return g?fd(i,[i.shape[1],i.shape[2],i.shape[3]]):i}});dq().prototype.resizeNearestNeighbor=function(a,b,c){return this.throwIfDisposed(),iO(this,a,b,c)},dq().prototype.reverse=function(a){return this.throwIfDisposed(),hL(this,a)};let iP=dQ({rfft_:function(a,b){let c;M("float32"===a.dtype,()=>`The dtype for rfft() must be real value but got ${a.dtype}`);let d=a.shape[a.shape.length-1],e=a.size/d;if(null!=b&&b<d){let e=a.shape.map(a=>0),f=a.shape.map(a=>a);f[a.shape.length-1]=b,c=gf(a,e,f),d=b}else if(null!=b&&b>d){let e=a.shape.map(a=>a);e[a.shape.length-1]=b-d,c=hS([a,gd(e)],a.shape.length-1),d=b}else c=a;let f=eN(c),g=io(fd(dR(c,f),[e,d])),h=Math.floor(d/2)+1,i=fW(g),j=fV(g),k=fE(i,[h,d-h],i.shape.length-1),l=fE(j,[h,d-h],j.shape.length-1),m=c.shape.slice();return m[c.shape.length-1]=h,fd(dR(k[0],l[0]),m)}});dq().prototype.rfft=function(){return this.throwIfDisposed(),iP(this)};let iQ=dQ({round_:function(a){let b=dN(a,"x","round");return dF.runKernel(cl,{x:b})}});dq().prototype.round=function(){return this.throwIfDisposed(),iQ(this)},dq().prototype.rsqrt=function(){return this.throwIfDisposed(),f_(this)};let iR=dQ({selu_:function(a){let b=dN(a,"x","selu");return dF.runKernel(cr,{x:b})}});dq().prototype.selu=function(){return this.throwIfDisposed(),iR(this)};let iS=dQ({separableConv2d_:function(a,b,c,d,e,f=[1,1],g="NHWC"){let h=dN(a,"x","separableConv2d"),i=dN(b,"depthwiseFilter","separableConv2d"),j=dN(c,"pointwiseFilter","separableConv2d"),k=h,l=!1;if(3===h.rank&&(l=!0,k=fd(h,[1,h.shape[0],h.shape[1],h.shape[2]])),"NCHW"===g)throw Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");M(4===k.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${k.rank}.`),M(4===i.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${i.rank}.`),M(4===j.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${i.rank}.`),M(1===j.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${j.shape[0]}.`),M(1===j.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${j.shape[1]}.`);let m=i.shape[2],n=i.shape[3];M(j.shape[2]===m*n,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${m*n}, but got ${j.shape[2]}.`);let o=fH(ic(k,i,d,e,g,f),j,1,"valid",g);return l?fd(o,[o.shape[1],o.shape[2],o.shape[3]]):o}});dq().prototype.separableConv2d=function(a,b,c,d,e,f){return this.throwIfDisposed(),iS(this,a,b,c,d,e,f)},dq().prototype.sigmoid=function(){return this.throwIfDisposed(),gR(this)};let iT=dQ({sign_:function(a){let b=dN(a,"x","sign");return dF.runKernel(cu,{x:b})}});dq().prototype.sign=function(){return this.throwIfDisposed(),iT(this)},dq().prototype.sin=function(){return this.throwIfDisposed(),fK(this)},dq().prototype.sinh=function(){return this.throwIfDisposed(),fL(this)},dq().prototype.slice=function(a,b){return this.throwIfDisposed(),gf(this,a,b)};let iU=dQ({softmax_:function(a,b=-1){let c=dN(a,"logits","softmax","float32");if(-1===b&&(b=c.rank-1),b!==c.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${c.rank} and dim was ${b}`);let d={dim:b};return dF.runKernel(cA,{logits:c},d)}});dq().prototype.softmax=function(a){return this.throwIfDisposed(),iU(this,a)},dq().prototype.softplus=function(){return this.throwIfDisposed(),iv(this)},dq().prototype.spaceToBatchND=function(a,b){return this.throwIfDisposed(),fx(this,a,b)},dq().prototype.split=function(a,b){return this.throwIfDisposed(),fE(this,a,b)},dq().prototype.sqrt=function(){return this.throwIfDisposed(),eL(this)},dq().prototype.square=function(){return this.throwIfDisposed(),eM(this)};let iV=dQ({squaredDifference_:function(a,b){let c=dN(a,"a","squaredDifference"),d=dN(b,"b","squaredDifference");[c,d]=dx(c,d),e4(c.shape,d.shape);let e={a:c,b:d};return dF.runKernel(cG,e,{})}});dq().prototype.squaredDifference=function(a){return this.throwIfDisposed(),iV(this,a)};let iW=dQ({squeeze_:function(a,b){let c=dN(a,"x","squeeze","string_or_numeric");return fd(c,_(c.shape,b).newShape)}});dq().prototype.squeeze=function(a){return this.throwIfDisposed(),iW(this,a)},dq().prototype.stack=function(a,b){return this.throwIfDisposed(),f1(a instanceof dp?[this,a]:[this,...a],b)},dq().prototype.step=function(a){return this.throwIfDisposed(),fa(this,a)};let iX=dQ({stridedSlice_:function(a,b,c,d,e=0,f=0,g=0,h=0,i=0){let j=dN(a,"x","stridedSlice","string_or_numeric");return dF.runKernel(cJ,{x:j},{begin:b,end:c,strides:d,beginMask:e,endMask:f,ellipsisMask:g,newAxisMask:h,shrinkAxisMask:i})}});dq().prototype.stridedSlice=function(a,b,c,d,e,f,g,h){return this.throwIfDisposed(),iX(this,a,b,c,d,e,f,g,h)},dq().prototype.sub=function(a){return this.throwIfDisposed(),e_(this,a)},dq().prototype.sum=function(a,b){return this.throwIfDisposed(),fe(this,a,b)};let iY=dQ({tan_:function(a){let b=dN(a,"x","tan","float32");return dF.runKernel("Tan",{x:b})}});dq().prototype.tan=function(){return this.throwIfDisposed(),iY(this)};let iZ=dQ({tanh_:function(a){let b=dN(a,"x","tanh","float32");return dF.runKernel(cN,{x:b})}});dq().prototype.tanh=function(){return this.throwIfDisposed(),iZ(this)},dq().prototype.tile=function(a){return this.throwIfDisposed(),f0(this,a)},dq().prototype.toBool=function(){return this.throwIfDisposed(),eE(this,"bool")},dq().prototype.toFloat=function(){return this.throwIfDisposed(),eE(this,"float32")},dq().prototype.toInt=function(){return this.throwIfDisposed(),eE(this,"int32")};let i$=dQ({topk_:function(a,b=1,c=!0){let d=dN(a,"x","topk");if(0===d.rank)throw Error("topk() expects the input to be of rank 1 or higher");let e=d.shape[d.shape.length-1];if(b<0)throw Error(`'k' passed to topk() must be >= 0 but got ${b}`);if(b>e)throw Error(`'k' passed to topk() must be <= the last dimension (${e}) but got ${b}`);let[f,g]=dF.runKernel(cP,{x:d},{k:b,sorted:c});return{values:f,indices:g}}});dq().prototype.topk=function(a,b){return this.throwIfDisposed(),i$(this,a,b)},dq().prototype.transpose=function(a){return this.throwIfDisposed(),fX(this,a)};let i_=dQ({unique_:function(a,b=0){let c=dN(a,"x","unique","string_or_numeric");M(c.rank>0,()=>"The input tensor must be at least 1D");let[d,e]=dF.runKernel(cS,{x:c},{axis:b});return{values:d,indices:e}}});dq().prototype.unique=function(a){return this.throwIfDisposed(),i_(this,a)},dq().prototype.unsortedSegmentSum=function(a,b){return this.throwIfDisposed(),f2(this,a,b)},dq().prototype.unstack=function(a){return this.throwIfDisposed(),gh(this,a)},dq().prototype.where=function(a,b){return this.throwIfDisposed(),fC(a,this,b)},dq().prototype.zerosLike=function(){return this.throwIfDisposed(),eN(this)},a.s([],28665),a.s(["arraysEqual",()=>S,"arraysEqualWithNull",()=>R,"assert",()=>M,"assertNonNegativeIntegerDimensions",()=>at,"assertNonNull",()=>O,"assertShapesMatch",()=>N,"bytesFromStringArray",()=>ag,"bytesPerElement",()=>af,"checkConversionForErrors",()=>ac,"clamp",()=>G,"computeStrides",()=>an,"convertBackendValuesAndArrayBuffer",()=>ap,"createScalarValue",()=>c8,"createShuffledIndices",()=>W,"decodeString",()=>dd,"distSquared",()=>L,"encodeString",()=>dc,"fetch",()=>db,"fingerPrint64",()=>jc,"flatten",()=>df,"getArrayFromDType",()=>ab,"getTypedArrayFromDType",()=>aa,"hasEncodingLoss",()=>ae,"hexToLong",()=>i2,"indexToLoc",()=>av,"inferDtype",()=>ak,"inferFromImplicitShape",()=>Z,"isBoolean",()=>ai,"isFunction",()=>al,"isInt",()=>T,"isNumber",()=>aj,"isPromise",()=>aw,"isScalarShape",()=>Q,"isString",()=>ah,"isTypedArray",()=>de,"isValidDtype",()=>ad,"locToIndex",()=>au,"makeOnesTypedArray",()=>aq,"makeZerosNestedTypedArray",()=>as,"makeZerosTypedArray",()=>ar,"nearestDivisor",()=>am,"nearestLargerEven",()=>H,"now",()=>da,"parseAxisParam",()=>$,"randUniform",()=>K,"repeatedTry",()=>Y,"rightPad",()=>X,"shuffle",()=>E,"shuffleCombo",()=>F,"sizeFromShape",()=>P,"sizeToSquarishShape",()=>V,"squeezeShape",()=>_,"sum",()=>J,"swap",()=>I,"tanh",()=>U,"toNestedArray",()=>ao,"toTypedArray",()=>c9],70866),a.i(17594),a.i(34750),a.s(["fingerPrint64",()=>jc,"hexToLong",()=>i2],26100);var i0=a.i(86301);let i1=i0.default||i0;function i2(a){return i1.fromString(a,!0,16)}let i3=i2("c3a5c85c97cb3127"),i4=i2("b492b66fbe98f273"),i5=i2("9ae16a3b2f90404f");function i6(a){return a.xor(a.shru(47))}function i7(a,b,c){let d=a.slice(b,b+c);return i1.fromBytes(Array.from(d),!0,!0)}function i8(a,b){return i7(a,b,8)}function i9(a,b){return 0===b?a:a.shru(b).or(a.shl(64-b))}function ja(a,b,c=i2("9ddfea08eb382d69")){let d=a.xor(b).mul(c);d=d.xor(d.shru(47));let e=b.xor(d).mul(c);return(e=e.xor(e.shru(47))).mul(c)}function jb(a,b,c,d){return function(a,b,c,d,e,f){e=e.add(a),f=i9(f.add(e).add(d),21);let g=e;return e=(e=e.add(b)).add(c),f=f.add(i9(e,44)),[e.add(d),f.add(g)]}(i8(a,b),i8(a,b+8),i8(a,b+16),i8(a,b+24),c,d)}function jc(a,b=a.length){let c=i1.fromNumber(81,!0);if(b<=32)if(b<=16)return function(a,b=a.length){if(b>=8){let c=i5.add(2*b),d=i8(a,0).add(i5),e=i8(a,b-8);return ja(i9(e,37).mul(c).add(d),i9(d,25).add(e).mul(c),c)}if(b>=4){let c=i5.add(2*b);return ja(i7(a,0,4).shl(3).add(b),i7(a,b-4,4),c)}if(b>0){let c=a[0],d=a[b>>1],e=a[b-1];return i6(i5.mul(c+(d<<8)).xor(i3.mul(b+(e<<2)))).mul(i5)}return i5}(a,b);else return function(a,b=a.length){let c=i5.add(2*b),d=i8(a,0).mul(i4),e=i8(a,8),f=i8(a,b-8).mul(c),g=i8(a,b-16).mul(i5);return ja(i9(d.add(e),43).add(i9(f,30)).add(g),d.add(i9(e.add(i5),18)).add(f),c)}(a,b);if(b<=64)return function(a,b=a.length){let c=i5.add(2*b),d=i8(a,0).mul(i5),e=i8(a,8),f=i8(a,b-8).mul(c),g=i8(a,b-16).mul(i5),h=i9(d.add(e),43).add(i9(f,30)).add(g),i=ja(h,d.add(i9(e.add(i5),18)).add(f),c),j=i8(a,16).mul(c),k=i8(a,24),l=h.add(i8(a,b-32)).mul(c),m=i.add(i8(a,b-24)).mul(c);return ja(i9(j.add(k),43).add(i9(l,30)).add(m),j.add(i9(k.add(d),18)).add(l),c)}(a,b);let d=c,e=c.mul(i4).add(113),f=i6(e.mul(i5).add(113)).mul(i5),g=[i1.UZERO,i1.UZERO],h=[i1.UZERO,i1.UZERO];d=d.mul(i5).add(i8(a,0));let i=0,j=(b-1>>6)*64,k=j+(b-1&63)-63;do d=i9(d.add(e).add(g[0]).add(i8(a,i+8)),37).mul(i4),e=i9(e.add(g[1]).add(i8(a,i+48)),42).mul(i4),d=d.xor(h[1]),e=e.add(g[0]).add(i8(a,i+40)),f=i9(f.add(h[0]),33).mul(i4),g=jb(a,i,g[1].mul(i4),d.add(h[0])),h=jb(a,i+32,f.add(h[1]),e.add(i8(a,i+16))),[f,d]=[d,f],i+=64;while(i!==j)let l=i4.add(f.and(255).shl(1));return i=k,h[0]=h[0].add(b-1&63),g[0]=g[0].add(h[0]),h[0]=h[0].add(g[0]),d=i9(d.add(e).add(g[0]).add(i8(a,i+8)),37).mul(l),e=i9(e.add(g[1]).add(i8(a,i+48)),42).mul(l),d=d.xor(h[1].mul(9)),e=e.add(g[0].mul(9).add(i8(a,i+40))),f=i9(f.add(h[0]),33).mul(l),g=jb(a,i,g[1].mul(l),d.add(h[0])),h=jb(a,i+32,f.add(h[1]),e.add(i8(a,i+16))),[f,d]=[d,f],ja(ja(g[0],h[0],l).add(i6(e).mul(i3)).add(f),ja(g[1],h[1],l).add(d),l)}a.i(26100);var jd=a.i(70866),jd=jd;class je extends Error{constructor(a){super(a),Object.setPrototypeOf(this,je.prototype)}}class jf extends Error{constructor(a){super(a),Object.setPrototypeOf(this,jf.prototype)}}class jg extends Error{constructor(a){super(a),Object.setPrototypeOf(this,jg.prototype)}}class jh extends Error{constructor(a){super(a),Object.setPrototypeOf(this,jh.prototype)}}class ji extends Error{constructor(a){super(a),Object.setPrototypeOf(this,ji.prototype)}}class jj{constructor(a){this.maxEntries=a||100,this.cache=new Map}get(a){let b;return this.cache.has(a)&&(b=this.cache.get(a),this.cache.delete(a),this.cache.set(a,b)),b}put(a,b){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxEntries){let a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(a,b)}getMaxEntries(){return this.maxEntries}setMaxEntries(a){if(a<0)throw Error(`The maxEntries of LRU caches must be at least 0, but got ${a}.`);if(this.maxEntries>a)for(let b=0;b<this.maxEntries-a;b++){let a=this.cache.keys().next().value;this.cache.delete(a)}this.maxEntries=a}}var jd=jd;function jk(a,b){if(Array.isArray(a)){let c=[];for(let d=0;d<b;d++)c=c.concat(a);return c}{let c=Array(b);return c.fill(a),c}}function jl(a,b){if(!a)throw new ji(b)}function jm(a,b){let c=0;for(let d of a)d===b&&c++;return c}function jn(a){return 1===a.length?a[0]:a}function jo(a){return Array.isArray(a)?a:[a]}function jp(a){let b=a.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==b[0]?b:"private"+b}function jq(a){return a.length<=1||-1===a.indexOf("_")?a:a.replace(/[_]+(\w|$)/g,(a,b)=>b.toUpperCase())}let jr={};function js(a){if(null==a)return null;let b={};return b.className=a.getClassName(),b.config=a.getConfig(),b}function jt(a,b={},c={},d="object",e=!1){if("string"==typeof a){let e;if(a in c)e=c[a];else if(a in jr)e=jr[a];else if(null==(e=b[a]))throw new jg(`Unknown ${d}: ${a}. This may be due to one of the following reasons:
1. The ${d} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${d} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return e}{let f,g;if(null==a.className||null==a.config)throw new jg(`${d}: Improper config format: ${JSON.stringify(a)}.
'className' and 'config' must set.`);let h=a.className;if(h in c?[f,g]=c[h]:h in jr?[f,g]=jr.className:h in b&&([f,g]=b[h]),null==f)throw new jg(`Unknown ${d}: ${h}. This may be due to one of the following reasons:
1. The ${d} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${d} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=g){let b={};for(let a of Object.keys(jr))b[a]=jr[a];for(let a of Object.keys(c))b[a]=c[a];a.config.customObjects=b;let d=Object.assign({},jr);for(let a of Object.keys(c))jr[a]=c[a];!function a(b){if(null!=b&&"object"==typeof b)if(Array.isArray(b))b.forEach(b=>a(b));else for(let c of Object.keys(b)){let d=b[c];null!=d&&"object"==typeof d&&(Array.isArray(d)||"ndarray"!==d.type||"number"!=typeof d.value?a(d):b[c]=d.value)}}(a.config);let h=g(f,a.config,c,e);return jr=Object.assign({},d),h}{let b=Object.assign({},jr);for(let a of Object.keys(c))jr[a]=c[a];let d=new f(a.config);return jr=Object.assign({},b),d}}}function ju(a,b){return -1*(a<b?-1:+(a>b))}function jv(a){if(null==a)return a;let b=[];for(let c of a)-1===b.indexOf(c)&&b.push(c);return b}function jw(a,b,c){if(null!=c&&0>a.indexOf(c))throw new jg(`${c} is not a valid ${b}.  Valid values are ${a} or null/undefined.`)}function jx(a,b,c=0,d=1/0){return jl(c>=0),jl(d>=c),Array.isArray(a)&&a.length>=c&&a.length<=d&&a.every(a=>typeof a===b)}function jy(a,b){Array.isArray(a)?(jd.assert(a.length>0,()=>`${b} is unexpectedly an empty array.`),a.forEach((a,c)=>jy(a,`element ${c+1} of ${b}`))):jd.assert(Number.isInteger(a)&&a>0,()=>`Expected ${b} to be a positive integer, but got ${function a(b){return null===b?"null":Array.isArray(b)?"["+b.map(b=>a(b)).join(",")+"]":"string"==typeof b?`"${b}"`:`${b}`}(a)}.`)}function jz(a){return"relu"===a?"relu":"linear"===a?"linear":"elu"===a?"elu":null}var jA=a.i(53321),jA=jA;let jB=0,jC={};function jD(a=""){return a in jC||(jC[a]=0),jC[a]+=1,a+jC[a].toString()}var jA=jA,jd=jd;let jE=["channelsFirst","channelsLast"],jF=["nearest","bilinear"],jG=["valid","same","causal"],jH=["max","avg"],jI=["sum","mul","concat","ave"],jJ=new Map;function jK(a){jw(jE,"DataFormat",a)}function jL(a){jw(jG,"PaddingMode",a)}function jM(a){jw(jH,"PoolMode",a)}let jN=[];function jO(a,b){jN.push(a);try{let a=b();return jN.pop(),a}catch(a){throw jN.pop(),a}}function jP(a){if(!jS(a))throw Error("Not a valid tensor name: '"+a+"'");return(0===jN.length?"":jN.join("/")+"/")+a}function jQ(a){if(!jS(a))throw Error("Not a valid tensor name: '"+a+"'");jJ.has(a)||jJ.set(a,0);let b=jJ.get(a);if(jJ.set(a,jJ.get(a)+1),!(b>0))return a;{let c=`${a}_${b}`;return jJ.set(c,1),c}}let jR=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function jS(a){return!!a.match(jR)}let jT=dQ({eye_:function(a,b,c,d="float32"){null==b&&(b=a);let e=eD([a,b],d),f=a<=b?a:b;for(let a=0;a<f;++a)e.set(1,a,a);let g=fd(e.toTensor(),[a,b]);if(null==c)return g;if(1===c.length)return f0(hU(g,0),[c[0],1,1]);if(2===c.length)return f0(hU(hU(g,0),0),[c[0],c[1],1,1]);if(3===c.length)return f0(hU(hU(hU(g,0),0),0),[c[0],c[1],c[2],1,1]);throw Error(`eye() currently supports only 1D and 2D batchShapes, but received ${c.length}D.`)}});a.s(["image",()=>kO,"linalg",()=>kP,"losses",()=>kQ,"signal",()=>kN,"sparse",()=>kR,"spectral",()=>kM,"string",()=>kS],43945),a.s(["conv2d",()=>jU,"depthwiseConv2d",()=>jV,"matMul",()=>jW],44098),a.s([],30040);let jU=dQ({fusedConv2d_:function({x:a,filter:b,strides:c,pad:d,dataFormat:e="NHWC",dilations:f=[1,1],dimRoundingMode:g,bias:h,activation:i="linear",preluActivationWeights:j,leakyreluAlpha:k}){let l,m;if(i=i||"linear",!1===gV(dF.state.gradientDepth,i)){M("NHWC"===e,()=>`Error in fused conv2d: got dataFormat of ${e} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let l=fH(a,b,c,d,e,f,g);return null!=h&&(l=eH(l,h)),gU(l,i,j,k)}let n=dN(a,"x","conv2d","float32"),o=dN(b,"filter","conv2d","float32"),p=n,q=!1;3===n.rank&&(q=!0,p=fd(n,[1,n.shape[0],n.shape[1],n.shape[2]])),M(4===p.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),M(4===o.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${o.rank}.`),ft("fused conv2d",d,g);let r="NHWC"===e?p.shape[3]:p.shape[1];M(o.shape[2]===r,()=>`Error in conv2d: depth of input (${r}) must match input depth for filter ${o.shape[2]}.`),M(fq(c,f),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${c} and dilations '${f}'`);let s=fi(p.shape,o.shape,c,f,d,g);if(null!=h&&(l=dN(h,"bias","fused conv2d"),[l]=dx(l,n),"NHWC"===e?e4(s.outShape,l.shape):(M(l.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${l.shape.length}.`),M(0===l.shape.length||l.shape[0]===s.outChannels||1===l.shape[0],()=>`Error in fused conv2d: bias shape (${l.shape}) is not compatible with the number of output channels (${s.outChannels})`))),null!=j){let a=j.shape;if(M(a.length<=1||3===a.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${a.length}.`),1===a.length)M(1===a[0]||a[0]===s.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${a}) is not compatible with the number of output channels (${s.outChannels}).`);else if(3===a.length)try{e4(a,s.outShape)}catch(b){throw Error(`Error in fused conv2d: PReLU activation weights (${a}) is not compatible with the output shape of the conv2d (${s.outShape}).`)}m=dN(j,"prelu weights","fused conv2d")}let t=(a,b)=>{M("NHWC"===e,()=>`Error in gradient of fused conv2D: got dataFormat of ${e} but only NHWC is currently supported.`);let[g,h,j,k]=b,l=gS(a,j,i);M(fp(f),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${f}'`);let m=[fG(h.shape,l,g,c,d),fF(h,l,g.shape,c,d)];if(null!=k){let a=gT(k,l);m.push(a)}return m},u={x:p,filter:o,bias:l,preluActivationWeights:m},v={strides:c,pad:d,dataFormat:e,dilations:f,dimRoundingMode:g,activation:i,leakyreluAlpha:k};return null==h?eO((a,b,c)=>{let d=dF.runKernel(c$,u,v);return c([b,a,d]),q&&(d=fd(d,[d.shape[1],d.shape[2],d.shape[3]])),{value:d,gradFunc:t}})(p,o):eO((a,b,c,d)=>{let e=dF.runKernel(c$,u,v);return d([b,a,e,c]),q&&(e=fd(e,[e.shape[1],e.shape[2],e.shape[3]])),{value:e,gradFunc:t}})(p,o,l)}}),jV=dQ({fusedDepthwiseConv2d_:function({x:a,filter:b,strides:c,pad:d,dataFormat:e="NHWC",dilations:f=[1,1],dimRoundingMode:g,bias:h,activation:i="linear",preluActivationWeights:j,leakyreluAlpha:k}){let l,m;if(!1===gV(dF.state.gradientDepth,i)){let l=ic(a,b,c,d,e,f,g);return null!=h&&(l=eH(l,h)),gU(l,i,j,k)}let n=dN(a,"x","depthwiseConv2d","float32"),o=dN(b,"filter","depthwiseConv2d","float32"),p=n,q=!1;3===n.rank&&(q=!0,p=fd(n,[1,n.shape[0],n.shape[1],n.shape[2]])),M(4===p.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),M(4===o.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${o.rank}.`),M(p.shape[3]===o.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${o.shape[2]}.`),null==f&&(f=[1,1]),M(fq(c,f),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${f}'`),ft("fused depthwiseConv2d",d,g);let r=fi(p.shape,o.shape,c,f,d,g,!0);null!=h&&(l=dN(h,"bias","fused conv2d"),[l]=dx(l,n),e4(r.outShape,l.shape)),null!=j&&(m=dN(j,"prelu weights","fused depthwiseConv2d"));let s=(a,b)=>{M(fp(f),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${f}'`);let[e,h,j,k]=b,m=gS(a,j,i),n=fZ(h.shape,m,e,c,d,f,g),o=fY(h,m,e.shape,c,d,f,g);return null!=k?[n,o,gT(l,m)]:[n,o]},t={x:p,filter:o,bias:l,preluActivationWeights:m},u={strides:c,pad:d,dataFormat:e,dilations:f,dimRoundingMode:g,activation:i,leakyreluAlpha:k};return null==h?eO((a,b,c)=>{let d=dF.runKernel(c_,t,u);return c([b,a,d]),q&&(d=fd(d,[d.shape[1],d.shape[2],d.shape[3]])),{value:d,gradFunc:s}})(p,o):eO((a,b,c,d)=>{let e=dF.runKernel(c_,t,u);return d([b,a,e,c]),q&&(e=fd(e,[e.shape[1],e.shape[2],e.shape[3]])),{value:e,gradFunc:s}})(p,o,l)}}),jW=dQ({fusedMatMul_:function({a,b,transposeA:c=!1,transposeB:d=!1,bias:e,activation:f="linear",preluActivationWeights:g,leakyreluAlpha:h=.2}){let i,j;if(!1===gV(dF.state.gradientDepth,f)){let i=fw(a,b,c,d);return null!=e&&(i=eH(i,e)),gU(i,f,g,h)}let k=dN(a,"a","fused matMul"),l=dN(b,"b","fused matMul");[k,l]=dx(k,l);let m=c?k.shape[k.rank-2]:k.shape[k.rank-1],n=d?l.shape[l.rank-1]:l.shape[l.rank-2],o=c?k.shape[k.rank-1]:k.shape[k.rank-2],p=d?l.shape[l.rank-2]:l.shape[l.rank-1],q=k.shape.slice(0,-2),r=l.shape.slice(0,-2),s=P(q),t=P(r);M(m===n,()=>`Error in fused matMul: inner shapes (${m}) and (${n}) of Tensors with shapes ${k.shape} and ${l.shape} and transposeA=${c} and transposeB=${d} must match.`);let u=e4(k.shape.slice(0,-2),l.shape.slice(0,-2)).concat([o,p]),v=c?fd(k,[s,m,o]):fd(k,[s,o,m]),w=d?fd(l,[t,p,n]):fd(l,[t,n,p]);null!=e&&(i=dN(e,"bias","fused matMul"),[i]=dx(i,k),e4(u,i.shape)),null!=g&&(j=dN(g,"prelu weights","fused matMul"));let x=(a,b)=>{let g,h,[i,j,k,l]=b,m=gS(fd(a,k.shape),k,f);return(c||d?!c&&d?(g=fw(m,j,!1,!1),h=fw(m,i,!0,!1)):c&&!d?(g=fw(j,m,!1,!0),h=fw(i,m,!1,!1)):(g=fw(j,m,!0,!0),h=fw(m,i,!0,!0)):(g=fw(m,j,!1,!0),h=fw(i,m,!0,!1)),null!=e)?[g,h,gT(l,m)]:[g,h]},y={a:v,b:w,bias:i,preluActivationWeights:j},z={transposeA:c,transposeB:d,activation:f,leakyreluAlpha:h};return null==e?eO((a,b,c)=>{let d=dF.runKernel(cZ,y,z);return c([a,b,d]),{value:fd(d,u),gradFunc:x}})(v,w):eO((a,b,c,d)=>{let e=dF.runKernel(cZ,y,z);return d([a,b,e,c]),{value:fd(e,u),gradFunc:x}})(v,w,i)}});a.i(30040);var jX=a.i(44098);function jY(a,b){O(a);let c=dL(a,b);if(1!==c.length)throw Error("tensor1d() requires values to be a flat/TypedArray");return dS(a,null,c,b)}function jZ(a){return Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2))))}function j$(a,b,c){let d=1-a%2,e=new Float32Array(a);for(let f=0;f<a;++f){let g=2*Math.PI*f/(a+d-1);e[f]=b-c*Math.cos(g)}return jY(e,"float32")}a.s(["cosineWindow",()=>j$,"enclosingPowerOfTwo",()=>jZ],65432);let j_=dQ({hammingWindow_:function(a){return j$(a,.54,.46)}}),j0=dQ({hannWindow_:function(a){return j$(a,.5,.5)}});function j1(a,b,c){if(O(a),null!=b&&2!==b.length)throw Error("tensor2d() requires shape to have two numbers");let d=dL(a,c);if(2!==d.length&&1!==d.length)throw Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===d.length&&null==b)throw Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return dS(a,b,d,c)}let j2=dQ({frame_:function(a,b,c,d=!1,e=0){let f=0,g=[];for(;f+b<=a.size;)g.push(gf(a,f,b)),f+=c;if(d)for(;f<a.size;){let d=f+b-a.size,h=hS([gf(a,f,b-d),eY([d],e)]);g.push(h),f+=c}return 0===g.length?j1([],[0,b]):fd(hS(g),[g.length,b])}}),j3=dQ({stft_:function(a,b,c,d,e=j0){return null==d&&(d=jZ(b)),iP(eK(j2(a,b,c),e(b)),d)}}),j4=dQ({cropAndResize_:function(a,b,c,d,e="bilinear",f=0){let g=dN(a,"image","cropAndResize"),h=dN(b,"boxes","cropAndResize","float32"),i=dN(c,"boxInd","cropAndResize","int32"),j=h.shape[0];return M(4===g.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${g.rank}.`),M(2===h.rank&&4===h.shape[1],()=>`Error in cropAndResize: boxes must be have size [${j},4] but had shape ${h.shape}.`),M(1===i.rank&&i.shape[0]===j,()=>`Error in cropAndResize: boxInd must be have size [${j}] but had shape ${h.shape}.`),M(2===d.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${d.length}.`),M(d[0]>=1&&d[1]>=1,()=>`cropSize must be atleast [1,1], but was ${d}`),M("bilinear"===e||"nearest"===e,()=>`method must be bilinear or nearest, but was ${e}`),dF.runKernel(a9,{image:g,boxes:h,boxInd:i},{method:e,extrapolationValue:f,cropSize:d})}}),j5=dQ({flipLeftRight_:function(a){let b=dN(a,"image","flipLeftRight","float32");return M(4===b.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${b.rank}.`),dF.runKernel(br,{image:b},{})}}),j6=dQ({grayscaleToRGB_:function(a){let b=dN(a,"image","grayscaleToRGB"),c=b.rank-1,d=b.shape[c];M(b.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${b.rank}.`),M(1===d,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${d}.`);let e=Array(b.rank);return e.fill(1,0,c),e[c]=3,f0(b,e)}}),j7=dQ({einsum_:function(a,...b){let c=b.map((a,b)=>dN(a,`tensors${b}`,"einsum"));return dF.runKernel(bl,c,{equation:a})}}),j8=dQ({rgbToGrayscale_:function(a){let b,c=dN(a,"image","RGBToGrayscale"),d=c.rank-1,e=c.shape[d];M(c.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${c.rank}.`),M(3===e,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${e}.`);let f=c.dtype,g=eE(c,"float32"),h=jY([.2989,.587,.114]);switch(c.rank){case 2:b=j7("ij,j->i",g,h);break;case 3:b=j7("ijk,k->ij",g,h);break;case 4:b=j7("ijkl,l->ijk",g,h);break;case 5:b=j7("ijklm,m->ijkl",g,h);break;case 6:b=j7("ijklmn,n->ijklm",g,h);break;default:throw Error("Not a valid tensor rank.")}return eE(b=hU(b,-1),f)}}),j9=dQ({rotateWithOffset_:function(a,b,c=0,d=.5){let e=dN(a,"image","rotateWithOffset","float32");return M(4===e.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${e.rank}.`),dF.runKernel(cY,{image:e},{radians:b,fillValue:c,center:d})}});function ka(a,b,c,d,e,f){null==d&&(d=.5),null==e&&(e=-1/0),null==f&&(f=0);let g=a.shape[0];return c=Math.min(c,g),M(0<=d&&d<=1,()=>`iouThreshold must be in [0, 1], but was '${d}'`),M(2===a.rank,()=>`boxes must be a 2D tensor, but was of rank '${a.rank}'`),M(4===a.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${a.shape[1]}`),M(1===b.rank,()=>"scores must be a 1D tensor"),M(b.shape[0]===g,()=>`scores has incompatible shape with boxes. Expected ${g}, but was ${b.shape[0]}`),M(0<=f&&f<=1,()=>`softNmsSigma must be in [0, 1], but was '${f}'`),{maxOutputSize:c,iouThreshold:d,scoreThreshold:e,softNmsSigma:f}}let kb=dQ({nonMaxSuppression_:function(a,b,c,d=.5,e=-1/0){let f=dN(a,"boxes","nonMaxSuppression","float32"),g=dN(b,"scores","nonMaxSuppression","float32"),h=ka(f,g,c,d,e);c=h.maxOutputSize;let i={maxOutputSize:c,iouThreshold:d=h.iouThreshold,scoreThreshold:e=h.scoreThreshold};return dF.runKernel(b$,{boxes:f,scores:g},i)}});function kc(a,b){return a>b?1:a<b?-1:0}function kd(a,b,c,d,e){return kg(a,b,c,d,e,0)}function ke(a,b,c,d,e,f){return kg(a,b,c,d,e,0,!1,f,!0)}function kf(a,b,c,d,e,f){return kg(a,b,c,d,e,f,!0)}function kg(a,b,c,d,e,f,g=!1,h=!1,i=!1){let j=[];for(let a=0;a<b.length;a++)b[a]>e&&j.push({score:b[a],boxIndex:a,suppressBeginIndex:0});j.sort(kh);let k=f>0?-.5/f:0,l=[],m=[];for(;l.length<c&&j.length>0;){let b=j.pop(),{score:c,boxIndex:f,suppressBeginIndex:g}=b;if(c<e)break;let h=!1;for(let c=l.length-1;c>=g;--c){let g=function(a,b,c){let d=a.subarray(4*b,4*b+4),e=a.subarray(4*c,4*c+4),f=Math.min(d[0],d[2]),g=Math.min(d[1],d[3]),h=Math.max(d[0],d[2]),i=Math.max(d[1],d[3]),j=Math.min(e[0],e[2]),k=Math.min(e[1],e[3]),l=Math.max(e[0],e[2]),m=Math.max(e[1],e[3]),n=(h-f)*(i-g),o=(l-j)*(m-k);if(n<=0||o<=0)return 0;let p=Math.max(Math.min(h,l)-Math.max(f,j),0)*Math.max(Math.min(i,m)-Math.max(g,k),0);return p/(n+o-p)}(a,f,l[c]);if(g>=d){h=!0;break}if(b.score=b.score*function(a,b,c){let d=Math.exp(b*c*c);return c<=a?d:0}(d,k,g),b.score<=e)break}b.suppressBeginIndex=l.length,!h&&(b.score===c?(l.push(f),m.push(b.score)):b.score>e&&function(a,b,c){let d=function(a,b,c){let d=0,e=a.length,f=0,g=!1;for(;d<e;){let h=c(b,a[f=d+(e-d>>>1)]);h>0?d=f+1:(e=f,g=!h)}return g?d:-d-1}(a,b,c||kc);a.splice(d<0?-(d+1):d,0,b)}(j,b,kh))}let n=l.length,o=c-n;h&&o>0&&(l.push(...Array(o).fill(0)),m.push(...Array(o).fill(0)));let p={selectedIndices:l};return g&&(p.selectedScores=m),i&&(p.validOutputs=n),p}function kh(a,b){return a.score-b.score||a.score===b.score&&b.boxIndex-a.boxIndex}async function ki(a,b,c,d=.5,e=-1/0){let f=dN(a,"boxes","nonMaxSuppressionAsync"),g=dN(b,"scores","nonMaxSuppressionAsync"),h=ka(f,g,c,d,e);c=h.maxOutputSize,d=h.iouThreshold,e=h.scoreThreshold;let i=await Promise.all([f.data(),g.data()]),{selectedIndices:j}=kd(i[0],i[1],c,d,e);return f!==a&&f.dispose(),g!==b&&g.dispose(),jY(j,"int32")}let kj=dQ({nonMaxSuppressionWithScore_:function(a,b,c,d=.5,e=-1/0,f=0){let g=dN(a,"boxes","nonMaxSuppression"),h=dN(b,"scores","nonMaxSuppression"),i=ka(g,h,c,d,e,f);c=i.maxOutputSize,d=i.iouThreshold,e=i.scoreThreshold;let j={maxOutputSize:c,iouThreshold:d,scoreThreshold:e,softNmsSigma:f=i.softNmsSigma},k=dF.runKernel(b0,{boxes:g,scores:h},j);return{selectedIndices:k[0],selectedScores:k[1]}}});async function kk(a,b,c,d=.5,e=-1/0,f=0){let g=dN(a,"boxes","nonMaxSuppressionAsync"),h=dN(b,"scores","nonMaxSuppressionAsync"),i=ka(g,h,c,d,e,f);c=i.maxOutputSize,d=i.iouThreshold,e=i.scoreThreshold,f=i.softNmsSigma;let j=await Promise.all([g.data(),h.data()]),{selectedIndices:k,selectedScores:l}=kf(j[0],j[1],c,d,e,f);return g!==a&&g.dispose(),h!==b&&h.dispose(),{selectedIndices:jY(k,"int32"),selectedScores:jY(l)}}let kl=dQ({nonMaxSuppressionPadded_:function(a,b,c,d=.5,e=-1/0,f=!1){let g=dN(a,"boxes","nonMaxSuppression"),h=dN(b,"scores","nonMaxSuppression"),i=ka(g,h,c,d,e,null),j=i.maxOutputSize,k=i.iouThreshold,l=i.scoreThreshold,m=dF.runKernel(b_,{boxes:g,scores:h},{maxOutputSize:j,iouThreshold:k,scoreThreshold:l,padToMaxOutputSize:f});return{selectedIndices:m[0],validOutputs:m[1]}}});async function km(a,b,c,d=.5,e=-1/0,f=!1){let g=dN(a,"boxes","nonMaxSuppressionAsync"),h=dN(b,"scores","nonMaxSuppressionAsync"),i=ka(g,h,c,d,e,null),j=i.maxOutputSize,k=i.iouThreshold,l=i.scoreThreshold,[m,n]=await Promise.all([g.data(),h.data()]),{selectedIndices:o,validOutputs:p}=ke(m,n,j,k,l,f);return g!==a&&g.dispose(),h!==b&&h.dispose(),{selectedIndices:jY(o,"int32"),validOutputs:eP(p,"int32")}}let kn=dQ({bincount_:function(a,b,c){let d=dN(a,"x","bincount"),e=dN(b,"weights","bincount");return M("int32"===d.dtype,()=>`Error in bincount: input dtype must be int32, but got ${d.dtype}`),M(c>=0,()=>`size must be non-negative, but got ${c}.`),M(e.size===d.size||0===e.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${d.shape}, weights shape: ${e.shape}.`),dF.runKernel(aT,{x:d,weights:e},{size:c})}});function ko(a,b,c=1,d="float32"){if(0===c)throw Error("Cannot have a step of zero");return dF.runKernel(ca,{},{start:a,stop:b,step:c,dtype:d})}let kp=dQ({threshold_:function(a,b="binary",c=!1,d=.5){let e,f,g,h,i=dN(a,"image","threshold"),j=i.shape[0]*i.shape[1],k=eK(jY([d]),255);if(M(3===i.rank,()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`),M(3===i.shape[2]||1===i.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`),M("int32"===i.dtype||"float32"===i.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`),M("otsu"===b||"binary"===b,()=>`Method must be binary or otsu, but was ${b}`),3===i.shape[2]){[e,f,g]=fE(i,[1,1,1],-1);let a=eK(e,.2989),b=eK(f,.587),c=eK(g,.114);h=eH(eH(a,b),c)}else h=a;return"otsu"===b&&(k=function(a,b){let c,d,e,f,g,h,i=jY([-1]),j=jY([0]),k=jY([0]);for(let l=0;l<a.size-1;l++){c=gf(a,0,l+1),d=gf(a,l+1),g=eJ(fe(c),b),h=eJ(fe(d),b),e=eJ(fe(eK(c,ko(0,c.size))),fe(c));let m=eY(d.shape,c.size),n=eH(ko(0,d.size),m),o=e_(e,f=eJ(fe(eK(d,n)),fe(d))),p=e_(e,f),q=eK(g,h),r=f5(k=eK(eK(q,o),p),j);j=fC(r,k,j),i=fC(r,jY([l]),i)}return i}(kn(eE(iQ(h),"int32"),dT([]),256),j)),eE(eK(c?fz(h,k):f5(h,k),255),"int32")}}),kq=dQ({transform_:function(a,b,c="nearest",d="constant",e=0,f){let g=dN(a,"image","transform","float32"),h=dN(b,"transforms","transform","float32");return M(4===g.rank,()=>`Error in transform: image must be rank 4,but got rank ${g.rank}.`),M(2===h.rank&&(h.shape[0]===g.shape[0]||1===h.shape[0])&&8===h.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),M(null==f||2===f.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${f}.`),dF.runKernel(cQ,{image:g,transforms:h},{interpolation:c,fillMode:d,fillValue:e,outputShape:f})}}),kr=dQ({bandPart_:function(a,b,c){let d,e,f=dN(a,"a","bandPart");M(f.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${f.rank}.`);let g=f.shape,[h,i]=f.shape.slice(-2);"number"==typeof b?(M(b%1==0,()=>`bandPart(): numLower must be an integer, got ${b}.`),M(b<=h,()=>`bandPart(): numLower (${b}) must not be greater than the number of rows (${h}).`),d=dN(b<0?h:b,"numLower","bandPart")):(M("int32"===b.dtype,()=>"bandPart(): numLower's dtype must be an int32."),d=fC(ga(b,0),h,iE(b,h))),"number"==typeof c?(M(c%1==0,()=>`bandPart(): numUpper must be an integer, got ${c}.`),M(c<=i,()=>`bandPart(): numUpper (${c}) must not be greater than the number of columns (${i}).`),e=dN(c<0?i:c,"numUpper","bandPart")):(M("int32"===c.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),e=fC(ga(c,0),i,iE(c,i)));let j=e_(fd(ko(0,h,1,"int32"),[-1,1]),ko(0,i,1,"int32")),k=fA(fz(j,d),fy(j,fc(e))),l=gd([h,i],f.dtype);return fd(f1(gh(fd(f,[-1,h,i])).map(a=>fC(k,a,l))),g)}}),ks=dQ({gramSchmidt_:function(a){let b;if(Array.isArray(a)){b=!1,M(null!=a&&a.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");let c=a[0].shape[0];for(let b=1;b<a.length;++b)M(a[b].shape[0]===c,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${a[b].shape[0]} vs. ${c})`)}else b=!0,a=fE(a,a.shape[0],0).map(a=>iW(a,[0]));M(a.length<=a[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${a.length}) exceeds number of dimensions (${a[0].shape[0]}).`);let c=[],d=a;for(let b=0;b<a.length;++b)c.push(dF.tidy(()=>{let a=d[b];if(b>0)for(let d=0;d<b;++d){let b=eK(fe(eK(c[d],a)),c[d]);a=e_(a,b)}return eJ(a,ik(a,"euclidean"))}));return b?f1(c,0):c}});function kt(a,b=!1){return dF.tidy(()=>{M(2===a.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${a.shape.length}D Tensor.`);let c=a.shape[0],d=a.shape[1],e=jT(c),f=eF(a),g=j1([[1]],[1,1]),h=eF(g),i=c>=d?d:c;for(let a=0;a<i;++a){let b=f,i=h,j=e;[h,f,e]=dF.tidy(()=>{let b=gf(f,[a,a],[c-a,1]),i=ik(b),j=gf(f,[a,a],[1,1]),k=fC(f5(j,0),j1([[-1]]),j1([[1]])),l=e_(j,eK(k,i)),m=eJ(b,l);h=1===m.shape[0]?eF(g):hS([g,gf(m,[1,0],[m.shape[0]-1,m.shape[1]])],0);let n=fc(eJ(fw(k,l),i)),o=gf(f,[a,0],[c-a,d]),p=eK(n,h),q=fX(h);if(0===a)f=e_(o,fw(p,fw(q,o)));else{let b=e_(o,fw(p,fw(q,o)));f=hS([gf(f,[0,0],[a,d]),b],0)}let r=fX(p),s=gf(e,[0,a],[c,e.shape[1]-a]);if(0===a)e=e_(s,fw(fw(s,h),r));else{let b=e_(s,fw(fw(s,h),r));e=hS([gf(e,[0,0],[c,a]),b],1)}return[h,f,e]}),dY([b,i,j])}return!b&&c>d&&(e=gf(e,[0,0],[c,d]),f=gf(f,[0,0],[d,d])),[e,f]})}let ku=dQ({qr_:function(a,b=!1){if(M(a.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${a.rank}`),2===a.rank)return kt(a,b);{let c=a.shape.slice(0,a.shape.length-2).reduce((a,b)=>a*b),d=gh(fd(a,[c,a.shape[a.shape.length-2],a.shape[a.shape.length-1]]),0),e=[],f=[];return d.forEach(a=>{let[c,d]=kt(a,b);e.push(c),f.push(d)}),[fd(f1(e,0),a.shape),fd(f1(f,0),a.shape)]}}});!function(a){a[a.NONE=0]="NONE",a[a.MEAN=1]="MEAN",a[a.SUM=2]="SUM",a[a.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(p||(p={}));let kv=dQ({computeWeightedLoss_:function(a,b,c=p.SUM_BY_NONZERO_WEIGHTS){let d=dN(a,"losses","computeWeightedLoss"),e=null;null!=b&&(e=dN(b,"weights","computeWeightedLoss"));let f=null==e?d:eK(d,e);if(c===p.NONE)return f;if(c===p.SUM)return fe(f);if(c===p.MEAN)if(null==e)return iD(f);else{let a=d.size/e.size,b=eJ(fe(f),fe(e));return a>1?eJ(b,eP(a)):b}if(c===p.SUM_BY_NONZERO_WEIGHTS)if(null==e)return eJ(fe(f),eP(d.size));else{let a=eE(fe(iH(eK(e,ge(d.shape)),eP(0))),"float32");return eJ(fe(f),a)}throw Error(`Unknown reduction: ${c}`)}}),kw=dQ({absoluteDifference_:function(a,b,c,d=p.SUM_BY_NONZERO_WEIGHTS){let e=dN(a,"labels","absoluteDifference"),f=dN(b,"predictions","absoluteDifference"),g=null;return null!=c&&(g=dN(c,"weights","absoluteDifference")),N(e.shape,f.shape,"Error in absoluteDifference: "),kv(e1(e_(e,f)),g,d)}}),kx=dQ({cosineDistance_:function(a,b,c,d,e=p.SUM_BY_NONZERO_WEIGHTS){let f=dN(a,"labels","cosineDistance"),g=dN(b,"predictions","cosineDistance"),h=null;return null!=d&&(h=dN(d,"weights","cosineDistance")),N(f.shape,g.shape,"Error in cosineDistance: "),kv(e_(eP(1),fe(eK(f,g),c,!0)),h,e)}}),ky=dQ({hingeLoss_:function(a,b,c,d=p.SUM_BY_NONZERO_WEIGHTS){let e=dN(a,"labels","hingeLoss"),f=dN(b,"predictions","hingeLoss"),g=null;null!=c&&(g=dN(c,"weights","hingeLoss")),N(e.shape,f.shape,"Error in hingeLoss: ");let h=eP(1);return e=e_(eK(eP(2),e),h),kv(gP(e_(h,eK(e,f))),g,d)}}),kz=dQ({huberLoss_:function(a,b,c,d=1,e=p.SUM_BY_NONZERO_WEIGHTS){let f=dN(a,"labels","huberLoss"),g=dN(b,"predictions","huberLoss"),h=null;null!=c&&(h=dN(c,"weights","huberLoss")),N(f.shape,g.shape,"Error in huberLoss: ");let i=eP(d),j=e1(e_(g,f)),k=iE(j,i),l=e_(j,k);return kv(eH(eK(eP(.5),eM(k)),eK(i,l)),h,e)}}),kA=dQ({logLoss_:function(a,b,c,d=1e-7,e=p.SUM_BY_NONZERO_WEIGHTS){let f=dN(a,"labels","logLoss"),g=dN(b,"predictions","logLoss"),h=null;null!=c&&(h=dN(c,"weights","logLoss")),N(f.shape,g.shape,"Error in logLoss: ");let i=eP(1),j=eP(d),k=fc(eK(f,gj(eH(g,j)))),l=eK(e_(i,f),gj(eH(e_(i,g),j)));return kv(e_(k,l),h,e)}}),kB=dQ({meanSquaredError_:function(a,b,c,d=p.SUM_BY_NONZERO_WEIGHTS){let e=dN(a,"labels","meanSquaredError"),f=dN(b,"predictions","meanSquaredError"),g=null;return null!=c&&(g=dN(c,"weights","meanSquaredError")),N(e.shape,f.shape,"Error in meanSquaredError: "),kv(iV(e,f),g,d)}}),kC=dQ({sigmoidCrossEntropy_:function(a,b,c,d=0,e=p.SUM_BY_NONZERO_WEIGHTS){let f=dN(a,"multiClassLabels","sigmoidCrossEntropy"),g=dN(b,"logits","sigmoidCrossEntropy"),h=null;if(null!=c&&(h=dN(c,"weights","sigmoidCrossEntropy")),N(f.shape,g.shape,"Error in sigmoidCrossEntropy: "),d>0){let a=eP(d),b=eP(1),c=eP(.5);f=eH(eK(f,e_(b,a)),eK(c,a))}return kv(function(a,b){let c=dN(a,"labels","sigmoidCrossEntropyWithLogits"),d=dN(b,"logits","sigmoidCrossEntropyWithLogits");N(c.shape,d.shape,"Error in sigmoidCrossEntropyWithLogits: ");let e=gP(d),f=eK(d,c),g=iz(f$(fc(e1(d))));return eH(e_(e,f),g)}(f,g),h,e)}}),kD=dQ({softmaxCrossEntropy_:function(a,b,c,d=0,e=p.SUM_BY_NONZERO_WEIGHTS){let f=dN(a,"onehotLabels","softmaxCrossEntropy"),g=dN(b,"logits","softmaxCrossEntropy"),h=null;if(null!=c&&(h=dN(c,"weights","softmaxCrossEntropy")),N(f.shape,g.shape,"Error in softmaxCrossEntropy: "),d>0){let a=eP(d),b=eP(1),c=eP(f.shape[1]);f=eH(eK(f,e_(b,a)),eJ(a,c))}return kv(function(a,b,c=-1){if(-1===c&&(c=b.rank-1),c!==b.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${b.rank} and dim was ${c}`);return eO((a,b,d)=>{let e=iy(b,[c],!0),f=e_(eE(b,"float32"),e);return d([a,f]),{value:fe(fc(eK(f,a)),[c]),gradFunc:(a,b)=>{let[d,e]=b,f=fP(a.shape,[c]);return[eK(fd(a,f),e_(eE(d,"float32"),f$(e))),eK(fd(a,f),e_(f$(e),eE(d,"float32")))]}}})(a,b)}(f,g),h,e)}}),kE=dQ({sparseFillEmptyRows_:function(a,b,c,d){let e=dN(a,"indices","sparseFillEmptyRows","int32"),f=dN(b,"values","sparseFillEmptyRows"),g=dN(c,"denseShape","sparseFillEmptyRows","int32"),h=dN(d,"defaultValue","sparseFillEmptyRows",f.dtype);if(2!==e.rank)throw Error(`Indices should be Tensor2D but received shape
        ${e.shape}`);if(1!==f.rank)throw Error(`Values should be Tensor1D but received shape ${f.shape}`);if(1!==g.rank)throw Error(`Dense shape should be Tensor1D but received shape ${g.shape}`);if(0!==h.rank)throw Error(`Default value should be a scalar but received shape ${h.shape}`);let i=dF.runKernel(cB,{indices:e,values:f,denseShape:g,defaultValue:h});return{outputIndices:i[0],outputValues:i[1],emptyRowIndicator:i[2],reverseIndexMap:i[3]}}}),kF=dQ({sparseReshape_:function(a,b,c){let d=dN(a,"inputIndices","sparseReshape","int32"),e=dN(b,"inputShape","sparseReshape","int32"),f=dN(c,"newShape","sparseReshape","int32");if(2!==d.rank)throw Error(`Input indices should be Tensor2D but received shape
        ${d.shape}`);if(1!==e.rank)throw Error(`Input shape should be Tensor1D but received shape ${e.shape}`);if(1!==f.rank)throw Error(`New shape should be Tensor1D but received shape ${f.shape}`);let g=dF.runKernel(cC,{inputIndices:d,inputShape:e,newShape:f});return{outputIndices:g[0],outputShape:g[1]}}}),kG=dQ({sparseSegmentMean_:function(a,b,c){let d=dN(a,"data","sparseSegmentMean"),e=dN(b,"indices","sparseSegmentMean","int32"),f=dN(c,"segmentIds","sparseSegmentMean","int32");if(d.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.rank)throw Error(`Indices should be Tensor1D but received shape
          ${e.shape}`);if(1!==f.rank)throw Error(`Segment ids should be Tensor1D but received shape
          ${f.shape}`);return dF.runKernel(cD,{data:d,indices:e,segmentIds:f})}}),kH=dQ({sparseSegmentSum_:function(a,b,c){let d=dN(a,"data","sparseSegmentSum"),e=dN(b,"indices","sparseSegmentSum","int32"),f=dN(c,"segmentIds","sparseSegmentSum","int32");if(d.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.rank)throw Error(`Indices should be Tensor1D but received shape
         ${e.shape}`);if(1!==f.rank)throw Error(`Segment ids should be Tensor1D but received shape
         ${f.shape}`);return dF.runKernel(cE,{data:d,indices:e,segmentIds:f})}}),kI=dQ({stringNGrams_:function(a,b,c,d,e,f,g,h){let i=dN(a,"data","stringNGrams","string");if("string"!==i.dtype)throw Error("Data must be of datatype string");if(1!==i.shape.length)throw Error(`Data must be a vector, saw: ${i.shape}`);let j=dN(b,"dataSplits","stringNGrams");if("int32"!==j.dtype)throw Error("Data splits must be of datatype int32");let k=dF.runKernel(cK,{data:i,dataSplits:j},{separator:c,nGramWidths:d,leftPad:e,rightPad:f,padWidth:g,preserveShortSequences:h});return{nGrams:k[0],nGramsSplits:k[1]}}}),kJ=dQ({stringSplit_:function(a,b,c=!0){let d=dN(a,"input","stringSplit","string"),e=dN(b,"delimiter","stringSplit","string");if(1!==d.rank)throw Error(`Input should be Tensor1D but received shape ${d.shape}`);if(0!==e.rank)throw Error(`Delimiter should be a scalar but received shape ${e.shape}`);let f=dF.runKernel(cL,{input:d,delimiter:e},{skipEmpty:c});return{indices:f[0],values:f[1],shape:f[2]}}}),kK=dQ({stringToHashBucketFast_:function(a,b){let c=dN(a,"input","stringToHashBucketFast","string");if(b<=0)throw Error("Number of buckets must be at least 1");return dF.runKernel(cM,{input:c},{numBuckets:b})}}),kL=dQ({staticRegexReplace_:function(a,b,c,d=!0){let e=dN(a,"input","staticRegexReplace","string");return dF.runKernel(cI,{x:e},{pattern:b,rewrite:c,replaceGlobal:d})}}),kM={fft:io,ifft:ip,rfft:iP,irfft:iq},kN={hammingWindow:j_,hannWindow:j0,frame:j2,stft:j3},kO={flipLeftRight:j5,grayscaleToRGB:j6,resizeNearestNeighbor:iO,resizeBilinear:iN,rgbToGrayscale:j8,rotateWithOffset:j9,cropAndResize:j4,nonMaxSuppression:kb,nonMaxSuppressionAsync:ki,nonMaxSuppressionWithScore:kj,nonMaxSuppressionWithScoreAsync:kk,nonMaxSuppressionPadded:kl,nonMaxSuppressionPaddedAsync:km,threshold:kp,transform:kq},kP={bandPart:kr,gramSchmidt:ks,qr:ku},kQ={absoluteDifference:kw,computeWeightedLoss:kv,cosineDistance:kx,hingeLoss:ky,huberLoss:kz,logLoss:kA,meanSquaredError:kB,sigmoidCrossEntropy:kC,softmaxCrossEntropy:kD},kR={sparseFillEmptyRows:kE,sparseReshape:kF,sparseSegmentMean:kG,sparseSegmentSum:kH},kS={stringNGrams:kI,stringSplit:kJ,stringToHashBucketFast:kK,staticRegexReplace:kL};var kT=a.i(99416);class kU{constructor(a,b,c,d,e){this.mean=a,this.stdDev=b,this.dtype=c,this.nextVal=NaN,this.truncated=d,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);let f=e||Math.random();this.random=kT.alea(f.toString())}nextValue(){let a,b;if(!isNaN(this.nextVal)){let a=this.nextVal;return this.nextVal=NaN,a}let c=!1;for(;!c;){let d,e,f;do f=(d=2*this.random()-1)*d+(e=2*this.random()-1)*e;while(f>=1||0===f)let g=Math.sqrt(-2*Math.log(f)/f);a=this.mean+this.stdDev*d*g,b=this.mean+this.stdDev*e*g,(!this.truncated||this.isValidTruncated(a))&&(c=!0)}return(!this.truncated||this.isValidTruncated(b))&&(this.nextVal=this.convertValue(b)),this.convertValue(a)}convertValue(a){return null==this.dtype||"float32"===this.dtype?a:Math.round(a)}isValidTruncated(a){return a<=this.upper&&a>=this.lower}}class kV{constructor(a,b,c,d){this.alpha=a,this.beta=1/b,this.dtype=c;let e=d||Math.random();this.randu=kT.alea(e.toString()),this.randn=new kU(0,1,c,!1,this.randu()),a<1?this.d=a+2/3:this.d=a-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let a,b,c,d,e,f;for(;;){do d=this.randn.nextValue(),f=1+this.c*d;while(f<=0)if(f*=f*f,b=1-.331*(a=d*d)*a,c=.5*a+this.d*(1-f+Math.log(f)),(e=this.randu())<b||Math.log(e)<c)break}return f=1/this.beta*this.d*f,this.alpha<1&&(f*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(f)}convertValue(a){return"float32"===this.dtype?a:Math.round(a)}}class kW{constructor(a=0,b=1,c,d){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=a,this.range=b-a,this.dtype=c,null==d&&(d=Math.random()),"number"==typeof d&&(d=d.toString()),!this.canReturnFloat()&&this.range<=1)throw Error(`The difference between ${a} - ${b} <= 1 and dtype is not float`);this.random=kT.alea(d)}convertValue(a){return this.canReturnFloat()?a:Math.round(a)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}let kX=dQ({randomUniform_:function(a,b=0,c=1,d="float32",e){at(a);let f=eD(a,d),g=new kW(b,c,null,e);for(let a=0;a<f.values.length;a++)f.values[a]=g.nextValue();return f.toTensor()}});var jA=jA;let kY=dQ({truncatedNormal_:function(a,b=0,c=1,d,e){if(at(a),null!=d&&"bool"===d)throw Error("Unsupported data type $ { dtype }");let f=new kU(b,c,d,!0,e),g=eD(a,d);for(let a=0;a<g.values.length;a++)g.values[a]=f.nextValue();return g.toTensor()}});var jd=jd;let kZ=dQ({slice1d_:function(a,b,c){let d=dN(a,"x","slice1d");return M(1===d.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${d.rank} tensor`),gf(d,[b],[c])}}),k$=dQ({slice2d_:function(a,b,c){let d=dN(a,"x","slice2d");return M(2===d.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${d.rank} tensor`),gf(d,b,c)}}),k_=dQ({slice3d_:function(a,b,c){let d=dN(a,"x","slice3d");return M(3===d.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${d.rank} tensor`),gf(d,b,c)}}),k0=dQ({slice4d_:function(a,b,c){let d=dN(a,"x","slice4d");return M(4===d.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${d.rank} tensor`),gf(d,b,c)}}),k1=dQ({concat1d_:function(a){return hS(a,0)}}),k2=dQ({concat2d_:function(a,b){return hS(a,b)}}),k3=dQ({concat3d_:function(a,b){return hS(a,b)}}),k4=dQ({concat4d_:function(a,b){return hS(a,b)}}),k5=dQ({randomNormal_:function(a,b=0,c=1,d,e){if(at(a),null!=d&&"bool"===d)throw Error(`Unsupported data type ${d}`);let f=new kU(b,c,d,!1,e),g=eD(a,d);for(let a=0;a<g.values.length;a++)g.values[a]=f.nextValue();return g.toTensor()}});var k6=jX;a.s(["dropout",()=>k7],43791);let k7=dQ({dropout_:function(a,b,c,d){let e=dN(a,"x","dropout");if(M("float32"===e.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${e.dtype} tensor instead.`),M(b>=0&&b<1,()=>`rate must be a float in the range [0, 1), but got ${b}.`),0===b)return a instanceof dp?e.clone():e;let f=function(a,b){if(null==b)return a.shape.slice();if(S(a.shape,b))return b;if(a.shape.length===b.length){let c=[];for(let d=0;d<a.shape.length;d++)null==b[d]&&null!=a.shape[d]?c.push(a.shape[d]):c.push(b[d]);return c}return b}(e,c),g=1-b;return eK(e,eJ(gg(eH(kX(f,0,1,"float32",d),g)),g))}});function k8(a,b,c){null==b&&(b=0),null==c&&(c=a.length);let d=1;for(let e=b;e<c;++e)d*=a[e];return d}function k9(a){if(0===a.length)return NaN;let b=1/0;for(let c=0;c<a.length;c++){let d=a[c];d<b&&(b=d)}return b}function la(a){if(0===a.length)return NaN;let b=-1/0;for(let c=0;c<a.length;c++){let d=a[c];d>b&&(b=d)}return b}function lb(a,b){if(b<a)throw new jg(`end (${b}) < begin (${a}) is forbidden.`);let c=[];for(let d=a;d<b;++d)c.push(d);return c}function lc(){return null==e&&(e=dF.backend.epsilon()),e}function ld(){return"channelsLast"}function le(a,b=-1){let c=a.shape.slice();return b<0&&(b=c.length+b+1),c.splice(b,0,1),fd(a,c)}function lf(a,b,c){return dX(()=>{switch(a.rank){case 1:return kZ(a,b,c);case 2:return k$(a,[b,0],[c,a.shape[1]]);case 3:return k_(a,[b,0,0],[c,a.shape[1],a.shape[2]]);case 4:return k0(a,[b,0,0,0],[c,a.shape[1],a.shape[2],a.shape[3]]);case 5:return gf(a,[b,0,0,0,0],[c,a.shape[1],a.shape[2],a.shape[3],a.shape[4]]);case 6:return gf(a,[b,0,0,0,0,0],[c,a.shape[1],a.shape[2],a.shape[3],a.shape[4],a.shape[5]]);default:throw new jg(`sliceAlongFirstAxis() received an unsupported tensor rank: ${a.rank}`)}})}function lg(a,b,c){return dX(()=>{switch(a.rank){case 1:return kZ(a,b,c);case 2:return k$(a,[0,b],[a.shape[0],c]);case 3:return k_(a,[0,0,b],[a.shape[0],a.shape[1],c]);case 4:return k0(a,[0,0,0,b],[a.shape[0],a.shape[1],a.shape[2],c]);default:throw new jg(`sliceAlongLastAxis() received an unsupported tensor rank: ${a.rank}`)}})}function lh(a,b,c,d){return dX(()=>{switch(a.rank){case 1:return kZ(a,b,c);case 2:switch(d){case 1:return lf(a,b,c);case 2:return lg(a,b,c);default:throw new jg(`The axis is not within the rank of the tensor ${d}`)}case 3:switch(d){case 1:return lf(a,b,c);case 2:return k_(a,[0,b,0],[a.shape[0],c,a.shape[2]]);case 3:return lg(a,b,c);default:throw new jg(`The axis is not within the rank of the tensor ${d}`)}case 4:switch(d){case 1:return lf(a,b,c);case 2:return k0(a,[0,b,0,0],[a.shape[0],c,a.shape[2],a.shape[3]]);case 3:return k0(a,[0,0,b,0],[a.shape[0],a.shape[1],c,a.shape[3]]);case 4:return lg(a,b,c);default:throw new jg(`The axis is not within the rank of the tensor ${d}`)}default:throw new jg(`sliceAlongLastAxis() received an unsupported tensor rank: ${a.rank}`)}})}function li(a,b=-1){let c;return b<0&&(b=0!==(c=a[0].rank)?c:0),b===a[0].rank&&(b=-1),hS(a,b)}function lj(a,b){switch(a.rank){case 1:return k1([a,b]);case 2:return k2([a,b],0);case 3:return k3([a,b],0);case 4:return k4([a,b],0);default:throw new jg(`concatAlongFirstAxis() received an unsupported tensor rank: ${a.rank}`)}}function lk(a,b){if(Array.isArray(b)||(b=[b]),a.rank!==b.length)throw new jg(`The length of input n (${b.length}) does not match the number of dimensions in input x (${a.rank})`);return f0(a,b)}function ll(a,b=0,c=1,d,e){return k5(a,b,c,d,e)}function lm(a,b,c,d){if(a.rank<2||b.rank<2)throw new jh(`dot requires both inputs to be rank >= 2 but got x shape = ${a.shape} and y shape = ${b.shape}`);if(b.rank>=3&&a.shape.slice(-1)[0]!==b.shape.slice(-2)[0])throw new jh(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${a.shape} and  y shape = ${b.shape}`);if(2===a.rank&&2===b.rank)return k6.matMul({a,b:b,transposeA:!1,transposeB:!1,bias:d?lo(a.rank,d,ld()):null,activation:c});{let e=a.shape.slice();a=fd(a,[-1,e.pop()]);let f=b.shape.slice(),g=f.pop(),h=f.pop(),i=[...f,g],j=Array.from({length:b.rank},(a,c)=>0===c?b.rank-2:c<=b.rank-2?c-1:c);b=fd(fX(b,j),[h,-1]);let k=[...e,...i];return fd(k6.matMul({a,b,transposeA:!1,transposeB:!1,bias:d?lo(a.rank,d,ld()):null,activation:c}),k)}}function ln(a,b,c){return dX(()=>hV(a,b=Array.isArray(b)?jY(b,"int32"):eE(b,"int32"),c))}function lo(a,b,c){let d=b.shape;if(1!==b.rank&&b.rank!==a)throw new jg(`Unexpected bias dimensions: ${b.rank}; expected it to be 1 or ${a}`);if(5===a){if("channelsFirst"===c)if(1===d.length)return fd(b,[1,d[0],1,1,1]);else return fd(b,[1,d[3],d[0],d[1],d[2]]);else if("channelsLast"===c)if(1===d.length)return fd(b,[1,1,1,1,d[0]]);else return fd(b,[1].concat(d))}else if(4===a){if("channelsFirst"===c)if(1===d.length)return fd(b,[1,d[0],1,1]);else return fd(b,[1,d[2],d[0],d[1]]);else if("channelsLast"===c)if(1===d.length)return fd(b,[1,1,1,d[0]]);else return fd(b,[1].concat(d))}else if(3===a){if("channelsFirst"===c)if(1===d.length)return fd(b,[1,d[0],1]);else return fd(b,[1,d[1],d[0]]);else if("channelsLast"===c)if(1===d.length)return fd(b,[1,1,d[0]]);else return fd(b,[1].concat(d))}else if(a<3)return b;throw new jg(`Unsupported input rank by biasAdd: ${b.rank}`)}function lp(a,b,c){return dX(()=>(null==c&&(c=ld()),jK(c),eH(a,lo(a.rank,b,c))))}function lq(a,b,c=!1){return c?a():b()}let lr=["fanIn","fanOut","fanAvg"],ls=["normal","uniform","truncatedNormal"];class lt extends jA.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class lu extends lt{apply(a,b){return gd(a,b)}}lu.className="Zeros",jA.registerClass(lu);class lv extends lt{apply(a,b){return ge(a,b)}}lv.className="Ones",jA.registerClass(lv);class lw extends lt{constructor(a){if(super(),"object"!=typeof a)throw new jg(`Expected argument of type ConstantConfig but got ${a}`);if(void 0===a.value)throw new jg(`config must have value set but got ${a}`);this.value=a.value}apply(a,b){return dX(()=>eK(eP(this.value),ge(a,b)))}getConfig(){return{value:this.value}}}lw.className="Constant",jA.registerClass(lw);class lx extends lt{constructor(a){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=a.minval||this.DEFAULT_MINVAL,this.maxval=a.maxval||this.DEFAULT_MAXVAL,this.seed=a.seed}apply(a,b){return kX(a,this.minval,this.maxval,b,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}lx.className="RandomUniform",jA.registerClass(lx);class ly extends lt{constructor(a){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=a.mean||this.DEFAULT_MEAN,this.stddev=a.stddev||this.DEFAULT_STDDEV,this.seed=a.seed}apply(a,b){if("float32"!==(b=b||"float32")&&"int32"!==b)throw new jh(`randomNormal does not support dType ${b}.`);return ll(a,this.mean,this.stddev,b,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}ly.className="RandomNormal",jA.registerClass(ly);class lz extends lt{constructor(a){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=a.mean||this.DEFAULT_MEAN,this.stddev=a.stddev||this.DEFAULT_STDDEV,this.seed=a.seed}apply(a,b){if("float32"!==(b=b||"float32")&&"int32"!==b)throw new jh(`truncatedNormal does not support dType ${b}.`);return kY(a,this.mean,this.stddev,b,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}lz.className="TruncatedNormal",jA.registerClass(lz);class lA extends lt{constructor(a){super(),this.gain=null!=a.gain?a.gain:1}apply(a,b){return dX(()=>{if(2===a.length&&a[0]===a[1])return eK(this.gain,jT(a[0]));throw new jg("Identity matrix initializer can only be used for 2D square matrices.")})}getConfig(){return{gain:this.gain}}}lA.className="Identity",jA.registerClass(lA);class lB extends lt{constructor(a){if(super(),a.scale<0)throw new jg(`scale must be a positive float. Got: ${a.scale}`);this.scale=null==a.scale?1:a.scale,this.mode=null==a.mode?"fanIn":a.mode,jw(lr,"FanMode",this.mode),this.distribution=null==a.distribution?"normal":a.distribution,jw(ls,"Distribution",this.distribution),this.seed=a.seed}apply(a,b){let c=function(a,b="channelsLast"){let c,d;if(jK(b),2===a.length)c=a[0],d=a[1];else if(-1!==[3,4,5].indexOf(a.length)){if("channelsFirst"===b){let b=k8(a,2);c=a[1]*b,d=a[0]*b}else if("channelsLast"===b){let b=k8(a,0,a.length-2);c=a[a.length-2]*b,d=a[a.length-1]*b}}else{let b=k8(a);c=Math.sqrt(b),d=Math.sqrt(b)}return[c,d]}(a),d=c[0],e=c[1],f=this.scale;if("fanIn"===this.mode?f/=Math.max(1,d):"fanOut"===this.mode?f/=Math.max(1,e):f/=Math.max(1,(d+e)/2),"normal"===this.distribution){let c=Math.sqrt(f);if("float32"!==(b=b||"float32")&&"int32"!==b)throw new jh(`${this.getClassName()} does not support dType ${b}.`);return kY(a,0,c,b,this.seed)}{let c=Math.sqrt(3*f);return kX(a,-c,c,b,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}lB.className="VarianceScaling",jA.registerClass(lB);class lC extends lB{constructor(a){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lC.className="GlorotUniform",jA.registerClass(lC);class lD extends lB{constructor(a){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lD.className="GlorotNormal",jA.registerClass(lD);class lE extends lB{constructor(a){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lE.className="HeNormal",jA.registerClass(lE);class lF extends lB{constructor(a){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lF.className="HeUniform",jA.registerClass(lF);class lG extends lB{constructor(a){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lG.className="LeCunNormal",jA.registerClass(lG);class lH extends lB{constructor(a){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==a?null:a.seed})}getClassName(){return lB.className}}lH.className="LeCunUniform",jA.registerClass(lH);class lI extends lt{constructor(a){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==a.gain?this.DEFAULT_GAIN:a.gain,this.seed=a.seed}apply(a,b){return dX(()=>{if(a.length<2)throw new jh("Shape must be at least 2D.");if("int32"!==b&&"float32"!==b&&void 0!==b)throw TypeError(`Unsupported data type ${b}.`);let c=jd.sizeFromShape(a.slice(0,-1)),d=a[a.length-1],e=c*d;e>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${e}) elements: Slowness may result.`);let f=ll([Math.max(d,c),Math.min(d,c)],0,1,b,this.seed),g=kP.qr(f,!1),h=g[0];return h=eK(h,g[1].flatten().stridedSlice([0],[Math.min(d,c)*Math.min(d,c)],[Math.min(d,c)+1]).sign()),c<d&&(h=h.transpose()),eK(eP(this.gain),h.reshape(a))})}getConfig(){return{gain:this.gain,seed:this.seed}}}lI.className="Orthogonal",jA.registerClass(lI);let lJ={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function lK(a,b={}){return jt(a,jA.SerializationMap.getMap().classNameMap,b,"initializer")}function lL(a){if("string"==typeof a){let b=a in lJ?lJ[a]:a;if("GlorotNormal"===b)return new lD;{if("GlorotUniform"===b)return new lC;if("HeNormal"===b)return new lE;if("HeUniform"===b)return new lF;if("LeCunNormal"===b)return new lG;if("LeCunUniform"===b)return new lH;let a={};return a.className=b,a.config={},lK(a)}}return a instanceof lt?a:lK(a)}function lM(a){return Array.isArray(a)&&Array.isArray(a[0])}function lN(a){return 0===a.length?[]:Array.isArray(a[0])?a:[a]}function lO(a){let b;if(Array.isArray(a)){if(1!==a.length)throw new jg(`Expected Tensor length to be 1; got ${a.length}`);b=a[0]}else b=a;return b}function lP(a){if(!(Array.isArray(a)&&Array.isArray(a[0])))return a;if(1===a.length)return a[0];throw new jg(`Expected exactly 1 Shape; got ${a.length}`)}function lQ(a){let b=0;for(let c of a)0===c.shape.length?b+=1:b+=c.shape.reduce((a,b)=>a*b);return b}function lR(a,b=!0,c,d){return dF.makeVariable(a,b,c,d)}let lS="Variable";class lT{constructor(a,b="float32",c=lS,d=!0,e=null){this.dtype=null==b?"float32":b,this.shape=a.shape,this.id=jB++,c=null==c?lS:c,this.originalName=jP(c),this.name=jQ(this.originalName),this.trainable_=d,this.constraint=e,this.val=lR(a,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(a){return this.assertNotDisposed(),function(a,b){if(a.shape.toString()!==b.shape.toString())throw Error("Shape mismatch: "+JSON.stringify(a.shape)+" vs. "+JSON.stringify(b.shape))}(this.val,a),this.val.id!==a.id&&(this.val.assign(a),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(a){this.trainable_=a,this.val.trainable=a}}function lU(a){return a.map(a=>a.read())}function lV(a){a.forEach(a=>{a[0].write(a[1])})}class lW{constructor(a){this.dtype=a.dtype,this.shape=a.shape,null!=a.shape?this.ndim=a.shape.length:this.ndim=a.ndim,this.maxNDim=a.maxNDim,this.minNDim=a.minNDim,this.axes=a.axes||{}}}class lX{constructor(a,b,c,d,e,f,g){this.dtype=a,this.shape=b,this.sourceLayer=c,this.inputs=d,this.callArgs=e,this.outputTensorIndex=g,this.id=jB++,null!=f&&(this.originalName=jP(f),this.name=jQ(this.originalName)),this.rank=b.length}}let lY=0;class lZ{constructor(a,b){for(let c of(this.callArgs=b,this.id=lY++,this.outboundLayer=a.outboundLayer,this.inboundLayers=a.inboundLayers,this.nodeIndices=a.nodeIndices,this.tensorIndices=a.tensorIndices,this.inputTensors=a.inputTensors,this.outputTensors=a.outputTensors,this.inputMasks=a.inputMasks,this.outputMasks=a.outputMasks,this.inputShapes=a.inputShapes,this.outputShapes=a.outputShapes,a.inboundLayers))null!=c&&c.outboundNodes.push(this);a.outboundLayer.inboundNodes.push(this)}getConfig(){let a=[];for(let b of this.inboundLayers)null!=b?a.push(b.name):a.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:a,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let l$=0;class l_ extends jA.Serializable{constructor(a={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=l$++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let b=a.name;if(!b){let a=this.getClassName();b=jp(a)+"_"+jD(a)}if(this.name=b,this.trainable_=null==a.trainable||a.trainable,null!=a.inputShape||null!=a.batchInputShape){let b;if(null!=a.batchInputShape)b=a.batchInputShape;else if(null!=a.inputShape){let c=null;null!=a.batchSize&&(c=a.batchSize),b=[c].concat(a.inputShape)}this.batchInputShape=b;let c=a.dtype;null==c&&(c=a.inputDType),null==c&&(c="float32"),this.dtype=c}null!=a.weights?this.initialWeights=a.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(a,b){return a.name+"_ib-"+b.toString()}getNodeAtIndex(a,b){if(0===this.inboundNodes.length)throw new jf(`The layer has never been called and thus has no defined ${b}.`);if(this.inboundNodes.length<=a)throw new jg(`Asked to get ${b} at node ${a}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[a]}getInputAt(a){return jn(this.getNodeAtIndex(a,"input").inputTensors)}getOutputAt(a){return jn(this.getNodeAtIndex(a,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new je(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new je(`Layer ${this.name} is not connected, no input to return.`);return jn(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new je(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new je(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return jn(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(a=>a())}get updates(){return this._updates}get built(){return this._built}set built(a){this._built=a}get trainable(){return this.trainable_}set trainable(a){this._trainableWeights.forEach(b=>b.trainable=a),this.trainable_=a}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(a=>a.trainable):[]}set trainableWeights(a){this._trainableWeights=a}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(a=>!a.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(a){this._nonTrainableWeights=a}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(a){let b=jo(a);if(null==this.inputSpec||0===this.inputSpec.length)return;let c=jo(this.inputSpec);if(b.length!==c.length)throw new jg(`Layer ${this.name} expects ${c.length} inputs, but it received ${b.length} input tensors. Input received: ${a}`);for(let a=0;a<b.length;a++){let d=b[a],e=c[a];if(null==e)continue;let f=d.rank;if(null!=e.ndim&&f!==e.ndim)throw new jg(`Input ${a} is incompatible with layer ${this.name}: expected ndim=${e.ndim}, found ndim=${f}`);if(null!=e.maxNDim&&f>e.maxNDim)throw new jg(`Input ${a} is incompatible with layer ${this.name}: expected max_ndim=${e.maxNDim}, found ndim=${f}`);if(null!=e.minNDim&&f<e.minNDim)throw new jg(`Input ${a} is incompatible with layer ${this.name}: expected min_ndim=${e.minNDim}, found ndim=${f}.`);if(null!=e.dtype&&d.dtype!==e.dtype)throw new jg(`Input ${a} is incompatible with layer ${this.name} : expected dtype=${e.dtype}, found dtype=${d.dtype}.`);if(e.axes){let b=d.shape;for(let c in e.axes){let d=Number(c),f=e.axes[c],g=d>=0?b[d]:b[b.length+d];if(null!=f&&-1===[f,null].indexOf(g))throw new jg(`Input ${a} is incompatible with layer ${this.name}: expected axis ${d} of input shape to have value ${f} but got shape ${b}.`)}}if(null!=e.shape)for(let b=0;b<e.shape.length;++b){let c=e.shape[b],f=d.shape[b];if(null!=c&&null!=f&&c!==f)throw new jg(`Input ${a} is incompatible with layer ${this.name}: expected shape=${e.shape}, found shape=${d.shape}.`)}}}call(a,b){return a}invokeCallHook(a,b){null!=this._callHook&&this._callHook(a,b)}setCallHook(a){this._callHook=a}clearCallHook(){this._callHook=null}apply(a,b){b=b||{},this.assertNotDisposed();let c=jo(a),d=function(a){let b=!0;for(let c of jo(a))if(!(c instanceof lX)){b=!1;break}return b}(a),e=function(a){let b=!0;for(let c of jo(a))if(c instanceof lX){b=!1;break}return b}(a);if(d===e)throw new jg("Arguments to apply() must be all SymbolicTensors or all Tensors");return jO(this.name,()=>{if(!this.built){this.assertInputCompatibility(a);let b=[];for(let c of jo(a))b.push(c.shape);this.build(jn(b)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&e&&(this._refCount=1)}if(this.assertInputCompatibility(a),e){let d=this.call(a,b);this.supportsMasking&&this.setMaskMetadata(a,d);let e=jo(d),f=[];for(let a of e)-1!==c.indexOf(a)&&(a=a.clone()),f.push(a);if(d=jn(f),null!=this.activityRegularizer)throw new jh("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d}{let c,d=function(a){a=jo(a);let b=[];for(let c of a)b.push(c.shape);return jn(b)}(a),e=this.computeOutputShape(d),f="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(a)?d[0]:d),c=null!=e&&e.length>0&&Array.isArray(e[0])?e.map((c,d)=>new lX(f,c,this,jo(a),b,this.name,d)):new lX(f,e,this,jo(a),b,this.name),this.addInboundNode(a,c,null,null,d,e,b),this._refCount++,null!=this.activityRegularizer)throw new jh("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}})}warnOnIncompatibleInputShape(a){if(null!=this.batchInputShape)if(a.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(a)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let b=!1;this.batchInputShape.forEach((c,d)=>{null!=c&&null!=a[d]&&a[d]!==c&&(b=!0)}),b&&console.warn(`The shape of the input tensor (${JSON.stringify(a)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new je(`The layer ${this.name} has never been called and thus has no defined output shape.`);let a=[];for(let b of this.inboundNodes){let c=JSON.stringify(b.outputShapes);-1===a.indexOf(c)&&a.push(c)}if(1===a.length){let a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new je(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new jf(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return lQ(this.weights)}build(a){this.built=!0}getWeights(a=!1){return lU(a?this.trainableWeights:this.weights)}setWeights(a){dX(()=>{let b=this.weights;if(b.length!==a.length)throw new jg(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${a.length}, but the layer was expecting ${b.length} weights. Provided weights: ${a}...`);if(0===b.length)return;let c=[],d=lU(b);for(let e=0;e<d.length;++e){let f=d[e],g=b[e],h=a[e];if(!jd.arraysEqual(f.shape,h.shape))throw new jg(`Layer weight shape ${f.shape} not compatible with provided weight shape ${h.shape}`);c.push([g,h])}lV(c)})}addWeight(a,b,c,d,e,f,g,h){if(-1!==this._addedWeightNames.indexOf(a))throw new jg(`Duplicate weight name ${a} for layer ${this.name}`);this._addedWeightNames.push(a),null==c&&(c="float32"),this.fastWeightInitDuringBuild&&(d=null!=h?h():lL("zeros"));let i=d.apply(b,c),j=new lT(i,c,a,f,g);return i.dispose(),null!=e&&this.addLoss(()=>e.apply(j.read())),null==f&&(f=!0),f?this._trainableWeights.push(j):this._nonTrainableWeights.push(j),j}setFastWeightInitDuringBuild(a){this.fastWeightInitDuringBuild=a}addLoss(a){null==a||Array.isArray(a)&&0===a.length||(a=jo(a),void 0!==this._losses&&null!==this._losses&&this.losses.push(...a))}computeOutputShape(a){return a}computeMask(a,b){if(!this.supportsMasking){if(null!=b)if(Array.isArray(b))b.forEach(a=>{if(null!=a)throw TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return b}setMaskMetadata(a,b,c){if(!this.supportsMasking)return;let d=this.computeMask(a,c),e=jo(b),f=jo(d);if(e.length!==f.length)throw Error(`${this.name} outputs ${e.length} tensors but ${e.length} masks for those tensors`);for(let a=0;a<e.length;a++)e[a].kerasMask=f[a]}addInboundNode(a,b,c,d,e,f,g=null){let h=jo(a);b=jo(b),c=jo(c),d=jo(d),e=lN(e),f=lN(f);let i=[],j=[],k=[];for(let a of h)i.push(a.sourceLayer),j.push(a.nodeIndex),k.push(a.tensorIndex);new lZ({outboundLayer:this,inboundLayers:i,nodeIndices:j,tensorIndices:k,inputTensors:h,outputTensors:b,inputMasks:c,outputMasks:d,inputShapes:e,outputShapes:f},g);for(let a=0;a<b.length;a++)b[a].sourceLayer=this,b[a].nodeIndex=this.inboundNodes.length-1,b[a].tensorIndex=a}getConfig(){let a={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(a.batchInputShape=this.batchInputShape),null!=this.dtype&&(a.dtype=this.dtype),a}disposeWeights(){return this.weights.forEach(a=>a.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let a=0;return 0==--this._refCount&&(a=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:a}}}class l0 extends l_{constructor(a){if(super({dtype:a.dtype,name:null!=a.name?a.name:jD("input").toString()}),null==a.batchSize&&(a.batchSize=null),null==a.sparse&&(a.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=a.sparse,null!=a.inputShape&&null!=a.batchInputShape)throw new jg("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let b=a.batchInputShape;if(null==b)if(null==a.inputShape)throw new jg("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");else b=[a.batchSize].concat(a.inputShape);else if(null!=a.batchSize)throw new jg("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");let c=a.dtype||"float32";this.batchInputShape=b,this.dtype=c,this.inputSpec=[{shape:b}];let d=new lX(this.dtype,this.batchInputShape,this,[],{},this.name);d.nodeIndex=0,d.tensorIndex=0,new lZ({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[d],outputTensors:[d],inputMasks:[null],outputMasks:[null],inputShapes:[b],outputShapes:[b]})}apply(a,b){throw new jg(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}function l1(a){if(null==a.batchShape&&null==a.shape)throw Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=a.batchShape&&null!=a.shape)throw new jg("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let b=a.batchShape;null!=a.shape&&null==b&&(b=[null].concat(a.shape));let c=a.dtype;return null==c&&(c="float32"),new l0({batchInputShape:b,name:a.name,dtype:c,sparse:a.sparse}).inboundNodes[0].outputTensors[0]}l0.className="InputLayer",jA.registerClass(l0);class l2{constructor(a){if(this.id2Value={},this.id2Mask={},this.name2Id={},a instanceof l2)for(let b in a.id2Value)this.id2Value[b]=a.id2Value[b],b in a.id2Mask&&(this.id2Mask[b]=a.id2Mask[b]);else{if(null==a)return;for(let b of a)this.add(b.key,b.value)}}add(a,b,c){if(null==this.id2Value[a.id])this.id2Value[a.id]=function(a,b){if(null==a.dtype||a.dtype===b.dtype)return b;try{return eE(b,a.dtype)}catch(c){throw new jg(`The dtype of the feed (${b.dtype}) can not be cast to the dtype of the key '${a.name}' (${a.dtype}).`)}}(a,b),this.name2Id[a.name]=a.id,null!=c&&(this.id2Mask[a.id]=c);else throw new jg(`Duplicate key: name=${a.name}, id=${a.id}`);return this}addFeed(a){this.add(a.key,a.value)}hasKey(a){return null!=this.id2Value[a.id]}names(){return Object.keys(this.name2Id)}getValue(a){if(a instanceof lX)if(null!=this.id2Value[a.id])return this.id2Value[a.id];else throw new jg(`Nonexistent key: ${a.name}`);{let b=this.name2Id[a];if(null==b)throw new jg(`Feed dict has no SymbolicTensor name: ${a}`);return this.id2Value[b]}}getMask(a){if(a instanceof lX)if(null!=this.id2Value[a.id])return this.id2Mask[a.id];else throw new jg(`Nonexistent key: ${a.name}`);{let b=this.name2Id[a];if(null==b)throw new jg(`Feed dict has no SymbolicTensor name: ${a}`);return this.id2Mask[b]}}disposeMasks(){null!=this.id2Mask&&dY(this.id2Mask)}}let l3=new jj,l4=new jj;function l5(a,b,c,d){let e,f=null!=c&&c.training,g=Array.isArray(a),h=g?a:[a],i=h.map(a=>a.name),j=[],k=b.names();for(let a of i)-1!==k.indexOf(a)?j.push(b.getValue(a)):j.push(null);null!=d&&(d.maxNumTensors=-1/0,d.minNumTensors=1/0);let l=i.join(",")+"|"+b.names().sort().join(","),m=l3.get(l);if(null==m){let a=function(a,b){jd.assert(null!=a&&a.length>0,()=>"Expected at least one fetch, got none");let c=[],d={};if(1===a.length){let e=l6(a[0],b);c=e.sorted,d=e.recipientMap}else{let e=new Set;for(let f of a){let{sorted:a,recipientMap:g}=l6(f,b);for(let b of a)e.has(b.name)||(c.push(b),e.add(b.name));for(let a in g)null==d[a]&&(d[a]=new Set),g[a].forEach(b=>d[a].add(b))}}return{sorted:c,recipientCounts:function(a){let b={};for(let c in a)b[c]=a[c].size;return b}(d)}}(h,b);m=a.sorted,e=a.recipientCounts,l3.put(l,m),l4.put(l,e)}e={},f||Object.assign(e,l4.get(l));let n=new l2(b);for(let a=0;a<m.length;++a){if(null!=d){let a=dW().numTensors;a>d.maxNumTensors&&(d.maxNumTensors=a),a<d.minNumTensors&&(d.minNumTensors=a)}let g=m[a],h=g.sourceLayer;if(h instanceof l0)continue;let k=[],l=[],o=[],p=!1;for(let a of g.inputs){let c=n.getValue(a),d=n.getMask(a);k.push(c),l.push(d),null!=d&&(p=!0),!f&&(e[a.name]--,0!==e[a.name]||b.hasKey(a)||-1!==i.indexOf(a.name)||c.isDisposed||!0===a.sourceLayer.stateful||o.push(c))}p&&((c=c||{}).mask=l[0]);let q=jo(h.apply(k,c)),r=null;h.supportsMasking&&(r=h.computeMask(k,l));let s=function(a){let b;if(1===a.sourceLayer.inboundNodes.length)b=a.sourceLayer.output;else{let c=null;for(let b=0;b<a.sourceLayer.inboundNodes.length;++b)for(let d of a.sourceLayer.inboundNodes[b].outputTensors)if(d.id===a.id){c=b;break}b=a.sourceLayer.getOutputAt(c)}return b}(g),t=Array.isArray(s)?s:[s];for(let a=0;a<t.length;++a){n.hasKey(t[a])||n.add(t[a],q[a],Array.isArray(r)?r[0]:r);let b=i.indexOf(t[a].name);-1!==b&&(j[b]=q[a])}f||dY(o)}return n.disposeMasks(),g?j:j[0]}function l6(a,b){let c=new Set,d=[],e={};for(let a of b.names())c.add(a);let f=[],g=[];for(f.push(a);f.length>0;){let a=f[f.length-1];if(c.has(a.name)){f.pop();continue}let b=g[g.length-1]===f.length-1;if(0===a.inputs.length||b)f.pop(),d.push(a),c.add(a.name),b&&g.pop();else for(let b of(g.push(f.length-1),a.inputs))null==e[b.name]&&(e[b.name]=new Set),e[b.name].add(a.name),c.has(b.name)||f.push(b)}return{sorted:d,recipientMap:e}}aA.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function(a){null!=l3&&l3.setMaxEntries(a),null!=l4&&l4.setMaxEntries(a)}),a.s(["maxNorm",()=>mg,"minMaxNorm",()=>mj,"nonNeg",()=>mi,"unitNorm",()=>mh],17361);var jA=jA;function l7(a,b){return dX(()=>eL(fe(eK(a,a),b,!0)))}class l8 extends jA.Serializable{getConfig(){return{}}}class l9 extends l8{constructor(a){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=a.maxValue?a.maxValue:this.defaultMaxValue,this.axis=null!=a.axis?a.axis:this.defaultAxis}apply(a){return dX(()=>{let b=l7(a,this.axis);return eK(a,eJ(h8(b,0,this.maxValue),eH(lc(),b)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}l9.className="MaxNorm",jA.registerClass(l9);class ma extends l8{constructor(a){super(),this.defaultAxis=0,this.axis=null!=a.axis?a.axis:this.defaultAxis}apply(a){return dX(()=>eJ(a,eH(lc(),l7(a,this.axis))))}getConfig(){return{axis:this.axis}}}ma.className="UnitNorm",jA.registerClass(ma);class mb extends l8{apply(a){return gP(a)}}mb.className="NonNeg",jA.registerClass(mb);class mc extends l8{constructor(a){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=a.minValue?a.minValue:this.defaultMinValue,this.maxValue=null!=a.maxValue?a.maxValue:this.defaultMaxValue,this.rate=null!=a.rate?a.rate:this.defaultRate,this.axis=null!=a.axis?a.axis:this.defaultAxis}apply(a){return dX(()=>{let b=l7(a,this.axis),c=eH(eK(this.rate,h8(b,this.minValue,this.maxValue)),eK(1-this.rate,b));return eK(a,eJ(c,eH(lc(),b)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}mc.className="MinMaxNorm",jA.registerClass(mc);let md={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function me(a,b={}){return jt(a,jA.SerializationMap.getMap().classNameMap,b,"constraint")}function mf(a){return null==a?null:"string"==typeof a?me({className:a in md?md[a]:a,config:{}}):a instanceof l8?a:me(a)}function mg(a){return new l9(a)}function mh(a){return new ma(a)}function mi(){return new mb}function mj(a){return new mc(a)}function mk(){return new lu}function ml(){return new lv}function mm(a){return new lw(a)}function mn(a){return new lx(a)}function mo(a){return new ly(a)}function mp(a){return new lz(a)}function mq(a){return new lA(a)}function mr(a){return new lB(a)}function ms(a){return new lC(a)}function mt(a){return new lD(a)}function mu(a){return new lE(a)}function mv(a){return new lF(a)}function mw(a){return new lG(a)}function mx(a){return new lH(a)}function my(a){return new lI(a)}a.i(17361),a.s(["constant",()=>mm,"glorotNormal",()=>mt,"glorotUniform",()=>ms,"heNormal",()=>mu,"heUniform",()=>mv,"identity",()=>mq,"leCunNormal",()=>mw,"leCunUniform",()=>mx,"ones",()=>ml,"orthogonal",()=>my,"randomNormal",()=>mo,"randomUniform",()=>mn,"truncatedNormal",()=>mp,"varianceScaling",()=>mr,"zeros",()=>mk],63416),a.i(63416),a.s(["activation",()=>p8,"add",()=>qh,"alphaDropout",()=>qZ,"average",()=>qi,"averagePooling1d",()=>qr,"averagePooling2d",()=>qu,"averagePooling3d",()=>qx,"avgPool1d",()=>qs,"avgPool2d",()=>qv,"avgPool3d",()=>qy,"avgPooling1d",()=>qt,"avgPooling2d",()=>qw,"avgPooling3d",()=>qz,"batchNormalization",()=>qo,"bidirectional",()=>qR,"categoryEncoding",()=>q2,"centerCrop",()=>q0,"concatenate",()=>qj,"conv1d",()=>p_,"conv2d",()=>p0,"conv2dTranspose",()=>p1,"conv3d",()=>p2,"conv3dTranspose",()=>p3,"convLstm2d",()=>qN,"convLstm2dCell",()=>qO,"cropping2D",()=>p5,"dense",()=>p9,"depthwiseConv2d",()=>p7,"dot",()=>qn,"dropout",()=>qa,"elu",()=>pV,"embedding",()=>qg,"flatten",()=>qc,"gaussianDropout",()=>qY,"gaussianNoise",()=>qX,"globalAveragePooling1d",()=>qA,"globalAveragePooling2d",()=>qB,"globalMaxPool1d",()=>qT,"globalMaxPool2d",()=>qU,"globalMaxPooling1d",()=>qC,"globalMaxPooling2d",()=>qD,"gru",()=>qH,"gruCell",()=>qI,"inputLayer",()=>pU,"layerNormalization",()=>qp,"leakyReLU",()=>pX,"lstm",()=>qJ,"lstmCell",()=>qK,"masking",()=>q$,"maxPool1d",()=>qV,"maxPool2d",()=>qW,"maxPooling1d",()=>qE,"maxPooling2d",()=>qF,"maxPooling3d",()=>qG,"maximum",()=>qk,"minimum",()=>ql,"multiply",()=>qm,"permute",()=>qf,"prelu",()=>pY,"randomWidth",()=>q3,"reLU",()=>pW,"repeatVector",()=>qd,"rescaling",()=>q_,"reshape",()=>qe,"resizing",()=>q1,"rnn",()=>qP,"separableConv2d",()=>p4,"simpleRNN",()=>qL,"simpleRNNCell",()=>qM,"softmax",()=>pZ,"spatialDropout1d",()=>qb,"stackedRNNCells",()=>qQ,"thresholdedReLU",()=>p$,"timeDistributed",()=>qS,"upSampling2d",()=>p6,"zeroPadding2d",()=>qq],27491);let mz="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:a=>a();function mA(){return new Promise(a=>mz(()=>a()))}var jd=jd;async function mB(a){if(null==a)return;let b=[],c=[],d=[];for(let e in a){let f=a[e];"number"!=typeof f&&(b.push(f.data()),c.push(e),d.push(f))}if(b.length>0){let e=await Promise.all(b);for(let b=0;b<e.length;++b)a[c[b]]=e[b][0];dY(d)}}function mC(a){if(null!=a)for(let b in a){let c=a[b];"number"!=typeof c&&c.dispose()}}!function(a){a[a.SILENT=0]="SILENT",a[a.VERBOSE=1]="VERBOSE"}(q||(q={}));class mD{constructor(){this.validationData=null}setParams(a){this.params=a}async onEpochBegin(a,b){}async onEpochEnd(a,b){}async onBatchBegin(a,b){}async onBatchEnd(a,b){}async onTrainBegin(a){}async onTrainEnd(a){}setModel(a){}}class mE{constructor(a,b=10){null==a&&(a=[]),this.callbacks=a,this.queueLength=b}append(a){this.callbacks.push(a)}setParams(a){for(let b of this.callbacks)b.setParams(a)}setModel(a){for(let b of this.callbacks)b.setModel(a)}async onEpochBegin(a,b){for(let c of(null==b&&(b={}),this.callbacks))await c.onEpochBegin(a,b)}async onEpochEnd(a,b){for(let c of(null==b&&(b={}),this.callbacks))await c.onEpochEnd(a,b)}async onBatchBegin(a,b){for(let c of(null==b&&(b={}),this.callbacks))await c.onBatchBegin(a,b)}async onBatchEnd(a,b){for(let c of(null==b&&(b={}),this.callbacks))await c.onBatchEnd(a,b)}async onTrainBegin(a){for(let b of(null==a&&(a={}),this.callbacks))await b.onTrainBegin(a)}async onTrainEnd(a){for(let b of(null==a&&(a={}),this.callbacks))await b.onTrainEnd(a)}}class mF extends mD{constructor(){super()}async onEpochBegin(a){this.seen=0,this.totals={}}async onBatchEnd(a,b){null==b&&(b={});let c=null==b.size?0:b.size;for(let a in this.seen+=c,b){let d=b[a];if("number"==typeof d)this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+d*c;else{let b;a in this.totals?b=this.totals[a]:this.totals[a]=0;let e=dX(()=>eH(this.totals[a],eK(d,c)));this.totals[a]=e,null!=b&&b.dispose()}}}async onEpochEnd(a,b){if(null!=b)for(let a of this.params.metrics)null!=this.totals[a]&&("number"==typeof this.totals[a]?b[a]=this.totals[a]/this.seen:dX(()=>{let c=eK(eJ(1,this.seen),this.totals[a]);b[a]=c,this.totals[a].dispose(),dZ(b[a])}))}}class mG extends mD{async onTrainBegin(a){this.epoch=[],this.history={}}async onEpochEnd(a,b){for(let c in null==b&&(b={}),this.epoch.push(a),b)null==this.history[c]&&(this.history[c]=[]),this.history[c].push(b[c])}async syncData(){let a=[],b=[],c=[];for(let d in this.history){let e=this.history[d];for(let f=0;f<e.length;++f)if("number"!=typeof e[f]){let g=e[f];a.push(g.data()),b.push(d),c.push(f)}}let d=await Promise.all(a);for(let a=0;a<d.length;++a)this.history[b[a]][c[a]].dispose(),this.history[b[a]][c[a]]=d[a][0]}}class mH extends mD{constructor(a,b){if(super(),this.currentEpoch=0,this.nowFunc=a.nowFunc,this.nextFrameFunc=a.nextFrameFunc||mA,this.yieldEvery=b||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=a.onYield)throw Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");jd.isNumber(this.yieldEvery)&&(this.maybeWait=function(a,b,c){let d,e=null!=c?c():jd.now();return(...f)=>{let g=null!=c?c():jd.now();return g-e<b?d:(e=g,d=a(...f))}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=a.onTrainBegin,this.trainEnd=a.onTrainEnd,this.epochBegin=a.onEpochBegin,this.epochEnd=a.onEpochEnd,this.batchBegin=a.onBatchBegin,this.batchEnd=a.onBatchEnd,this.yield=a.onYield}async maybeWait(a,b,c){let d=[];null!=this.yield&&(await mB(c),d.push(this.yield(a,b,c))),d.push(this.nextFrameFunc()),await Promise.all(d)}async onEpochBegin(a,b){this.currentEpoch=a,null!=this.epochBegin&&(await mB(b),await this.epochBegin(a,b))}async onEpochEnd(a,b){let c=[];null!=this.epochEnd&&(await mB(b),c.push(this.epochEnd(a,b))),"epoch"===this.yieldEvery&&c.push(this.nextFrameFunc()),await Promise.all(c)}async onBatchBegin(a,b){null!=this.batchBegin&&(await mB(b),await this.batchBegin(a,b))}async onBatchEnd(a,b){let c=[];null!=this.batchEnd&&(await mB(b),c.push(this.batchEnd(a,b))),"batch"===this.yieldEvery?c.push(this.nextFrameFunc()):jd.isNumber(this.yieldEvery)&&c.push(this.maybeWait(this.currentEpoch,a,b)),await Promise.all(c)}async onTrainBegin(a){null!=this.trainBegin&&(await mB(a),await this.trainBegin(a))}async onTrainEnd(a){null!=this.trainEnd&&(await mB(a),await this.trainEnd(a))}}function mI(a,b){return(null==a&&(a={}),a instanceof mD)?[a]:Array.isArray(a)&&a[0]instanceof mD?a:jo(a).map(a=>new mH(a,b))}class mJ{constructor(){}static registerCallbackConstructor(a,b){jd.assert(a>=0&&Number.isInteger(a),()=>`Verbosity level is expected to be an integer >= 0, but got ${a}`),mJ.checkForDuplicate(b),null==mJ.constructors[a]&&(mJ.constructors[a]=[]),mJ.constructors[a].push(b)}static checkForDuplicate(a){for(let b in mJ.constructors)mJ.constructors[+b].forEach(b=>{if(b===a)throw new jg("Duplicate callback constructor.")})}static clear(){mJ.constructors={}}static createCallbacks(a){let b=[];for(let c in mJ.constructors){let d=+c;a>=d&&b.push(...mJ.constructors[d])}return b.map(a=>new a)}}function mK(a,b,c,d,e,f,g,h,i){let j=new mG,k=[new mF,...mJ.createCallbacks(b)];null!=a&&k.push(...a),k.push(j);let l=new mE(k);return l.setParams({epochs:c,initialEpoch:d,samples:e,steps:f,batchSize:g,verbose:b,doValidation:h,metrics:i}),{callbackList:l,history:j}}function mL(a){return new Promise(a=>setTimeout(a)).then(a)}mJ.constructors={},a.s(["CompositeArrayBuffer",()=>dV,"browserFiles",()=>mO,"browserHTTPRequest",()=>mX,"concatenateArrayBuffers",()=>d7,"copyModel",()=>eA,"decodeWeights",()=>d0,"decodeWeightsStream",()=>d4,"encodeWeights",()=>d_,"fromMemory",()=>m_,"fromMemorySync",()=>m0,"getLoadHandlers",()=>ei,"getModelArtifactsForJSON",()=>eb,"getModelArtifactsForJSONSync",()=>ea,"getModelArtifactsInfoForJSON",()=>ec,"getSaveHandlers",()=>eh,"getWeightSpecs",()=>ed,"http",()=>mW,"isHTTPScheme",()=>mU,"listModels",()=>ey,"loadWeights",()=>mR,"moveModel",()=>eB,"registerLoadRouter",()=>eg,"registerSaveRouter",()=>ef,"removeModel",()=>ez,"weightsLoaderFactory",()=>mS,"withSaveHandler",()=>m1,"withSaveHandlerSync",()=>m2],52490),a.s([],35036);class mM{constructor(a){if(!aA.getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");a.startsWith(mM.URL_SCHEME)&&(a=a.slice(mM.URL_SCHEME.length)),(null==a||0===a.length)&&(a="model"),this.modelJsonFileName=a+".json",this.weightDataFileName=a+".weights.bin"}async save(a){if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");let b=dV.join(a.weightData),c=window.URL.createObjectURL(new Blob([b],{type:"application/octet-stream"}));if(a.modelTopology instanceof ArrayBuffer)throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let b=[{paths:["./"+this.weightDataFileName],weights:a.weightSpecs}],d=d9(a,b),e=window.URL.createObjectURL(new Blob([JSON.stringify(d)],{type:"application/json"})),f=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(f.download=this.modelJsonFileName,f.href=e,await mL(()=>f.dispatchEvent(new MouseEvent("click"))),null!=a.weightData){let a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;a.download=this.weightDataFileName,a.href=c,await mL(()=>a.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ec(a)}}}}mM.URL_SCHEME="downloads://";class mN{constructor(a){if(null==a||a.length<1)throw Error(`When calling browserFiles, at least 1 file is required, but received ${a}`);this.jsonFile=a[0],this.weightsFiles=a.slice(1)}async load(){return new Promise((a,b)=>{let c=new FileReader;c.onload=c=>{let d=JSON.parse(c.target.result),e=d.modelTopology;return null==e?void b(Error(`modelTopology field is missing from file ${this.jsonFile.name}`)):null==d.weightsManifest?void b(Error(`weightManifest field is missing from file ${this.jsonFile.name}`)):0===this.weightsFiles.length?void a({modelTopology:e}):void a(eb(d,a=>this.loadWeights(a)))},c.onerror=a=>b(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),c.readAsText(this.jsonFile)})}loadWeights(a){let b=[],c=[];for(let d of a)b.push(...d.weights),c.push(...d.paths);let d=this.checkManifestAndWeightFiles(a);return Promise.all(c.map(a=>this.loadWeightsFile(a,d[a]))).then(a=>[b,a])}loadWeightsFile(a,b){return new Promise((c,d)=>{let e=new FileReader;e.onload=a=>{c(a.target.result)},e.onerror=b=>d(`Failed to weights data from file of path '${a}'.`),e.readAsArrayBuffer(b)})}checkManifestAndWeightFiles(a){let b=[],c=this.weightsFiles.map(a=>d8(a.name)),d={};for(let e of a)e.paths.forEach(a=>{let e=d8(a);if(-1!==b.indexOf(e))throw Error(`Duplicate file basename found in weights manifest: '${e}'`);if(b.push(e),-1===c.indexOf(e))throw Error(`Weight file with basename '${e}' is not provided.`);d[a]=this.weightsFiles[c.indexOf(e)]});if(b.length!==this.weightsFiles.length)throw Error(`Mismatch in the number of files in weights manifest (${b.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return d}}function mO(a){return new mN(a)}function mP(a,b,c,d){var e,f,g;M(null!=(e=a)&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array"),f=c=null==c?0:c,g=d=null==d?1:d,M(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),M(g>=0&&g<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${g}`),M(g>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${g}`);let h=0;return Promise.all(a.map(e=>(e.then(e=>(b(c+ ++h/a.length*(d-c)),e)),e)))}async function mQ(a,b){null==b&&(b={});let c=null==b.fetchFunc?aA.platform.fetch:b.fetchFunc,d=a.map(a=>c(a,b.requestInit,{isBinary:!0})),e=(null==b.onProgress?await Promise.all(d):await mP(d,b.onProgress,0,.5)).map(a=>a.arrayBuffer());return null==b.onProgress?await Promise.all(e):await mP(e,b.onProgress,.5,1)}async function mR(a,b="",c,d){return mS(a=>mQ(a,{requestInit:d}))(a,b,c)}function mS(a){return async(b,c="",d)=>{let e=b.map(()=>!1),f={},g=null!=d?d.map(()=>!1):[],h=[];if(b.forEach((a,b)=>{let c=0;a.weights.forEach(a=>{let i=dU["quantization"in a?a.quantization.dtype:a.dtype]*P(a.shape),j=()=>{e[b]=!0,null==f[b]&&(f[b]=[]),f[b].push({manifestEntry:a,groupOffset:c,sizeBytes:i})};null!=d?d.forEach((b,c)=>{b===a.name&&(j(),g[c]=!0)}):j(),h.push(a.name),c+=i})}),!g.every(a=>a)){let a=d.filter((a,b)=>!g[b]);throw Error(`Could not find weights in manifest with names: ${a.join(", ")}. 
Manifest JSON has weights with names: ${h.join(", ")}.`)}let i=e.reduce((a,b,c)=>(b&&a.push(c),a),[]),j=[];i.forEach(a=>{b[a].paths.forEach(a=>{let b=c+(c.endsWith("/")?"":"/")+a;j.push(b)})});let k=await a(j),l={},m=0;return i.forEach(a=>{let c=b[a].paths.length,d=new dV(k.slice(m,m+c));f[a].forEach(a=>{let b=d0(d.slice(a.groupOffset,a.groupOffset+a.sizeBytes),[a.manifestEntry]);for(let a in b)l[a]=b[a]}),m+=c}),l}}ee.registerSaveRouter(a=>aA.getBool("IS_BROWSER")&&!Array.isArray(a)&&a.startsWith(mM.URL_SCHEME)?function(a="model"){return new mM(a)}(a.slice(mM.URL_SCHEME.length)):null);class mT{constructor(a,b){if(this.DEFAULT_METHOD="POST",null==b&&(b={}),this.weightPathPrefix=b.weightPathPrefix,this.weightUrlConverter=b.weightUrlConverter,null!=b.fetchFunc?(M("function"==typeof b.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=b.fetchFunc):this.fetch=aA.platform.fetch,M(null!=a&&a.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(a)&&M(2===a.length,()=>`URL paths for http must have a length of 2, (actual length is ${a.length}).`),this.path=a,null!=b.requestInit&&null!=b.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=b.requestInit||{},this.loadOptions=b}async save(a){if(a.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let b=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);b.body=new FormData;let c=[{paths:["./model.weights.bin"],weights:a.weightSpecs}],d=d9(a,c);if(b.body.append("model.json",new Blob([JSON.stringify(d)],{type:"application/json"}),"model.json"),null!=a.weightData){let c=dV.join(a.weightData);b.body.append("model.weights.bin",new Blob([c],{type:"application/octet-stream"}),"model.weights.bin")}let e=await this.fetch(this.path,b);if(e.ok)return{modelArtifactsInfo:ec(a),responses:[e]};throw Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${e.status}.`)}async loadModelJSON(){let a,b=await this.fetch(this.path,this.requestInit);if(!b.ok)throw Error(`Request to ${this.path} failed with status code ${b.status}. Please verify this URL points to the model JSON of the model to load.`);try{a=await b.json()}catch(b){let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",Error(a)}let c=a.modelTopology,d=a.weightsManifest;if(null==c&&null==d)throw Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return a}async load(){return this.loadOptions.streamWeights?this.loadStream():eb(await this.loadModelJSON(),a=>this.loadWeights(a))}async loadStream(){let a=await this.loadModelJSON(),b=await this.getWeightUrls(a.weightsManifest),c=ed(a.weightsManifest),d=()=>(function(a,b){var c;let d,e=null==b.fetchFunc?aA.platform.fetch:b.fetchFunc,f=0;return null==(c=b.onProgress)||c.call(b,0),new ReadableStream({pull:async c=>{for(var g;f<a.length;){d||(d=(await e(a[f],b.requestInit,{isBinary:!0})).body.getReader());let{done:h,value:i}=await d.read();if(h){f++,d=void 0,null==(g=b.onProgress)||g.call(b,f/a.length);continue}c.enqueue(i);return}c.close()}})})(b,this.loadOptions);return Object.assign(Object.assign({},a),{weightSpecs:c,getWeightStream:d})}async getWeightUrls(a){let[b,c]=function(a){let b=a.lastIndexOf("/"),c=a.lastIndexOf("?");return[a.substring(0,b)+"/",c>b?a.substring(c):""]}(Array.isArray(this.path)?this.path[1]:this.path),d=this.weightPathPrefix||b,e=[],f=[];for(let b of a)for(let a of b.paths)null!=this.weightUrlConverter?f.push(this.weightUrlConverter(a)):e.push(d+a+c);return this.weightUrlConverter&&e.push(...await Promise.all(f)),e}async loadWeights(a){let b=await this.getWeightUrls(a);return[ed(a),await mQ(b,this.loadOptions)]}}function mU(a){return null!=a.match(mT.URL_SCHEME_REGEX)}mT.URL_SCHEME_REGEX=/^https?:\/\//;let mV=(a,b)=>{if("undefined"==typeof fetch&&(null==b||null==b.fetchFunc));else if(Array.isArray(a)?a.every(a=>mU(a)):mU(a))return mW(a,b);return null};function mW(a,b){return new mT(a,b)}function mX(a,b){return mW(a,b)}ee.registerSaveRouter(mV),ee.registerLoadRouter(mV);class mY{constructor(a){this.modelArtifacts=a}load(){return this.modelArtifacts}}class mZ{constructor(a){this.saveHandler=a}save(a){return this.saveHandler(a)}}class m${constructor(a){a.load&&(this.load=()=>Promise.resolve(a.load())),a.save&&(this.save=b=>Promise.resolve(a.save(b)))}}function m_(a,b,c,d){let e=arguments;return new m$(m0(...e))}function m0(a,b,c,d){return 1!=arguments.length?(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new mY({modelTopology:a,weightSpecs:b,weightData:c,trainingConfig:d})):null!=a.modelTopology||null!=a.weightSpecs?new mY(a):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new mY({modelTopology:a}))}function m1(a){return new mZ(a)}function m2(a){return new mZ(a)}a.i(35036);var m3=a.i(52490),m3=m3,jA=jA,jd=jd,jA=jA;function m4(a,b={},c=!1){return jt(a,jA.SerializationMap.getMap().classNameMap,b,"layer",c)}var jd=jd;function m5(a,b){return dX(()=>{var c;"float32"!==a.dtype&&(a=eE(a,"float32"));let d=fe(eK(c=a,c),b,!0),e=eY(d.shape,lc()),f=eL(e5(d,e));return eJ(a,f)})}function m6(a,b){return dX(()=>{var c;return iD(eK(c=e_(b,a),c),-1)})}function m7(a,b){return dX(()=>iD(e1(e_(b,a)),-1))}function m8(a,b){return dX(()=>{let c=e_(a,b),d=h8(e1(a),lc(),Number.MAX_VALUE);return eK(100,iD(e1(eJ(c,d)),-1))})}function m9(a,b,c=!1){return dX(()=>{if(c)b=iU(b);else{let a=fe(b,b.shape.length-1,!0);b=eJ(b,a)}return b=h8(b,lc(),1-lc()),fc(fe(eK(eE(a,"float32"),gj(b)),b.shape.length-1))})}function na(a,b,c=!1){return dX(()=>{let d=eE(gg(function(a){let b=[k8(a.shape)];return fd(a,b)}(a)),"int32"),e=(b=h8(b,lc(),1-lc())).shape;return m9(fd(iI(d,e[e.length-1]),e),b,c)})}function nb(a,b){return dX(()=>{let c;return iD(function(a,b){if(!jd.arraysEqual(a.shape,b.shape))throw new jg(`logits and labels must have the same shape, but got shapes ${JSON.stringify(a.shape)} and ${JSON.stringify(b.shape)}`);return dX(()=>{let c=gP(b),d=fc(e1(b));return eH(e_(c,eK(b,a)),iz(f$(d)))})}(a,c=gj(eJ(c=h8(b,lc(),1-lc()),e_(1,c)))),-1)})}function nc(a,b){return dX(()=>fc(fe(eK(m5(a,-1),m5(b,-1)),-1)))}let nd={meanSquaredError:m6,meanAbsoluteError:m7,meanAbsolutePercentageError:m8,meanSquaredLogarithmicError:function(a,b){return dX(()=>{var c;return iD(eK(c=e_(gj(eH(1,h8(b,lc(),Number.MAX_VALUE))),gj(eH(1,h8(a,lc(),Number.MAX_VALUE)))),c),-1)})},squaredHinge:function(a,b){return dX(()=>{let c=e5(0,e_(1,eK(a,b)));return iD(eK(c,c),-1)})},hinge:function(a,b){return dX(()=>iD(e5(0,e_(1,eK(a,b))),-1))},categoricalHinge:function(a,b){return dX(()=>{let c=fe(eK(a,b),-1),d=ii(eK(e_(1,a),b),-1);return e5(0,eH(1,e_(d,c)))})},logcosh:function(a,b){return dX(()=>{let c=Math.log(2),d=e_(b,a);return iD(e_(eH(d,iv(eK(-2,d))),c),-1)})},categoricalCrossentropy:m9,sparseCategoricalCrossentropy:na,binaryCrossentropy:nb,kullbackLeiblerDivergence:function(a,b){return dX(()=>{let c=h8(a,lc(),1);return fe(eK(a,gj(eJ(c,h8(b,lc(),1)))),-1)})},poisson:function(a,b){return dX(()=>{let c=gj(eH(lc(),b));return iD(e_(b,eK(a,c)),-1)})},cosineProximity:nc};function ne(a){if("string"!=typeof a)return a;{if(a in nd)return nd[a];let b=`Unknown loss ${a}`;throw a.toLowerCase().includes("softmaxcrossentropy")&&(b=`Unknown loss ${a}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new jg(b)}}function nf(a,b){return dX(()=>{let c=eK(.5,iJ(b)),d=eE(f5(b,c),a.dtype);return iD(f7(a,d),-1)})}function ng(a,b){return dX(()=>eE(f7(h$(a,-1),h$(b,-1)),"float32"))}function nh(a,b){return dX(()=>eE(fe(fA(f7(a,1),f7(b,1))),"float32"))}function ni(a,b){return dX(()=>{let c=nh(a,b),d=eH(c,dX(()=>eE(fe(fA(f7(a,0),f7(b,1))),"float32")));return eE(fC(f5(d,0),eJ(c,d),0),"float32")})}function nj(a,b){return nb(a,b)}function nk(a,b){return a.rank===b.rank&&(a=iW(a,[a.rank-1])),(b=h$(b,-1)).dtype!==a.dtype&&(b=eE(b,a.dtype)),eE(f7(a,b),"float32")}let nl={binaryAccuracy:nf,categoricalAccuracy:ng,precision:ni,categoricalCrossentropy:m9,sparseCategoricalCrossentropy:na,mse:m6,MSE:m6,mae:m7,MAE:m7,mape:m8,MAPE:m8,cosine:nc};function nm(a){if(jl(null!==a,`Unknown LossOrMetricFn ${a}`),"string"==typeof a)return a;{let b;for(let c of Object.keys(nd))if(nd[c]===a){b=c;break}if(void 0!==b)return b;for(let c of Object.keys(nl))if(nl[c]===a){b=c;break}return void 0!==b?b:a.name}}let nn=class{static sgd(a){return new e7(a)}static momentum(a,b,c=!1){return new e8(a,b,c)}static rmsprop(a,b=.9,c=0,d=null,e=!1){return new e9(a,b,c,d,e)}static adam(a=.001,b=.9,c=.999,d=null){return new e0(a,b,c,d)}static adadelta(a=.001,b=.95,c=null){return new eX(a,b,c)}static adamax(a=.002,b=.9,c=.999,d=null,e=0){return new e6(a,b,c,d,e)}static adagrad(a,b=.1){return new eZ(a,b)}};function no(a,b,c=!1){if(null==a||"object"!=typeof a||Object.getPrototypeOf(a)!==Object.prototype||!function a(b){if(null===b)return!0;if("object"==typeof b)if(Object.getPrototypeOf(b)===Object.prototype){for(let c of Object.keys(b))if("string"!=typeof c||!a(b[c]))return!1;return!0}else{if(!Array.isArray(b))return!1;for(let c of b)if(!a(c))return!1;return!0}{let a=typeof b;return"string"===a||"number"===a||"boolean"===a}}(a))throw Error("User-defined metadata is expected to be a JSON object, but is not.");if(c){let c=JSON.stringify(a);c.length>1048576&&console.warn(`User-defined metadata of model "${b}" is too large in size (length=${c.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function np(a,b,c=console.log){let d="";for(let c=0;c<a.length;++c)c>0&&(d=d.slice(0,d.length-1)+" "),d+=a[c],d=d.slice(0,b[c]),d+=" ".repeat(b[c]-d.length);c(d)}function nq(a,b,c){return("inboundNodes"===a||"outputLayers"===a||"inputLayers"===a)&&0===b&&"string"==typeof c}function nr(a,b){if(null===a)return null;if("string"==typeof a)return jq(a);if("number"==typeof a||"boolean"==typeof a)return a;if(a instanceof Array){let c=[],d=a.length;for(let e=0;e<d;++e){let d=a[e];nq(b,e,d)?c.push(d):c.push(nr(d,b))}return c}{let b={};for(let c of Object.keys(a)){let d=a[c];if("name"===c&&"string"==typeof d)b[c]=d;else{let a=jq(c);b[a]=nr(d,a)}}return b}}let ns="4.22.0";class nt extends l_{constructor(a){if(super({}),this.containerNodes=new Set,this.name=a.name,null==this.name){let a=this.getClassName().toLowerCase();this.name=jD(a)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(a.inputs)?this.inputs=a.inputs.slice():this.inputs=[a.inputs],Array.isArray(a.outputs)?this.outputs=a.outputs.slice():this.outputs=[a.outputs],jv(this.inputs).length!==this.inputs.length)throw new jg(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(a=>a.name)}`);for(let a of(jv(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(a=>a.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[],this.outputs)){let b=a.sourceLayer,c=a.nodeIndex,d=a.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(c),this.outputLayersTensorIndices.push(d)}for(let a of this.inputs){let b=a.sourceLayer,c=a.nodeIndex,d=a.tensorIndex;jl(0===c,"input layer has >1 nodes"),jl(0===d,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(c),this.inputLayersTensorIndices.push(d)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){let c=this.inputLayers[b];if(!(c instanceof l0))throw TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${a.inputs}. Input ${b} (0-based) originates from layer type ${c.getClassName()}.`);this.inputNames.push(c.name),this.feedInputShapes.push(c.batchInputShape),this.feedInputNames.push(c.name)}for(let a of this.outputLayers)this.outputNames.push(a.name);this.internalInputShapes=this.inputs.map(a=>a.shape),this.internalOutputShapes=this.outputs.map(a=>a.shape);let b={},c={},d={},e={},f={},g=[],h=(a,b,c,d,e,i)=>{(null==d||null==e||null==i)&&(d=a.sourceLayer,e=a.nodeIndex,i=a.tensorIndex);let j=d.inboundNodes[e];if(-1!==c.indexOf(j))throw new jf(`The tensor ${a.name} at layer "${d.name}" is part of a cycle.`);if(-1!==b.indexOf(j))return;this.containerNodes.add(nt.nodeKey(d,e)),d.id in f||(f[d.id]=Object.keys(f).length),-1===c.indexOf(j)&&c.push(j);let k=j.inboundLayers.length;for(let a=0;a<k;a++){let d=j.inputTensors[a],e=j.inboundLayers[a];h(d,b,c,e,j.nodeIndices[a],j.tensorIndices[a])}for(b.push(j);c.indexOf(j)>=0;)c.splice(c.indexOf(j),1);g.push(j)},i=[],j=[];for(let a of this.outputs)h(a,i,j);for(let a of g.slice().reverse()){c[a.id]=a,a.id in b||(b[a.id]=0);let f=b[a.id];f=Math.max(f,null==d[a.outboundLayer.id]?0:d[a.outboundLayer.id]),d[a.outboundLayer.id]=f,e[a.outboundLayer.id]=a.outboundLayer,b[a.id]=f;for(let d=0;d<a.inboundLayers.length;d++){let e=a.inboundLayers[d],g=a.nodeIndices[d],h=e.inboundNodes[g],i=null==b[h.id]?0:b[h.id];b[h.id]=Math.max(f+1,i),c[h.id]=h}}let k={};for(let a in b){let d=b[a];d in k||(k[d]=[]),k[d].push(c[a])}let l={};for(let a in d){let b=d[a];b in l||(l[b]=[]),l[b].push(e[a])}let m=Object.keys(l).map(a=>parseInt(a,10)).sort(ju);for(let a of(this.layers=[],m)){let b=l[a];for(let a of(b.sort((a,b)=>{let c=f[a.id],d=f[b.id];return c<d?-1:+(c>d)}),b))a instanceof nt&&this.internalContainerRefs.push(a),this.layers.push(a)}this.layersByDepth=l,m=Object.keys(k).map(a=>parseInt(a,10)).sort(ju);let n=this.inputs.slice(),o=[];for(let a of m)for(let b of k[a]){let a=b.outboundLayer;if(null!=a){for(let c of b.inputTensors)if(-1===n.indexOf(c))throw new jf(`Graph disconnected: cannot obtain value for tensor ${c} at layer "${a.name}". The following previous layers were accessed without issue: ${o}`);for(let a of b.outputTensors)n.push(a);o.push(a.name)}}this.nodesByDepth=k;let p=this.layers.map(a=>a.name);for(let a of p){let b=p.filter(b=>b===a).length;if(1!==b)throw new jf(`The name "${a}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(p))}this.outboundNodes=[],this.inboundNodes=[],new lZ({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(a=>null),outputMasks:this.outputs.map(a=>null),inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs.map(a=>a.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();let a={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(let b of this.layers)a.numDisposedVariables+=b.dispose().numDisposedVariables;for(let b of this.internalContainerRefs)a.numDisposedVariables+=b.dispose().numDisposedVariables}return a.refCountAfterDispose=this._refCount,a}get trainable(){return this.trainable_}set trainable(a){this.layers.forEach(b=>{b._trainableWeights.forEach(b=>b.trainable=a)}),this.trainable_=a}get trainableWeights(){if(this._trainableWeights.length>0)throw new jg("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let a=[];for(let b of this.layers)a=a.concat(b.trainableWeights);return a}get nonTrainableWeights(){let a=[];for(let b of this.layers)a.push(...b.nonTrainableWeights);if(!this.trainable){let b=[];for(let a of this.layers)b.push(...a.trainableWeights);return b.concat(a)}return a}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(a,b=!0){let c={},d=0,e=(a=>{let b=Object.keys(a);if(0===b.length)return!1;let c=b[0].split("/");return!isNaN(parseInt(c[c.length-1],10))})(a);for(let b of(e&&this.parseWeights(a),this.layers))for(let[a,f]of b.weights.entries()){let b=e?`${f.name.split("/").slice(0,-1).join("/")+"/"}${a}`:f.originalName;if(null!=c[b])throw new jg(`Duplicate weight name: ${b}`);c[b]=f,d++}let f=[];for(let d in a){let e=d;if(null==c[d]){let a=d.split("/");e=a.slice(0,-2).concat([a[a.length-1]]).join("/")}if(null!=c[e])f.push([c[e],a[d]]);else if(b)throw new jg(`Provided weight data has no target variable: ${d}`);delete c[e]}if(b){let a=[];for(let b in c)a.push(b);if(a.length>0)throw new jg(`${a.length} of ${d} weights are not set: ${a}`)}lV(f)}parseWeights(a){for(let b in Object.keys(a)){let c=b.split("/"),d=["vars","layer_checkpoint_dependencies"],e=c.map(a=>a.startsWith("_")?a.slice(1):a).filter(a=>!d.includes(a)).join("/");e!==b&&(a[e]=a[b],delete a[b])}}updatedConfig(){let a=this.getConfig(),b={};return b.className=this.getClassName(),b.config=a,b.kerasVersion=`tfjs-layers ${ns}`,b.backend="TensorFlow.js",b}toJSON(a,b=!0){let c=function a(b,c){if(null==b)return null;if("string"==typeof b)return jp(b);if("number"==typeof b||"boolean"==typeof b)return b;if(b instanceof Array){let d=[],e=b.length;for(let f=0;f<e;++f){let e=b[f];nq(c,f,e)?d.push(e):d.push(a(e,c))}return d}{let c={};for(let d of Object.keys(b)){let e=b[d],f=jp(d);("name"===d||"className"===d)&&"string"==typeof e?c[f]=e:c[f]=a(e,d)}return c}}(this.updatedConfig());return b?JSON.stringify(c):c}call(a,b){return dX(()=>{a=jo(a);let c=new l2;for(let b=0;b<this.inputs.length;++b)c.add(this.inputs[b],a[b]);return l5(this.outputs,c,b)})}computeMask(a,b){return dX(()=>{let c;return a=jo(a),c=null==b?jk(null,a.length):jo(b),this.runInternalGraph(a,c)[1]})}computeOutputShape(a){let b=lN(a);if(b.length!==this.inputLayers.length)throw new jg(`Invalid inputShape argument ${a}: model has ${this.inputLayers.length} tensor inputs.`);let c={};for(let a=0;a<b.length;a++){let d=this.inputLayers[a],e=b[a];c[d.name+"_0_0"]=e}let d=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(ju);if(d.length>1)for(let a of d)for(let b of this.nodesByDepth[a]){let a=b.outboundLayer;if(-1!==this.inputLayers.map(a=>a.id).indexOf(a.id))continue;let d=[];for(let a=0;a<b.inboundLayers.length;a++){let e=b.inboundLayers[a],f=b.nodeIndices[a],g=b.tensorIndices[a],h=c[`${e.name}_${f}_${g}`];d.push(h)}let e=lN(a.computeOutputShape(jn(d))),f=a.inboundNodes.indexOf(b);for(let b=0;b<e.length;b++)c[`${a.name}_${f}_${b}`]=e[b]}let e=[],f=[];for(let a=0;a<this.outputLayers.length;a++){let b=this.outputLayers[a],c=this.outputLayersNodeIndices[a],d=this.outputLayersTensorIndices[a],e=`${b.name}_${c}_${d}`;f.push(e)}for(let a=0;a<f.length;a++){let b=f[a];jl(b in c),e.push(c[b])}return jn(e)}runInternalGraph(a,b){null==b&&(b=jk(null,a.length));let c={};for(let d=0;d<this.inputs.length;++d){let e=this.inputs[d],f=a[d],g=b[d];c[e.id]=[f,g]}for(let a of Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(ju))for(let b of this.nodesByDepth[a]){let a=b.outboundLayer,d=b.inputTensors,e=b.outputTensors,f=[];for(let a of d)a.id in c&&f.push(c[a.id]);if(f.length===d.length){let d,g,h,i,j={};if(null!=b.callArgs&&(j=b.callArgs),1===f.length){let[b,c]=f[0];null==j.mask&&(j.mask=c),h=jo(a.call(b,j)),i=jo(a.computeMask(b,c)),d=[b],g=[c]}else d=f.map(a=>a[0]),g=f.map(a=>a[1]),null==j.mask&&(j.mask=g),h=jo(a.call(d,j)),i=jo(a.computeMask(d,g));if(a.activityRegularizer)throw new jh("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let a=0;a<e.length;++a){let b=e[a],d=h[a],f=i[a];c[b.id]=[d,f]}}}let d=[],e=[],f=[];for(let a of this.outputs){jl(a.id in c,`Could not compute output ${a.name} : ${a.id}`);let[b,g]=c[a.id];f.push(b.shape),d.push(b),e.push(g)}return[d,e,f]}buildNodeConversionMap(a){let b,c={};for(let a of this.layers){b=+(a instanceof nt);for(let d=0;d<a.inboundNodes.length;d++){let e=nt.nodeKey(a,d);this.containerNodes.has(e)&&(c[e]=b,b+=1)}}return c}getLayer(a,b){if(null!=b)return this.findLayer(b);if(null==a)throw new jg("Provide either a layer name or layer index");if("number"==typeof a)return this.findLayer(a);for(let b of this.layers)if(b.name===a)return b;throw new jg(`No such layer: ${a}`)}findLayer(a){if(!(this.layers.length<=a))return this.layers[a];throw new jg(`Was asked to retrieve layer at index ${a}, but model only has ${this.layers.length} layer(s).`)}calculateLosses(){return dX(()=>{let a=[];for(let b of this.layers)for(let c=0;c<b.inboundNodes.length;++c){let d=nt.nodeKey(b,c);this.containerNodes.has(d)&&a.push(...b.calculateLosses())}return a})}getConfig(){let a={name:this.name},b=this.buildNodeConversionMap(this.layers),c=[];for(let a of this.layers){let d=a.getClassName(),e=a.getConfig(),f=[];for(let c=0;c<a.inboundNodes.length;c++){let d=a.inboundNodes[c],e=nt.nodeKey(a,c),g={};if(this.containerNodes.has(e)){if(d.callArgs)try{JSON.stringify(d.callArgs),g=d.callArgs}catch(b){console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),g={}}if(d.inboundLayers.length>0){let a=[];for(let c=0;c<d.inboundLayers.length;c++){let e=d.inboundLayers[c],f=d.nodeIndices[c],h=d.tensorIndices[c],i=b[nt.nodeKey(e,f)];null==i&&(i=0),a.push([e.name,i,h,g])}f.push(a)}}}let g={};g.name=a.name,g.className=d,g.config=e,g.inboundNodes=f,c.push(g)}a.layers=c;let d=[];for(let a=0;a<this.inputLayers.length;a++){let c=this.inputLayers[a],e=this.inputLayersNodeIndices[a],f=nt.nodeKey(c,e);if(!this.containerNodes.has(f))continue;let g=b[f];null==g&&(g=0);let h=this.inputLayersTensorIndices[a];d.push([c.name,g,h])}a.inputLayers=d;let e=[];for(let a=0;a<this.outputLayers.length;a++){let c=this.outputLayers[a],d=this.outputLayersNodeIndices[a],f=nt.nodeKey(c,d);if(!this.containerNodes.has(f))continue;let g=b[f];null==g&&(g=0);let h=this.outputLayersTensorIndices[a];e.push([c.name,g,h])}return a.outputLayers=e,a}static fromConfig(a,b,c={},d=!1){let e={},f={};function g(a,b){a.name in f?f[a.name].push(b):f[a.name]=[b]}let h=b.name,i=b.layers;for(let a of i){let c=a.name,f=m4(a,null!=b.customObjects?b.customObjects:{});f.setFastWeightInitDuringBuild(d),e[c]=f,a.inboundNodes.forEach(a=>{if(!(a instanceof Array))throw new jg(`Corrupted configuration, expected array for nodeData: ${a}`);g(f,a)})}for(;!function(a){if(null==a)throw new jg(`Invalid value in obj: ${JSON.stringify(a)}`);for(let b in a)if(a.hasOwnProperty(b))return!1;return!0}(f);)for(let a of i){let b=e[a.name];if(b.name in f){let a=f[b.name];for(let c of(delete f[b.name],a))!function(a,b){let c,d=[];for(let f of b){let h=f[0],i=f[1],j=f[2];if(c=null==f[3]?{}:f[3],!(h in e))return void g(a,b);let k=e[h];if(k.inboundNodes.length<=i)return void g(a,b);let l=k.inboundNodes[i];d.push(l.outputTensors[j])}d.length>0&&a.apply(jn(d),c)}(b,c)}}let j=[],k=[];for(let a of b.inputLayers){let b=a[0],c=a[1],d=a[2];jl(b in e);let f=e[b].inboundNodes[c].outputTensors;j.push(f[d])}for(let a of b.outputLayers){let b=a[0],c=a[1],d=a[2];jl(b in e);let f=e[b].inboundNodes[c].outputTensors;k.push(f[d])}return new a({inputs:j,outputs:k,name:h})}get stateful(){if(this._stateful)throw new jg("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(let a of this.layers)if(a.stateful)return!0;return!1}resetStates(){dX(()=>{this.layers.forEach(a=>{a.stateful&&a.resetStates()})})}}var jd=jd;function nu(a,b){var c="classWeight";let d=b.length;if(null==a||Array.isArray(a)&&0===a.length)return b.map(a=>null);if(1===d)if(Array.isArray(a)&&1===a.length)return a;else if("object"==typeof a&&b[0]in a)return[a[b[0]]];else return[a];if(Array.isArray(a)){if(a.length!==d)throw Error(`Provided ${c} is an array of ${a.length} element(s), but the model has ${d} outputs. Make sure a set of weights is provided for each model output.`);return a}if("object"==typeof a&&Object.keys(a).length>0&&"object"==typeof a[Object.keys(a)[0]]){let c=[];return b.forEach(b=>{b in a?c.push(a[b]):c.push(null)}),c}throw Error(`The model has multiple (${d}) outputs, so ${c} must be either an array with ${d} elements or an object with ${b} keys. Provided ${c} not understood: ${JSON.stringify(a)}`)}async function nv(a,b,c,d){if(null!=b||null!=d)throw Error("Support sampleWeight is not implemented yet");if(null==c)return null;{let b=dX(()=>{if(1===a.shape.length)return eF(a);if(2===a.shape.length)if(a.shape[1]>1)return h$(a,1);else if(1===a.shape[1])return fd(a,[a.shape[0]]);else throw Error(`Encountered unexpected last-dimension size (${a.shape[1]}) during handling of class weights. The size is expected to be >= 1.`);throw Error(`Unexpected rank of target (y) tensor (${a.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),d=Array.from(await b.data());dY(b);let e=[];return d.forEach(a=>{if(null==c[a])throw Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);e.push(c[a])}),jY(e,"float32")}}function nw(a,b){let c,d;c=b.xs,d=b.ys,jd.assert(null!=c&&null!=d,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${b}`);let e=nx("input",a.inputNames,c),f=nx("output",a.outputNames,d),g=e[0].shape[0];jd.assert(e.length===a.inputs.length,()=>`LayersModel has ${a.inputs.length} inputs, but the dataset provides ${e.length} inputs.  (Expected input keys: ${JSON.stringify(a.inputNames)})`),jd.assert(f.length===a.outputs.length,()=>`LayersModel has ${a.outputs.length} outputs, but the dataset provides ${f.length} outputs.  (Expected output keys: ${JSON.stringify(a.outputNames)})`);for(let b=0;b<e.length;b++)jd.assert(e[b].shape[0]===g,()=>`Batch size mismatch: input ${a.inputNames[b]} has ${e[b].shape[0]}; expected  ${g} based on input ${a.inputNames[0]}.`);for(let b=0;b<f.length;b++)jd.assert(f[b].shape[0]===g,()=>`Batch size mismatch: output ${a.outputNames[b]} has ${f[b].shape[0]}; expected  ${g} based on input ${a.inputNames[0]}.`);return{xs:e,ys:f}}function nx(a,b,c){if(c instanceof dp)return[c];if(Array.isArray(c))return jd.assert(c.length===b.length,()=>`Received an array of ${c.length} Tensors, but expected ${b.length} to match the ${a} keys ${b}.`),c;{let d=[];for(let e of b){if(null==c[e])throw new jg(`The feature data generated by the dataset lacks the required ${a} key '${e}'.`);d.push(c[e])}return d}}async function ny(a,b,c){let d=null!=c.batchesPerEpoch;if(jd.assert(null!=a.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),jd.assert(null!=c,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),jd.assert(null!=c.epochs&&c.epochs>0&&Number.isInteger(c.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${c.epochs}`),jd.assert(!d||c.batchesPerEpoch>0&&Number.isInteger(c.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${c.batchesPerEpoch}`),jd.assert(null==c.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),a.isTraining)throw Error("Cannot start training because another fit() call is ongoing.");a.isTraining=!0;try{var e,f;let g,h,i,j,k=null!=c.validationData;if(k)if(nz(c.validationData))jd.assert(null==c.validationBatches||c.validationBatches>0&&Number.isInteger(c.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${c.validationBatches}`);else{let a=function(a){if(3===a.length)throw new jh("Validation with sample weights is not implemented yet.");return{xs:a[0],ys:a[1]}}(c.validationData);g=a.xs,h=a.ys}let l=a.makeTrainFunction(),m=a.getDedupedMetricsNames();i=k?m.slice().concat(m.map(a=>"val_"+a)):m.slice();let n=mI(c.callbacks,c.yieldEvery),o=null==c.verbose?1:c.verbose,{callbackList:p,history:q}=mK(n,o,c.epochs,null,null,(e=b,f=c,j=null,null!=f.batchesPerEpoch?j=f.batchesPerEpoch:Number.isFinite(e.size)&&(j=e.size),j),null,k,i);p.setModel(a),a.history=q,await p.onTrainBegin(),a.stopTraining_=!1;let r=null==c.initialEpoch?0:c.initialEpoch,s=await b.iterator();for(;r<c.epochs;){let e={};await p.onEpochBegin(r);let f=0,i=0;for(d||(s=await b.iterator());!d||f<c.batchesPerEpoch;){let b=await s.next();if(d&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${c.batchesPerEpoch}, but your dataset iterator ran out of data after ${f} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${c.batchesPerEpoch*c.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=b.value){let{xs:d,ys:e}=nw(a,b.value),g={};g.batch=i,g.size=d[0].shape[0],await p.onBatchBegin(i,g);let h=[];if(null!=c.classWeight){let b=nu(c.classWeight,a.outputNames);for(let a=0;a<b.length;++a)h.push(await nv(e[a],null,b[a]))}let j=d.concat(e).concat(h),k=l(j);dY(j);for(let a=0;a<m.length;++a){let b=m[a],c=k[a];g[b]=c,dZ(c)}await p.onBatchEnd(i,g),mC(g),i++,f++}if(d?f>=c.batchesPerEpoch:b.done){if(k){let b;b=nz(c.validationData)?jo(await a.evaluateDataset(c.validationData,{batches:c.validationBatches})):jo(a.evaluate(g,h,{batchSize:null==c.validationBatchSize?32:c.validationBatchSize,verbose:0}));for(let c=0;c<a.metricsNames.length;++c)e[`val_${a.metricsNames[c]}`]=b[c]}break}if(a.stopTraining_)break}if(await p.onEpochEnd(r,e),r++,a.stopTraining_)break}return await p.onTrainEnd(),await a.history.syncData(),a.history}finally{a.isTraining=!1}}function nz(a){return"function"==typeof a.iterator}async function nA(a,b,c){let d=null!=(c=c||{}).batches,e=a.testFunction,f=[];if(c.verbose>0)throw new jh("Verbose mode is not implemented yet.");jd.assert(!d||c.batches>0&&Number.isInteger(c.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(c.batches)}`);let g="function"==typeof b.next?b:await b.iterator(),h=0,i=0;for(;!d||i<c.batches;){let b=await g.next();if(f=dX(()=>{if(b.value){let{xs:c,ys:d}=nw(a,b.value),g=c.concat(d),j=dX(()=>e(g));if(dY(g),0===i)for(let a=0;a<j.length;++a)f.push(eP(0));let k=g[0].shape[0];for(let a=0;a<j.length;++a){let b=j[a],c=f[a];f[a]=dX(()=>eH(f[a],eK(k,b))),i>0&&dY(c)}dY(j),h+=k,++i}return f}),b.done){d&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${c.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let a=0;a<f.length;++a){let b=f[a];f[a]=eJ(f[a],h),dY(b)}return jn(f)}var jd=jd;function nB(a){jd.assert(a>0&&Number.isInteger(a),()=>`batchSize is required to be a positive integer, but got ${a}`)}function nC(a,b,c){return null==a?[null]:Array.isArray(a)?a.map(a=>lf(a,b,c-b)):lf(a,b,c-b)}function nD(a,b){return dX(()=>null==a?null:Array.isArray(a)?a.map(a=>nD(a,b)):ln(a,"int32"===b.dtype?b:eE(b,"int32")))}function nE(a,b){let c=[],d=0,e=null;for(;d<a;)(e=d+b)>=a&&(e=a),c.push([d,e]),d=e;return c}function nF(a){let b=[];a instanceof dp&&(a=[a]);for(let c=0;c<a.length;++c){let d=a[c];if(1===d.rank)b.push(le(d,1));else if(0===d.rank)throw Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");else b.push(d)}return b}function nG(a,b){if(null==a)return;let c=[];if(b instanceof dp)c.push(b.id);else if(Array.isArray(b))b.forEach(a=>c.push(a.id));else if(null!=b)for(let a in b){let d=b[a];c.push(d.id)}let d=[];if(a instanceof dp)-1===c.indexOf(a.id)&&d.push(a);else if(Array.isArray(a))a.forEach(a=>{-1===c.indexOf(a.id)&&d.push(a)});else if(null!=a)for(let b in a){let e=a[b];-1===c.indexOf(e.id)&&d.push(e)}d.forEach(a=>{a.isDisposed||a.dispose()})}function nH(a){return Array.isArray(a)}function nI(a){return!(a instanceof dp)&&!nH(a)}function nJ(a,b,c,d=!0,e=""){let f;if(null==b||0===b.length){if(null!=a){let b=!1;if(nH(a)&&a.length>0)b=!0;else if(nI(a)){for(let c in a)if(a.hasOwnProperty(c)){b=!0;break}}else b=!0;if(b)throw new jg(`Error when checking model ${e} expected no data, but got ${a}`)}return[]}if(null==a)return b.map(a=>null);if(nI(a))for(let c of(f=[],b)){if(null==a[c])throw new jg(`No data provided for "${c}". Need data for each key in: ${b}`);f.push(a[c])}else if(nH(a)){if(a.length!==b.length)throw new jg(`Error when checking model ${e}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${b.length} Tensor(s), but instead got the following list of Tensor(s): ${a}`);f=a}else{if(b.length>1)throw new jg(`The model ${e} expects ${b.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${a.shape}`);f=[a]}if(f=nF(f),null!=c)for(let a=0;a<b.length;++a){if(null==c[a])continue;let g=f[a];if(g.shape.length!==c[a].length)throw new jg(`Error when checking ${e}: expected ${b[a]} to have ${c[a].length} dimension(s). but got array with shape ${g.shape}`);for(let b=0;b<c[a].length;++b){if(0===b&&!d)continue;let f=g.shape[b],h=c[a][b];if(null!=h&&h>=0&&f!==h)throw new jg(`${e} expected a batch of elements where each example has shape [${c[a].slice(1,c[a].length)}] (i.e.,tensor shape [*,${c[a].slice(1,c[a].length)}]) but the ${e} received an input with ${g.shape[0]} examples, each with shape [${g.shape.slice(1,g.shape.length)}] (tensor shape [${g.shape}])`)}}return f}function nK(a,b,c,d=!0,e=""){let f;if(Array.isArray(a)){if(a.length!==b.length)throw new jg(`Error when checking model ${e}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${b.length} Tensor(s), but instead got ${a.length} Tensors(s).`);f=a}else{if(b.length>1)throw new jg(`The model expects ${b.length} ${e} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(a.shape)}.`);f=[a]}if(null!=c)for(let a=0;a<b.length;++a){if(null==c[a])continue;let g=f[a];if(g.shape.length!==c[a].length)throw new jg(`Error when checking ${e}: expected ${b[a]} to have ${c[a].length} dimension(s), but got array with shape ${JSON.stringify(g.shape)}`);for(let f=0;f<c[a].length;++f){if(0===f&&!d)continue;let h=g.shape[f],i=c[a][f];if(null!=i&&i!==h)throw new jg(`Error when checking ${e}: expected ${b[a]} to have shape ${JSON.stringify(c[a])} but got array with shape ${JSON.stringify(g.shape)}.`)}}}class nL extends nt{constructor(a){super(a),this.isTraining=!1}summary(a,b,c=console.log){if(!this.built)throw new jg("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function(a,b,c,d=console.log){var e;let f,g=function(a){let b=!0,c=[],d=[];for(let b in a.nodesByDepth)c.push(a.nodesByDepth[b]);for(let a of c){if(a.length>1||1===a.length&&a[0].inboundLayers.length>1){b=!1;break}d.push(...a)}if(b)for(let c of a.layers){let a=!1;for(let e of c.inboundNodes)if(-1!==d.indexOf(e))if(a){b=!1;break}else a=!0;if(!b)break}return b}(a),h=["Layer (type)","Input Shape","Output shape","Param #"];if(g?(b=b||90,c=c||[.32,.61,.89,1]):(b=b||115,c=c||[.24,.48,.7,.8,1]),c[c.length-1]<=1&&(c=c.map(a=>Math.floor(b*a))),!g)for(let b in h.push("Receives inputs"),f=[],a.nodesByDepth)f.push(...a.nodesByDepth[b]);d("_".repeat(b)),np(h,c,d),d("=".repeat(b));let i=a.layers;for(let a=0;a<i.length;++a)g?function(a,b,c){let d,e;try{e=a.inboundNodes.map(a=>JSON.stringify(a.inputShapes)).join(",")}catch(a){e="multiple"}try{d=JSON.stringify(a.outputShape)}catch(a){d="multiple"}let f=a.name,g=a.getClassName();np([`${f} (${g})`,e,d,a.countParams().toString()],b,c)}(i[a],c,d):function(a,b,c,d){let e,f;try{f=a.inboundNodes.map(a=>JSON.stringify(a.inputShapes)).join(",")}catch(a){f="multiple"}try{e=JSON.stringify(a.outputShape)}catch(a){e="multiple"}let g=[];for(let b of a.inboundNodes)if(null==c||!(c.length>0)||-1!==c.indexOf(b))for(let a=0;a<b.inboundLayers.length;++a){let c=b.inboundLayers[a].name,d=b.nodeIndices[a],e=b.tensorIndices[a];g.push(`${c}[${d}][${e}]`)}let h=a.name,i=a.getClassName(),j=0===g.length?"":g[0];np([`${h} (${i})`,f,e,a.countParams().toString(),j],b,d);for(let a=1;a<g.length;++a)np(["","","","",g[a]],b,d)}(i[a],c,f,d),d((a===i.length-1?"=":"_").repeat(b));a.checkTrainableWeightsConsistency();let j=null!=(e=a).collectedTrainableWeights?lQ(e.collectedTrainableWeights):lQ(e.trainableWeights),k=lQ(a.nonTrainableWeights);d(`Total params: ${j+k}`),d(`Trainable params: ${j}`),d(`Non-trainable params: ${k}`),d("_".repeat(b))}(this,a,b,c)}compile(a){if(null==a.loss&&(a.loss=[]),this.loss=a.loss,"string"==typeof a.optimizer)this.optimizer_=function(a){let b={Adagrad:()=>nn.adagrad(.01),Adadelta:()=>nn.adadelta(1,.95,lc()),Adam:()=>nn.adam(.001,.9,.999,lc()),Adamax:()=>nn.adamax(.002,.9,.999,lc(),0),RMSProp:()=>nn.rmsprop(.001,.9,0,lc()),SGD:()=>nn.sgd(.01)};if(b.adagrad=b.Adagrad,b.adadelta=b.Adadelta,b.adam=b.Adam,b.adamax=b.Adamax,b.rmsprop=b.RMSProp,b.sgd=b.SGD,a in b)return b[a]();throw new jg(`Unknown Optimizer ${a}`)}(a.optimizer),this.isOptimizerOwned=!0;else{if(!(a.optimizer instanceof eW))throw new jg("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=a.optimizer,this.isOptimizerOwned=!1}let b=[];if(Array.isArray(a.loss)||"string"==typeof a.loss||"function"==typeof a.loss)if(Array.isArray(a.loss)){if(a.loss.length!==this.outputs.length)throw new jg(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${a.loss}.`);b=a.loss.map(a=>ne(a))}else{let c=ne(a.loss);this.outputs.forEach(a=>{b.push(c)})}else{for(let b in a.loss=a.loss,a.loss)if(-1===this.outputNames.indexOf(b))throw new jg(`Unknown entry in loss dictionary: "${b}". Only expected the following keys: ${this.outputNames}`);for(let c of this.outputNames)null==a.loss[c]&&console.warn(`Output "${c}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${c} during training`),b.push(ne(a.loss[c]))}this.lossFunctions=b,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){let b=this.internalOutputShapes[a],c=this.outputNames[a];this.feedOutputNames.push(c),this.feedOutputShapes.push(b),this.feedLossFns.push(this.lossFunctions[a])}let c=[];this.metrics=a.metrics,this.metricsNames=["loss"],this.metricsTensors=[],jO("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(-1!==c.indexOf(a))continue;let b=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([b,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});let d=function(a,b){let c;if(null==a||Array.isArray(a)&&0===a.length)return b.map(a=>[]);if("string"==typeof a||"function"==typeof a)c=[a];else if(Array.isArray(a)||"object"==typeof a)c=a;else throw TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${a}`);if(Array.isArray(c))return b.map(a=>c);{let a=[];for(let d of b){let b=c.hasOwnProperty(d)?c[d]:[];Array.isArray(b)||(b=[b]),a.push(b)}return a}}(a.metrics,this.outputNames),e=(a,b,c)=>{this.outputNames.length>1&&(b=this.outputNames[a]+"_"+b),this.metricsNames.push(b),this.metricsTensors.push([c,a])};jO("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(-1===c.indexOf(a))(b=>{let c,d,f;for(let g of b){let b;if("string"==typeof g&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(g)){let b,e=this.internalOutputShapes[a];1===e[e.length-1]||this.lossFunctions[a]===nb?-1!==["accuracy","acc"].indexOf(g)?d=nf:-1!==["crossentropy","ce"].indexOf(g)&&(d=nj):this.lossFunctions[a]===na?-1!==["accuracy","acc"].indexOf(g)?d=nk:-1!==["crossentropy","ce"].indexOf(g)&&(d=na):-1!==["accuracy","acc"].indexOf(g)?d=ng:-1!==["crossentropy","ce"].indexOf(g)&&(d=m9),-1!==["accuracy","acc"].indexOf(g)?b="acc":-1!==["crossentropy","ce"].indexOf(g)&&(b="ce"),f=d,c=""+b}else f=function(a){if("string"==typeof a&&a in nl)return nl[a];if("string"!=typeof a&&null!=a)return a;throw new jg(`Unknown metric ${a}`)}(g),c=""+nm(g);jO(c,()=>{b=f}),e(a,c,b)}})(d[a])}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(a,b,c={}){let d=null==c.batchSize?32:c.batchSize;nB(d);let e=this.standardizeUserDataXY(a,b,!0,d);try{let a=e[0].concat(e[1]);this.makeTestFunction();let b=this.testFunction,f=this.testLoop(b,a,d,c.verbose,c.steps);return jn(f)}finally{nG(e[0],a),nG(e[1],b)}}async evaluateDataset(a,b){return this.makeTestFunction(),nA(this,a,b)}checkNumSamples(a,b,c,d="steps"){let e;if(null!=c){if(e=null,null!=b)throw new jg(`If ${d} is set, batchSize must be null or undefined.Got batchSize = ${b}`)}else if(null!=a)e=Array.isArray(a)?a[0].shape[0]:a.shape[0];else throw new jg(`Either the input data should have a defined shape, or ${d} shoud be specified.`);return e}execute(a,b){if(Array.isArray(b)&&0===b.length)throw new jg("`outputs` is an empty Array, which is not allowed.");let c=Array.isArray(b),d=c?b:[b],e=this.retrieveSymbolicTensors(d),f=new l2;if(a instanceof dp&&(a=[a]),Array.isArray(a)){if(a.length!==this.inputs.length)throw new jg(`The number of inputs provided (${a.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let b=0;b<this.inputs.length;++b)f.add(this.inputs[b],a[b])}else for(let b of this.inputs){let c=a[b.name];if(null==c)throw new jg(`No value is provided for the model's input ${b.name}`);f.add(b,c)}let g=l5(e,f);return c?g:g[0]}retrieveSymbolicTensors(a){let b=jk(null,a.length),c=a.length;for(let d of this.layers){let e=Array.isArray(d.output)?d.output:[d.output],f=e.map(a=>a.name);for(let d=0;d<a.length;++d){let g=f.indexOf(a[d]);if(-1!==g&&(b[d]=e[g],c--),0===c)break}if(0===c)break}if(c>0){let c=[];throw b.forEach((b,d)=>{null==b&&c.push(a[d])}),new jg(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(c)}`)}return b}predictLoop(a,b=32,c=!1){return dX(()=>{let d=this.checkNumSamples(a);if(c)throw new jh("Verbose predictLoop() is not implemented yet.");let e=nE(d,b),f=this.outputs.map(a=>[]);for(let b=0;b<e.length;++b)dX(()=>{let c=nC(a,e[b][0],e[b][1]),d=[];if(Array.isArray(c))for(let a=0;a<c.length;++a)d.push({key:this.inputs[a],value:c[a]});else d.push({key:this.inputs[0],value:c});let f=new l2(d);return l5(this.outputs,f)}).forEach((a,b)=>f[b].push(a));return jn(f.map(a=>hS(a,0)))})}predict(a,b={}){let c=nF(a);nK(c,this.inputNames,this.feedInputShapes,!1);try{let a=null==b.batchSize?32:b.batchSize;return nB(a),this.predictLoop(c,a)}finally{nG(c,a)}}predictOnBatch(a){nK(a,this.inputNames,this.feedInputShapes,!0);let b=(Array.isArray(a)?a[0]:a).shape[0];return this.predictLoop(a,b)}standardizeUserDataXY(a,b,c=!0,d){if(null==this.optimizer_)throw new jf("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");let e=[];for(let a=0;a<this.feedOutputShapes.length;++a){let b=this.feedOutputShapes[a];this.feedLossFns[a]===na?e.push(b.slice(0,b.length-1).concat([1])):e.push(b)}a=nJ(a,this.feedInputNames,this.feedInputShapes,!1,"input"),b=nJ(b,this.feedOutputNames,e,!1,"target");var f=a,g=b;let h=jv(f.map(a=>a.shape[0]));h.sort();let i=jv(g.map(a=>a.shape[0]));if(i.sort(),h.length>1)throw new jg(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(f.map(a=>a.shape))}`);if(i.length>1)throw new jg(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(g.map(a=>a.shape))}`);if(h.length>0&&i.length>0&&!jd.arraysEqual(h,i))throw new jg(`Input Tensors should have the same number of samples as target Tensors. Found ${h[0]} input sample(s) and ${i[0]} target sample(s).`);if(!function(a,b,c){let d=[m6,nb,m9];for(let e=0;e<a.length;++e){let f=a[e],g=b[e],h=c[e];if(null!=g){if(g===m9&&1===f.shape[f.shape.length-1])throw new jg(`You are passing a target array of shape ${f.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==d.indexOf(g)){let a=f.shape.slice(1),b=h.slice(1);for(let c=0;c<a.length;++c){let d=a[c],e=b[c];if(null!=e&&d!==e)throw new jg(`A target Tensor with shape ${f.shape} was passed for an output of shape ${h}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(b,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=d&&d>0&&a[0].shape[0]%d!=0)throw new jg(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${d}. Found: ${a[0].shape[0]} sample(s).`);return[a,b]}async standardizeUserData(a,b,c,d,e=!0,f){let[g,h]=this.standardizeUserDataXY(a,b,e,f);if(null!=c)throw Error("sample weight is not supported yet.");let i=null;if(null!=d){let a=nu(d,this.outputNames);i=[];for(let b=0;b<a.length;++b)i.push(await nv(h[b],null,a[b]))}return[g,h,i]}testLoop(a,b,c,d=0,e){return dX(()=>{let f=this.checkNumSamples(b,c,e,"steps"),g=[];if(d>0)throw new jh("Verbose mode is not implemented yet.");if(null!=e)throw new jh("steps mode in testLoop() is not implemented yet");{let d=nE(f,c),e=jY(lb(0,f));for(let c=0;c<d.length;++c){let f=d[c][0],h=d[c][1],i=a(nD(b,lf(e,f,h-f)));if(0===c)for(let a=0;a<i.length;++a)g.push(eP(0));for(let a=0;a<i.length;++a){let b=i[a];g[a]=eH(g[a],eK(h-f,b))}}for(let a=0;a<g.length;++a)g[a]=eJ(g[a],f)}return g})}getDedupedMetricsNames(){let a=this.metricsNames,b=[];for(let c=0;c<a.length;++c){let d=a[c],e=d;if(jm(a,d)>1){let b=jm(a.slice(0,c),d);e+=`_${b}`}b.push(e)}return b}makeTrainFunction(){return a=>{let b=[],c=a.slice(0,this.inputs.length),d=a.slice(this.inputs.length,this.inputs.length+this.outputs.length),e=a.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),f=[],g=()=>{let a,g=[];for(let a=0;a<this.inputs.length;++a)g.push({key:this.inputs[a],value:c[a]});let h=new l2(g),i=l5(this.outputs,h,{training:!0});for(let c=0;c<this.lossFunctions.length;++c){let f=(0,this.lossFunctions[c])(d[c],i[c]);null!=e[c]&&(f=eK(f,e[c]));let g=iD(f);b.push(g),a=0===c?f:eH(a,f)}for(let a=0;a<this.metricsTensors.length;++a){let c;if(this.outputs.length>1&&a<this.outputs.length)c=b[a];else{let b=this.metricsTensors[a][0],e=this.metricsTensors[a][1];c=iD(b(d[e],i[e]))}dZ(c),f.push(c)}return a=iD(a),this.calculateLosses().forEach(b=>{a=eH(a,b)}),a},h=this.collectedTrainableWeights.map(a=>a.read());return[this.optimizer_.minimize(g,!0,h)].concat(f)}}makeTestFunction(){this.testFunction=a=>dX(()=>{let b,c=[],d=a.slice(0,this.inputs.length),e=a.slice(this.inputs.length,this.inputs.length+this.outputs.length),f=[];for(let a=0;a<this.inputs.length;++a)f.push({key:this.inputs[a],value:d[a]});let g=new l2(f),h=l5(this.outputs,g);for(let a=0;a<this.lossFunctions.length;++a){let d=iD((0,this.lossFunctions[a])(e[a],h[a]));b=0===a?d:eH(b,d),c.push(b)}for(let a=0;a<this.metricsTensors.length;++a){let b=this.metricsTensors[a][0],d=this.metricsTensors[a][1],f=iD(b(e[d],h[d]));c.push(f)}return c})}async fit(a,b,c={}){let d,e,f,g,h,i,j,k,l;if(this.isTraining)throw Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{let m,n,o,p=null==c.batchSize?32:c.batchSize;nB(p);let q=await this.standardizeUserData(a,b,c.sampleWeight,c.classWeight,!1,p);d=q[0],e=q[1],l=q[2];let r=!1;if(null!=c.validationData&&c.validationData.length>0){if(r=!0,2===c.validationData.length)h=c.validationData[0],i=c.validationData[1];else if(3===c.validationData.length)throw new jh("validationData including sample weights is not supported yet.");else throw new jg(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${c.validationData} is invalid.`);let a=await this.standardizeUserData(h,i,null,null,!0,p);j=a[0],k=a[1],m=j.concat(k)}else if(null!=c.validationSplit&&c.validationSplit>0&&c.validationSplit<1){r=!0;let a=Math.floor(d[0].shape[0]*(1-c.validationSplit)),b=d[0].shape[0];j=nC(d,a,b),f=d,d=nC(d,0,a),k=nC(e,a,b),g=e,e=nC(e,0,a),m=j.concat(k)}else null!=c.validationSteps&&(r=!0);let s=d.concat(e).concat(l);this.checkTrainableWeightsConsistency();let t=this.makeTrainFunction(),u=this.getDedupedMetricsNames();r?(this.makeTestFunction(),n=this.testFunction,o=u.slice().concat(u.map(a=>"val_"+a))):(n=null,m=[],o=u.slice());let v=mI(c.callbacks,c.yieldEvery);return await this.fitLoop(t,s,u,p,c.epochs,c.verbose,v,n,m,c.shuffle,o,c.initialEpoch,null,null)}finally{this.isTraining=!1,nG(d,a),nG(e,b),nG(f,a),nG(g,b),nG(j,h),nG(k,i),null!=l&&dY(l)}}async fitLoop(a,b,c,d,e,f,g,h,i,j,k,l,m,n){let o;null==d&&(d=32),null==e&&(e=1),null==j&&(j=!0),null==l&&(l=0);let p=!1;if(null!=h&&null!=i&&(p=!0),null!=n&&(p=!0,null==m))throw new jg("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");let q=this.checkNumSamples(b,d,m,"steps_per_epoch");null!=q&&(o=lb(0,q)),null==f&&(f=1);let{callbackList:r,history:s}=mK(g,f,e,l,q,m,d,p,k);r.setModel(this),this.history=s,await r.onTrainBegin(),this.stopTraining_=!1;for(let f=l;f<e;++f){await r.onEpochBegin(f);let e={};if(null!=m)throw new jh("stepsPerEpoch mode is not implemented yet.");{if("batch"===j)throw new jh("batch shuffling is not implemneted yet");j&&jd.shuffle(o);let f=jY(o),g=nE(q,d);for(let j=0;j<g.length;++j){let k={};if(await r.onBatchBegin(j,k),dX(()=>{let l=g[j][0],m=g[j][1],n=lf(f,l,m-l);k.batch=j,k.size=m-l;let o=a(nD(b,n));for(let a=0;a<c.length;++a){let b=c[a],d=o[a];k[b]=d,dZ(d)}if(j===g.length-1&&p){let a=this.testLoop(h,i,d);for(let b=0;b<c.length;++b){let d=c[b],f=a[b];dZ(f),e["val_"+d]=f}}}),await r.onBatchEnd(j,k),mC(k),this.stopTraining_)break}f.dispose()}if(await r.onEpochEnd(f,e),this.stopTraining_)break}return await r.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(a,b){return ny(this,a,b)}async trainOnBatch(a,b){let c=await this.standardizeUserData(a,b),d=c[0],e=c[1],f=this.makeTrainFunction()(d.concat(e)),g=[];for(let a of f){let b=await a.data();g.push(b[0])}return dY(f),nG(c[0],a),nG(c[1],b),jn(g)}getNamedWeights(a){let b=[],c=null!=a&&a.trainableOnly,d=c?this.trainableWeights:this.weights,e=this.getWeights(c);for(let a=0;a<d.length;++a)(!c||d[a].trainable)&&b.push({name:d[a].originalName,tensor:e[a]});return b}set stopTraining(a){this.stopTraining_=a}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(a){this.optimizer_!==a&&(this.optimizer_=a,this.isOptimizerOwned=!1)}dispose(){let a=super.dispose();if(0===a.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){let b=dW().numTensors;this.optimizer_.dispose(),a.numDisposedVariables+=b-dW().numTensors}return a}getLossIdentifiers(){let a;if("string"==typeof this.loss)a=jp(this.loss);else if(Array.isArray(this.loss)){for(let a of this.loss)if("string"!=typeof a)throw Error("Serialization of non-string loss is not supported.");a=this.loss.map(a=>jp(a))}else{let b=Object.keys(this.loss);a={};let c=this.loss;for(let d of b)if("string"==typeof c[d])a[d]=jp(c[d]);else throw Error("Serialization of non-string loss is not supported.")}return a}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[jp(nm(this.metrics))];{if(Array.isArray(this.metrics))return this.metrics.map(a=>jp(nm(a)));let a={};for(let b in this.metrics)a[b]=jp(nm(this.metrics[b]));return a}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(a){let b,c;if(null!=a.weighted_metrics)throw Error("Loading weight_metrics is not supported yet.");if(null!=a.loss_weights)throw Error("Loading loss_weights is not supported yet.");if(null!=a.sample_weight_mode)throw Error("Loading sample_weight_mode is not supported yet.");let d=m4(nr(a.optimizer_config));if("string"==typeof a.loss)b=jq(a.loss);else if(Array.isArray(a.loss))b=a.loss.map(a=>jq(a));else if(null!=a.loss)for(let c in b={},a.loss)b[c]=jq(a.loss[c]);if(Array.isArray(a.metrics))c=a.metrics.map(a=>jq(a));else if(null!=a.metrics)for(let b in c={},a.metrics)c[b]=jq(a.metrics[b]);this.compile({loss:b,metrics:c,optimizer:d})}async save(a,b){if("string"==typeof a){let b=m3.getSaveHandlers(a);if(0===b.length)throw new jg(`Cannot find any save handlers for URL '${a}'`);if(b.length>1)throw new jg(`Found more than one (${b.length}) save handlers for URL '${a}'`);a=b[0]}if(null==a.save)throw new jg("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");let c=await m3.encodeWeights(this.getNamedWeights(b)),d={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${ns}`,convertedBy:null};if(null!=b&&b.includeOptimizer&&null!=this.optimizer){d.trainingConfig=this.getTrainingConfig();let{data:a,specs:b}=await m3.encodeWeights(await this.optimizer.getWeights(),"optimizer");c.specs.push(...b),c.data=m3.concatenateArrayBuffers([c.data,a])}return null!=this.userDefinedMetadata&&(no(this.userDefinedMetadata,this.name,!0),d.userDefinedMetadata=this.userDefinedMetadata),d.weightData=c.data,d.weightSpecs=c.specs,a.save(d)}setUserDefinedMetadata(a){no(a,this.name),this.userDefinedMetadata=a}getUserDefinedMetadata(){return this.userDefinedMetadata}}nL.className="Model",jA.registerClass(nL);class nM extends nL{}nM.className="Functional",jA.registerClass(nM);var m3=m3,jA=jA,jd=jd;async function nN(a,b){"modelTopology"in a||(a={modelTopology:a});let c=a.modelTopology;null!=c.model_config&&(c=c.model_config);let d=m4(nr(c),b);if(null!=a.weightsManifest){let b=await m3.loadWeights(a.weightsManifest,a.pathPrefix,d.weights.map(a=>a.originalName)),c={};for(let a of d.weights)c[a.originalName]=b[a.originalName];d.loadWeights(c),dY(b)}return d}class nO extends nL{constructor(a){if(super({inputs:[],outputs:[]}),a=a||{},this.trainable=!0,this.built=!1,this.name=null!=a.name?a.name:jD("sequential_"),null!=a.layers)for(let b of a.layers)this.add(b)}checkShape(a){if(a.inboundNodes[0].outputTensors[0].shape.some(a=>a<0))throw new jg(`Negative dimension size caused by adding layer ${a.name} with input shape [${a.inboundNodes[0].inputTensors[0].shape}]`)}add(a){let b,c=a instanceof nO||a instanceof nL;if(c){if(1!==(b=a).outputs.length)throw new jg("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==b.inputs.length)throw new jg("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===a.inboundNodes.length){if(null==a.batchInputShape)throw new jg("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");let b=l1({batchShape:a.batchInputShape,dtype:a.dtype,name:a.name+"_input"});a.apply(b)}if(c)this.outputs=b.outputs,this.inputs=b.inputs;else{if(1!==a.inboundNodes.length)throw new jg(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${a.name} which has ${a.inboundNodes.length} pre-existing inbound connections.`);if(1!==a.inboundNodes[0].outputTensors.length)throw new jg("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(a),this.outputs=[a.inboundNodes[0].outputTensors[0]],this.inputs=function a(b,c,d){if((null==c||null!=d&&d>0)&&(c=b.sourceLayer,d=b.nodeIndex),0===c.inboundNodes.length)return[b];{let b=c.inboundNodes[d];if(0===b.inboundLayers.length)return b.inputTensors;{let c=[];for(let d=0;d<b.inboundLayers.length;d++){let e=b.inputTensors[d];for(let f of a(e,b.inboundLayers[d],b.nodeIndices[d]))-1===c.indexOf(f)&&c.push(f)}return c}}}(this.outputs[0])}this.inboundNodes=[],new lZ({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:jk(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{let b=a.apply(this.outputs[0]);if(Array.isArray(b))throw TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(a),this.outputs=[b],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(a),this.built=!1}pop(){if(0===this.layers.length)throw TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{let a=this.layers.length-1;this.layers[a].outboundNodes=[],this.outputs=[this.layers[a].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(a,b){return null==this.model&&this.build(),this.model.call(a,b)}build(a){if(lP(a),0===this.inputs.length||0===this.outputs.length)throw TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new nL({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(a,b,c=console.log){this.built||this.build(),super.summary(a,b,c)}setWeights(a){null==this.model&&this.build(),this.model.setWeights(a)}evaluate(a,b,c={}){if(!this.built)throw new jf("The model needs to be compiled before being used.");return this.model.evaluate(a,b,c)}async evaluateDataset(a,b){if(!this.built)throw new jf("The model needs to be compiled before being used.");return this.model.evaluateDataset(a,b)}predict(a,b={}){return null==this.model&&this.build(),this.model.predict(a,b)}predictOnBatch(a){return null==this.model&&this.build(),this.model.predictOnBatch(a)}compile(a){this.build(),this.model.compile(a),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(a){this.model.optimizer=a}async fit(a,b,c={}){if(!this.built)throw new jf("The model needs to be compiled before being used.");return this.model.fit(a,b,c)}async fitDataset(a,b){if(!this.built)throw new jf("The model needs to be compiled before being used.");return this.model.fitDataset(a,b)}async trainOnBatch(a,b){return this.model.trainOnBatch(a,b)}static fromConfig(a,b,c={},d=!1){let e,f={};if(b instanceof Array){if(null==b[0].className||"Merge"===b[0].className)throw new jg("Legacy serialization format not supported yet.");e=b}else jd.assert(null!=b.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),e=b.layers,delete b.layers,f=b;let g=new a(f);if(!(g instanceof nO))throw new jh(`Sequential.fromConfig called on non-Sequential input: ${g}`);for(let a of e){let b=m4(a,void 0,d);d&&b.setFastWeightInitDuringBuild(!0),g.add(b)}return g}set stopTraining(a){if(null==this.model)throw new jg("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=a}get stopTraining(){if(null==this.model)throw new jg("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){let a=[];for(let b of this.layers){let c={};c.className=b.getClassName(),c.config=b.getConfig(),a.push(c)}return{name:this.name,layers:a}}}function nP(a){return l1(a)}nO.className="Sequential",jA.registerClass(nO);var jA=jA,jA=jA;class nQ extends jA.Serializable{getConfig(){return{}}}class nR extends nQ{apply(a,b=1){return function(a,b=1){if(1!==b)throw new jh(`Support for alpha values other than 1 (${b}) is not implemented yet.`);return gM(a)}(a,b)}}nR.className="elu",jA.registerClass(nR);class nS extends nQ{apply(a){return iR(a)}}nS.className="selu",jA.registerClass(nS);class nT extends nQ{apply(a){return gP(a)}}nT.className="relu",jA.registerClass(nT);class nU extends nQ{apply(a){return dX(()=>iE(6,gP(a)))}}nU.className="relu6",jA.registerClass(nU);class nV extends nQ{apply(a){return a}}nV.className="linear",jA.registerClass(nV);class nW extends nQ{apply(a){return gR(a)}}nW.className="sigmoid",jA.registerClass(nW);class nX extends nQ{apply(a){return dX(()=>h8(eH(.5,eK(.2,a)),0,1))}}nX.className="hardSigmoid",jA.registerClass(nX);class nY extends nQ{apply(a){return iv(a)}}nY.className="softplus",jA.registerClass(nY);class nZ extends nQ{apply(a){return dX(()=>eJ(a,eH(e1(a),1)))}}nZ.className="softsign",jA.registerClass(nZ);class n$ extends nQ{apply(a){return iZ(a)}}n$.className="tanh",jA.registerClass(n$);class n_ extends nQ{apply(a,b=-1){return iU(a,b)}}n_.className="softmax",jA.registerClass(n_);class n0 extends nQ{apply(a,b=-1){return ix(a,b)}}n0.className="logSoftmax",jA.registerClass(n0);class n1 extends nQ{apply(a){return dX(()=>dX(()=>{let b=eK(.5,eH(1,ih(eJ(a,Math.sqrt(2)))));return eK(a,b)}))}}n1.className="gelu",jA.registerClass(n1);class n2 extends nQ{apply(a){return dX(()=>eK(.5,eK(a,eH(1,iZ(eK(eL(eJ(2,Math.PI)),eH(a,eK(.044715,e$(a,3)))))))))}}n2.className="gelu_new",jA.registerClass(n2);class n3 extends nQ{apply(a){return dX(()=>eK(a,iZ(iv(a))))}}n3.className="mish",jA.registerClass(n3);class n4 extends nQ{apply(a,b=1){return dX(()=>eK(gR(eK(a,b)),a))}}function n5(a){return a.getClassName()}function n6(a,b={}){return jt(a,jA.SerializationMap.getMap().classNameMap,b,"activation")}function n7(a){if(null==a){let a={};return a.className="linear",a.config={},n6(a)}if("string"==typeof a){let b={};return b.className=a,b.config={},n6(b)}return a instanceof nQ?a:n6(a)}n4.className="swish",jA.registerClass(n4);var jA=jA;function n8(a){if(null!=a&&"object"!=typeof a)throw Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${a}`)}class n9 extends jA.Serializable{}class oa extends n9{constructor(a){super(),n8(a),this.l1=null==a||null==a.l1?.01:a.l1,this.l2=null==a||null==a.l2?.01:a.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(a){return dX(()=>{let b=gd([1]);return this.hasL1&&(b=eH(b,fe(eK(this.l1,e1(a))))),this.hasL2&&(b=eH(b,fe(eK(this.l2,eK(a,a))))),fd(b,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(a,b){return new a({l1:b.l1,l2:b.l2})}}oa.className="L1L2",jA.registerClass(oa);let ob={l1l2:"L1L2"};function oc(a,b={}){return jt(a,jA.SerializationMap.getMap().classNameMap,b,"regularizer")}function od(a){return null==a?null:"string"==typeof a?oc({className:a in ob?ob[a]:a,config:{}}):a instanceof n9?a:oc(a)}class oe extends l_{constructor(a){super(null==a?{}:a),this.supportsMasking=!0,null!=a&&(this.maxValue=a.maxValue)}call(a,b){let c=gP(a=lO(a));return null!=this.maxValue&&(c=h8(c,0,this.maxValue)),c}computeOutputShape(a){return a}getConfig(){let a={maxValue:this.maxValue};return Object.assign(a,super.getConfig()),a}}oe.className="ReLU",jA.registerClass(oe);class of extends l_{constructor(a){super(null==a?{}:a),this.DEFAULT_ALPHA=.3,null==a&&(a={}),this.alpha=null==a.alpha?this.DEFAULT_ALPHA:a.alpha}call(a,b){return gN(lO(a),this.alpha)}computeOutputShape(a){return a}getConfig(){let a={alpha:this.alpha};return Object.assign(a,super.getConfig()),a}}of.className="LeakyReLU",jA.registerClass(of);class og extends l_{constructor(a){if(super(null==a?{}:a),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==a&&(a={}),this.supportsMasking=!0,this.alphaInitializer=lL(a.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=od(a.alphaRegularizer),this.alphaConstraint=mf(a.alphaConstraint),null==a.sharedAxes)this.sharedAxes=null;else if(Array.isArray(a.sharedAxes))this.sharedAxes=a.sharedAxes;else if("number"==typeof a.sharedAxes)this.sharedAxes=[a.sharedAxes];else throw new jg(`Expected sharedAxes to be a number or an array of numbers, but got ${a.sharedAxes}`)}build(a){let b=(a=lP(a)).slice(1);if(null!=this.sharedAxes)for(let a of this.sharedAxes)b[a-1]=1;this.alpha=this.addWeight("alpha",b,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);let c={};if(null!=this.sharedAxes)for(let b=1;b<a.length;++b)c[b]=a[b];this.inputSpec=[new lW({ndim:a.length,axes:c})],this.built=!0}call(a,b){return gO(a=lO(a),this.alpha.read())}getConfig(){let a={alphaInitializer:js(this.alphaInitializer),alphaRegularizer:js(this.alphaRegularizer),alphaConstraint:js(this.alphaConstraint),sharedAxes:this.sharedAxes};return Object.assign(a,super.getConfig()),a}}og.className="PReLU",jA.registerClass(og);class oh extends l_{constructor(a){if(super(null==a?{}:a),this.DEFAULT_ALPHA=1,null==a&&(a={}),null!=a.alpha&&a.alpha!==this.DEFAULT_ALPHA)throw new jh(`Non-default alpha value (${a.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==a.alpha?this.DEFAULT_ALPHA:a.alpha}call(a,b){return gM(lO(a))}computeOutputShape(a){return a}getConfig(){let a={alpha:this.alpha};return Object.assign(a,super.getConfig()),a}}oh.className="ELU",jA.registerClass(oh);class oi extends l_{constructor(a){super(null==a?{}:a),this.DEFAULT_THETA=1,null==a&&(a={}),this.theta=null==a.theta?this.DEFAULT_THETA:a.theta}call(a,b){let c=lO(a);return eK(c,eE(f5(c,this.theta),"float32"))}computeOutputShape(a){return a}getConfig(){let a={theta:this.theta};return Object.assign(a,super.getConfig()),a}}oi.className="ThresholdedReLU",jA.registerClass(oi);class oj extends l_{constructor(a){super(null==a?{}:a),this.DEFAULT_AXIS=1,null==a&&(a={}),this.softmax=new n_().apply,this.axis=null==a.axis?this.DEFAULT_AXIS:a.axis}call(a,b){return dX(()=>{let c=lO(a),d=b.mask;if(null!=d){let a=eK(e_(ge(c.shape),eE(d,c.dtype)),eP(-1e9));c=eH(c,a)}if(this.axis instanceof Array)if(this.axis.length>1)return f$(e_(c,iy(c,this.axis,!0)));else return this.softmax(c,this.axis[0]);return this.softmax(c,this.axis)})}computeOutputShape(a){return a}getConfig(){let a={axis:this.axis};return Object.assign(a,super.getConfig()),a}}oj.className="Softmax",jA.registerClass(oj);let ok=dQ({conv3dTranspose_:function(a,b,c,d,e){return fJ(c,dN(a,"x","conv3dTranspose"),dN(b,"filter","conv3dTranspose"),d,e)}});var k6=jX;let ol=dQ({conv3d_:function(a,b,c,d,e="NDHWC",f=[1,1,1]){let g=dN(a,"x","conv3d"),h=dN(b,"filter","conv3d"),i=g,j=!1;4===g.rank&&(j=!0,i=fd(g,[1,g.shape[0],g.shape[1],g.shape[2],g.shape[3]])),M(5===i.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${i.rank}.`),M(5===h.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${h.rank}.`),M(i.shape[4]===h.shape[3],()=>`Error in conv3d: depth of input (${i.shape[4]}) must match input depth for filter ${h.shape[3]}.`),M(fq(c,f),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${c} and dilations '${f}'`),M("NDHWC"===e,()=>`Error in conv3d: got dataFormat of ${e} but only NDHWC is currently supported.`),M(fr(f),()=>"Error in conv3D: Dilated rates should be larger than 0."),M(fr(c),()=>"Error in conv3D: Strides should be larger than 0.");let k={x:i,filter:h},l=dF.runKernel(a3,k,{strides:c,pad:d,dataFormat:e,dilations:f});return j?fd(l,[l.shape[1],l.shape[2],l.shape[3],l.shape[4]]):l}});var jA=jA;function om(a,b,c){if("number"==typeof a)return jk(a,b);if(a.length!==b)throw new jg(`The ${c} argument must be an integer or tuple of ${b} integers. Received: ${a.length} elements.`);for(let d=0;d<b;++d){let e=a[d];if(e!==parseInt(e.toString(),10))throw new jg(`The ${c} argument must be an integer or tuple of ${b} integers. Received: ${JSON.stringify(a)} including a non-integer number ${e}`)}return a}function on(a,b,c,d,e=1){return null==a?a:Math.floor((("same"===c?a:a-(b+(b-1)*(e-1))+1)+d-1)/d)}function oo(a,b,c,d){if(null==a)return null;if("valid"===d)a=a*b+la([c-b,0]);else if("same"===d)a*=b;else throw new jg(`Unsupport padding mode: ${d}.`);return a}function op(a,b){return dX(()=>(jK(b),"channelsFirst"===b)?fX(a,[0,2,3,1]):a)}function oq(a,b){return dX(()=>(jK(b),"channelsFirst"===b)?fX(a,[0,2,3,4,1]):a)}function or(a,b,c,d=[1,1],e="valid",f,g,h=null){return dX(()=>{if(null==f&&(f=ld()),jK(f),3!==a.rank&&4!==a.rank)throw new jg(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${a.rank}.`);if(3!==b.rank&&4!==b.rank)throw new jg(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${a.rank}.`);let i=op(a,f);if("causal"===e)throw new jh("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return i=k6.conv2d({x:i,filter:b,strides:d,pad:"same"===e?"same":"valid",dilations:g,dataFormat:"NHWC",bias:c,activation:h}),"channelsFirst"===f&&(i=fX(i,[0,3,1,2])),i})}class os extends l_{constructor(a,b){if(super(b),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",os.verifyArgs(b),this.rank=a,jy(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new jh(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=om(b.kernelSize,a,"kernelSize"),this.strides=om(null==b.strides?1:b.strides,a,"strides"),this.padding=null==b.padding?"valid":b.padding,jL(this.padding),this.dataFormat=null==b.dataFormat?"channelsLast":b.dataFormat,jK(this.dataFormat),this.activation=n7(b.activation),this.useBias=null==b.useBias||b.useBias,this.biasInitializer=lL(b.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=mf(b.biasConstraint),this.biasRegularizer=od(b.biasRegularizer),this.activityRegularizer=od(b.activityRegularizer),this.dilationRate=om(null==b.dilationRate?1:b.dilationRate,a,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new jg(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new jg(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new jg(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(a){if(jl("kernelSize"in a,"required key 'kernelSize' not in config"),"number"!=typeof a.kernelSize&&!jx(a.kernelSize,"number",1,3))throw new jg(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(a.kernelSize)}.`)}getConfig(){let a={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:n5(this.activation),useBias:this.useBias,biasInitializer:js(this.biasInitializer),biasRegularizer:js(this.biasRegularizer),activityRegularizer:js(this.activityRegularizer),biasConstraint:js(this.biasConstraint)};return Object.assign(a,super.getConfig()),a}}class ot extends os{constructor(a,b){super(a,b),this.kernel=null,ot.verifyArgs(b),this.filters=b.filters,jy(this.filters,"filters"),this.kernelInitializer=lL(b.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=mf(b.kernelConstraint),this.kernelRegularizer=od(b.kernelRegularizer)}build(a){a=lP(a);let b="channelsFirst"===this.dataFormat?1:a.length-1;if(null==a[b])throw new jg(`The channel dimension of the input should be defined. Found ${a[b]}`);let c=a[b],d=this.kernelSize.concat([c,this.filters]);this.kernel=this.addWeight("kernel",d,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[b]:c}}],this.built=!0}call(a,b){return dX(()=>{let b;a=lO(a);let c=null==this.bias?null:this.bias.read(),d=jz(this.activation.getClassName());if(null!=d&&2===this.rank)b=or(a,this.kernel.read(),c,this.strides,this.padding,this.dataFormat,this.dilationRate,d);else{if(1===this.rank)b=function(a,b,c,d=1,e="valid",f,g=1){return dX(()=>{if(null==f&&(f=ld()),jK(f),3!==a.shape.length)throw new jg(`The input of a conv1dWithBias operation should be 3, but is ${a.shape.length} instead.`);if(3!==b.shape.length)throw new jg(`The kernel for a conv1dWithBias operation should be 3, but is ${b.shape.length} instead`);if(null!=c&&1!==c.shape.length)throw new jg(`The bias for a conv1dWithBias operation should be 1, but is ${c.shape.length} instead`);if("channelsFirst"===f&&(a=fX(a,[0,2,1])),"causal"===e)throw new jh("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let h=h9(a,b,d,"same"===e?"same":"valid","NWC",g);return null!=c&&(h=lp(h,c)),h})}(a,this.kernel.read(),c,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)b=or(a,this.kernel.read(),c,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(3===this.rank)b=function(a,b,c,d=[1,1,1],e="valid",f,g){return dX(()=>{if(null==f&&(f=ld()),jK(f),4!==a.rank&&5!==a.rank)throw new jg(`conv3dWithBias expects input to be of rank 4 or 5, but received ${a.rank}.`);if(4!==b.rank&&5!==b.rank)throw new jg(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${a.rank}.`);let h=oq(a,f);if("causal"===e)throw new jh("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return h=ol(h,b,d,"same"===e?"same":"valid","NDHWC",g),null!=c&&(h=lp(h,c)),"channelsFirst"===f&&(h=fX(h,[0,4,1,2,3])),h})}(a,this.kernel.read(),c,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new jh("convolutions greater than 3D are not implemented yet.");null!=this.activation&&(b=this.activation.apply(b))}return b})}computeOutputShape(a){a=lP(a);let b=[],c="channelsLast"===this.dataFormat?a.slice(1,a.length-1):a.slice(2);for(let a=0;a<c.length;++a){let d=on(c[a],this.kernelSize[a],this.padding,this.strides[a],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);b.push(d)}let d=[a[0]];return"channelsLast"===this.dataFormat?(d=d.concat(b)).push(this.filters):(d.push(this.filters),d=d.concat(b)),d}getConfig(){let a={filters:this.filters,kernelInitializer:js(this.kernelInitializer),kernelRegularizer:js(this.kernelRegularizer),kernelConstraint:js(this.kernelConstraint)};return Object.assign(a,super.getConfig()),a}static verifyArgs(a){if(!("filters"in a)||"number"!=typeof a.filters||a.filters<1)throw new jg(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(a.filters)}`)}}class ou extends ot{constructor(a){super(2,a),ou.verifyArgs(a)}getConfig(){let a=super.getConfig();return delete a.rank,a}static verifyArgs(a){if("number"!=typeof a.kernelSize&&!jx(a.kernelSize,"number",1,2))throw new jg(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(a.kernelSize)}.`)}}ou.className="Conv2D",jA.registerClass(ou);class ov extends ot{constructor(a){super(3,a),ov.verifyArgs(a)}getConfig(){let a=super.getConfig();return delete a.rank,a}static verifyArgs(a){if("number"!=typeof a.kernelSize&&!(Array.isArray(a.kernelSize)&&(1===a.kernelSize.length||3===a.kernelSize.length)))throw new jg(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(a.kernelSize)}.`)}}ov.className="Conv3D",jA.registerClass(ov);class ow extends ou{constructor(a){if(super(a),this.inputSpec=[new lW({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new jg(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(a){if(4!==(a=lP(a)).length)throw new jg("Input should have rank 4; Received input shape: "+JSON.stringify(a));let b="channelsFirst"===this.dataFormat?1:a.length-1;if(null==a[b])throw new jg("The channel dimension of the inputs should be defined. Found `None`.");let c=a[b],d=this.kernelSize.concat([this.filters,c]);this.kernel=this.addWeight("kernel",d,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new lW({ndim:4,axes:{[b]:c}})],this.built=!0}call(a,b){return dX(()=>{let b,c,d=lO(a);if(4!==d.shape.length)throw new jg(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${d.shape.length}`);let e=d.shape,f=e[0];"channelsFirst"===this.dataFormat?(b=2,c=3):(b=1,c=2);let g=e[b],h=e[c],i=this.kernelSize[0],j=this.kernelSize[1],k=this.strides[0],l=this.strides[1],m=[f,oo(g,k,i,this.padding),oo(h,l,j,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(d=fX(d,[0,2,3,1]));let n=ia(d,this.kernel.read(),m,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(n=fX(n,[0,3,1,2])),null!=this.bias&&(n=lp(n,this.bias.read(),this.dataFormat)),null!=this.activation&&(n=this.activation.apply(n)),n})}computeOutputShape(a){let b,c,d,e=(a=lP(a)).slice();"channelsFirst"===this.dataFormat?(b=1,c=2,d=3):(b=3,c=1,d=2);let f=this.kernelSize[0],g=this.kernelSize[1],h=this.strides[0],i=this.strides[1];return e[b]=this.filters,e[c]=oo(e[c],h,f,this.padding),e[d]=oo(e[d],i,g,this.padding),e}getConfig(){let a=super.getConfig();return delete a.dilationRate,a}}ow.className="Conv2DTranspose",jA.registerClass(ow);class ox extends ov{constructor(a){if(super(a),this.inputSpec=[new lW({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new jg(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(a){if(5!==(a=lP(a)).length)throw new jg("Input should have rank 5; Received input shape: "+JSON.stringify(a));let b="channelsFirst"===this.dataFormat?1:a.length-1;if(null==a[b])throw new jg("The channel dimension of the inputs should be defined. Found `None`.");let c=a[b],d=this.kernelSize.concat([this.filters,c]);this.kernel=this.addWeight("kernel",d,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new lW({ndim:5,axes:{[b]:c}})],this.built=!0}call(a,b){return dX(()=>{let b,c,d,e=lO(a);if(5!==e.shape.length)throw new jg(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${e.shape.length}`);let f=e.shape,g=f[0];"channelsFirst"===this.dataFormat?(d=2,b=3,c=4):(d=1,b=2,c=3);let h=f[d],i=f[b],j=f[c],k=this.kernelSize[0],l=this.kernelSize[1],m=this.kernelSize[2],n=this.strides[0],o=this.strides[1],p=this.strides[2],q=oo(h,n,k,this.padding),r=[g,q,oo(i,o,l,this.padding),oo(j,p,m,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(e=fX(e,[0,2,3,4,1]));let s=ok(e,this.kernel.read(),r,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(s=fX(s,[0,4,1,2,3])),null!==this.bias&&(s=lp(s,this.bias.read(),this.dataFormat)),null!==this.activation&&(s=this.activation.apply(s)),s})}computeOutputShape(a){let b,c,d,e,f=(a=lP(a)).slice();"channelsFirst"===this.dataFormat?(b=1,c=2,d=3,e=4):(b=4,c=1,d=2,e=3);let g=this.kernelSize[0],h=this.kernelSize[1],i=this.kernelSize[2],j=this.strides[0],k=this.strides[1],l=this.strides[2];return f[b]=this.filters,f[c]=oo(f[c],j,g,this.padding),f[d]=oo(f[d],k,h,this.padding),f[e]=oo(f[e],l,i,this.padding),f}getConfig(){let a=super.getConfig();return delete a.dilationRate,a}}ox.className="Conv3DTranspose",jA.registerClass(ox);class oy extends ot{constructor(a,b){if(super(a,b),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==b.filters)throw new jg("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=b.kernelInitializer||null!=b.kernelRegularizer||null!=b.kernelConstraint)throw new jg("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=b.padding&&"same"!==b.padding&&"valid"!==b.padding)throw new jg(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(b.padding)}`);this.depthMultiplier=null==b.depthMultiplier?1:b.depthMultiplier,this.depthwiseInitializer=lL(b.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=od(b.depthwiseRegularizer),this.depthwiseConstraint=mf(b.depthwiseConstraint),this.pointwiseInitializer=lL(b.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=od(b.pointwiseRegularizer),this.pointwiseConstraint=mf(b.pointwiseConstraint)}build(a){if((a=lP(a)).length<this.rank+2)throw new jg(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(a)}`);let b="channelsFirst"===this.dataFormat?1:a.length-1;if(null==a[b]||a[b]<0)throw new jg(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(a[b])}`);let c=a[b],d=this.kernelSize.concat([c,this.depthMultiplier]),e=[];for(let a=0;a<this.rank;++a)e.push(1);e.push(c*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",d,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",e,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new lW({ndim:this.rank+2,axes:{[b]:c}})],this.built=!0}call(a,b){return dX(()=>{let b;if(a=lO(a),1===this.rank)throw new jh("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(a=fX(a,[0,2,3,1])),b=iS(a,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(b=lp(b,this.bias.read(),this.dataFormat)),null!=this.activation&&(b=this.activation.apply(b)),"channelsFirst"===this.dataFormat&&(b=fX(b,[0,3,1,2])),b})}getConfig(){let a=super.getConfig();return delete a.rank,delete a.kernelInitializer,delete a.kernelRegularizer,delete a.kernelConstraint,a.depthwiseInitializer=js(this.depthwiseInitializer),a.pointwiseInitializer=js(this.pointwiseInitializer),a.depthwiseRegularizer=js(this.depthwiseRegularizer),a.pointwiseRegularizer=js(this.pointwiseRegularizer),a.depthwiseConstraint=js(this.depthwiseConstraint),a.pointwiseConstraint=js(this.pointwiseConstraint),a}}oy.className="SeparableConv";class oz extends oy{constructor(a){super(2,a)}}oz.className="SeparableConv2D",jA.registerClass(oz);class oA extends ot{constructor(a){super(1,a),oA.verifyArgs(a),this.inputSpec=[{ndim:3}]}getConfig(){let a=super.getConfig();return delete a.rank,delete a.dataFormat,a}static verifyArgs(a){if("number"!=typeof a.kernelSize&&!jx(a.kernelSize,"number",1,1))throw new jg(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(a.kernelSize)}.`)}}oA.className="Conv1D",jA.registerClass(oA);class oB extends l_{constructor(a){super(a),"number"==typeof a.cropping?this.cropping=[[a.cropping,a.cropping],[a.cropping,a.cropping]]:"number"==typeof a.cropping[0]?this.cropping=[[a.cropping[0],a.cropping[0]],[a.cropping[1],a.cropping[1]]]:this.cropping=a.cropping,this.dataFormat=void 0===a.dataFormat?"channelsLast":a.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(a){return"channelsFirst"===this.dataFormat?[a[0],a[1],a[2]-this.cropping[0][0]-this.cropping[0][1],a[3]-this.cropping[1][0]-this.cropping[1][1]]:[a[0],a[1]-this.cropping[0][0]-this.cropping[0][1],a[2]-this.cropping[1][0]-this.cropping[1][1],a[3]]}call(a,b){return dX(()=>{if(a=lO(a),"channelsLast"===this.dataFormat){let b=lh(a,this.cropping[0][0],a.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return lh(b,this.cropping[1][0],a.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{let b=lh(a,this.cropping[0][0],a.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return lh(b,this.cropping[1][0],a.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){let a={cropping:this.cropping,dataFormat:this.dataFormat};return Object.assign(a,super.getConfig()),a}}oB.className="Cropping2D",jA.registerClass(oB);class oC extends l_{constructor(a){super(a),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==a.size?this.DEFAULT_SIZE:a.size,this.dataFormat=null==a.dataFormat?"channelsLast":a.dataFormat,jK(this.dataFormat),this.interpolation=null==a.interpolation?"nearest":a.interpolation,jw(jF,"InterpolationFormat",this.interpolation)}computeOutputShape(a){if("channelsFirst"===this.dataFormat){let b=null==a[2]?null:this.size[0]*a[2],c=null==a[3]?null:this.size[1]*a[3];return[a[0],a[1],b,c]}{let b=null==a[1]?null:this.size[0]*a[1],c=null==a[2]?null:this.size[1]*a[2];return[a[0],b,c,a[3]]}}call(a,b){return dX(()=>{let b=lO(a),c=b.shape;if("channelsFirst"===this.dataFormat){b=fX(b,[0,2,3,1]);let a=this.size[0]*c[2],d=this.size[1]*c[3];return fX("nearest"===this.interpolation?kO.resizeNearestNeighbor(b,[a,d]):kO.resizeBilinear(b,[a,d]),[0,3,1,2])}{let a=this.size[0]*c[1],d=this.size[1]*c[2];return"nearest"===this.interpolation?kO.resizeNearestNeighbor(b,[a,d]):kO.resizeBilinear(b,[a,d])}})}getConfig(){let a={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation};return Object.assign(a,super.getConfig()),a}}oC.className="UpSampling2D",jA.registerClass(oC);var jA=jA;class oD extends os{constructor(a){super(2,a),this.depthwiseKernel=null,this.depthMultiplier=null==a.depthMultiplier?1:a.depthMultiplier,this.depthwiseInitializer=lL(a.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=mf(a.depthwiseConstraint),this.depthwiseRegularizer=od(a.depthwiseRegularizer)}build(a){if((a=lP(a)).length<4)throw new jg(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(a)}.`);let b="channelsFirst"===this.dataFormat?1:3;if(null==a[b]||a[b]<0)throw new jg(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${a[b]}).`);let c=a[b],d=[this.kernelSize[0],this.kernelSize[1],c,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",d,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[c*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(a,b){return dX(()=>{let b=function(a,b,c=[1,1],d="valid",e,f){return dX(()=>{null==e&&(e=ld()),jK(e);let f=op(a,e);if(4!==a.rank)throw new jg(`Input for depthwiseConv2d is required to be 4-D, but is instead ${a.rank}-D`);if(4!==b.rank)throw new jg(`depthwiseKernel is required to be 4-D, but is instead ${b.rank}-D`);return f=ic(f,b,c,"same"===d?"same":"valid","NHWC",null),"channelsFirst"===e&&(f=fX(f,[0,3,1,2])),f})}(a=lO(a),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,0);return this.useBias&&(b=lp(b,this.bias.read(),this.dataFormat)),null!=this.activation&&(b=this.activation.apply(b)),b})}computeOutputShape(a){a=lP(a);let b="channelsFirst"===this.dataFormat?a[2]:a[1],c="channelsFirst"===this.dataFormat?a[3]:a[2],d="channelsFirst"===this.dataFormat?a[1]*this.depthMultiplier:a[3]*this.depthMultiplier,e=on(b,this.kernelSize[0],this.padding,this.strides[0]),f=on(c,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[a[0],d,e,f]:[a[0],e,f,d]}getConfig(){let a=super.getConfig();return a.depthMultiplier=this.depthMultiplier,a.depthwiseInitializer=js(this.depthwiseInitializer),a.depthwiseRegularizer=js(this.depthwiseRegularizer),a.depthwiseConstraint=js(this.depthwiseRegularizer),a}}oD.className="DepthwiseConv2D",jA.registerClass(oD);var jA=jA,jd=jd,jA=jA,jd=jd;function oE(a,b,c,d){if(Array.isArray(a)){if(null!=b||null!=c)throw new jg("When inputs is an array, neither initialState or constants should be provided");null!=d&&(c=a.slice(a.length-d,a.length),a=a.slice(0,a.length-d)),a.length>1&&(b=a.slice(1,a.length)),a=a[0]}function e(a){return null==a||Array.isArray(a)?a:[a]}return{inputs:a,initialState:b=e(b),constants:c=e(c)}}function oF(a,b,c,d=!1,e,f,g=!1,h=!1){return dX(()=>{let i,j,k,l=b.shape.length;if(l<3)throw new jg(`Input should be at least 3D, but is ${l}D.`);let m=[1,0].concat(lb(2,l));if(b=fX(b,m),null!=f)throw new jh("The rnn() functoin of the deeplearn.js backend does not support constants yet.");g&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=e&&((e=eE(eE(e,"bool"),"float32")).rank===l-1&&(e=hU(e,-1)),e=fX(e,m)),d&&(b=hL(b,0),null!=e&&(e=hL(e,0)));let n=[],o=c,p=b.shape[0],q=gh(b);null!=e&&(j=gh(e));for(let b=0;b<p;++b){let c=q[b],d=dX(()=>a(c,o));if(null==e)i=d[0],o=d[1];else{let a=dX(()=>{let a=j[b],c=e_(iJ(a),a);return{output:eH(eK(d[0],a),eK(o[0],c)),newStates:o.map((b,e)=>eH(eK(d[1][e],a),eK(b,c)))}});i=a.output,o=a.newStates}h&&n.push(i)}return h&&(k=f1(n,1)),[i,k,o]})}class oG extends l_{constructor(a){let b;if(super(a),null==a.cell)throw new jg("cell property is missing for the constructor of RNN.");if(null==(b=Array.isArray(a.cell)?new oO({cells:a.cell}):a.cell).stateSize)throw new jg("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=b,this.returnSequences=null!=a.returnSequences&&a.returnSequences,this.returnState=null!=a.returnState&&a.returnState,this.goBackwards=null!=a.goBackwards&&a.goBackwards,this._stateful=null!=a.stateful&&a.stateful,this.unroll=null!=a.unroll&&a.unroll,this.supportsMasking=!0,this.inputSpec=[new lW({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?lb(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(a=>null):this.states_}setStates(a){this.states_=a}computeOutputShape(a){let b;lM(a)&&(a=a[0]);let c=this.cell.stateSize;Array.isArray(c)||(c=[c]);let d=c[0];if(b=this.returnSequences?[a[0],a[1],d]:[a[0],d],!this.returnState)return b;{let d=[];for(let b of c)d.push([a[0],b]);return[b].concat(d)}}computeMask(a,b){return dX(()=>{Array.isArray(b)&&(b=b[0]);let a=this.returnSequences?b:null;return this.returnState?[a].concat(this.states.map(a=>null)):a})}get states(){if(null!=this.states_)return this.states_;{let a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,b=[];for(let c=0;c<a;++c)b.push(null);return b}}set states(a){this.states_=a}build(a){let b;if(null!=this.numConstants)throw new jh("Constants support is not implemented in RNN yet.");lM(a)&&(a=a[0]);let c=this.stateful?a[0]:null,d=a.slice(2);this.inputSpec[0]=new lW({shape:[c,null,...d]});let e=[a[0]].concat(a.slice(2));if(this.cell.build(e),b=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!jd.arraysEqual(this.stateSpec.map(a=>a.shape[a.shape.length-1]),b))throw new jg(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=b.map(a=>new lW({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(a,b=!1){dX(()=>{if(!this.stateful)throw new je("Cannot call resetStates() on an RNN Layer that is not stateful.");let c=this.inputSpec[0].shape[0];if(null==c)throw new jg("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>gd([c,a])):this.states_=[gd([c,this.cell.stateSize])];else if(null==a)dY(this.states_),null!=this.keptStates&&(dY(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>gd([c,a])):this.states_[0]=gd([c,this.cell.stateSize]);else{if(Array.isArray(a)||(a=[a]),a.length!==this.states_.length)throw new jg(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${a.length} state value(s). Input received: ${a}`);!0===b?this.keptStates.push(this.states_.slice()):dY(this.states_);for(let b=0;b<this.states_.length;++b){let d=a[b],e=[c,Array.isArray(this.cell.stateSize)?this.cell.stateSize[b]:this.cell.stateSize];if(!jd.arraysEqual(d.shape,e))throw new jg(`State ${b} is incompatible with layer ${this.name}: expected shape=${e}, received shape=${d.shape}`);this.states_[b]=d}}this.states_=this.states_.map(a=>dZ(a.clone()))})}apply(a,b){let c=null==b?null:b.initialState,d=null==b?null:b.constants;null==b&&(b={});let e=oE(a,c,d,this.numConstants);a=e.inputs,c=e.initialState,d=e.constants;let f=[],g=[];if(null!=c){for(let a of(b.initialState=c,f=f.concat(c),this.stateSpec=[],c))this.stateSpec.push(new lW({shape:a.shape}));g=g.concat(this.stateSpec)}if(null!=d&&(b.constants=d,f=f.concat(d),this.numConstants=d.length),!(f[0]instanceof lX))return super.apply(a,b);{let c=[a].concat(f),d=this.inputSpec.concat(g),e=this.inputSpec;this.inputSpec=d;let h=super.apply(c,b);return this.inputSpec=e,h}}call(a,b){return dX(()=>{let c=null==b?null:b.mask,d=null==b?null:b.training,e=null==b?null:b.initialState;a=lO(a),null==e&&(e=this.stateful?this.states_:this.getInitialState(a));let f=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(e.length!==f)throw new jg(`RNN Layer has ${f} state(s) but was passed ${e.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");let g={training:d},h=oF((a,b)=>{let c=this.cell.call([a].concat(b),g);return[c[0],c.slice(1)]},a,e,this.goBackwards,c,null,this.unroll,this.returnSequences),i=h[0],j=h[1],k=h[2];this.stateful&&this.resetStates(k,d);let l=this.returnSequences?j:i;return this.returnState?[l].concat(k):l})}getInitialState(a){return dX(()=>{let b=gd(a.shape);return(b=le(b=fe(b,[1,2])),Array.isArray(this.cell.stateSize))?this.cell.stateSize.map(a=>a>1?lk(b,[1,a]):b):this.cell.stateSize>1?[lk(b,[1,this.cell.stateSize])]:[b]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(a){super.setFastWeightInitDuringBuild(a),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(a)}getConfig(){let a=super.getConfig(),b={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(b.numConstants=this.numConstants);let c=this.cell.getConfig();return this.getClassName()===oG.className&&(b.cell={className:this.cell.getClassName(),config:c}),Object.assign(Object.assign(Object.assign({},c),a),b)}static fromConfig(a,b,c={}){let d=m4(b.cell,c);return new a(Object.assign(b,{cell:d}))}}oG.className="RNN",jA.registerClass(oG);class oH extends l_{}class oI extends oH{constructor(a){super(a),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=a.units,jy(this.units,"units"),this.activation=n7(null==a.activation?this.DEFAULT_ACTIVATION:a.activation),this.useBias=null==a.useBias||a.useBias,this.kernelInitializer=lL(a.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=lL(a.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=lL(a.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=od(a.kernelRegularizer),this.recurrentRegularizer=od(a.recurrentRegularizer),this.biasRegularizer=od(a.biasRegularizer),this.kernelConstraint=mf(a.kernelConstraint),this.recurrentConstraint=mf(a.recurrentConstraint),this.biasConstraint=mf(a.biasConstraint),this.dropout=k9([1,la([0,null==a.dropout?0:a.dropout])]),this.recurrentDropout=k9([1,la([0,null==a.recurrentDropout?0:a.recurrentDropout])]),this.dropoutFunc=a.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(a){a=lP(a),this.kernel=this.addWeight("kernel",[a[a.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(a,b){return dX(()=>{let c;if(2!==a.length)throw new jg(`SimpleRNNCell expects 2 input Tensors, got ${a.length}.`);let d=a[1];a=a[0];let e=null!=b.training&&b.training;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=oP({ones:()=>iJ(a),rate:this.dropout,training:e,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=oP({ones:()=>iJ(d),rate:this.recurrentDropout,training:e,dropoutFunc:this.dropoutFunc}));let f=this.dropoutMask,g=this.recurrentDropoutMask;c=null!=f?lm(eK(a,f),this.kernel.read()):lm(a,this.kernel.read()),null!=this.bias&&(c=lp(c,this.bias.read())),null!=g&&(d=eK(d,g));let h=eH(c,lm(d,this.recurrentKernel.read()));return null!=this.activation&&(h=this.activation.apply(h)),[h,h]})}getConfig(){let a=super.getConfig(),b={units:this.units,activation:n5(this.activation),useBias:this.useBias,kernelInitializer:js(this.kernelInitializer),recurrentInitializer:js(this.recurrentInitializer),biasInitializer:js(this.biasInitializer),kernelRegularizer:js(this.kernelRegularizer),recurrentRegularizer:js(this.recurrentRegularizer),biasRegularizer:js(this.biasRegularizer),activityRegularizer:js(this.activityRegularizer),kernelConstraint:js(this.kernelConstraint),recurrentConstraint:js(this.recurrentConstraint),biasConstraint:js(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},a),b)}}oI.className="SimpleRNNCell",jA.registerClass(oI);class oJ extends oG{constructor(a){a.cell=new oI(a),super(a)}call(a,b){return dX(()=>{null!=this.cell.dropoutMask&&(dY(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(dY(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let c=null==b?null:b.mask,d=null==b?null:b.training,e=null==b?null:b.initialState;return super.call(a,{mask:c,training:d,initialState:e})})}static fromConfig(a,b){return new a(b)}}oJ.className="SimpleRNN",jA.registerClass(oJ);class oK extends oH{constructor(a){if(super(a),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",a.resetAfter)throw new jg("GRUCell does not support reset_after parameter set to true.");this.units=a.units,jy(this.units,"units"),this.activation=n7(void 0===a.activation?this.DEFAULT_ACTIVATION:a.activation),this.recurrentActivation=n7(void 0===a.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:a.recurrentActivation),this.useBias=null==a.useBias||a.useBias,this.kernelInitializer=lL(a.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=lL(a.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=lL(a.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=od(a.kernelRegularizer),this.recurrentRegularizer=od(a.recurrentRegularizer),this.biasRegularizer=od(a.biasRegularizer),this.kernelConstraint=mf(a.kernelConstraint),this.recurrentConstraint=mf(a.recurrentConstraint),this.biasConstraint=mf(a.biasConstraint),this.dropout=k9([1,la([0,null==a.dropout?0:a.dropout])]),this.recurrentDropout=k9([1,la([0,null==a.recurrentDropout?0:a.recurrentDropout])]),this.dropoutFunc=a.dropoutFunc,this.implementation=a.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(a){let b=(a=lP(a))[a.length-1];this.kernel=this.addWeight("kernel",[b,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(a,b){return dX(()=>{let c,d;if(2!==a.length)throw new jg(`GRUCell expects 2 input Tensors (inputs, h, c), got ${a.length}.`);let e=null!=b.training&&b.training,f=a[1];a=a[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=oP({ones:()=>iJ(a),rate:this.dropout,training:e,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=oP({ones:()=>iJ(f),rate:this.recurrentDropout,training:e,count:3,dropoutFunc:this.dropoutFunc}));let g=this.dropoutMask,h=this.recurrentDropoutMask;0<this.dropout&&this.dropout<1&&(a=eK(a,g[0]));let i=lm(a,this.kernel.read());this.useBias&&(i=lp(i,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(f=eK(f,h[0]));let j=this.recurrentKernel.read(),[k,l]=fE(j,[2*this.units,this.units],j.rank-1),m=lm(f,k),[n,o,p]=fE(i,3,i.rank-1),[q,r]=fE(m,2,m.rank-1);c=this.recurrentActivation.apply(eH(n,q));let s=lm(eK(this.recurrentActivation.apply(eH(o,r)),f),l);d=this.activation.apply(eH(p,s));let t=eH(eK(c,f),eK(eH(1,fc(c)),d));return[t,t]})}getConfig(){let a=super.getConfig(),b={units:this.units,activation:n5(this.activation),recurrentActivation:n5(this.recurrentActivation),useBias:this.useBias,kernelInitializer:js(this.kernelInitializer),recurrentInitializer:js(this.recurrentInitializer),biasInitializer:js(this.biasInitializer),kernelRegularizer:js(this.kernelRegularizer),recurrentRegularizer:js(this.recurrentRegularizer),biasRegularizer:js(this.biasRegularizer),activityRegularizer:js(this.activityRegularizer),kernelConstraint:js(this.kernelConstraint),recurrentConstraint:js(this.recurrentConstraint),biasConstraint:js(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},a),b)}}oK.className="GRUCell",jA.registerClass(oK);class oL extends oG{constructor(a){0===a.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),a.cell=new oK(a),super(a)}call(a,b){return dX(()=>{null!=this.cell.dropoutMask&&(dY(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(dY(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let c=null==b?null:b.mask,d=null==b?null:b.training,e=null==b?null:b.initialState;return super.call(a,{mask:c,training:d,initialState:e})})}static fromConfig(a,b){return 0===b.implmentation&&(b.implementation=1),new a(b)}}oL.className="GRU",jA.registerClass(oL);class oM extends oH{constructor(a){super(a),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=a.units,jy(this.units,"units"),this.activation=n7(void 0===a.activation?this.DEFAULT_ACTIVATION:a.activation),this.recurrentActivation=n7(void 0===a.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:a.recurrentActivation),this.useBias=null==a.useBias||a.useBias,this.kernelInitializer=lL(a.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=lL(a.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=lL(a.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=a.unitForgetBias,this.kernelRegularizer=od(a.kernelRegularizer),this.recurrentRegularizer=od(a.recurrentRegularizer),this.biasRegularizer=od(a.biasRegularizer),this.kernelConstraint=mf(a.kernelConstraint),this.recurrentConstraint=mf(a.recurrentConstraint),this.biasConstraint=mf(a.biasConstraint),this.dropout=k9([1,la([0,null==a.dropout?0:a.dropout])]),this.recurrentDropout=k9([1,la([0,null==a.recurrentDropout?0:a.recurrentDropout])]),this.dropoutFunc=a.dropoutFunc,this.implementation=a.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(a){var b;let c,d=(a=lP(a))[a.length-1];if(this.kernel=this.addWeight("kernel",[d,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){let a=this.biasInitializer,d=this.units;c=new((b=class extends lt{apply(b,c){let e=a.apply([d]),f=new lv().apply([d]),g=a.apply([2*d]);return lj(lj(e,f),g)}}).className="CustomInit",b)}else c=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,c,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(a,b){return dX(()=>{let c,d,e=null!=b.training&&b.training;if(3!==a.length)throw new jg(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${a.length}.`);let f=a[1],g=a[2];a=a[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=oP({ones:()=>iJ(a),rate:this.dropout,training:e,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=oP({ones:()=>iJ(f),rate:this.recurrentDropout,training:e,count:4,dropoutFunc:this.dropoutFunc}));let h=this.dropoutMask,i=this.recurrentDropoutMask;0<this.dropout&&this.dropout<1&&(a=eK(a,h[0]));let j=lm(a,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(f=eK(f,i[0])),j=eH(j,lm(f,this.recurrentKernel.read())),this.useBias&&(j=lp(j,this.bias.read()));let[k,l,m,n]=fE(j,4,j.rank-1);c=this.recurrentActivation.apply(k),d=eH(eK(this.recurrentActivation.apply(l),g),eK(c,this.activation.apply(m)));let o=eK(this.recurrentActivation.apply(n),this.activation.apply(d));return[o,o,d]})}getConfig(){let a=super.getConfig(),b={units:this.units,activation:n5(this.activation),recurrentActivation:n5(this.recurrentActivation),useBias:this.useBias,kernelInitializer:js(this.kernelInitializer),recurrentInitializer:js(this.recurrentInitializer),biasInitializer:js(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:js(this.kernelRegularizer),recurrentRegularizer:js(this.recurrentRegularizer),biasRegularizer:js(this.biasRegularizer),activityRegularizer:js(this.activityRegularizer),kernelConstraint:js(this.kernelConstraint),recurrentConstraint:js(this.recurrentConstraint),biasConstraint:js(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},a),b)}}oM.className="LSTMCell",jA.registerClass(oM);class oN extends oG{constructor(a){0===a.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),a.cell=new oM(a),super(a)}call(a,b){return dX(()=>{null!=this.cell.dropoutMask&&(dY(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(dY(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);let c=null==b?null:b.mask,d=null==b?null:b.training,e=null==b?null:b.initialState;return super.call(a,{mask:c,training:d,initialState:e})})}static fromConfig(a,b){return 0===b.implmentation&&(b.implementation=1),new a(b)}}oN.className="LSTM",jA.registerClass(oN);class oO extends oH{constructor(a){super(a),this.cells=a.cells}get stateSize(){let a=[];for(let b of this.cells.slice().reverse())Array.isArray(b.stateSize)?a.push(...b.stateSize):a.push(b.stateSize);return a}call(a,b){return dX(()=>{let c,d=a.slice(1),e=[];for(let a of this.cells.slice().reverse())Array.isArray(a.stateSize)?e.push(d.splice(0,a.stateSize.length)):e.push(d.splice(0,1));e.reverse();let f=[];for(let g=0;g<this.cells.length;++g){let h=this.cells[g];d=e[g],c=0===g?[a[0]].concat(d):[c[0]].concat(d),c=h.call(c,b),f.push(c.slice(1))}for(let a of(d=[],f.slice().reverse()))d.push(...a);return[c[0]].concat(d)})}build(a){let b;lM(a)&&(a=a[0]),this.cells.forEach((c,d)=>{jO(`RNNCell_${d}`,()=>{c.build(a),b=Array.isArray(c.stateSize)?c.stateSize[0]:c.stateSize,a=[a[0],b]})}),this.built=!0}getConfig(){let a=super.getConfig(),b=this.cells.map(a=>({className:a.getClassName(),config:a.getConfig()}));return Object.assign(Object.assign({},a),{cells:b})}static fromConfig(a,b,c={}){let d=[];for(let a of b.cells)d.push(m4(a,c));return new a({cells:d})}get trainableWeights(){if(!this.trainable)return[];let a=[];for(let b of this.cells)a.push(...b.trainableWeights);return a}get nonTrainableWeights(){let a=[];for(let b of this.cells)a.push(...b.nonTrainableWeights);if(!this.trainable){let b=[];for(let a of this.cells)b.push(...a.trainableWeights);return b.concat(a)}return a}getWeights(){let a=[];for(let b of this.cells)a.push(...b.weights);return lU(a)}setWeights(a){let b=[];for(let c of this.cells){let d=c.weights.length,e=a.splice(d);for(let a=0;a<c.weights.length;++a)b.push([c.weights[a],e[a]])}lV(b)}}function oP(a){let{ones:b,rate:c,training:d=!1,count:e=1,dropoutFunc:f}=a,g=()=>{var a;return null!=f?f(b(),c):(a=b(),dX(()=>k7(a,c,void 0,void 0)))},h=()=>lq(g,b,d);return!e||e<=1?dZ(h().clone()):Array(e).fill(void 0).map(h).map(a=>dZ(a.clone()))}oO.className="StackedRNNCells",jA.registerClass(oO);var oQ=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};class oR extends oG{constructor(a){if(a.unroll)throw new jh("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(a.cell))throw new jh("It is not possible at the moment to stack convolutional cells.");super(a),this.inputSpec=[new lW({ndim:5})]}call(a,b){return dX(()=>{if(null!=this.cell.dropoutMask&&(dY(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(dY(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),b&&b.constants)throw new jg("ConvRNN2D cell does not support constants");let c=null==b?null:b.mask,d=null==b?null:b.training,e=null==b?null:b.initialState;return super.call(a,{mask:c,training:d,initialState:e})})}computeOutputShape(a){let b=this.computeSingleOutputShape(a);return this.returnSequences||(b=[b[0],...b.slice(2)]),this.returnState&&(b=[b,...[,,].fill([a[0],...b.slice(-3)])]),b}getInitialState(a){return dX(()=>{let{stateSize:b}=this.cell,c=a.shape,d=this.computeSingleOutputShape(c),e=gd([d[0],...d.slice(2)]);return Array.isArray(b)?Array(b.length).fill(e):[e]})}resetStates(a,b=!1){dX(()=>{if(!this.stateful)throw new je("Cannot call resetStates() on an RNN Layer that is not stateful.");let c=this.inputSpec[0].shape,d=this.computeSingleOutputShape(c),e=[d[0],...d.slice(2)];if(null==c[0])throw new jg("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>gd(e)):this.states_=[gd(e)];else if(null==a)dY(this.states_),null!=this.keptStates&&(dY(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>gd(e)):this.states_[0]=gd(e);else{if(Array.isArray(a)||(a=[a]),a.length!==this.states_.length)throw new jg(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${a.length} state value(s). Input received: ${a}`);b?this.keptStates.push(this.states_.slice()):dY(this.states_);for(let b=0;b<this.states_.length;++b){let c=a[b];if(!jd.arraysEqual(c.shape,e))throw new jg(`State ${b} is incompatible with layer ${this.name}: expected shape=${e}, received shape=${c.shape}`);this.states_[b]=c}}this.states_=this.states_.map(a=>dZ(a.clone()))})}computeSingleOutputShape(a){let{dataFormat:b,filters:c,kernelSize:d,padding:e,strides:f,dilationRate:g}=this.cell,h="channelsFirst"===b,i=a[h?3:2],j=a[h?4:3],k=on(i,d[0],e,f[0],g[0]),l=on(j,d[1],e,f[1],g[1]);return[...a.slice(0,2),...h?[c,k,l]:[k,l,c]]}}oR.className="ConvRNN2D";class oS extends oM{constructor(a){let{filters:b,kernelSize:c,strides:d,padding:e,dataFormat:f,dilationRate:g}=a;super(Object.assign(Object.assign({},a),{units:b})),this.filters=b,jy(this.filters,"filters"),this.kernelSize=om(c,2,"kernelSize"),this.kernelSize.forEach(a=>jy(a,"kernelSize")),this.strides=om(d||1,2,"strides"),this.strides.forEach(a=>jy(a,"strides")),this.padding=e||"valid",jL(this.padding),this.dataFormat=f||"channelsLast",jK(this.dataFormat),this.dilationRate=om(g||1,2,"dilationRate"),this.dilationRate.forEach(a=>jy(a,"dilationRate"))}build(a){var b;a=lP(a);let c="channelsFirst"===this.dataFormat?1:a.length-1;if(null==a[c])throw new jg(`The channel dimension of the input should be defined. Found ${a[c]}`);let d=a[c],e=this.kernelSize.concat([d,4*this.filters]);this.kernel=this.addWeight("kernel",e,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);let f=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",f,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let a;if(this.unitForgetBias){let c=this.biasInitializer,d=this.filters;a=new((b=class extends lt{apply(a,b){let e=c.apply([d]);return li([e,ge([d]),c.apply([2*d])])}}).className="CustomInit",b)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,a,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(a,b){return dX(()=>{if(3!==a.length)throw new jg(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${a.length}.`);let c=b.training||!1,d=a[0],e=a[1],f=a[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=oP({ones:()=>iJ(d),rate:this.dropout,training:c,count:4,dropoutFunc:this.dropoutFunc}));let g=this.dropoutMask,h=(a,b,c)=>b&&b[c]?eK(b[c],a):a,i=h(d,g,0),j=h(d,g,1),k=h(d,g,2),l=h(d,g,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=oP({ones:()=>iJ(e),rate:this.recurrentDropout,training:c,count:4,dropoutFunc:this.dropoutFunc}));let m=this.recurrentDropoutMask,n=h(e,m,0),o=h(e,m,1),p=h(e,m,2),q=h(e,m,3),[r,s,t,u]=fE(this.kernel.read(),4,3),[v,w,x,y]=this.useBias?fE(this.bias.read(),4):[null,null,null,null];i=this.inputConv(i,r,v,this.padding),j=this.inputConv(j,s,w,this.padding),k=this.inputConv(k,t,x,this.padding),l=this.inputConv(l,u,y,this.padding);let[z,A,B,C]=fE(this.recurrentKernel.read(),4,3);n=this.recurrentConv(n,z),o=this.recurrentConv(o,A),p=this.recurrentConv(p,B),q=this.recurrentConv(q,C);let D=this.recurrentActivation.apply(eH(i,n)),E=this.recurrentActivation.apply(eH(j,o)),F=eH(eK(E,f),eK(D,this.activation.apply(eH(k,p)))),G=eK(this.recurrentActivation.apply(eH(l,q)),this.activation.apply(F));return[G,G,F]})}getConfig(){let a=super.getConfig(),{units:b}=a,c=oQ(a,["units"]),d={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},c),d)}inputConv(a,b,c,d){let e=fH(a,b,this.strides,d||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return c?lp(e,c,this.dataFormat):e}recurrentConv(a,b){return fH(a,b,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}oS.className="ConvLSTM2DCell",jA.registerClass(oS);class oT extends oR{constructor(a){super(Object.assign(Object.assign({},a),{cell:new oS(a)}))}static fromConfig(a,b){return new a(b)}}oT.className="ConvLSTM2D",jA.registerClass(oT);var jA=jA,jd=jd;class oU extends l_{constructor(a){super(a),this.rate=Math.max(Math.min(a.rate,1),0),this.noiseShape=a.noiseShape,this.seed=a.seed,this.supportsMasking=!0}getNoiseShape(a){if(null==this.noiseShape)return this.noiseShape;let b=a.shape,c=[];for(let a=0;a<this.noiseShape.length;++a)c.push(null==this.noiseShape[a]?b[a]:this.noiseShape[a]);return c}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);if(0<this.rate&&this.rate<1){let a=null!=b.training&&b.training,d=this.getNoiseShape(c);return lq(()=>{var a,b;return a=this.rate,b=this.seed,dX(()=>k7(c,a,d,b))},()=>c,a)}return a})}getConfig(){let a={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed};return Object.assign(a,super.getConfig()),a}dispose(){return super.dispose()}}oU.className="Dropout",jA.registerClass(oU);class oV extends oU{constructor(a){super(a),this.inputSpec=[{ndim:3}]}getNoiseShape(a){let b=a.shape;return[b[0],1,b[2]]}}oV.className="SpatialDropout1D",jA.registerClass(oV);class oW extends l_{constructor(a){if(super(a),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==a.batchInputShape&&null==a.inputShape&&null!=a.inputDim){let b=null;null!=a.batchSize&&(b=a.batchSize),this.batchInputShape=[b,a.inputDim]}this.units=a.units,jy(this.units,"units"),this.activation=n7(a.activation),null!=a.useBias&&(this.useBias=a.useBias),this.kernelInitializer=lL(a.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=lL(a.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=mf(a.kernelConstraint),this.biasConstraint=mf(a.biasConstraint),this.kernelRegularizer=od(a.kernelRegularizer),this.biasRegularizer=od(a.biasRegularizer),this.activityRegularizer=od(a.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(a){let b=(a=lP(a))[a.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[b,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:b}}],this.built=!0}computeOutputShape(a){let b=(a=lP(a)).slice();return b[b.length-1]=this.units,b}call(a,b){return dX(()=>{let c;this.invokeCallHook(a,b);let d=lO(a),e=jz(this.activation.getClassName());return null!=e?c=lm(d,this.kernel.read(),e,this.bias?this.bias.read():null):(c=lm(d,this.kernel.read()),null!=this.bias&&(c=lp(c,this.bias.read())),null!=this.activation&&(c=this.activation.apply(c))),c})}getConfig(){let a={units:this.units,activation:n5(this.activation),useBias:this.useBias,kernelInitializer:js(this.kernelInitializer),biasInitializer:js(this.biasInitializer),kernelRegularizer:js(this.kernelRegularizer),biasRegularizer:js(this.biasRegularizer),activityRegularizer:js(this.activityRegularizer),kernelConstraint:js(this.kernelConstraint),biasConstraint:js(this.biasConstraint)};return Object.assign(a,super.getConfig()),a}}oW.className="Dense",jA.registerClass(oW);class oX extends l_{constructor(a){super(a=a||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=a.dataFormat}computeOutputShape(a){for(let b of(a=lP(a)).slice(1))if(null==b)throw new jg(`The shape of the input to "Flatten" is not fully defined (got ${a.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[a[0],k8(a,1)]}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);if("channelsFirst"===this.dataFormat&&c.rank>1){let a=[0];for(let b=2;b<c.rank;++b)a.push(b);a.push(1),c=fX(c,a)}var d=c;if(d.rank<=1)throw new jg(`batchFlatten requires a minimum rank of 2. Got rank: ${d.rank}.`);let e=[d.shape[0],k8(d.shape,1)];return fd(d,e)})}getConfig(){let a={};return null!=this.dataFormat&&(a.dataFormat=this.dataFormat),Object.assign(a,super.getConfig()),a}}oX.className="Flatten",jA.registerClass(oX);class oY extends l_{constructor(a){super(a),this.supportsMasking=!0,this.activation=n7(a.activation)}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);return this.activation.apply(c)})}getConfig(){let a={activation:n5(this.activation)};return Object.assign(a,super.getConfig()),a}}oY.className="Activation",jA.registerClass(oY);class oZ extends l_{constructor(a){super(a),this.n=a.n,this.inputSpec=[{ndim:2}]}computeOutputShape(a){return[a[0],this.n,a[1]]}call(a,b){return dX(()=>{var b,c;return b=a=lO(a),c=this.n,dX(()=>{if(2!==b.shape.length)throw new jg(`repeat() expects a rank-2 tensor, but received a rank-${b.shape.length} tensor.`);return lk(le(b,1),[1,c,1])})})}getConfig(){let a={n:this.n};return Object.assign(a,super.getConfig()),a}}oZ.className="RepeatVector",jA.registerClass(oZ);class o$ extends l_{constructor(a){super(a),this.targetShape=a.targetShape;for(let a=0;a<this.targetShape.length;++a)this.isUnknown(this.targetShape[a])&&(this.targetShape[a]=null)}isUnknown(a){return a<0||null==a}fixUnknownDimension(a,b){let c="Total size of new array must be unchanged.",d=b.slice(),e=1,f=null;for(let a=0;a<d.length;++a){let b=d[a];if(this.isUnknown(b))if(null===f)f=a;else throw new jg("Can only specifiy one unknown dimension.");else e*=b}let g=k8(a);if(null!==f){if(0===e||g%e!=0)throw new jg(c);d[f]=g/e}else if(g!==e)throw new jg(c);return d}computeOutputShape(a){let b=!1;for(let c=0;c<a.length;++c)if(this.isUnknown(a[c])){b=!0;break}return b?a.slice(0,1).concat(this.targetShape):a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape))}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a),d=c.shape;return fd(c,d.slice(0,1).concat(this.fixUnknownDimension(d.slice(1),this.targetShape)))})}getConfig(){let a={targetShape:this.targetShape};return Object.assign(a,super.getConfig()),a}}o$.className="Reshape",jA.registerClass(o$);class o_ extends l_{constructor(a){if(super(a),null==a.dims)throw Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(a.dims))throw Error(`Permute constructor requires \`dims\` to be an Array, but received ${a.dims} instead.`);let b=lb(1,a.dims.length+1);if(!jd.arraysEqual(a.dims.slice().sort(),b))throw Error("Invalid permutation `dims`: "+JSON.stringify(a.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=a.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new lW({ndim:this.dims.length+1})]}computeOutputShape(a){let b=(a=lP(a)).slice();return this.dims.forEach((c,d)=>{b[d+1]=a[c]}),b}call(a,b){return fX(lO(a),this.dimsIncludingBatch)}getConfig(){let a={dims:this.dims};return Object.assign(a,super.getConfig()),a}}o_.className="Permute",jA.registerClass(o_);class o0 extends l_{constructor(a){super(null==a?{}:a),this.supportsMasking=!0,null!=a?this.maskValue=null==a.maskValue?0:a.maskValue:this.maskValue=0}computeOutputShape(a){return a}getConfig(){let a=super.getConfig(),b={maskValue:this.maskValue};return Object.assign(b,a),b}computeMask(a,b){return hZ(iH(lO(a),this.maskValue),-1)}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a),d=hZ(iH(c,this.maskValue),-1,!0);return eK(c,eE(d,c.dtype))})}}o0.className="Masking",jA.registerClass(o0);var jA=jA;class o1 extends l_{constructor(a){if(super(a),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==a.batchInputShape&&null==a.inputShape){let b=null;null!=a.batchSize&&(b=a.batchSize),null==a.inputLength?this.batchInputShape=[b,null]:this.batchInputShape=[b].concat(jo(a.inputLength))}this.inputDim=a.inputDim,jy(this.inputDim,"inputDim"),this.outputDim=a.outputDim,jy(this.outputDim,"outputDim"),this.embeddingsInitializer=lL(a.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=od(a.embeddingsRegularizer),this.activityRegularizer=od(a.activityRegularizer),this.embeddingsConstraint=mf(a.embeddingsConstraint),this.maskZero=a.maskZero,this.supportsMasking=a.maskZero,this.inputLength=a.inputLength}build(a){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(a){}computeMask(a,b){return dX(()=>this.maskZero?iH(a=lO(a),eN(a)):null)}computeOutputShape(a){if(a=lP(a),null==this.inputLength)return[...a,this.outputDim];let b=jo(this.inputLength);if(b.length!==a.length-1)throw new jg(`"inputLength" is ${this.inputLength}, but received input shape has shape ${a}`);{let c=0;for(let d=0;d<b.length;++d){let e=b[d],f=a[d+1];if(null!=e&&null!=f&&e!==f)throw new jg(`"inputLength" is ${this.inputLength}, but received input shape has shape ${a}`);null==e&&(b[c]=f),c++}}return[a[0],...b,this.outputDim]}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);"int32"!==c.dtype&&(c=eE(c,"int32"));let d=ln(this.embeddings.read(),fd(c,[c.size]));return fd(d,lP(this.computeOutputShape(c.shape)))})}getConfig(){let a={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:js(this.embeddingsInitializer),embeddingsRegularizer:js(this.embeddingsRegularizer),activityRegularizer:js(this.activityRegularizer),embeddingsConstraint:js(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength};return Object.assign(a,super.getConfig()),a}}o1.className="Embedding",jA.registerClass(o1);var jd=jd,jA=jA;class o2 extends l_{constructor(a){super(a||{}),this.supportsMasking=!0}mergeFunction(a){throw new jh}computeElementwiseOpOutputShape(a,b){if(null==a||null==b)return null;if(a.length<b.length)return this.computeElementwiseOpOutputShape(b,a);if(0===b.length)return a;let c=a.slice(0,a.length-b.length);for(let d=0;d<b.length;++d){let e=a[a.length-b.length+d],f=b[d];if(null==e||null==f||e<0||f<0)c.push(null);else if(1===e)c.push(f);else if(1===f)c.push(e);else{if(e!==f)throw new jg("Operands could not be broadcast together with shapes "+JSON.stringify(a)+" "+JSON.stringify(b));c.push(e)}}return c}build(a){if(Array.isArray(a)&&!Array.isArray(a[0])&&(a=[lP(a)]),a.length<2)throw new jg(`A merge layer should be called on an Array of at least 2 inputs. Got ${a.length} input(s).`);let b=[];for(let c of a)null!=c&&null!==c[0]&&b.push(c[0]);if((b=jv(b)).length>1)throw new jg(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(a)}.`);let c=null==a[0]?null:a[0].slice(1);for(let b=1;b<a.length;++b){let d=null==a[b]?null:a[b].slice(1);c=this.computeElementwiseOpOutputShape(c,d)}let d=a.map(a=>a.length);-1===a.indexOf(null)&&1===jv(d).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(a,b){return dX(()=>{if(!this.reshapeRequired)return this.mergeFunction(a);{let b=[],c=a.map(a=>a.rank);if(-1===c.indexOf(null)){let d=la(c);for(let c of a){let a=c.rank;for(let b=0;b<d-a;++b)c=le(c,1);b.push(c)}return this.mergeFunction(b)}{let c=!1;for(let d of a){let a=d.rank;if(null==a){let a=d.shape,e=a[0],f=a.slice(1).concat([e]),g=fd(d,[e].concat(k8(a.slice(1))));g=fd(g=fX(g,[1,0]),f),b.push(g),c=!0}else if(a>1){let e=lb(1,a).concat([0]);b.push(fX(d,e)),c=!0}else b.push(d)}let d=this.mergeFunction(b),e=d.rank;if(c)if(null==e){let a=d.shape,b=a.length,c=a[b-1],e=[c].concat(a.slice(0,a.length-1));d=fd(fX(fd(d,[-1,c]),[1,0]),e)}else e>1&&(d=fX(d,[e-1].concat(lb(0,e-1))));return d}}})}computeOutputShape(a){let b;b=null==a[0]?null:a[0].slice(1);for(let c=1;c<a.length;++c){let d=null==a[c]?null:a[c].slice(1);b=this.computeElementwiseOpOutputShape(b,d)}let c=[];for(let b of a)null!=b&&null!==b[0]&&c.push(b[0]);return 1===(c=jv(c)).length?c.concat(b):[null].concat(b)}computeMask(a,b){return dX(()=>{if(null==b)return null;if(!Array.isArray(b))throw new jg("`mask` should be an Array");if(!Array.isArray(a))throw new jg("`inputs` should be an Array");if(b.length!==a.length)throw new jg(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${a.length} vs ${b.length})`);if(b.every(a=>null==a))return null;let c=(b=b.map(a=>null==a?a:hU(a,0)))[0];for(let a=1;a<b.length-1;++a)c=fA(c,b[a]);return c})}}class o3 extends o2{constructor(a){super(a)}mergeFunction(a){return dX(()=>{let b=a[0].clone();for(let c=1;c<a.length;++c)b=eH(b,a[c]);return b})}}o3.className="Add",jA.registerClass(o3);class o4 extends o2{constructor(a){super(a)}mergeFunction(a){return dX(()=>{let b=a[0].clone();for(let c=1;c<a.length;++c)b=eK(b,a[c]);return b})}}o4.className="Multiply",jA.registerClass(o4);class o5 extends o2{constructor(a){super(a)}mergeFunction(a){return dX(()=>{let b=a[0].clone();for(let c=1;c<a.length;++c)b=eH(b,a[c]);return eK(1/a.length,b)})}}o5.className="Average",jA.registerClass(o5);class o6 extends o2{constructor(a){super(a)}mergeFunction(a){return dX(()=>{let b=a[0];for(let c=1;c<a.length;++c)b=e5(b,a[c]);return b})}}o6.className="Maximum",jA.registerClass(o6);class o7 extends o2{constructor(a){super(a)}mergeFunction(a){return dX(()=>{let b=a[0];for(let c=1;c<a.length;++c)b=iE(b,a[c]);return b})}}o7.className="Minimum",jA.registerClass(o7);class o8 extends o2{constructor(a){super(a),this.DEFAULT_AXIS=-1,null==a&&(a={}),this.axis=null==a.axis?this.DEFAULT_AXIS:a.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(a){if(!(Array.isArray(a)&&Array.isArray(a[0]))||1===a.length)throw new jg("A `Concatenate` layer should be called on a list of at least 2 inputs");let b=!0;for(let c of a)if(null!=c){b=!1;break}if(b)return;let c=[];for(let b=0;b<a.length;++b){let d=a[b].slice();d.splice(this.axis,1);let e=!1;for(let a of c)if(jd.arraysEqual(a,d)){e=!0;break}e||c.push(d)}if(c.length>1)throw new jg("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(a))}mergeFunction(a){return dX(()=>li(a,this.axis))}computeOutputShape(a){if(!(Array.isArray(a)&&Array.isArray(a[0])))throw new jg("A `Concatenate` layer should be called on a list of inputs.");let b=a[0].slice(),c=this.axis<0?b.length+this.axis:this.axis;for(let d of a.slice(1)){if(null==b[c]||null==d[c]){b[c]=null;break}b[c]+=d[c]}return b}computeMask(a,b){if(null==b)return null;if(!Array.isArray(b))throw new jg("`mask` should be an array for Concatenate");if(!Array.isArray(a))throw new jg("`inputs` should be an array for Concatenate");if(b.length!==a.length)throw new jg(`Mismatch in the length of mask (${b.length}) and the legnth of inputs (${a.length})`);return dX(()=>{let c=!0;if(b.forEach(a=>{if(null!=a){c=!1;return}}),c)return null;let d=[];for(let c=0;c<a.length;++c)null==b[c]?d.push(eE(iJ(a[c]),"bool")):b[c].rank<a[c].rank?d.push(hU(b[c],-1)):d.push(b[c]);return hY(hS(d,this.axis),-1,!1)})}getConfig(){let a={axis:this.axis};return Object.assign(a,super.getConfig()),a}}function o9(a,b){for(;a<0;)a+=b;return a}o8.className="Concatenate",jA.registerClass(o8);class pa extends o2{constructor(a){super(a),this.axes=a.axes,this.normalize=null!=a.normalize&&a.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(a){jd.assert(Array.isArray(a)&&2===a.length&&Array.isArray(a[0])&&Array.isArray(a[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let b=a[0],c=a[1];if(b.length>3||c.length>3)throw new jh("Dot layer does not support tensors of 4D or higher rank yet.");let d=this.interpretAxes(b,c);if(b[d[0]]!==c[d[1]])throw new jg(`Dimension incompatibility: ${b[d[0]]} !== ${c[d[1]]}`)}mergeFunction(a){let b;if(2!==a.length)throw new jg(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${a.length} input(s).`);let c=a[0],d=a[1];b=Array.isArray(this.axes)?this.axes.map((b,c)=>o9(b,a[c].shape.length)):[o9(this.axes,c.shape.length),o9(this.axes,d.shape.length)],this.normalize&&(c=m5(c,b[0]),d=m5(d,b[1]));var e=c,f=d,g=b;if(e.shape.length>3||f.shape.length>3)throw new jh("batchDot is not implemented for tensors of 4D or higher rank yet");if(jd.assert(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),jd.assert(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${f.shape.length}`),"number"==typeof g&&(g=[g,g]),"complex64"===e.dtype||"complex64"===f.dtype)throw new jh("batchDot is not implemented for complex64-type Tensors yet.");let h=e.shape.length,i=f.shape.length;null==g&&(g=[h-1,i-2]);let j=g;return dX(()=>{let a,b;if(h>i){a=h-i;let b=[];for(let c=0;c<a;++c)b.push(1);f=fd(f,f.shape.concat(b))}else if(i>h){a=i-h;let b=[];for(let c=0;c<a;++c)b.push(1);e=fd(e,e.shape.concat(b))}else a=0;if(2===e.shape.length&&2===f.shape.length)b=j[0]===j[1]?fe(eK(e,f),j[0]):fe(eK(fX(e,[1,0]),f),j[1]);else{let a=j[0]!==e.shape.length-1,c=j[1]===f.shape.length-1;b=fw(e,f,a,c)}if(a>0){let c;c=h>i?h+i-3:h-1;let d=[];for(let b=c;b<c+a;++b)d.push(b);b=iW(b,d)}return 1===b.shape.length&&(b=hU(b,1)),b})}interpretAxes(a,b){return Array.isArray(this.axes)?this.axes:[o9(this.axes,a.length),o9(this.axes,b.length)]}computeOutputShape(a){jd.assert(Array.isArray(a)&&2===a.length&&Array.isArray(a[0])&&Array.isArray(a[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");let b=a[0].slice(),c=a[1].slice();if(b.length>3||c.length>3)throw new jh("Dot layer does not support tensors of 4D or higher rank yet.");let d=this.interpretAxes(b,c);b.splice(d[0],1),c.splice(d[1],1),c.splice(0,1);let e=b.concat(c);return 1===e.length&&e.push(1),e}computeMask(a,b){return null}getConfig(){let a={axes:this.axes,normalize:this.normalize};return Object.assign(a,super.getConfig()),a}}pa.className="Dot",jA.registerClass(pa);var jA=jA;class pb extends l_{constructor(a){super(a),this.supportsMasking=!0,this.stddev=a.stddev}computeOutputShape(a){return a}getConfig(){let a=super.getConfig(),b={stddev:this.stddev};return Object.assign(b,a),b}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);return lq(()=>eH(ll(c.shape,0,this.stddev),c),()=>c,b.training||!1)})}}pb.className="GaussianNoise",jA.registerClass(pb);class pc extends l_{constructor(a){super(a),this.supportsMasking=!0,this.rate=a.rate}computeOutputShape(a){return a}getConfig(){let a=super.getConfig(),b={rate:this.rate};return Object.assign(b,a),b}call(a,b){return dX(()=>{this.invokeCallHook(a,b);let c=lO(a);return this.rate>0&&this.rate<1?lq(()=>{let a=Math.sqrt(this.rate/(1-this.rate));return eK(c,ll(c.shape,1,a))},()=>c,b.training||!1):c})}}pc.className="GaussianDropout",jA.registerClass(pc);class pd extends l_{constructor(a){super(a),this.supportsMasking=!0,this.rate=a.rate,this.noiseShape=a.noiseShape}_getNoiseShape(a){return this.noiseShape||lO(a).shape}computeOutputShape(a){return a}getConfig(){let a=super.getConfig(),b={rate:this.rate};return Object.assign(b,a),b}call(a,b){return dX(()=>{if(this.rate<1&&this.rate>0){let c=this._getNoiseShape(a);return lq(()=>{let b=lO(a),d=fy(kX(c),this.rate);d=eE(d,"float32");let e=((1-this.rate)*(1+3.09091329228798*this.rate))**-.5,f=-(-1.7580993408473766*e)*this.rate,g=eH(eK(b,d),eK(eH(d,-1),-1.7580993408473766));return eH(eK(g,e),f)},()=>lO(a),b.training||!1)}return a})}}pd.className="AlphaDropout",jA.registerClass(pd);let pe=dQ({batchNorm4d_:function(a,b,c,d,e,f){let g,h,i=dN(a,"x","batchNorm"),j=dN(b,"mean","batchNorm"),k=dN(c,"variance","batchNorm");return null!=e&&(g=dN(e,"scale","batchNorm")),null!=d&&(h=dN(d,"offset","batchNorm")),M(4===i.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),M(4===j.rank||1===j.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${j.rank}.`),M(4===k.rank||1===k.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${k.rank}.`),null!=g&&M(4===g.rank||1===g.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${g.rank}.`),null!=h&&M(4===h.rank||1===h.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${h.rank}.`),h6(i,j,k,h,g,f)}}),pf=dQ({batchNorm3d_:function(a,b,c,d,e,f){let g,h,i=dN(a,"x","batchNorm"),j=dN(b,"mean","batchNorm"),k=dN(c,"variance","batchNorm");return null!=e&&(g=dN(e,"scale","batchNorm")),null!=d&&(h=dN(d,"offset","batchNorm")),M(3===i.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),M(3===j.rank||1===j.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${j.rank}.`),M(3===k.rank||1===k.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${k.rank}.`),null!=g&&M(3===g.rank||1===g.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${g.rank}.`),null!=h&&M(3===h.rank||1===h.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${h.rank}.`),h6(i,j,k,h,g,f)}}),pg=dQ({batchNorm2d_:function(a,b,c,d,e,f){let g,h,i=dN(a,"x","batchNorm"),j=dN(b,"mean","batchNorm"),k=dN(c,"variance","batchNorm");return null!=e&&(g=dN(e,"scale","batchNorm")),null!=d&&(h=dN(d,"offset","batchNorm")),M(2===i.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),M(2===j.rank||1===j.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${j.rank}.`),M(2===k.rank||1===k.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${k.rank}.`),null!=g&&M(2===g.rank||1===g.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${g.rank}.`),null!=h&&M(2===h.rank||1===h.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${h.rank}.`),h6(i,j,k,h,g,f)}}),ph=dQ({moments_:function(a,b=null,c=!1){let d=$(b,(a=dN(a,"x","moments")).shape),e=iD(a,d,c),f=e.shape;c||(f=fP(e.shape,d));let g=iD(eM(e_(eE(a,"float32"),fd(e,f))),d,c);return{mean:e,variance:g}}});var jA=jA,jd=jd;function pi(a,b,c,d,e,f=.001){let g;if(2===a.rank)g=pg(a,b,c,d,e,f);else if(3===a.rank)g=pf(a,b,c,d,e,f);else if(4===a.rank)g=pe(a,b,c,d,e,f);else throw new jh(`batchNormalization is not implemented for array of rank ${a.rank} yet`);return g}class pj extends l_{constructor(a){null==a&&(a={}),super(a),this.supportsMasking=!0,this.axis=null==a.axis?-1:a.axis,this.momentum=null==a.momentum?.99:a.momentum,this.epsilon=null==a.epsilon?.001:a.epsilon,this.center=null==a.center||a.center,this.scale=null==a.scale||a.scale,this.betaInitializer=lL(a.betaInitializer||"zeros"),this.gammaInitializer=lL(a.gammaInitializer||"ones"),this.movingMeanInitializer=lL(a.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=lL(a.movingVarianceInitializer||"ones"),this.betaConstraint=mf(a.betaConstraint),this.gammaConstraint=mf(a.gammaConstraint),this.betaRegularizer=od(a.betaRegularizer),this.gammaRegularizer=od(a.gammaRegularizer)}build(a){a=lP(a);let b=this.axis>=0?this.axis:this.axis+a.length,c=a[b];if(null==c)throw new jg(`Axis ${b} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(a)}.`);this.inputSpec=[new lW({ndim:a.length,axes:{[b]:c}})];let d=[c];this.scale&&(this.gamma=this.addWeight("gamma",d,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",d,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",d,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",d,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(a,b){return dX(()=>{let c=null!=b.training&&b.training,d=lO(a),e=d.shape,f=e.length,g=lb(0,f),h=this.axis>=0?this.axis:this.axis+f;g.splice(h,1);let i=jk(1,f);i[h]=e[h];let j=g.slice();j.sort();let k=!jd.arraysEqual(j,lb(0,f).slice(0,f-1)),l=()=>{if(!k)return pi(d,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon);{let a=fd(this.movingMean.read(),i),b=fd(this.movingVariance.read(),i);return pi(d,a,b,this.center?fd(this.beta.read(),i):null,this.scale?fd(this.gamma.read(),i):null,this.epsilon)}};if(!c)return l();let[m,n,o]=function(a,b,c,d,e=.001){return jd.arraysEqual(d.slice().sort(),lb(0,a.rank-1))?function(a,b,c,d,e=.001){return dX(()=>{let f=ph(a,d),g=f.mean,h=f.variance;return[pi(a,g,h,c,b,e),g,h]})}(a,b,c,d,e):function(a,b,c,d,e=.001){return dX(()=>{let f=ph(a,d),g=f.mean,h=f.variance,i=[];for(let b of lb(0,a.rank))-1!==d.indexOf(b)?i.push(1):i.push(a.shape[b]);let j=fd(g,i),k=fd(h,i),l=null==b?null:fd(b,i);return[pi(a,j,k,null==c?null:fd(c,i),l,e),g,h]})}(a,b,c,d,e)}(d,this.gamma.read(),this.beta.read(),g,this.epsilon),p=(a,b,c)=>{dX(()=>{let d=a.read(),e=eK(e_(d,b),1-c);a.write(e_(d,e))})};return p(this.movingMean,n,this.momentum),p(this.movingVariance,o,this.momentum),m})}getConfig(){let a={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:js(this.betaInitializer),gammaInitializer:js(this.gammaInitializer),movingMeanInitializer:js(this.movingMeanInitializer),movingVarianceInitializer:js(this.movingVarianceInitializer),betaRegularizer:js(this.betaRegularizer),gammaRegularizer:js(this.gammaRegularizer),betaConstraint:js(this.betaConstraint),gammaConstraint:js(this.gammaConstraint)};return Object.assign(a,super.getConfig()),a}}pj.className="BatchNormalization",jA.registerClass(pj);class pk extends l_{constructor(a){if(null==a&&(a={}),super(a),this.axis=null==a.axis?-1:a.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(let a of this.axis)if(!Number.isInteger(a))throw Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=null==a.epsilon?.001:a.epsilon,this.center=null==a.center||a.center,this.scale=null==a.scale||a.scale,this.betaInitializer=lL(a.betaInitializer||"zeros"),this.gammaInitializer=lL(a.gammaInitializer||"ones"),this.betaRegularizer=od(a.betaRegularizer),this.gammaRegularizer=od(a.gammaRegularizer),this.supportsMasking=!0}build(a){let b=(a=lP(a)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=b);for(let a of this.axis)if(a<0||a>=b)throw Error(`Invalid axis: ${a}`);if(this.axis.length!==jv(this.axis).length)throw Error(`Found duplicate axes in: ${this.axis}`);let c=this.axis.map(b=>a[b]);this.scale?this.gamma=this.addWeight("gamma",c,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",c,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}call(a,b){let c=lO(a),d=c.shape,e=d.length;return dX(()=>{let{mean:a,variance:b}=ph(c,this.axis,!0),f=jk(1,e);for(let a of this.axis)f[a]=d[a];let g=a=>null!=a&&a.shape.length!==e?fd(a,f):a,h=this.scale?g(this.gamma.read()):null,i=this.center?g(this.beta.read()):null,j=[],k=[];for(let a=0;a<e;++a)-1!==this.axis.indexOf(a)?(j.push(d[a]),k.push(1)):(j.push(1),k.push(d[a]));return a=f0(a,j),b=f0(b,j),null!=h&&(h=f0(h,k)),null!=i&&(i=f0(i,k)),pi(c,a,b,i,h,this.epsilon)})}getConfig(){let a={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:js(this.betaInitializer),gammaInitializer:js(this.gammaInitializer),betaRegularizer:js(this.betaRegularizer),gammaRegularizer:js(this.gammaRegularizer)};return Object.assign(a,super.getConfig()),a}}pk.className="LayerNormalization",jA.registerClass(pk);var jA=jA;class pl extends l_{constructor(a){if(null==a&&(a={}),super(a),this.dataFormat=null==a.dataFormat?ld():a.dataFormat,null==a.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof a.padding)this.padding=[[a.padding,a.padding],[a.padding,a.padding]];else{let b,c;if(a.padding=a.padding,2!==a.padding.length)throw new jg(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${a.padding.length} array.`);if("number"==typeof a.padding[0])b=[a.padding[0],a.padding[0]],c=[a.padding[1],a.padding[1]];else{if(a.padding=a.padding,2!==a.padding[0].length)throw new jg(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${a.padding[0].length} array.`);if(b=a.padding[0],2!==a.padding[1].length)throw new jg(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${a.padding[1].length} array.`);c=a.padding[1]}this.padding=[b,c]}this.inputSpec=[new lW({ndim:4})]}computeOutputShape(a){let b,c;return(a=lP(a),"channelsFirst"===this.dataFormat)?(b=null!=a[2]&&a[2]>=0?a[2]+this.padding[0][0]+this.padding[0][1]:null,c=null!=a[3]&&a[3]>=0?a[3]+this.padding[1][0]+this.padding[1][1]:null,[a[0],a[1],b,c]):(b=null!=a[1]&&a[1]>=0?a[1]+this.padding[0][0]+this.padding[0][1]:null,c=null!=a[2]&&a[2]>=0?a[2]+this.padding[1][0]+this.padding[1][1]:null,[a[0],b,c,a[3]])}call(a,b){return dX(()=>{var b,c,d;return b=lO(a),c=this.padding,d=this.dataFormat,dX(()=>{if(4!==b.rank)throw new jg(`temporalPadding expects input tensor to be 4-D, but received a ${b.rank}-D tensor.`);if(null==c&&(c=[[1,1],[1,1]]),2!==c.length||2!==c[0].length||2!==c[1].length)throw new jg("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==d&&(d=ld()),"channelsLast"!==d&&"channelsFirst"!==d)throw new jg(`Unknown data format: ${d}. Supported data formats are 'channelsLast' and 'channelsFirst.`);return hP(b,"channelsFirst"===d?[[0,0],[0,0],c[0],c[1]]:[[0,0],c[0],c[1],[0,0]])})})}getConfig(){let a={padding:this.padding,dataFormat:this.dataFormat};return Object.assign(a,super.getConfig()),a}}pl.className="ZeroPadding2D",jA.registerClass(pl);let pm=dQ({avgPool3d_:function(a,b,c,d,e,f="NDHWC"){let g=dN(a,"x","avgPool3d","float32"),h=g,i=!1;4===g.rank&&(i=!0,h=fd(g,[1,g.shape[0],g.shape[1],g.shape[2],g.shape[3]])),M(5===h.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${h.rank}.`),M("NDHWC"===f,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${f}`),M("number"==typeof c&&c>0||Array.isArray(c)&&c[0]>0&&c[1]>0&&c[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${c}'`),ft("avgPool3d",d,e);let j={x:h},k=dF.runKernel(aP,j,{filterSize:b,strides:c,pad:d,dimRoundingMode:e,dataFormat:f});return(k=eE(k,h.dtype),i)?fd(k,[k.shape[1],k.shape[2],k.shape[3],k.shape[4]]):k}}),pn=dQ({maxPool3d_:function(a,b=[1,1,1],c,d,e,f="NDHWC"){let g=dN(a,"x","maxPool3d"),h=g,i=!1;4===g.rank&&(i=!0,h=fd(g,[1,g.shape[0],g.shape[1],g.shape[2],g.shape[3]])),M(5===h.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${h.rank}.`),M("NDHWC"===f,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${f}`),ft("maxPool3d",d,e);let j={x:h},k=dF.runKernel(bR,j,{filterSize:b,strides:c,pad:d,dimRoundingMode:e,dataFormat:f});return i?fd(k,[k.shape[1],k.shape[2],k.shape[3],k.shape[4]]):k}});var jA=jA;function po(a,b,c,d,e,f){return dX(()=>{let g;jK(e),jM(f),jL(d),null==c&&(c=[1,1]),null==d&&(d="valid"),null==e&&(e=ld()),null==f&&(f="max"),a=op(a,e);let h="same"===d?"same":"valid";return g="max"===f?iC(a,b,c,h):h5(a,b,c,h),"channelsFirst"===e&&(g=fX(g,[0,3,1,2])),g})}function pp(a,b,c,d,e,f){return dX(()=>{let g;jK(e),jM(f),jL(d),null==c&&(c=[1,1,1]),null==d&&(d="valid"),null==e&&(e=ld()),null==f&&(f="max"),a=oq(a,e);let h="same"===d?"same":"valid";return g="max"===f?pn(a,b,c,h):pm(a,b,c,h),"channelsFirst"===e&&(g=fX(g,[0,4,1,2,3])),g})}class pq extends l_{constructor(a){if(null==a.poolSize&&(a.poolSize=2),super(a),"number"==typeof a.poolSize)this.poolSize=[a.poolSize];else if(Array.isArray(a.poolSize)&&1===a.poolSize.length&&"number"==typeof a.poolSize[0])this.poolSize=a.poolSize;else throw new jg(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(a.poolSize)}`);if(jy(this.poolSize,"poolSize"),null==a.strides)this.strides=this.poolSize;else if("number"==typeof a.strides)this.strides=[a.strides];else if(Array.isArray(a.strides)&&1===a.strides.length&&"number"==typeof a.strides[0])this.strides=a.strides;else throw new jg(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(a.strides)}`);jy(this.strides,"strides"),this.padding=null==a.padding?"valid":a.padding,jL(this.padding),this.inputSpec=[new lW({ndim:3})]}computeOutputShape(a){let b=on((a=lP(a))[1],this.poolSize[0],this.padding,this.strides[0]);return[a[0],b,a[2]]}call(a,b){return dX(()=>(this.invokeCallHook(a,b),a=le(lO(a),2),iW(this.poolingFunction(lO(a),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast"),[2])))}getConfig(){let a={poolSize:this.poolSize,padding:this.padding,strides:this.strides};return Object.assign(a,super.getConfig()),a}}class pr extends pq{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),po(a,b,c,d,e,"max")}}pr.className="MaxPooling1D",jA.registerClass(pr);class ps extends pq{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),po(a,b,c,d,e,"avg")}}ps.className="AveragePooling1D",jA.registerClass(ps);class pt extends l_{constructor(a){if(null==a.poolSize&&(a.poolSize=[2,2]),super(a),this.poolSize=Array.isArray(a.poolSize)?a.poolSize:[a.poolSize,a.poolSize],null==a.strides)this.strides=this.poolSize;else if(Array.isArray(a.strides)){if(2!==a.strides.length)throw new jg(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${a.strides.length}.`);this.strides=a.strides}else this.strides=[a.strides,a.strides];jy(this.poolSize,"poolSize"),jy(this.strides,"strides"),this.padding=null==a.padding?"valid":a.padding,this.dataFormat=null==a.dataFormat?"channelsLast":a.dataFormat,jK(this.dataFormat),jL(this.padding),this.inputSpec=[new lW({ndim:4})]}computeOutputShape(a){a=lP(a);let b="channelsFirst"===this.dataFormat?a[2]:a[1],c="channelsFirst"===this.dataFormat?a[3]:a[2];return(b=on(b,this.poolSize[0],this.padding,this.strides[0]),c=on(c,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat)?[a[0],a[1],b,c]:[a[0],b,c,a[3]]}call(a,b){return dX(()=>(this.invokeCallHook(a,b),this.poolingFunction(lO(a),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let a={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat};return Object.assign(a,super.getConfig()),a}}class pu extends pt{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),po(a,b,c,d,e,"max")}}pu.className="MaxPooling2D",jA.registerClass(pu);class pv extends pt{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),po(a,b,c,d,e,"avg")}}pv.className="AveragePooling2D",jA.registerClass(pv);class pw extends l_{constructor(a){if(null==a.poolSize&&(a.poolSize=[2,2,2]),super(a),this.poolSize=Array.isArray(a.poolSize)?a.poolSize:[a.poolSize,a.poolSize,a.poolSize],null==a.strides)this.strides=this.poolSize;else if(Array.isArray(a.strides)){if(3!==a.strides.length)throw new jg(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${a.strides.length}.`);this.strides=a.strides}else this.strides=[a.strides,a.strides,a.strides];jy(this.poolSize,"poolSize"),jy(this.strides,"strides"),this.padding=null==a.padding?"valid":a.padding,this.dataFormat=null==a.dataFormat?"channelsLast":a.dataFormat,jK(this.dataFormat),jL(this.padding),this.inputSpec=[new lW({ndim:5})]}computeOutputShape(a){a=lP(a);let b="channelsFirst"===this.dataFormat?a[2]:a[1],c="channelsFirst"===this.dataFormat?a[3]:a[2],d="channelsFirst"===this.dataFormat?a[4]:a[3];return(b=on(b,this.poolSize[0],this.padding,this.strides[0]),c=on(c,this.poolSize[1],this.padding,this.strides[1]),d=on(d,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat)?[a[0],a[1],b,c,d]:[a[0],b,c,d,a[4]]}call(a,b){return dX(()=>(this.invokeCallHook(a,b),this.poolingFunction(lO(a),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){let a={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat};return Object.assign(a,super.getConfig()),a}}class px extends pw{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),pp(a,b,c,d,e,"max")}}px.className="MaxPooling3D",jA.registerClass(px);class py extends pw{constructor(a){super(a)}poolingFunction(a,b,c,d,e){return jK(e),jL(d),pp(a,b,c,d,e,"avg")}}py.className="AveragePooling3D",jA.registerClass(py);class pz extends l_{constructor(a){super(a),this.inputSpec=[new lW({ndim:3})]}computeOutputShape(a){return[a[0],a[2]]}call(a,b){throw new jh}}class pA extends pz{constructor(a){super(a||{})}call(a,b){return dX(()=>iD(lO(a),1))}}pA.className="GlobalAveragePooling1D",jA.registerClass(pA);class pB extends pz{constructor(a){super(a||{})}call(a,b){return dX(()=>ii(lO(a),1))}}pB.className="GlobalMaxPooling1D",jA.registerClass(pB);class pC extends l_{constructor(a){super(a),this.dataFormat=null==a.dataFormat?"channelsLast":a.dataFormat,jK(this.dataFormat),this.inputSpec=[new lW({ndim:4})]}computeOutputShape(a){return"channelsLast"===this.dataFormat?[a[0],a[3]]:[a[0],a[1]]}call(a,b){throw new jh}getConfig(){let a={dataFormat:this.dataFormat};return Object.assign(a,super.getConfig()),a}}class pD extends pC{call(a,b){return dX(()=>{let b=lO(a);return"channelsLast"===this.dataFormat?iD(b,[1,2]):iD(b,[2,3])})}}pD.className="GlobalAveragePooling2D",jA.registerClass(pD);class pE extends pC{call(a,b){return dX(()=>{let b=lO(a);return"channelsLast"===this.dataFormat?ii(b,[1,2]):ii(b,[2,3])})}}pE.className="GlobalMaxPooling2D",jA.registerClass(pE);var jA=jA;class pF extends l_{constructor(a){super(a),this.layer=a.layer}build(a){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(a){null!=this.layer&&(this.layer.trainable=a)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(a){this.layer.setWeights(a)}getConfig(){let a={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}};return Object.assign(a,super.getConfig()),a}setFastWeightInitDuringBuild(a){super.setFastWeightInitDuringBuild(a),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(a)}static fromConfig(a,b,c={}){let d=m4(b.layer,c);delete b.layer;let e={layer:d};return Object.assign(e,b),new a(e)}}class pG extends pF{constructor(a){super(a),this.supportsMasking=!0}build(a){if((a=lP(a)).length<3)throw new jg(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(a)}`);this.inputSpec=[{shape:a}];let b=[a[0]].concat(a.slice(2));this.layer.built||(this.layer.build(b),this.layer.built=!0),super.build(a)}computeOutputShape(a){let b=[(a=lP(a))[0]].concat(a.slice(2)),c=this.layer.computeOutputShape(b),d=a[1];return[c[0],d].concat(c.slice(1))}call(a,b){return dX(()=>oF((a,c)=>[lO(this.layer.call(a,b)),[]],a=lO(a),[],!1,null,null,!1,!0)[1])}}pG.className="TimeDistributed",jA.registerClass(pG);class pH extends pF{constructor(a){super(a);let b=a.layer.getConfig(),c={};c.className=a.layer.getClassName(),c.config=b,this.forwardLayer=m4(c),b.goBackwards=!0!==b.goBackwards;let d={};if(d.className=a.layer.getClassName(),d.config=b,this.backwardLayer=m4(d),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===a.mergeMode?"concat":a.mergeMode,jw(jI,"BidirectionalMergeMode",this.mergeMode),a.weights)throw new jh("weights support is not implemented for Bidirectional layer yet.");this._stateful=a.layer.stateful,this.returnSequences=a.layer.returnSequences,this.returnState=a.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=a.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(a){this._trainable=a,null!=this.forwardLayer&&(this.forwardLayer.trainable=a),null!=this.backwardLayer&&(this.backwardLayer.trainable=a)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(a){let b=Math.floor(a.length/2);this.forwardLayer.setWeights(a.slice(0,b)),this.backwardLayer.setWeights(a.slice(b))}computeOutputShape(a){let b,c,d,e=this.forwardLayer.computeOutputShape(a);return(Array.isArray(e)&&Array.isArray(e[0])||(e=[e]),this.returnState&&(d=e.slice(1)),b=e[0],"concat"===this.mergeMode?(b[b.length-1]*=2,c=[b]):c=null==this.mergeMode?[b,b.slice()]:[b],this.returnState)?null==this.mergeMode?c.concat(d).concat(d.slice()):[b].concat(d).concat(d.slice()):jn(c)}apply(a,b){let c=null==b?null:b.initialState,d=null==b?null:b.constants;null==b&&(b={});let e=oE(a,c,d,this.numConstants);if(a=e.inputs,c=e.initialState,d=e.constants,Array.isArray(a)&&(c=a.slice(1),a=a[0]),(null==c||0===c.length)&&null==d)return super.apply(a,b);let f=[],g=[];if(null!=c){let a=c.length;if(a%2>0)throw new jg("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");b.initialState=c,f.push(...c);let d=c.map(a=>new lW({shape:a.shape}));this.forwardLayer.stateSpec=d.slice(0,a/2),this.backwardLayer.stateSpec=d.slice(a/2),g.push(...d)}if(null!=d)throw new jh("Support for constants in Bidirectional layers is not implemented yet.");let h=f[0]instanceof lX;for(let a of f)if(a instanceof lX!==h)throw new jg("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(!h)return super.apply(a,b);{let c=[a].concat(f),d=this.inputSpec.concat(g),e=this.inputSpec;this.inputSpec=d;let h=super.apply(c,b);return this.inputSpec=e,h}}call(a,b){return dX(()=>{let c,d,e,f,g=b.initialState;if(null==g)c=this.forwardLayer.call(a,b),d=this.backwardLayer.call(a,b);else{let e=g.slice(0,g.length/2),f=g.slice(g.length/2);c=this.forwardLayer.call(a,Object.assign(b,{initialState:e})),d=this.backwardLayer.call(a,Object.assign(b,{initialState:f}))}return(this.returnState&&(Array.isArray(c)&&(e=c.slice(1).concat(d.slice(1))),c=c[0],d=d[0]),this.returnSequences&&(d=hL(d,1)),"concat"===this.mergeMode?f=li([c,d]):"sum"===this.mergeMode?f=eH(c,d):"ave"===this.mergeMode?f=eK(.5,eH(c,d)):"mul"===this.mergeMode?f=eK(c,d):null==this.mergeMode&&(f=[c,d]),this.returnState)?null==this.mergeMode?f.concat(e):[f].concat(e):f})}resetStates(a){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(a){jO(this.forwardLayer.name,()=>{this.forwardLayer.build(a)}),jO(this.backwardLayer.name,()=>{this.backwardLayer.build(a)}),this.built=!0}computeMask(a,b){let c;if(Array.isArray(b)&&(b=b[0]),c=this.returnSequences?null==this.mergeMode?[b,b]:b:null==this.mergeMode?[null,null]:null,!this.returnState)return c;{let a=this.forwardLayer.states.map(a=>null);return Array.isArray(c)?c.concat(a).concat(a):[c].concat(a).concat(a)}}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(a){super.setFastWeightInitDuringBuild(a),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(a),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(a)}getConfig(){let a={mergeMode:this.mergeMode};return Object.assign(a,super.getConfig()),a}static fromConfig(a,b){let c=m4(b.layer);if(delete b.layer,null!=b.numConstants)throw new jh("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");return b.layer=c,new a(b)}}pH.className="Bidirectional",jA.registerClass(pH);var jA=jA;class pI extends l_{constructor(a){super(a),this.scale=a.scale,a.offset?this.offset=a.offset:this.offset=0}getConfig(){let a={scale:this.scale,offset:this.offset};return Object.assign(a,super.getConfig()),a}call(a,b){return dX(()=>("float32"!==(a=lO(a)).dtype&&(a=eE(a,"float32")),eH(eK(a,this.scale),this.offset)))}}pI.className="Rescaling",jA.registerClass(pI);var jA=jA;let{resizeBilinear:pJ,cropAndResize:pK}=kO;class pL extends l_{constructor(a){super(a),this.height=a.height,this.width=a.width}centerCrop(a,b,c,d,e,f,g,h){return dX(()=>{let i,j=!1,k=[b/f,c/g,(d+b)/f,(e+c)/g],l=[];3===a.rank?(j=!0,i=f1([a])):i=a;for(let a=0;a<i.shape[0];a++)l.push(k);let m=dT(l,[l.length,4]),n=pK(i,m,ko(0,l.length,1,"int32"),[d,e],"nearest");if(j)return eE(lO(gh(n)),h);return eE(n,h)})}upsize(a,b,c,d){return dX(()=>eE(pJ(a,[b,c]),d))}call(a,b){return dX(()=>{let b=lO(a),c=b.dtype,d=b.shape,e=d[d.length-3],f=d[d.length-2],g=0;e!==this.height&&(g=Math.floor((e-this.height)/2));let h=0;return(f!==this.width&&0===(h=Math.floor((f-this.width)/2))&&(h=1),g>=0&&h>=0)?this.centerCrop(b,g,h,this.height,this.width,e,f,c):this.upsize(a,this.height,this.width,c)})}getConfig(){let a={height:this.height,width:this.width};return Object.assign(a,super.getConfig()),a}computeOutputShape(a){let b=(a=lP(a)).length-3,c=a.length-2;return a[b]=this.height,a[c]=this.width,a}}pL.className="CenterCrop",jA.registerClass(pL);var jA=jA;let pM=dQ({denseBincount_:function(a,b,c,d=!1){let e=dN(a,"x","denseBincount"),f=dN(b,"weights","denseBincount");return M("int32"===e.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${e.dtype}`),M(e.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${e.rank}.`),M(c>=0,()=>`size must be non-negative, but got ${c}.`),M(f.size===e.size||0===f.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${e.shape}, weights shape: ${f.shape}.`),dF.runKernel(ba,{x:e,weights:f},{size:c,binaryOutput:d})}});class pN extends l_{constructor(a){super(a),this.numTokens=a.numTokens,a.outputMode?this.outputMode=a.outputMode:this.outputMode="multiHot"}getConfig(){let a={numTokens:this.numTokens,outputMode:this.outputMode};return Object.assign(a,super.getConfig()),a}computeOutputShape(a){return null==(a=lP(a))?[this.numTokens]:("oneHot"===this.outputMode&&1!==a[a.length-1]?a.push(this.numTokens):a[a.length-1]=this.numTokens,a)}call(a,b){return dX(()=>{let c;if("int32"!==(a=lO(a)).dtype&&(a=eE(a,"int32")),void 0!==b.countWeights){if("count"!==this.outputMode)throw new jg(`countWeights is not used when outputMode !== count.
              Received countWeights=${b.countWeights}`);c=lO(b.countWeights)}let d=ii(a),e=ij(a),f=f5(this.numTokens,d).bufferSync().get(0),g=fy(e,0).bufferSync().get(0);if(!(f&&g))throw new jg(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(a,b,c,d){let e,f=lO(a);if("int32"!==f.dtype&&(f=eE(f,"int32")),"int"===b)return f;let g=f.shape;if(0===f.rank&&(f=hU(f,-1)),"oneHot"===b&&1!==f.shape[f.shape.length-1]&&(f=hU(f,-1)),f.rank>2)throw new jg(`When outputMode is not int, maximum output rank is 2 Received outputMode ${b} and input shape ${g} which would result in output rank ${f.rank}.`);let h=["multiHot","oneHot"].includes(b),i=f;if(e=void 0!==d&&"count"===b?pM(i,d,c,h):pM(i,[],c,h),"tfIdf"!==b)return e;if(d)return eK(e,d);throw new jg("When outputMode is 'tfIdf', weights must be provided.")}(a,this.outputMode,this.numTokens,c)})}}pN.className="CategoryEncoding",jA.registerClass(pN);var jA=jA;let pO=new Set(["bilinear","nearest"]);class pP extends l_{constructor(a){if(super(a),this.height=a.height,this.width=a.width,a.interpolation)if(pO.has(a.interpolation))this.interpolation=a.interpolation;else throw new jg(`Invalid interpolation parameter: ${a.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!a.cropToAspectRatio}computeOutputShape(a){let b=(a=lP(a))[2];return[this.height,this.width,b]}getConfig(){let a={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio};return Object.assign(a,super.getConfig()),a}call(a,b){return dX(()=>{let b=[this.height,this.width];if("bilinear"===this.interpolation)return kO.resizeBilinear(a,b,!this.cropToAspectRatio);if("nearest"===this.interpolation)return kO.resizeNearestNeighbor(a,b,!this.cropToAspectRatio);throw Error(`Interpolation is ${this.interpolation} but only ${[...pO]} are supported`)})}}pP.className="Resizing",jA.registerClass(pP);var jA=jA;class pQ{constructor(a){this.seed=a}next(){if(void 0!==this.seed)return this.seed++}}pQ.className="RandomSeed";class pR extends l_{constructor(a){super(a),this.randomGenerator=new pQ(a.seed)}getConfig(){let a={seed:this.randomGenerator.seed};return Object.assign(a,super.getConfig()),a}}pR.className="BaseRandomLayer";let pS=new Set(["bilinear","nearest"]);class pT extends pR{constructor(a){super(a);let{factor:b,interpolation:c="bilinear"}=a;if(this.factor=b,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new jg(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new jg(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new jg(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(c)if(pS.has(c))this.interpolation=c;else throw new jg(`Invalid interpolation parameter: ${c} is not implemented`)}getConfig(){let a={factor:this.factor,interpolation:this.interpolation};return Object.assign(a,super.getConfig()),a}computeOutputShape(a){let b=(a=lP(a))[2];return[this.imgHeight,-1,b]}call(a,b){return dX(()=>{let b=lO(a);this.imgHeight=b.shape[b.shape.length-3];let c=b.shape[b.shape.length-2];this.widthFactor=kX([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let d=this.widthFactor.dataSync()[0]*c;d=Math.round(d);let e=[this.imgHeight,d];switch(this.interpolation){case"bilinear":return kO.resizeBilinear(a,e);case"nearest":return kO.resizeNearestNeighbor(a,e);default:throw Error(`Interpolation is ${this.interpolation}
          but only ${[...pS]} are supported`)}})}}function pU(a){return new l0(a)}function pV(a){return new oh(a)}function pW(a){return new oe(a)}function pX(a){return new of(a)}function pY(a){return new og(a)}function pZ(a){return new oj(a)}function p$(a){return new oi(a)}function p_(a){return new oA(a)}function p0(a){return new ou(a)}function p1(a){return new ow(a)}function p2(a){return new ov(a)}function p3(a){return new ox(a)}function p4(a){return new oz(a)}function p5(a){return new oB(a)}function p6(a){return new oC(a)}function p7(a){return new oD(a)}function p8(a){return new oY(a)}function p9(a){return new oW(a)}function qa(a){return new oU(a)}function qb(a){return new oV(a)}function qc(a){return new oX(a)}function qd(a){return new oZ(a)}function qe(a){return new o$(a)}function qf(a){return new o_(a)}function qg(a){return new o1(a)}function qh(a){return new o3(a)}function qi(a){return new o5(a)}function qj(a){return new o8(a)}function qk(a){return new o6(a)}function ql(a){return new o7(a)}function qm(a){return new o4(a)}function qn(a){return new pa(a)}function qo(a){return new pj(a)}function qp(a){return new pk(a)}function qq(a){return new pl(a)}function qr(a){return new ps(a)}function qs(a){return qr(a)}function qt(a){return qr(a)}function qu(a){return new pv(a)}function qv(a){return qu(a)}function qw(a){return qu(a)}function qx(a){return new py(a)}function qy(a){return qx(a)}function qz(a){return qx(a)}function qA(a){return new pA(a)}function qB(a){return new pD(a)}function qC(a){return new pB(a)}function qD(a){return new pE(a)}function qE(a){return new pr(a)}function qF(a){return new pu(a)}function qG(a){return new px(a)}function qH(a){return new oL(a)}function qI(a){return new oK(a)}function qJ(a){return new oN(a)}function qK(a){return new oM(a)}function qL(a){return new oJ(a)}function qM(a){return new oI(a)}function qN(a){return new oT(a)}function qO(a){return new oS(a)}function qP(a){return new oG(a)}function qQ(a){return new oO(a)}function qR(a){return new pH(a)}function qS(a){return new pG(a)}pT.className="RandomWidth",jA.registerClass(pT);let qT=qC,qU=qD,qV=qE,qW=qF;function qX(a){return new pb(a)}function qY(a){return new pc(a)}function qZ(a){return new pd(a)}function q$(a){return new o0(a)}function q_(a){return new pI(a)}function q0(a){return new pL(a)}function q1(a){return new pP(a)}function q2(a){return new pN(a)}function q3(a){return new pT(a)}a.s(["Layer",()=>l_,"RNN",()=>oG,"RNNCell",()=>oH,"activation",()=>p8,"add",()=>qh,"alphaDropout",()=>qZ,"average",()=>qi,"averagePooling1d",()=>qr,"averagePooling2d",()=>qu,"averagePooling3d",()=>qx,"avgPool1d",()=>qs,"avgPool2d",()=>qv,"avgPool3d",()=>qy,"avgPooling1d",()=>qt,"avgPooling2d",()=>qw,"avgPooling3d",()=>qz,"batchNormalization",()=>qo,"bidirectional",()=>qR,"categoryEncoding",()=>q2,"centerCrop",()=>q0,"concatenate",()=>qj,"conv1d",()=>p_,"conv2d",()=>p0,"conv2dTranspose",()=>p1,"conv3d",()=>p2,"conv3dTranspose",()=>p3,"convLstm2d",()=>qN,"convLstm2dCell",()=>qO,"cropping2D",()=>p5,"dense",()=>p9,"depthwiseConv2d",()=>p7,"dot",()=>qn,"dropout",()=>qa,"elu",()=>pV,"embedding",()=>qg,"flatten",()=>qc,"gaussianDropout",()=>qY,"gaussianNoise",()=>qX,"globalAveragePooling1d",()=>qA,"globalAveragePooling2d",()=>qB,"globalMaxPool1d",()=>qT,"globalMaxPool2d",()=>qU,"globalMaxPooling1d",()=>qC,"globalMaxPooling2d",()=>qD,"gru",()=>qH,"gruCell",()=>qI,"input",()=>nP,"inputLayer",()=>pU,"layerNormalization",()=>qp,"leakyReLU",()=>pX,"lstm",()=>qJ,"lstmCell",()=>qK,"masking",()=>q$,"maxPool1d",()=>qV,"maxPool2d",()=>qW,"maxPooling1d",()=>qE,"maxPooling2d",()=>qF,"maxPooling3d",()=>qG,"maximum",()=>qk,"minimum",()=>ql,"multiply",()=>qm,"permute",()=>qf,"prelu",()=>pY,"randomWidth",()=>q3,"reLU",()=>pW,"repeatVector",()=>qd,"rescaling",()=>q_,"reshape",()=>qe,"resizing",()=>q1,"rnn",()=>qP,"separableConv2d",()=>p4,"simpleRNN",()=>qL,"simpleRNNCell",()=>qM,"softmax",()=>pZ,"spatialDropout1d",()=>qb,"stackedRNNCells",()=>qQ,"thresholdedReLU",()=>p$,"timeDistributed",()=>qS,"upSampling2d",()=>p6,"zeroPadding2d",()=>qq],73577),a.i(27491);var q4=a.i(73577);function q5(a,b){return nf(a,b)}function q6(a,b){return nb(a,b)}function q7(a,b){return nk(a,b)}function q8(a,b){return ng(a,b)}function q9(a,b){return m9(a,b)}function ra(a,b){return ni(a,b)}function rb(a,b){return dX(()=>{let c=nh(a,b),d=eH(c,dX(()=>eE(fe(fA(f7(a,1),f7(b,0))),"float32")));return eE(fC(f5(d,0),eJ(c,d),0),"float32")})}function rc(a,b){return nc(a,b)}function rd(a,b){return m7(a,b)}function re(a,b){return m8(a,b)}function rf(a,b){return m8(a,b)}function rg(a,b){return m8(a,b)}function rh(a,b){return m6(a,b)}function ri(a,b){return m6(a,b)}function rj(a,b){return m6(a,b)}function rk(a,b){return dX(()=>{let c=a.sub(b).square().sum(),d=a.sub(a.mean()).square().sum();return eP(1).sub(c.div(d))})}function rl(a){return new oa(a)}function rm(a){return n8(a),new oa({l1:null!=a?a.l1:null,l2:0})}function rn(a){return n8(a),new oa({l2:null!=a?a.l2:null,l1:0})}a.s(["MAPE",()=>rf,"MSE",()=>ri,"binaryAccuracy",()=>q5,"binaryCrossentropy",()=>q6,"categoricalAccuracy",()=>q8,"categoricalCrossentropy",()=>q9,"cosineProximity",()=>rc,"mape",()=>rg,"meanAbsoluteError",()=>rd,"meanAbsolutePercentageError",()=>re,"meanSquaredError",()=>rh,"mse",()=>rj,"precision",()=>ra,"r2Score",()=>rk,"recall",()=>rb,"sparseCategoricalAccuracy",()=>q7],62752),a.i(62752),a.s([],77224),a.s(["modelFromJSON",()=>nN],65622),a.i(77224),a.i(65622),a.s(["l1",()=>rm,"l1l2",()=>rl,"l2",()=>rn],33559),a.i(33559);aA.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,a=>{a&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var m3=m3,jd=jd;!function(a){a[a.DT_INVALID=0]="DT_INVALID",a[a.DT_FLOAT=1]="DT_FLOAT",a[a.DT_DOUBLE=2]="DT_DOUBLE",a[a.DT_INT32=3]="DT_INT32",a[a.DT_UINT8=4]="DT_UINT8",a[a.DT_INT16=5]="DT_INT16",a[a.DT_INT8=6]="DT_INT8",a[a.DT_STRING=7]="DT_STRING",a[a.DT_COMPLEX64=8]="DT_COMPLEX64",a[a.DT_INT64=9]="DT_INT64",a[a.DT_BOOL=10]="DT_BOOL",a[a.DT_QINT8=11]="DT_QINT8",a[a.DT_QUINT8=12]="DT_QUINT8",a[a.DT_QINT32=13]="DT_QINT32",a[a.DT_BFLOAT16=14]="DT_BFLOAT16",a[a.DT_QINT16=15]="DT_QINT16",a[a.DT_QUINT16=16]="DT_QUINT16",a[a.DT_UINT16=17]="DT_UINT16",a[a.DT_COMPLEX128=18]="DT_COMPLEX128",a[a.DT_HALF=19]="DT_HALF",a[a.DT_RESOURCE=20]="DT_RESOURCE",a[a.DT_VARIANT=21]="DT_VARIANT",a[a.DT_UINT32=22]="DT_UINT32",a[a.DT_UINT64=23]="DT_UINT64",a[a.DT_FLOAT_REF=101]="DT_FLOAT_REF",a[a.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",a[a.DT_INT32_REF=103]="DT_INT32_REF",a[a.DT_UINT8_REF=104]="DT_UINT8_REF",a[a.DT_INT16_REF=105]="DT_INT16_REF",a[a.DT_INT8_REF=106]="DT_INT8_REF",a[a.DT_STRING_REF=107]="DT_STRING_REF",a[a.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",a[a.DT_INT64_REF=109]="DT_INT64_REF",a[a.DT_BOOL_REF=110]="DT_BOOL_REF",a[a.DT_QINT8_REF=111]="DT_QINT8_REF",a[a.DT_QUINT8_REF=112]="DT_QUINT8_REF",a[a.DT_QINT32_REF=113]="DT_QINT32_REF",a[a.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",a[a.DT_QINT16_REF=115]="DT_QINT16_REF",a[a.DT_QUINT16_REF=116]="DT_QUINT16_REF",a[a.DT_UINT16_REF=117]="DT_UINT16_REF",a[a.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",a[a.DT_HALF_REF=119]="DT_HALF_REF",a[a.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",a[a.DT_VARIANT_REF=121]="DT_VARIANT_REF",a[a.DT_UINT32_REF=122]="DT_UINT32_REF",a[a.DT_UINT64_REF=123]="DT_UINT64_REF"}(r||(r={})),function(a){var b;(b=a.CheckpointFormatVersion||(a.CheckpointFormatVersion={}))[b.LEGACY=0]="LEGACY",b[b.V1=1]="V1",b[b.V2=2]="V2"}(s||(s={}));var jd=jd;a.s(["json",()=>ro],64423);let ro=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];a.i(64423),a.s(["json",()=>rp],35384);let rp=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];a.i(35384),a.s(["json",()=>rq],81566);let rq=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}];a.i(81566),a.s(["json",()=>rr],79510);let rr=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];a.i(79510),a.s(["json",()=>rs],23464);let rs=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];a.i(23464),a.s(["json",()=>rt],59172);let rt=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];a.i(59172),a.s(["json",()=>ru],35508);let ru=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];a.i(35508),a.s(["json",()=>rv],51441);let rv=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];a.i(51441),a.s(["json",()=>rw],20638);let rw=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}];a.i(20638),a.s(["json",()=>rx],87737);let rx=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}];a.i(87737),a.s(["json",()=>ry],88900);let ry=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}];a.i(88900),a.s(["json",()=>rz],90406);let rz=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}];a.i(90406),a.s(["json",()=>rA],50190);let rA=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}];a.i(50190),a.s(["json",()=>rB],4672);let rB=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];a.i(4672),a.s(["json",()=>rC],50380);let rC=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}];a.i(50380),a.s(["json",()=>rD],59176);let rD=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];a.i(59176),a.s(["json",()=>rE],44545);let rE=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];a.i(44545),a.s(["json",()=>rF],7091);let rF=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];a.i(7091),a.s(["json",()=>rG],39499);let rG=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];a.i(39499);var jd=jd,jd=jd;a.s(["OP_SCOPE_SUFFIX",()=>dP,"abs",()=>e1,"acos",()=>hW,"acosh",()=>hX,"add",()=>eH,"addN",()=>rH,"all",()=>hY,"any",()=>hZ,"argMax",()=>h$,"argMin",()=>h_,"asin",()=>h0,"asinh",()=>h1,"atan",()=>h2,"atan2",()=>h3,"atanh",()=>h4,"avgPool",()=>h5,"avgPool3d",()=>pm,"basicLSTMCell",()=>rI,"batchNorm",()=>h6,"batchNorm2d",()=>pg,"batchNorm3d",()=>pf,"batchNorm4d",()=>pe,"batchToSpaceND",()=>hQ,"bincount",()=>kn,"bitwiseAnd",()=>rJ,"booleanMaskAsync",()=>sh,"broadcastArgs",()=>rK,"broadcastTo",()=>fB,"buffer",()=>eD,"cast",()=>eE,"ceil",()=>h7,"clipByValue",()=>h8,"clone",()=>eF,"complex",()=>dR,"concat",()=>hS,"concat1d",()=>k1,"concat2d",()=>k2,"concat3d",()=>k3,"concat4d",()=>k4,"conv1d",()=>h9,"conv2d",()=>fH,"conv2dTranspose",()=>ia,"conv3d",()=>ol,"conv3dTranspose",()=>ok,"cos",()=>hN,"cosh",()=>hO,"cosineWindow",()=>j$,"cumprod",()=>hK,"cumsum",()=>fU,"denseBincount",()=>pM,"depthToSpace",()=>ib,"depthwiseConv2d",()=>ic,"diag",()=>rL,"dilation2d",()=>id,"div",()=>eJ,"divNoNan",()=>ie,"dot",()=>ig,"dropout",()=>k7,"einsum",()=>j7,"elu",()=>gM,"enclosingPowerOfTwo",()=>jZ,"ensureShape",()=>rM,"equal",()=>f7,"erf",()=>ih,"euclideanNorm",()=>il,"exp",()=>f$,"expandDims",()=>hU,"expm1",()=>im,"eye",()=>jT,"fft",()=>io,"fill",()=>eY,"floor",()=>gg,"floorDiv",()=>eI,"fused",()=>sn,"gather",()=>hV,"gatherND",()=>sl,"greater",()=>f5,"greaterEqual",()=>fy,"ifft",()=>ip,"imag",()=>fV,"image",()=>kO,"inTopKAsync",()=>sm,"irfft",()=>iq,"isFinite",()=>ir,"isInf",()=>is,"isNaN",()=>it,"leakyRelu",()=>gN,"less",()=>ga,"lessEqual",()=>fz,"linalg",()=>kP,"linspace",()=>rN,"localResponseNormalization",()=>iu,"log",()=>gj,"log1p",()=>iz,"logSigmoid",()=>iw,"logSoftmax",()=>ix,"logSumExp",()=>iy,"logicalAnd",()=>fA,"logicalNot",()=>hM,"logicalOr",()=>iA,"logicalXor",()=>iB,"losses",()=>kQ,"lowerBound",()=>rP,"matMul",()=>fw,"max",()=>ii,"maxPool",()=>iC,"maxPool3d",()=>pn,"maxPoolWithArgmax",()=>rQ,"maximum",()=>e5,"mean",()=>iD,"meshgrid",()=>rR,"min",()=>ij,"minimum",()=>iE,"mirrorPad",()=>iF,"mod",()=>iG,"moments",()=>ph,"movingAverage",()=>si,"mul",()=>eK,"multiRNNCell",()=>rS,"multinomial",()=>rT,"neg",()=>fc,"norm",()=>ik,"notEqual",()=>iH,"oneHot",()=>iI,"ones",()=>ge,"onesLike",()=>iJ,"op",()=>dQ,"outerProduct",()=>rU,"pad",()=>hP,"pad1d",()=>rV,"pad2d",()=>rW,"pad3d",()=>rX,"pad4d",()=>rY,"pool",()=>iK,"pow",()=>e$,"prelu",()=>gO,"print",()=>eG,"prod",()=>iL,"raggedGather",()=>rZ,"raggedRange",()=>r$,"raggedTensorToTensor",()=>r_,"rand",()=>r0,"randomGamma",()=>r1,"randomNormal",()=>k5,"randomStandardNormal",()=>r2,"randomUniform",()=>kX,"randomUniformInt",()=>r3,"range",()=>ko,"real",()=>fW,"reciprocal",()=>iM,"relu",()=>gP,"relu6",()=>gQ,"reshape",()=>fd,"reverse",()=>hL,"reverse1d",()=>r4,"reverse2d",()=>r5,"reverse3d",()=>r6,"reverse4d",()=>r7,"rfft",()=>iP,"round",()=>iQ,"rsqrt",()=>f_,"scalar",()=>eP,"scatterND",()=>sj,"searchSorted",()=>rO,"selu",()=>iR,"separableConv2d",()=>iS,"setdiff1dAsync",()=>r8,"sigmoid",()=>gR,"sign",()=>iT,"signal",()=>kN,"sin",()=>fK,"sinh",()=>fL,"slice",()=>gf,"slice1d",()=>kZ,"slice2d",()=>k$,"slice3d",()=>k_,"slice4d",()=>k0,"softmax",()=>iU,"softplus",()=>iv,"spaceToBatchND",()=>fx,"sparse",()=>kR,"sparseToDense",()=>sk,"spectral",()=>kM,"split",()=>fE,"sqrt",()=>eL,"square",()=>eM,"squaredDifference",()=>iV,"squeeze",()=>iW,"stack",()=>f1,"step",()=>fa,"stridedSlice",()=>iX,"string",()=>kS,"sub",()=>e_,"sum",()=>fe,"tan",()=>iY,"tanh",()=>iZ,"tensor",()=>dT,"tensor1d",()=>jY,"tensor2d",()=>j1,"tensor3d",()=>r9,"tensor4d",()=>sa,"tensor5d",()=>sb,"tensor6d",()=>sc,"tensorScatterUpdate",()=>sd,"tile",()=>f0,"topk",()=>i$,"transpose",()=>fX,"truncatedNormal",()=>kY,"unique",()=>i_,"unsortedSegmentSum",()=>f2,"unstack",()=>gh,"upperBound",()=>se,"variable",()=>lR,"where",()=>fC,"whereAsync",()=>sg,"zeros",()=>gd,"zerosLike",()=>eN],58406),a.s([],85538),a.i(85538),a.s(["OP_SCOPE_SUFFIX",()=>dP,"abs",()=>e1,"acos",()=>hW,"acosh",()=>hX,"add",()=>eH,"addN",()=>rH,"all",()=>hY,"any",()=>hZ,"argMax",()=>h$,"argMin",()=>h_,"asin",()=>h0,"asinh",()=>h1,"atan",()=>h2,"atan2",()=>h3,"atanh",()=>h4,"avgPool",()=>h5,"avgPool3d",()=>pm,"basicLSTMCell",()=>rI,"batchNorm",()=>h6,"batchNorm2d",()=>pg,"batchNorm3d",()=>pf,"batchNorm4d",()=>pe,"batchToSpaceND",()=>hQ,"bincount",()=>kn,"bitwiseAnd",()=>rJ,"booleanMaskAsync",()=>sh,"broadcastArgs",()=>rK,"broadcastTo",()=>fB,"buffer",()=>eD,"cast",()=>eE,"ceil",()=>h7,"clipByValue",()=>h8,"clone",()=>eF,"complex",()=>dR,"concat",()=>hS,"concat1d",()=>k1,"concat2d",()=>k2,"concat3d",()=>k3,"concat4d",()=>k4,"conv1d",()=>h9,"conv2d",()=>fH,"conv2dTranspose",()=>ia,"conv3d",()=>ol,"conv3dTranspose",()=>ok,"cos",()=>hN,"cosh",()=>hO,"cosineWindow",()=>j$,"cumprod",()=>hK,"cumsum",()=>fU,"denseBincount",()=>pM,"depthToSpace",()=>ib,"depthwiseConv2d",()=>ic,"diag",()=>rL,"dilation2d",()=>id,"div",()=>eJ,"divNoNan",()=>ie,"dot",()=>ig,"dropout",()=>k7,"einsum",()=>j7,"elu",()=>gM,"enclosingPowerOfTwo",()=>jZ,"ensureShape",()=>rM,"equal",()=>f7,"erf",()=>ih,"euclideanNorm",()=>il,"exp",()=>f$,"expandDims",()=>hU,"expm1",()=>im,"eye",()=>jT,"fft",()=>io,"fill",()=>eY,"floor",()=>gg,"floorDiv",()=>eI,"fused",()=>sn,"gather",()=>hV,"gatherND",()=>sl,"greater",()=>f5,"greaterEqual",()=>fy,"ifft",()=>ip,"imag",()=>fV,"image",()=>kO,"inTopKAsync",()=>sm,"irfft",()=>iq,"isFinite",()=>ir,"isInf",()=>is,"isNaN",()=>it,"leakyRelu",()=>gN,"less",()=>ga,"lessEqual",()=>fz,"linalg",()=>kP,"linspace",()=>rN,"localResponseNormalization",()=>iu,"log",()=>gj,"log1p",()=>iz,"logSigmoid",()=>iw,"logSoftmax",()=>ix,"logSumExp",()=>iy,"logicalAnd",()=>fA,"logicalNot",()=>hM,"logicalOr",()=>iA,"logicalXor",()=>iB,"losses",()=>kQ,"lowerBound",()=>rP,"matMul",()=>fw,"max",()=>ii,"maxPool",()=>iC,"maxPool3d",()=>pn,"maxPoolWithArgmax",()=>rQ,"maximum",()=>e5,"mean",()=>iD,"meshgrid",()=>rR,"min",()=>ij,"minimum",()=>iE,"mirrorPad",()=>iF,"mod",()=>iG,"moments",()=>ph,"movingAverage",()=>si,"mul",()=>eK,"multiRNNCell",()=>rS,"multinomial",()=>rT,"neg",()=>fc,"norm",()=>ik,"notEqual",()=>iH,"oneHot",()=>iI,"ones",()=>ge,"onesLike",()=>iJ,"op",()=>dQ,"outerProduct",()=>rU,"pad",()=>hP,"pad1d",()=>rV,"pad2d",()=>rW,"pad3d",()=>rX,"pad4d",()=>rY,"pool",()=>iK,"pow",()=>e$,"prelu",()=>gO,"print",()=>eG,"prod",()=>iL,"raggedGather",()=>rZ,"raggedRange",()=>r$,"raggedTensorToTensor",()=>r_,"rand",()=>r0,"randomGamma",()=>r1,"randomNormal",()=>k5,"randomStandardNormal",()=>r2,"randomUniform",()=>kX,"randomUniformInt",()=>r3,"range",()=>ko,"real",()=>fW,"reciprocal",()=>iM,"relu",()=>gP,"relu6",()=>gQ,"reshape",()=>fd,"reverse",()=>hL,"reverse1d",()=>r4,"reverse2d",()=>r5,"reverse3d",()=>r6,"reverse4d",()=>r7,"rfft",()=>iP,"round",()=>iQ,"rsqrt",()=>f_,"scalar",()=>eP,"scatterND",()=>sj,"searchSorted",()=>rO,"selu",()=>iR,"separableConv2d",()=>iS,"setdiff1dAsync",()=>r8,"sigmoid",()=>gR,"sign",()=>iT,"signal",()=>kN,"sin",()=>fK,"sinh",()=>fL,"slice",()=>gf,"slice1d",()=>kZ,"slice2d",()=>k$,"slice3d",()=>k_,"slice4d",()=>k0,"softmax",()=>iU,"softplus",()=>iv,"spaceToBatchND",()=>fx,"sparse",()=>kR,"sparseToDense",()=>sk,"spectral",()=>kM,"split",()=>fE,"sqrt",()=>eL,"square",()=>eM,"squaredDifference",()=>iV,"squeeze",()=>iW,"stack",()=>f1,"step",()=>fa,"stridedSlice",()=>iX,"string",()=>kS,"sub",()=>e_,"sum",()=>fe,"tan",()=>iY,"tanh",()=>iZ,"tensor",()=>dT,"tensor1d",()=>jY,"tensor2d",()=>j1,"tensor3d",()=>r9,"tensor4d",()=>sa,"tensor5d",()=>sb,"tensor6d",()=>sc,"tensorScatterUpdate",()=>sd,"tile",()=>f0,"topk",()=>i$,"transpose",()=>fX,"truncatedNormal",()=>kY,"unique",()=>i_,"unsortedSegmentSum",()=>f2,"unstack",()=>gh,"upperBound",()=>se,"variable",()=>lR,"where",()=>fC,"whereAsync",()=>sg,"zeros",()=>gd,"zerosLike",()=>eN],90225),a.i(43945);let rH=dQ({addN_:function(a){M(Array.isArray(a),()=>"The argument passed to tf.addN() must be a list of tensors"),M(a.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${a.length}`);let b=a.map((a,b)=>dN(a,`tensors${b}`,"addN")),c=b[0];return b.forEach(a=>{if(a.dtype!==c.dtype)throw Error("All tensors passed to tf.addN() must have the same dtype")}),b.forEach(a=>{if(!S(a.shape,c.shape))throw Error("All tensors passed to tf.addN() must have the same shape")}),dF.runKernel(aF,b)}}),rI=dQ({basicLSTMCell_:function(a,b,c,d,e,f){let g=dN(a,"forgetBias","basicLSTMCell"),h=dN(b,"lstmKernel","basicLSTMCell"),i=dN(c,"lstmBias","basicLSTMCell"),j=dN(d,"data","basicLSTMCell"),k=dN(e,"c","basicLSTMCell"),l=eH(fw(hS([j,dN(f,"h","basicLSTMCell")],1),h),i),m=l.shape[0],n=l.shape[1]/4,o=[m,n],p=gf(l,[0,0],o),q=gf(l,[0,n],o),r=gf(l,[0,2*n],o),s=gf(l,[0,3*n],o),t=eH(eK(gR(p),iZ(q)),eK(k,gR(eH(g,r)))),u=eK(iZ(t),gR(s));return[t,u]}}),rJ=dQ({bitwiseAnd_:function(a,b){let c=dN(a,"x","bitwiseAnd"),d=dN(b,"y","bitwiseAnd");if(!S(c.shape,d.shape))throw Error(`BitwiseAnd: Tensors must have the same shape. x: ${c.shape}, y: ${d.shape}`);if("int32"!==c.dtype||"int32"!==d.dtype)throw Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${c.dtype} and type of y: ${d.dtype}`);return dF.runKernel(aU,{a:c,b:d})}}),rK=dQ({broadcastArgs_:function(a,b){let c=dN(a,"s0","broadcastArgs","int32"),d=dN(b,"s1","broadcastArgs","int32");if(1!==c.rank)throw Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${c.rank}`);if(1!==d.rank)throw Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${d.rank}`);return dF.runKernel(aV,{s0:c,s1:d})}}),rL=dQ({diag_:function(a){let b=dN(a,"x","diag");return dF.runKernel(bf,{x:b})}}),rM=dQ({ensureShape_:function(a,b){let c=dN(a,"x","ensureShape","string_or_numeric");if(!R(c.shape,b))throw Error(`EnsureShape: Shape of tensor ${c.shape} is not compatible with expected shape ${b}`);return a}});function rN(a,b,c){if(c<=0)throw Error("The number of values should be positive.");return dF.runKernel(bI,{},{start:a,stop:b,num:c})}a.s(["searchSorted",()=>rO],3041);let rO=dQ({searchSorted_:function(a,b,c="left"){let d=dN(a,"sortedSequence","searchSorted"),e=dN(b,"values","searchSorted"),f=d.shape[d.shape.length-1],g=e.shape[e.shape.length-1],h=fd(d,[-1,f]),i=fd(e,[-1,g]);if(h.rank<2)throw Error("Sorted input argument must be at least 2-dimensional");if(h.shape[0]!==i.shape[0])throw Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(P(i.shape)>=0x80000000)throw Error("values tensor size must less than 2147483648");if(h.shape[1]>=0x80000000)throw Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${h.shape[1]}`);return dF.runKernel(cp,{sortedSequence:h,values:i},{side:c})}});function rP(a,b){return rO(a,b,"left")}let rQ=dQ({maxPoolWithArgmax_:function(a,b,c,d,e=!1){let f=dN(a,"x","maxPoolWithArgmax"),g=dF.runKernel(bT,{x:f},{filterSize:b,strides:c,pad:d,includeBatchInIndex:e});return{result:g[0],indexes:g[1]}}});function rR(a,b,{indexing:c="xy"}={}){if("xy"!==c&&"ij"!==c)throw TypeError(`${c} is not a valid third argument to meshgrid`);if(void 0===a)return[];let d=dN(a,"x","meshgrid",a instanceof dp?a.dtype:"float32");if(void 0===b)return[d];let e=dN(b,"y","meshgrid",b instanceof dp?b.dtype:"float32"),f=P(d.shape),g=P(e.shape);return"xy"===c?(d=fd(d,[1,-1]),e=fd(e,[-1,1]),[fw(ge([g,1],d.dtype),d),fw(e,ge([1,f],e.dtype))]):(d=fd(d,[-1,1]),e=fd(e,[1,-1]),[fw(d,ge([1,g],d.dtype)),fw(ge([f,1],e.dtype),e)])}let rS=dQ({multiRNNCell_:function(a,b,c,d){let e=dN(b,"data","multiRNNCell"),f=dO(c,"c","multiRNNCell"),g=dO(d,"h","multiRNNCell"),h=e,i=[];for(let b=0;b<a.length;b++){let c=a[b](h,f[b],g[b]);i.push(c[0]),i.push(c[1]),h=c[1]}let j=[],k=[];for(let a=0;a<i.length;a+=2)j.push(i[a]),k.push(i[a+1]);return[j,k]}}),rT=dQ({multinomial_:function(a,b,c,d=!1){let e=dN(a,"logits","multinomial"),f=e.size,g=e.rank;if(f<2)throw Error(`Error in multinomial: you need at least 2 outcomes, but got ${f}.`);if(g>2)throw Error(`Rank of probabilities must be 1 or 2, but is ${g}`);c=c||Math.random();let h=1===g?fd(e,[1,-1]):e,i={numSamples:b,seed:c,normalized:d},j=dF.runKernel(bX,{logits:h},i);return 1===g?fd(j,[j.size]):j}}),rU=dQ({outerProduct_:function(a,b){let c=dN(a,"v1","outerProduct"),d=dN(b,"v2","outerProduct");return M(1===c.rank&&1===d.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${c.rank} and ${d.rank}.`),fw(fd(c,[-1,1]),fd(d,[1,-1]))}}),rV=dQ({pad1d_:function(a,b,c=0){return M(2===b.length,()=>"Invalid number of paddings. Must be length of 2."),hP(a,[b],c)}}),rW=dQ({pad2d_:function(a,b,c=0){return M(2===b.length&&2===b[0].length&&2===b[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),hP(a,b,c)}}),rX=dQ({pad3d_:function(a,b,c=0){return M(3===b.length&&2===b[0].length&&2===b[1].length&&2===b[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),hP(a,b,c)}}),rY=dQ({pad4d_:function(a,b,c=0){return M(4===b.length&&2===b[0].length&&2===b[1].length&&2===b[2].length&&2===b[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),hP(a,b,c)}}),rZ=dQ({raggedGather_:function(a,b,c,d){let e=a.map((a,b)=>dN(a,`tensors${b}`,"raggedGather","int32")),f=dN(b,"paramsDenseValues","raggedGather"),g=dN(c,"indices","raggedGather","int32"),h=dF.runKernel(b7,{paramsNestedSplits:e,paramsDenseValues:f,indices:g},{outputRaggedRank:d});return{outputNestedSplits:h.slice(0,h.length-1),outputDenseValues:h[h.length-1]}}}),r$=dQ({raggedRange_:function(a,b,c){let d=dN(a,"starts","raggedRange"),e=dN(b,"limits","raggedRange",d.dtype),f=dN(c,"deltas","raggedRange",d.dtype),g=dF.runKernel(b8,{starts:d,limits:e,deltas:f});return{rtNestedSplits:g[0],rtDenseValues:g[1]}}}),r_=dQ({raggedTensorToTensor_:function(a,b,c,d,e){let f=dN(a,"shape","raggedTensorToTensor","int32"),g=dN(b,"values","raggedTensorToTensor"),h=dN(c,"defaultValue","raggedTensorToTensor",g.dtype),i=d.map((a,b)=>dN(a,`tensors${b}`,"raggedTensorToTensor","int32"));return dF.runKernel(b9,{shape:f,values:g,defaultValue:h,rowPartitionTensors:i},{rowPartitionTypes:e})}}),r0=dQ({rand_:function(a,b,c){at(a);let d=P(a),e=null;if(null==c||"float32"===c)e=new Float32Array(d);else if("int32"===c)e=new Int32Array(d);else if("bool"===c)e=new Uint8Array(d);else throw Error(`Unknown data type ${c}`);for(let a=0;a<d;a++)e[a]=b();return dF.makeTensor(e,a,c)}}),r1=dQ({randomGamma_:function(a,b,c=1,d="float32",e){if(at(a),null==c&&(c=1),null==d&&(d="float32"),"float32"!==d&&"int32"!==d)throw Error(`Unsupported data type ${d}`);let f=new kV(b,c,d,e),g=eD(a,d);for(let a=0;a<g.values.length;a++)g.values[a]=f.nextValue();return g.toTensor()}}),r2=dQ({randomStandardNormal_:function(a,b,c){if(null!=b&&"bool"===b)throw Error(`Unsupported data type ${b}`);return k5(a,0,1,b,c)}}),r3=dQ({randomUniformInt_:function(a,b,c,d){return kX(a,b,c,"int32",d)}}),r4=dQ({reverse1d_:function(a){let b=dN(a,"x","reverse");return M(1===b.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${b.rank}.`),hL(b,0)}}),r5=dQ({reverse2d_:function(a,b){let c=dN(a,"x","reverse");return M(2===c.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${c.rank}.`),hL(c,b)}}),r6=dQ({reverse3d_:function(a,b){let c=dN(a,"x","reverse");return M(3===c.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${c.rank}.`),hL(c,b)}}),r7=dQ({reverse4d_:function(a,b){let c=dN(a,"x","reverse");return M(4===c.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${c.rank}.`),hL(c,b)}}),r8=async function(a,b){let c=dN(a,"x","setdiff1d"),d=dN(b,"y","setdiff1d");M(c.dtype===d.dtype,()=>`x and y should have the same dtype, but got x (${c.dtype}) and y (${d.dtype}).`),M(1===c.rank,()=>`x should be 1D tensor, but got x (${c.shape}).`),M(1===d.rank,()=>`y should be 1D tensor, but got y (${d.shape}).`);let e=await c.data(),f=new Set(await d.data()),g=0;for(let a=0;a<e.length;a++)!f.has(e[a])&&g++;let h=new dl([g],c.dtype),i=new dl([g],"int32");for(let a=0,b=0;a<e.length;a++)!f.has(e[a])&&(h.values[b]=e[a],i.values[b]=a,b++);return[h.toTensor(),i.toTensor()]};function r9(a,b,c){if(O(a),null!=b&&3!==b.length)throw Error("tensor3d() requires shape to have three numbers");let d=dL(a,c);if(3!==d.length&&1!==d.length)throw Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===d.length&&null==b)throw Error("tensor3d() requires shape to be provided when `values` are a flat array");return dS(a,b,d,c)}function sa(a,b,c){if(O(a),null!=b&&4!==b.length)throw Error("tensor4d() requires shape to have four numbers");let d=dL(a,c);if(4!==d.length&&1!==d.length)throw Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===d.length&&null==b)throw Error("tensor4d() requires shape to be provided when `values` are a flat array");return dS(a,b,d,c)}function sb(a,b,c){if(O(a),null!=b&&5!==b.length)throw Error("tensor5d() requires shape to have five numbers");let d=dL(a,c);if(5!==d.length&&1!==d.length)throw Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===d.length&&null==b)throw Error("tensor5d() requires shape to be provided when `values` are a flat array");return dS(a,b,d,c)}function sc(a,b,c){if(O(a),null!=b&&6!==b.length)throw Error("tensor6d() requires shape to have six numbers");let d=dL(a,c);if(6!==d.length&&1!==d.length)throw Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===d.length&&null==b)throw Error("tensor6d() requires shape to be provided when `values` are a flat array");return dS(a,b=b||d,d,c)}let sd=dQ({tensorScatterUpdate_:function(a,b,c){let d=dN(a,"tensor","tensorScatterupdate"),e=dN(b,"indices","tensorScatterupdate","int32"),f=dN(c,"updates","tensorScatterupdate");if(g7(f,e,d.shape),d.dtype!==f.dtype)throw Error(`tensor and updates must have the same dtype, instead they are ${d.dtype} and ${f.dtype}.`);return dF.runKernel(co,{tensor:d,indices:e,updates:f},{})}});function se(a,b){return rO(a,b,"right")}function sf(a,b){let c=[];for(let a=0;a<b.length;a++)b[a]&&c.push(a);let d=eD(a,"int32"),e=eD([c.length,a.length],"int32");for(let b=0;b<c.length;b++){let f=d.indexToLoc(c[b]),g=b*a.length;e.values.set(f,g)}return e.toTensor()}let sg=async function(a){let b=dN(a,"condition","whereAsync","bool"),c=await b.data(),d=sf(b.shape,c);return a!==b&&b.dispose(),d};a.s(["booleanMaskAsync",()=>sh],89419);let sh=async function(a,b,c){let d=dN(a,"tensor","boolMask"),e=dN(b,"mask","boolMask","bool"),f=null==c?0:c,g=e.rank,h=d.shape;M(g>0,()=>"mask cannot be scalar"),N(h.slice(f,f+g),e.shape,"mask's shape must match the first K dimensions of tensor's shape,");let i=1;for(let a=f;a<f+g;a++)i*=h[a];let j=fd(d,h.slice(0,f).concat([i],h.slice(f+g))),k=fd(e,[-1]),l=await sg(k),m=iW(l,[1]),n=hV(j,m,f);return a!==d&&d.dispose(),b!==e&&e.dispose(),m.dispose(),j.dispose(),k.dispose(),l.dispose(),n};a.i(89419),a.i(29970),a.i(54846),a.s(["movingAverage",()=>si],23837);let si=dQ({movingAverage_:function(a,b,c,d,e=!0){let f=dN(a,"v","movingAverage"),g=dN(b,"x","movingAverage"),h=dN(c,"decay","movingAverage");dy(f,g),M(S(f.shape,g.shape),()=>"Shape mismatch in v and x");let i=eP(1),j=e_(i,h),k=eK(e_(g,f),j);return e&&(M(null!=d,()=>"When using zeroDebias: true, step is required."),k=eJ(k,e_(i,e$(h,dN(d,"step","movingAverage"))))),eH(f,k)}});a.i(23837),a.s(["scatterND",()=>sj],79365);let sj=dQ({scatterND_:function(a,b,c){at(c);let d=dN(a,"indices","scatterND","int32"),e=dN(b,"updates","scatterND");return g7(e,d,c),dF.runKernel(cn,{indices:d,updates:e},{shape:c})}});a.i(79365),a.i(3041),a.s(["sparseToDense",()=>sk],985);let sk=dQ({sparseToDense_:function(a,b,c,d=0){at(c);let e=dN(a,"sparseIndices","sparseToDense","int32"),f=dN(b,"sparseValues","sparseToDense","string_or_numeric"),g=dN(d,"defaultValue","sparseToDense",f.dtype);if("int32"!==e.dtype)throw Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);let h=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(c.length!==i)throw Error(`outputShape has incorrect number of elements:, ${c.length}, should be: ${i}.`);let j=f.size;if(0!==f.rank&&(1!==f.rank||j!==h))throw Error(`sparseValues has incorrect shape ${f.shape}, should be [] or [${h}]`);if(f.dtype!==g.dtype)throw Error("sparseValues.dtype must match defaultValues.dtype");return dF.runKernel(cF,{sparseIndices:e,sparseValues:f,defaultValue:g},{outputShape:c})}});a.i(985),a.s(["gatherND",()=>sl],63219);let sl=dQ({gatherND_:function(a,b){let c=dN(b,"indices","gatherND","int32"),d=dN(a,"x","gatherND","string_or_numeric");return dF.runKernel(bw,{params:d,indices:c})}});a.i(63219),a.i(43791),a.i(65432),a.s(["inTopKAsync",()=>sm],22613);let sm=async function(a,b,c=1){let d=dN(a,"predictions","inTopK"),e=dN(b,"targets","inTopK");M(d.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${d.rank}`),M(d.rank-1===e.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${d.rank} and targets rank ${e.rank}`),N(d.shape.slice(0,d.shape.length-1),e.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");let f=d.shape[d.shape.length-1];M(c>0&&c<=f,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${f}), but got ${c}`);let g=await d.data(),h=await e.data(),[i,j]=[g.length/f,f],k=ab("bool",i);for(let a=0;a<i;a++){let b=a*j,d=g.subarray(b,b+j),e=[];for(let a=0;a<d.length;a++)e.push({value:d[a],index:a});e.sort((a,b)=>b.value-a.value),k[a]=0;for(let b=0;b<c;b++)if(e[b].index===h[a]){k[a]=1;break}}return a!==d&&d.dispose(),b!==e&&e.dispose(),dT(k,e.shape,"bool")};a.i(22613);var sn=jX;a.i(90225),a.i(58406);var jd=jd,jd=jd,jd=jd;a.s([],45593);var jd=jd,so=a.i(99899),so=so,jd=jd,jd=jd;function sp(a,b,c=new Map,d=new Set){if(null==a)return null;if("function"==typeof Blob&&a instanceof Blob)return a.slice();if(d.has(a))throw Error("Circular references are not supported.");if(c.has(a))return c.get(a);let e=b(a);if(e.recurse&&null!==e.value)throw Error("A deep map function may not return both a value and recurse=true.");if(!e.recurse)return c.set(a,e.value),e.value;if(ss(a)){let e=Array.isArray(a)?[]:{};for(let f in d.add(a),a){let g=sp(a[f],b,c,d);e[f]=g}return d.delete(a),a.__proto__&&(e.__proto__=a.__proto__),e}throw Error(`Can't recurse into non-iterable type: ${a}`)}function sq(a){return null===a?null:ss(a[0])?{value:null,recurse:!0}:{value:a,recurse:!1}}async function sr(a,b){let c=new Map;for(let d of(sp(a,b,c),Array.from(c.keys()))){let a=c.get(d);if(jd.isPromise(a)){let b=await a;c.set(d,b)}}return sp(a,b,c)}function ss(b){let c=!1;if(aA.get("IS_BROWSER"))c=b instanceof TextDecoder;else{let{StringDecoder:d}=a.r(99348);c=b instanceof d}return null!=b&&!ArrayBuffer.isView(b)&&(Array.isArray(b)||"object"==typeof b&&!(b instanceof dp)&&!(b instanceof Promise)&&!c)}function st(a){return a instanceof dp?{value:a.clone(),recurse:!1}:ss(a)?{value:null,recurse:!0}:{value:a,recurse:!1}}class su{constructor(a){if(this.capacity=a,this.begin=0,this.end=0,null==a)throw RangeError("Can't create a ring buffer of unknown capacity.");if(a<1)throw RangeError("Can't create ring buffer of capacity < 1.");this.data=Array(a),this.doubledCapacity=2*a}wrap(a){for(;a<0;)a+=this.doubledCapacity;return a%this.doubledCapacity}get(a){if(a<0)throw RangeError("Can't get item at a negative index.");return this.data[a%this.capacity]}set(a,b){if(a<0)throw RangeError("Can't set item at a negative index.");this.data[a%this.capacity]=b}length(){let a=this.end-this.begin;return a<0&&(a=this.doubledCapacity+a),a}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(a){if(this.isFull())throw RangeError("Ring buffer is full.");this.set(this.end,a),this.end=this.wrap(this.end+1)}pushAll(a){for(let b of a)this.push(b)}pop(){if(this.isEmpty())throw RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);let a=this.get(this.end);return this.set(this.end,void 0),a}unshift(a){if(this.isFull())throw RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,a)}shift(){if(this.isEmpty())throw RangeError("Ring buffer is empty.");let a=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),a}shuffleExcise(a){if(this.isEmpty())throw RangeError("Ring buffer is empty.");let b=this.wrap(this.begin+a),c=this.get(b);return this.set(b,this.pop()),c}}class sv extends su{constructor(){super(sv.INITIAL_CAPACITY)}isFull(){return!1}push(a){super.isFull()&&this.expand(),super.push(a)}unshift(a){super.isFull()&&this.expand(),super.unshift(a)}expand(){let a=2*this.capacity,b=Array(a),c=this.length();for(let a=0;a<c;a++)b[a]=this.get(this.wrap(this.begin+a));this.data=b,this.capacity=a,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=c}}sv.INITIAL_CAPACITY=32;class sw{async toArray(){let a=[],b=await this.next();for(;!b.done;)a.push(b.value),b=await this.next();return a}async toArrayForTest(){let a=this.prefetch(100),b=[],c=await a.next();for(;!c.done;)b.push(c.value),c=await a.next();return b}async resolveFully(){let a=await this.next();for(;!a.done;)a=await this.next()}async resolveWhile(a){let b=await this.next(),c=a(b.value);for(;!b.done&&c;)c=a((b=await this.next()).value)}handleErrors(a){return new sF(this,a)}filter(a){return new sD(this,a)}map(a){return new sE(this,a)}mapAsync(a){return new sG(this,a)}serialMapAsync(a){return new sG(this,a).serial()}flatmap(a){return new sI(this,a)}async forEachAsync(a){return this.map(a).resolveFully()}async serialForEach(a){return this.serialMapAsync(a).resolveWhile(a=>!0===a)}rowMajorBatch(a,b=!0){return new sC(this,a,b)}columnMajorBatch(a,b=!0,c=sq){return this.rowMajorBatch(a,b).map(a=>(function(a,b=sq){return function a(b,c,d=new Set){let e=b[0];if(d.has(e))throw Error("Circular references are not supported.");let f=c(b);if(f.recurse&&null!==f.value)throw Error("A deep zip function may not return both a value and recurse=true.");if(!f.recurse)return f.value;if(ss(e)){let f=Array.isArray(e)?[]:{};for(let g in d.add(e),e){let e=a(b.map(a=>a[g]),c,d);f[g]=e}return d.delete(e),f}throw Error(`Can't recurse into non-iterable type: ${e}`)}(a,b)})(a,c))}concatenate(a,b){return new sJ(new sx([this,a]),b)}take(a){return a<0||null==a?this:new sB(this,a)}skip(a){return a<0||null==a?this:new sA(this,a)}prefetch(a){return new sL(this,a)}shuffle(a,b){return new sM(this,a,b)}serial(){return new sz(this)}}class sx extends sw{constructor(a){super(),this.items=a,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};let a=this.items[this.trav];return this.trav++,{value:sp(a,st),done:!1}}}class sy extends sw{constructor(a){super(),this.nextFn=a}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(a){throw a.message=`Error thrown while iterating through a dataset: ${a.message}`,a}}}class sz extends sw{constructor(a){super(),this.upstream=a,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class sA extends sw{constructor(a,b){super(),this.upstream=a,this.maxCount=b,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){let a=await this.upstream.next();if(a.done)return a;dY(a.value)}return this.upstream.next()}}class sB extends sw{constructor(a,b){super(),this.upstream=a,this.maxCount=b,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class sC extends sw{constructor(a,b,c=!0){super(),this.upstream=a,this.batchSize=b,this.enableSmallLastBatch=c,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){let a=[];for(;a.length<this.batchSize;){let b=await this.upstream.next();if(b.done){if(this.enableSmallLastBatch&&a.length>0)return{value:a,done:!1};return{value:null,done:!0}}a.push(b.value)}return{value:a,done:!1}}}class sD extends sw{constructor(a,b){super(),this.upstream=a,this.predicate=b,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){let a=await this.upstream.next();if(a.done||this.predicate(a.value))return a;dY(a.value)}}}class sE extends sw{constructor(a,b){super(),this.upstream=a,this.transform=b}summary(){return`${this.upstream.summary()} -> Map`}async next(){let a=await this.upstream.next();if(a.done)return{value:null,done:!0};let b=so.getTensorsInContainer(a.value),c=this.transform(a.value),d=so.getTensorsInContainer(c);for(let a of b)so.isTensorInList(a,d)||a.dispose();return{value:c,done:!1}}}class sF extends sw{constructor(a,b){super(),this.upstream=a,this.handler=b,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(a){if(!this.handler(a))return{value:null,done:!0}}}}class sG extends sw{constructor(a,b){super(),this.upstream=a,this.transform=b}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){let a=await this.upstream.next();if(a.done)return{value:null,done:!0};let b=so.getTensorsInContainer(a.value),c=await this.transform(a.value),d=so.getTensorsInContainer(c);for(let a of b)so.isTensorInList(a,d)||a.dispose();return{value:c,done:!1}}}class sH extends sw{constructor(){super(),this.outputQueue=new sv,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class sI extends sH{constructor(a,b){super(),this.upstream=a,this.transform=b}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){let a=await this.upstream.next();if(a.done)return!1;let b=so.getTensorsInContainer(a.value),c=this.transform(a.value),d=so.getTensorsInContainer(c);for(let a of(this.outputQueue.pushAll(c),b))so.isTensorInList(a,d)||a.dispose();return!0}}class sJ extends sw{constructor(a,b){super(),this.baseErrorHandler=b,this.lastRead=null,this.iterator=null,this.moreIterators=a}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(a){if(await a,null==this.iterator){let a=await this.moreIterators.next();if(a.done)return{value:null,done:!0};this.iterator=a.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}let b=await this.iterator.next();return b.done?(this.iterator=null,this.readFromChain(a)):b}}!function(a){a[a.FAIL=0]="FAIL",a[a.SHORTEST=1]="SHORTEST",a[a.LONGEST=2]="LONGEST"}(t||(t={}));class sK extends sw{constructor(a,b=t.FAIL){super(),this.iterators=a,this.mismatchMode=b,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(a){await a;let b=0,c=0,d=await sr(this.iterators,function(a){return a instanceof sw?{value:a.next().then(a=>(b++,a.done&&c++,a.value)),recurse:!1}:{value:null,recurse:!0}});if(b===c)return{value:null,done:!0};if(c>0)switch(this.mismatchMode){case t.FAIL:throw Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case t.SHORTEST:return{value:null,done:!0};case t.LONGEST:}return this.count++,{value:d,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class sL extends sw{constructor(a,b){super(),this.upstream=a,this.bufferSize=b,this.buffer=new su(b)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){let a=this.upstream.next();this.buffer.push(a)}}next(){return this.refill(),this.buffer.shift()}}class sM extends sL{constructor(a,b,c){super(a,b),this.upstream=a,this.windowSize=b,this.upstreamExhausted=!1,this.random=kT.alea(c||jd.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(a){return Math.floor(this.random()*a)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){let a=this.chooseIndex(),b=await this.buffer.shuffleExcise(a);if(!b.done)return this.refill(),b;this.upstreamExhausted=!0}return{value:null,done:!0}}}class sN{constructor(){this.size=null}batch(a,b=!0){let c=this;return jd.assert(a>0,()=>`batchSize needs to be positive, but it is
      ${a}`),sO(async()=>(await c.iterator()).columnMajorBatch(a,b,sR),this.size===1/0||null==this.size?this.size:b?Math.ceil(this.size/a):Math.floor(this.size/a))}concatenate(a){let b=this;return sO(async()=>(await b.iterator()).concatenate(await a.iterator()),this.size===1/0||a.size===1/0?1/0:null!=this.size&&null!=a.size?this.size+a.size:null)}filter(a){let b=this;return sO(async()=>(await b.iterator()).filter(b=>dX(()=>a(b))),this.size===1/0?1/0:null)}async forEachAsync(a){return(await this.iterator()).forEachAsync(a)}map(a){let b=this;return sO(async()=>(await b.iterator()).map(b=>dX(()=>a(b))),this.size)}mapAsync(a){let b=this;return sO(async()=>(await b.iterator()).mapAsync(a),this.size)}prefetch(a){if(null==a)throw RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");let b=this;return sO(async()=>(await b.iterator()).prefetch(a),this.size)}repeat(a){let b=this;return sO(async()=>new sJ(new sy(async()=>({value:await b.iterator(),done:!1})).take(a),void 0),null!=this.size&&a>0?this.size*a:0===a?0:null!=this.size&&(void 0===a||a<0)?1/0:null)}skip(a){let b=this;return sO(async()=>(await b.iterator()).skip(a),null!=this.size&&a>=0&&this.size>=a?this.size-a:null!=this.size&&(this.size<a||void 0===a||a<0)?0:null)}shuffle(a,b,c=!0){if(null==a||a<0)if(null==this.size)throw RangeError("`Dataset.shuffle()` requires bufferSize to be specified.");else throw RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);let d=this,e=kT.alea(b||jd.now().toString());return sO(async()=>{let b=e.int32();return c&&(b+=e.int32()),(await d.iterator()).shuffle(a,b.toString())},this.size)}take(a){let b=this;return sO(async()=>(await b.iterator()).take(a),null!=this.size&&this.size>a?a:null!=this.size&&this.size<=a?this.size:null)}async toArray(){if(this.size===1/0)throw Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function sO(a,b=null){return new class extends sN{constructor(){super(...arguments),this.size=b}async iterator(){return a()}}}function sP(a){return sO(async()=>new sx(a),a.length)}function sQ(a){let b;if(!ss(a))throw Error("The argument to zip() must be an object or array.");if(Array.isArray(a))for(let c=0;c<a.length;c++)b=null==b?a[c].size:Math.min(b,a[c].size);else if(a instanceof Object)for(let c in a)b=null==b?a[c].size:Math.min(b,a[c].size);return sO(async()=>(function(a,b=t.FAIL){return new sK(a,b)})(await sr(a,a=>{if(a instanceof sN)return{value:a.iterator(),recurse:!1};if(ss(a))return{value:null,recurse:!0};throw Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}),t.SHORTEST),b)}function sR(a){var b,c;if(null===a)return null;return null==(b=a[0])||null===(c=b)||"object"!=typeof c&&"function"!=typeof c||Array.isArray(b)||"object"==typeof b&&b instanceof dp||jd.isTypedArray(b)?{value:function(a){if(0===a.length)throw Error("Can't make a batch of zero elements.");return a[0]instanceof dp?f1(a):dT(a)}(a),recurse:!1}:{value:null,recurse:!0}}sN.MAX_BUFFER_SIZE=1e4;var jd=jd;class sS extends sN{constructor(a){super(),this.input=a}async iterator(){return(await this.input.iterator()).decodeUTF8().split("\n").map(a=>(a.endsWith("\r")&&(a=a.slice(0,-1)),a))}}let sT=Symbol("out"),sU=Symbol("field"),sV=Symbol("quote"),sW=Symbol("quoteafterquote"),sX=Symbol("quoteinquote");class sY extends sN{async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){let a=await this.maybeReadHeaderLine();if(this.fullColumnNames||a)this.fullColumnNames&&a&&jd.assert(a.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+a.length.toString()+").");else throw Error("Column names must be provided if there is no header line.");this.fullColumnNames||(this.fullColumnNames=a);let b=this.fullColumnNames.reduce((a,b)=>(a[b]=a[b]+1||1,a),{}),c=Object.keys(b).filter(a=>b[a]>1);if(jd.assert(0===c.length,()=>"Duplicate column names found: "+c.toString()),this.columnConfigs){for(let a of Object.keys(this.columnConfigs))if(-1===this.fullColumnNames.indexOf(a))throw Error('The key "'+a+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(!this.hasHeader)return null;{let a=await this.base.iterator(),b=await a.next();if(b.done)throw Error("No data was found for CSV parsing.");let c=b.value;return this.parseRow(c,!1)}}constructor(a,b){super(),this.input=a,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new sS(a),b||(b={}),this.hasHeader=!1!==b.hasHeader,this.fullColumnNames=b.columnNames,this.columnConfigs=b.columnConfigs,this.configuredColumnsOnly=b.configuredColumnsOnly,b.delimWhitespace?(jd.assert(null==b.delimiter,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=b.delimiter?b.delimiter:","}async iterator(){this.columnNamesValidated||await this.setColumnNames();let a=await this.base.iterator();return this.hasHeader&&(a=a.skip(1)),a.map(a=>this.makeDataElement(a))}makeDataElement(a){let b=this.parseRow(a),c={},d={};for(let e=0;e<this.fullColumnNames.length;e++){let f=this.fullColumnNames[e],g=this.columnConfigs?this.columnConfigs[f]:null;if(!this.configuredColumnsOnly||g){let h=b[e],i=null;if(""===h)if(g&&void 0!==g.default)i=g.default;else if(g&&(g.required||g.isLabel))throw Error(`Required column ${f} is empty in this line: ${a}`);else i=void 0;else{let a=Number(h);if(isNaN(a))i=g&&"bool"===g.dtype?this.getBoolean(h):h;else if(g&&g.dtype)switch(g.dtype){case"float32":default:i=a;break;case"int32":i=Math.floor(a);break;case"bool":i=this.getBoolean(h)}else i=a}g&&g.isLabel?d[f]=i:c[f]=i}}return 0===Object.keys(d).length?c:{xs:c,ys:d}}getBoolean(a){return+("1"===a||"true"===a.toLowerCase())}parseRow(a,b=!0){let c=[],d=0,e=a.length,f=sT;for(let b=0;b<e;b++)switch(f){case sT:switch(a.charAt(b)){case'"':d=b+1,f=sV;break;case this.delimiter:if(d=b+1," "===this.delimiter&&this.delimWhitespace)break;c.push(""),f=sT;break;default:f=sU,d=b}break;case sU:a.charAt(b)===this.delimiter&&(c.push(a.substring(d,b)),f=sT,d=b+1);break;case sV:'"'===a.charAt(b)&&(f=sW);break;case sW:switch(a.charAt(b)){case this.delimiter:c.push(a.substring(d,b-1)),f=sT,d=b+1;break;case'"':f=sV;break;default:f=sX}break;case sX:'"'===a.charAt(b)&&(f=sV)}if(f===sW?c.push(a.substring(d,e-1)):c.push(a.substring(d)),b&&c.length!==this.fullColumnNames.length)throw Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${c}`);return c}}var jd=jd;class sZ extends sw{constructor(a){super(),this.microphoneConfig=a,this.isClosed=!1,this.fftSize=a.fftSize||1024;let b=Math.log2(this.fftSize);if(this.fftSize<0||b<4||b>14||!Number.isInteger(b))throw Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=a.numFramesPerSpectrogram||43,this.sampleRateHz=a.sampleRateHz,this.columnTruncateLength=a.columnTruncateLength||this.fftSize,this.audioTrackConstraints=a.audioTrackConstraints,this.smoothingTimeConstant=a.smoothingTimeConstant||0,this.includeSpectrogram=!1!==a.includeSpectrogram,this.includeWaveform=!0===a.includeWaveform,!this.includeSpectrogram&&!this.includeWaveform)throw Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(a={}){if(!aA.get("IS_BROWSER"))throw Error("microphone API is only supported in browser environment.");let b=new sZ(a);return await b.start(),b}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})}catch(a){throw Error(`Error thrown while initializing video stream: ${a.message}`)}if(!this.stream)throw Error("Could not obtain audio from microphone.");let a=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new a,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`)}else this.sampleRateHz=this.audioContext.sampleRate;let b=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,b.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){let a,b;if(this.isClosed)return{value:null,done:!0};let c=await this.getAudioData();if(this.includeSpectrogram){let b=this.flattenQueue(c.freqDataQueue);a=this.getTensorFromAudioDataArray(b,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){let a=this.flattenQueue(c.timeDataQueue);b=this.getTensorFromAudioDataArray(a,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:a,waveform:b},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){let a=[],b=[],c=0;return new Promise(d=>{let e=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&d({freqDataQueue:a,timeDataQueue:b}),a.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),b.push(this.timeData.slice())),++c===this.numFrames&&(clearInterval(e),d({freqDataQueue:a,timeDataQueue:b}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){!this.isClosed&&(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(a){let b=a[0].length,c=new Float32Array(a.length*b);return a.forEach((a,d)=>c.set(a,d*b)),c}getTensorFromAudioDataArray(a,b){let c=new Float32Array(jd.sizeFromShape(b));return c.set(a,c.length-a.length),dT(c,b)}}a.s(["draw",()=>s3,"fromPixels",()=>s4,"fromPixelsAsync",()=>s0,"toPixels",()=>s2],66532);let s$=!1;function s_(a,b=3){let c,d;if(b>4)throw Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==a)throw Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,g=!1,h=!1,i=!1,j=!1,k=!1;if(a.data instanceof Uint8Array)e=!0;else if("undefined"!=typeof ImageData&&a instanceof ImageData)g=!0;else if("undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement)h=!0;else if("undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement)i=!0;else if(null!=a.getContext)j=!0;else if("undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap)k=!0;else throw Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${a.constructor.name}`);if(null!=c4(cX,dF.backendName))return dF.runKernel(cX,{pixels:a},{numChannels:b});let[l,m]=h?[a.videoWidth,a.videoHeight]:[a.width,a.height];if(j)c=a.getContext("2d").getImageData(0,0,l,m).data;else if(g||e)c=a.data;else if(i||h||k){if(null==f)if("undefined"==typeof document)if("undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof OffscreenCanvasRenderingContext2D)f=new OffscreenCanvas(1,1).getContext("2d");else throw Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else f=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});f.canvas.width=l,f.canvas.height=m,f.drawImage(a,0,0,l,m),c=f.getImageData(0,0,l,m).data}if(4===b)d=new Int32Array(c);else{let a=l*m;d=new Int32Array(a*b);for(let e=0;e<a;e++)for(let a=0;a<b;++a)d[e*b+a]=c[4*e+a]}return r9(d,[m,l,b],"int32")}async function s0(a,b=3){return aA.getBool("WRAP_TO_IMAGEBITMAP"),s_(a,b)}function s1(a){if(2!==a.rank&&3!==a.rank)throw Error(`toPixels only supports rank 2 or 3 tensors, got rank ${a.rank}.`);let b=2===a.rank?1:a.shape[2];if(b>4||2===b)throw Error(`toPixels only supports depth of size 1, 3 or 4 but got ${b}`);if("float32"!==a.dtype&&"int32"!==a.dtype)throw Error(`Unsupported type for toPixels: ${a.dtype}. Please use float32 or int32 tensors.`)}async function s2(a,b){let c=dN(a,"img","toPixels");if(!(a instanceof dp)){let a=c;c=eE(a,"int32"),a.dispose()}s1(c);let[d,e]=c.shape.slice(0,2),f=2===c.rank?1:c.shape[2],g=await c.data(),h="float32"===c.dtype?255:1,i=new Uint8ClampedArray(e*d*4);for(let a=0;a<d*e;++a){let b=[0,0,0,255];for(let d=0;d<f;d++){let e=g[a*f+d];if("float32"===c.dtype){if(e<0||e>1)throw Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${e}.`)}else if("int32"===c.dtype&&(e<0||e>255))throw Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${e}.`);1===f?(b[0]=e*h,b[1]=e*h,b[2]=e*h):b[d]=e*h}let d=4*a;i[d+0]=Math.round(b[0]),i[d+1]=Math.round(b[1]),i[d+2]=Math.round(b[2]),i[d+3]=Math.round(b[3])}if(null!=b){s$||null!=c4(bj,dF.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),s$=!0),b.width=e,b.height=d;let a=b.getContext("2d"),c=new ImageData(i,e,d);a.putImageData(c,0,0)}return c!==a&&c.dispose(),i}function s3(a,b,c){let d=dN(a,"img","draw");if(!(a instanceof dp)){let a=d;d=eE(a,"int32"),a.dispose()}s1(d);var e=null==c?void 0:c.imageOptions;let f=(null==e?void 0:e.alpha)||1;if(f>1||f<0)throw Error(`Alpha value ${f} is suppoed to be in range [0 - 1].`);let g={image:d};dF.runKernel(bj,g,{canvas:b,options:c})}let s4=dQ({fromPixels_:s_});var s5=a.i(66532),s5=s5,jd=jd;class s6 extends sw{constructor(a,b){if(super(),this.webcamVideoElement=a,this.webcamConfig=b,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=jY([0],"int32"),this.webcamConfig.centerCrop){let a=this.webcamConfig.resizeWidth/this.webcamVideoElement.width,b=this.webcamConfig.resizeHeight/this.webcamVideoElement.height,c=(1-a)/2,d=(1-b)/2;this.cropBox=j1([d,c,b+d,c+a],[1,4])}else this.cropBox=j1([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(a,b={}){if(!aA.get("IS_BROWSER"))throw Error("tf.data.webcam is only supported in browser environment.");if(!a){if(a=document.createElement("video"),!b.resizeWidth||!b.resizeHeight)throw Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");a.width=b.resizeWidth,a.height=b.resizeHeight}let c=new s6(a,b);return await c.start(),c}async start(){this.webcamConfig.facingMode&&jd.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(a){throw a.message=`Error thrown while initializing video stream: ${a.message}`,a}if(!this.stream)throw Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(a){console.log(a),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(a=>{this.webcamVideoElement.onloadedmetadata=()=>{a()}})}async next(){let a;if(this.isClosed)return{value:null,done:!0};try{a=s5.fromPixels(this.webcamVideoElement)}catch(a){throw Error(`Error thrown converting video to pixels: ${JSON.stringify(a)}`)}if(!this.resize)return{value:a,done:!1};try{return{value:this.cropAndResizeFrame(a),done:!1}}catch(a){throw Error(`Error thrown cropping the video: ${a.message}`)}finally{a.dispose()}}needToResize(){return!!this.webcamConfig.resizeWidth&&!!this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight)}cropAndResizeFrame(a){return dX(()=>{let b,c=hU(eE(a,"float32"),0),d=(b=kO.cropAndResize(c,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear")).shape;return fd(b,d.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(a=>a.stop());try{this.webcamVideoElement.srcObject=null}catch(a){console.log(a),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw Error("Can not convert infinite video stream to array.")}}class s7{}var jd=jd,jd=jd;class s8 extends sw{split(a){return new s9(this,a)}}class s9 extends s8{constructor(a,b){super(),this.upstream=a,this.impl=new ta(a,b)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class ta extends sH{constructor(a,b){super(),this.upstream=a,this.separator=b,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){let a=await this.upstream.next();if(a.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);let b=a.value.split(this.separator);for(let a of(b[0]=this.carryover+b[0],b.slice(0,-1)))this.outputQueue.push(a);return this.carryover=b[b.length-1],!0}}class tb extends sw{decodeUTF8(){return new tc(this)}}class tc extends s8{constructor(a){super(),this.upstream=a,this.impl=new td(a)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class td extends sH{constructor(b){if(super(),this.upstream=b,aA.get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{let{StringDecoder:b}=a.r(99348);this.decoder=new b("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){let a,b,c=await this.upstream.next();return!c.done&&(a=c.value,b=aA.get("IS_BROWSER")?this.decoder.decode(a,{stream:!0}):this.decoder.write(Buffer.from(a.buffer)),this.outputQueue.push(b),!0)}}class te extends tb{constructor(a,b={}){super(),this.file=a,this.options=b,jd.assert(a instanceof Uint8Array||!!aA.get("IS_BROWSER")&&(a instanceof File||a instanceof Blob),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=b.offset||0,this.chunkSize=b.chunkSize||1048576}summary(){return`FileChunks ${this.file}`}async next(){if(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))return{value:null,done:!0};let a=new Promise((a,b)=>{let c=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)a(new Uint8Array(this.file.slice(this.offset,c)));else{let d=new FileReader;d.onload=c=>{let e=d.result;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(e instanceof Uint8Array))return b(TypeError("FileReader returned unknown type."));a(e)},d.onabort=a=>b(Error("Aborted")),d.onerror=a=>b(Error(a.type));let e=this.file.slice(this.offset,c);d.readAsArrayBuffer(e)}this.offset=c});return{value:await a,done:!1}}}async function tf(a,b={},c){let d,e;"string"==typeof a?d=a:(d=a.url,e=tg(a));let f=await (c||jd.fetch)(d,e);if(f.ok)return new te(new Uint8Array(await f.arrayBuffer()),b);throw Error(f.statusText)}let tg=a=>({method:a.method,headers:a.headers,body:a.body,mode:a.mode,credentials:a.credentials,cache:a.cache,redirect:a.redirect,referrer:a.referrer,integrity:a.integrity});function th(a){return"string"==typeof a&&"file://"===a.slice(0,7)}class ti extends s7{constructor(a,b={}){super(),this.input=a,this.options=b}async iterator(){if(th(this.input)&&aA.get("IS_NODE")){let b=a.r(22734);this.input=b.readFileSync(this.input.slice(7))}return new te(this.input,this.options)}}class tj extends s7{constructor(a,b={}){super(),this.url=a,this.fileOptions=b}async iterator(){return th(this.url)?new ti(this.url,this.fileOptions).iterator():tf(this.url,this.fileOptions)}}function tk(a,b={}){return new sY(new tj(a),b)}function tl(a){let b=new sy(a);return sO(async()=>b)}function tm(a){return sO(async()=>{let b=await a();return new sy(()=>b.next())})}async function tn(a,b){return s6.create(a,b)}async function to(a){return sZ.create(a)}a.s(["CSVDataset",()=>sY,"Dataset",()=>sN,"FileDataSource",()=>ti,"TextLineDataset",()=>sS,"URLDataSource",()=>tj,"array",()=>sP,"csv",()=>tk,"func",()=>tl,"generator",()=>tm,"microphone",()=>to,"version_data",()=>"4.22.0","webcam",()=>tn,"zip",()=>sQ],35935),a.i(45593),a.i(35935),a.s([],28496);var hJ=hJ;a.s(["nonMaxSuppressionV3Impl",()=>kd,"nonMaxSuppressionV4Impl",()=>ke,"nonMaxSuppressionV5Impl",()=>kf,"whereImpl",()=>sf],95488),a.s([],84846),a.i(84846);var tp=a.i(95488),tp=tp,jd=jd,jd=jd;function tq(a,b){Array.isArray(a)||(a=[a]),a.forEach(a=>{null!=a&&jd.assert("complex64"!==a.dtype,()=>`${b} does not support complex64 tensors in the CPU backend.`)})}let tr=tp.whereImpl;class ts extends C{nextDataId(){return ts.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new B(this,dF)}write(a,b,c){this.firstUse&&(this.firstUse=!1,aA.get("IS_NODE")&&hJ.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));let d={id:this.nextDataId()};return this.data.set(d,{values:a,dtype:c,refCount:1}),d}makeTensorInfo(a,b,c){let d;if("string"===b&&null!=c&&c.length>0&&jd.isString(c[0])){let e=c.map(a=>jd.encodeString(a));d=this.write(e,a,b)}else d=this.write(c,a,b);return{dataId:d,shape:a,dtype:b}}refCount(a){return this.data.has(a)?this.data.get(a).refCount:0}incRef(a){let b=this.data.get(a);b.refCount++}decRef(a){if(this.data.has(a)){let b=this.data.get(a);b.refCount--}}move(a,b,c,d,e){this.data.set(a,{values:b,dtype:d,refCount:e})}numDataIds(){return this.data.numDataIds()}async read(a){return this.readSync(a)}readSync(a){let{dtype:b,complexTensorInfos:c}=this.data.get(a);if("complex64"===b){let a=this.readSync(c.real.dataId),b=this.readSync(c.imag.dataId);return hJ.mergeRealAndImagArrays(a,b)}return jd.convertBackendValuesAndArrayBuffer(this.data.get(a).values,b)}bufferSync(a){let b=this.readSync(a.dataId);if("string"===a.dtype)try{let c=b.map(a=>jd.decodeString(a));return eD(a.shape,a.dtype,c)}catch(a){throw Error("Failed to decode encoded string bytes into utf-8")}return eD(a.shape,a.dtype,b)}makeOutput(a,b,c){return dF.makeTensorFromTensorInfo(this.makeTensorInfo(b,c,a),this)}disposeData(a,b=!1){if(this.data.has(a)){if(this.data.get(a).refCount--,!b&&this.data.get(a).refCount>0)return!1;let{complexTensorInfos:c}=this.data.get(a);null!=c&&(this.disposeData(c.real.dataId,!0),this.disposeData(c.imag.dataId,!0)),this.data.delete(a)}return!0}disposeIntermediateTensorInfo(a){this.disposeData(a.dataId)}async time(a){let b=jd.now();return a(),{kernelMs:jd.now()-b}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(a){tq([a],"where");let b=this.readSync(a.dataId);return tr(a.shape,b)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}ts.nextDataId=0,a.s(["addImpl",()=>tD,"bincountImpl",()=>tF,"bincountReduceImpl",()=>tG,"bitwiseAndImpl",()=>tH,"castImpl",()=>tz,"ceilImpl",()=>tM,"concatImpl",()=>tO,"equalImpl",()=>tP,"expImpl",()=>tR,"expm1Impl",()=>tT,"floorDivImpl",()=>tX,"floorImpl",()=>tV,"gatherNdImpl",()=>tZ,"gatherV2Impl",()=>t$,"greaterEqualImpl",()=>t1,"greaterImpl",()=>t_,"lessEqualImpl",()=>t5,"lessImpl",()=>t3,"linSpaceImpl",()=>t7,"logImpl",()=>t8,"maxImpl",()=>ua,"maximumImpl",()=>ub,"minimumImpl",()=>ud,"multiplyImpl",()=>uf,"negImpl",()=>uh,"notEqualImpl",()=>ui,"prodImpl",()=>um,"raggedGatherImpl",()=>uo,"raggedRangeImpl",()=>up,"raggedTensorToTensorImpl",()=>uu,"rangeImpl",()=>uv,"rsqrtImpl",()=>uw,"scatterImpl",()=>uy,"sigmoidImpl",()=>uz,"simpleAbsImpl",()=>tt,"sliceImpl",()=>uC,"sparseFillEmptyRowsImpl",()=>uE,"sparseReshapeImpl",()=>uF,"sparseSegmentReductionImpl",()=>uG,"sqrtImpl",()=>uH,"squaredDifferenceImpl",()=>uJ,"staticRegexReplaceImpl",()=>uL,"stridedSliceImpl",()=>uN,"stringNGramsImpl",()=>uP,"stringSplitImpl",()=>uQ,"stringToHashBucketFastImpl",()=>uR,"subImpl",()=>uS,"tileImpl",()=>uU,"topKImpl",()=>uW,"transposeImpl",()=>uk,"uniqueImpl",()=>uX],25502),a.s([],72467),a.i(72467);var jd=jd;function tt(a){let b=new Float32Array(a.length);for(let c=0;c<a.length;++c)b[c]=Math.abs(a[c]);return b}var hJ=hJ,jd=jd;function tu(a){return(b,c,d,e,f)=>{let g=hJ.assertAndGetBroadcastShape(b,c),h=g.length,i=jd.computeStrides(g),j=jd.sizeFromShape(g),k=jd.getTypedArrayFromDType(f,j),l=b.length,m=c.length,n=jd.computeStrides(b),o=jd.computeStrides(c),p=hJ.getBroadcastDims(b,g),q=hJ.getBroadcastDims(c,g);if(p.length+q.length===0)for(let b=0;b<k.length;++b)k[b]=a(d[b%d.length],e[b%e.length]);else for(let b=0;b<k.length;++b){let c=jd.indexToLoc(b,h,i),f=c.slice(-l);p.forEach(a=>f[a]=0);let g=jd.locToIndex(f,l,n),j=c.slice(-m);q.forEach(a=>j[a]=0);let r=jd.locToIndex(j,m,o);k[b]=a(d[g],e[r])}return[k,g]}}var hJ=hJ,jd=jd,jd=jd,jd=jd;function tv(a){let{inputs:b,backend:c}=a,{real:d,imag:e}=b,f=c.data.get(d.dataId).values,g=c.data.get(e.dataId).values,h=c.makeTensorInfo(d.shape,"complex64");return c.data.get(h.dataId).complexTensorInfos={real:c.makeTensorInfo(d.shape,"float32",f),imag:c.makeTensorInfo(e.shape,"float32",g)},h}function tw(a,b,c="float32"){if("complex64"===c)return tv({inputs:{real:tw(a,b,"float32"),imag:tw(a,b,"float32")},backend:a});let d=jd.makeZerosTypedArray(jd.sizeFromShape(b),c);return a.makeTensorInfo(b,c,d)}function tx(a){let{inputs:b,backend:c}=a,{x:d}=b;return c.incRef(d.dataId),{dataId:d.dataId,shape:d.shape,dtype:d.dtype}}function ty(a){let{inputs:b,backend:c}=a,{input:d}=b,e=c.data.get(d.dataId).complexTensorInfos.real,f=c.data.get(e.dataId).values;return c.makeTensorInfo(e.shape,e.dtype,f)}function tz(a,b,c,d){if("int32"===d)return[b,"int32",Int32Array.from(a)];if("bool"===d){let d=jd.toTypedArray([0],c),[e,f]=tu((a,b)=>+(a!==b))(b,[],a,d,"bool");return[f,"bool",e]}throw Error(`Error in Cast: failed to cast ${c} to ${d}`)}function tA(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{dtype:f}=d;if("complex64"===f){if("complex64"===e.dtype)return tx({inputs:{x:e},backend:c});let a=tw(c,e.shape,e.dtype),b=tA({inputs:{x:e},backend:c,attrs:{dtype:"float32"}}),d=tv({inputs:{real:b,imag:a},backend:c});return c.disposeIntermediateTensorInfo(a),c.disposeIntermediateTensorInfo(b),d}if("complex64"===e.dtype){let a=ty({inputs:{input:e},backend:c}),b=tA({inputs:{x:a},backend:c,attrs:{dtype:f}});return c.disposeIntermediateTensorInfo(a),b}if(!jd.hasEncodingLoss(e.dtype,f)){let a=tx({inputs:{x:e},backend:c});return{dataId:a.dataId,shape:a.shape,dtype:f}}let[g,h,i]=tz(c.data.get(e.dataId).values,e.shape,e.dtype,f);return c.makeTensorInfo(g,h,i)}function tB(a,b,c,d){return null==c?({inputs:c,backend:e})=>{let{a:f,b:g}=c;tq([f,g],a);let h=e.data.get(f.dataId).values,i=e.data.get(g.dataId).values,j="string"===f.dtype?hJ.fromUint8ToStringArray(h):h,k="string"===f.dtype?hJ.fromUint8ToStringArray(i):i,l=d||f.dtype,[m,n]=b(f.shape,g.shape,j,k,l);return e.makeTensorInfo(n,l,m)}:({inputs:a,backend:e})=>{let{a:f,b:g}=a;if("complex64"===f.dtype||"complex64"===g.dtype){let a=tA({inputs:{x:f},backend:e,attrs:{dtype:"complex64"}}),b=e.data.get(a.dataId),d=b.complexTensorInfos.real,h=b.complexTensorInfos.imag,i=e.data.get(d.dataId).values,j=e.data.get(h.dataId).values,k=tA({inputs:{x:g},backend:e,attrs:{dtype:"complex64"}}),l=e.data.get(k.dataId),m=l.complexTensorInfos.real,n=l.complexTensorInfos.imag,o=e.data.get(m.dataId).values,p=e.data.get(n.dataId).values,[q,r,s]=c(f.shape,g.shape,i,j,o,p),t=e.makeTensorInfo(s,"float32",q),u=e.makeTensorInfo(s,"float32",r),v=tv({inputs:{real:t,imag:u},backend:e});return e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(k),e.disposeIntermediateTensorInfo(t),e.disposeIntermediateTensorInfo(u),v}{let a=e.data.get(f.dataId).values,c=e.data.get(g.dataId).values,h=d||f.dtype,[i,j]=b(f.shape,g.shape,a,c,h);return e.makeTensorInfo(j,h,i)}}}function tC(a){return(b,c,d,e,f,g)=>{let h=hJ.assertAndGetBroadcastShape(b,c),i=jd.sizeFromShape(h),j=h.length,k=jd.computeStrides(h),l=jd.getTypedArrayFromDType("float32",i),m=jd.getTypedArrayFromDType("float32",i),n=hJ.getBroadcastDims(b,h),o=hJ.getBroadcastDims(c,h),p=hJ.mergeRealAndImagArrays(d,e),q=hJ.mergeRealAndImagArrays(f,g),r=b.length,s=jd.computeStrides(b),t=c.length,u=jd.computeStrides(c);if(n.length+o.length===0)for(let b=0;b<l.length;b++){let c=b%p.length,d=b%q.length,e=a(p[2*c],p[2*c+1],q[2*d],q[2*d+1]);l[b]=e.real,m[b]=e.imag}else for(let b=0;b<l.length;b++){let c=jd.indexToLoc(b,j,k),d=c.slice(-r);n.forEach(a=>d[a]=0);let e=jd.locToIndex(d,r,s),f=c.slice(-t);o.forEach(a=>f[a]=0);let g=jd.locToIndex(f,t,u),h=a(p[2*e],p[2*e+1],q[2*g],q[2*g+1]);l[b]=h.real,m[b]=h.imag}return[l,m,h]}}let tD=tu((a,b)=>a+b),tE=tB("Add",tD,tC((a,b,c,d)=>({real:a+c,imag:b+d})));var jd=jd;function tF(a,b,c,d,e){let f=jd.sizeFromShape(d),g=jd.makeZerosTypedArray(e,c);for(let c=0;c<a.length;c++){let d=a[c];if(d<0)throw Error("Input x must be non-negative!");d>=e||(f>0?g[d]+=b[c]:g[d]+=1)}return g}function tG(a,b,c,d=!1){let e=a.shape[0],f=a.shape[1],g=eD([e,c],b.dtype);for(let h=0;h<e;h++)for(let e=0;e<f;e++){let f=a.get(h,e);if(f<0)throw Error("Input x must be non-negative!");f>=c||(d?g.set(1,h,f):b.size>0?g.set(g.get(h,f)+b.get(h,e),h,f):g.set(g.get(h,f)+1,h,f))}return g}let tH=tu((a,b)=>a&b),tI=tB(aU,tH);var jd=jd;function tJ(a){return(b,c,d)=>{let e=jd.getArrayFromDType(c,b.length);for(let c=0;c<b.length;++c)e[c]=a(b[c],d);return e}}var hJ=hJ;function tK(a,b,c){return tL(a,tJ(b),c)}function tL(a,b,c){return({inputs:d,attrs:e,backend:f})=>{let g,{x:h}=d;tq(h,a);let i=f.data.get(h.dataId).values;if("string"===h.dtype){if(!Array.isArray(i))throw Error("String tensor's value was not an instance of Array");g=hJ.fromUint8ToStringArray(i)}else g=i;let j=c||h.dtype,k=b(g,j,e);return f.makeTensorInfo(h.shape,j,k)}}let tM=tJ(a=>Math.ceil(a)),tN=tL(aX,tM);var hJ=hJ,jd=jd;function tO(a,b,c,d){let e=jd.getArrayFromDType(c,jd.sizeFromShape(b));if(d&&"string"!==c){let b=0;a.forEach(a=>{let c=jd.sizeFromShape(a.shape);e.set(a.vals,b),b+=c})}else{let d=0;a.forEach(a=>{let f="string"===c?hJ.fromUint8ToStringArray(a.vals):a.vals,g=0;for(let c=0;c<a.shape[0];++c){let h=c*b[1]+d;for(let b=0;b<a.shape[1];++b)e[h+b]=f[g++]}d+=a.shape[1]})}return e}let tP=tu((a,b)=>+(a===b)),tQ=tB(bn,tP,null,"bool"),tR=tJ(a=>Math.exp(a)),tS=tL("Exp",tR,"float32"),tT=tJ(a=>Math.expm1(a)),tU=tL(bp,tT),tV=tJ(a=>Math.floor(a)),tW=tL(bs,tV),tX=tu((a,b)=>Math.floor(a/b)),tY=tB(bt,tX,null,"int32");function tZ(a,b,c,d,e,f,g,h,i){let j=eD([d,f],c);for(let c=0;c<d;c++){let d=[],k=0;for(let b=0;b<e;b++){let f=a[c*e+b];k+=f*g[b],d.push(f)}if(k<0||k>=i/f)throw Error(`Invalid indices: ${d} does not index into ${h}`);for(let a=0;a<f;a++)j.values[c*f+a]=b.get(...b.indexToLoc(k*f+a))}return j}function t$(a,b,c){let d=eD(c,a.dtype);for(let c=0;c<d.size;++c){let e=d.indexToLoc(c).slice(),f=e[0],g=e[2],h=b.locToIndex([f,g]);e[2]=b.values[h];let i=a.locToIndex(e);0<=i&&i<a.values.length&&(d.values[c]=a.values[i])}return d}let t_=tu((a,b)=>+(a>b)),t0=tB(bx,t_,null,"bool"),t1=tu((a,b)=>+(a>=b)),t2=tB(by,t1,null,"bool"),t3=tu((a,b)=>+(a<b)),t4=tB(bG,t3,null,"bool"),t5=tu((a,b)=>+(a<=b)),t6=tB(bH,t5,null,"bool");var jd=jd;function t7(a,b,c){let d=(b-a)/(c-1),e=jd.makeZerosTypedArray(c,"float32");e[0]=a;for(let a=1;a<e.length;a++)e[a]=e[a-1]+d;return e}let t8=tJ(a=>Math.log(a)),t9=tL("Log",t8);var jd=jd;function ua(a,b,c,d){let e=jd.getTypedArrayFromDType(d,jd.sizeFromShape(c));for(let c=0;c<e.length;++c){let d=c*b,f=a[d];for(let c=0;c<b;++c){let b=a[d+c];(Number.isNaN(b)||b>f)&&(f=b)}e[c]=f}return e}let ub=tu((a,b)=>Math.max(a,b)),uc=tB(bO,ub),ud=tu((a,b)=>Math.min(a,b)),ue=tB(bV,ud),uf=tu((a,b)=>a*b),ug=tB(bY,uf,tC((a,b,c,d)=>({real:a*c-b*d,imag:a*d+b*c})));var jd=jd;function uh(a,b,c){return uf([],b,jd.createScalarValue(-1,c),a,c)}let ui=tu((a,b)=>+(a!==b)),uj=tB(bZ,ui,null,"bool");var hJ=hJ,jd=jd,jd=jd;function uk(a,b,c,d,e){let f=b.length,g=jd.sizeFromShape(b),h=jd.computeStrides(b),i=jd.computeStrides(e),j=jd.getTypedArrayFromDType(c,jd.sizeFromShape(e));for(let b=0;b<g;++b){let c=jd.indexToLoc(b,f,h),e=Array(c.length);for(let a=0;a<e.length;a++)e[a]=c[d[a]];j[jd.locToIndex(e,f,i)]=a[b]}return j}function ul(a){let{inputs:b,attrs:c,backend:d}=a,{x:e}=b,{perm:f}=c;tq(e,"transpose");let g=Array(e.shape.length);for(let a=0;a<g.length;a++)g[a]=e.shape[f[a]];let h=uk(d.data.get(e.dataId).values,e.shape,e.dtype,f,g);return{dataId:d.write(h,g,e.dtype),shape:g,dtype:e.dtype}}function um(a,b,c,d){let[e,f]=hJ.computeOutAndReduceShapes(a,d),g=dt(b,"int32"),h=jd.makeZerosTypedArray(jd.sizeFromShape(e),g),i=jd.sizeFromShape(f);for(let a=0;a<h.length;++a){let b=a*i,d=1;for(let a=0;a<i;++a)d*=c[b+a];h[a]=d}return{outVals:h,outShape:e,outDtype:g}}var jd=jd;function un(a,b){let c=a.slice(0,b);for(;c.length<b;)c.push(1);for(let d=b;d<a.length;d++)c[b-1]*=a[d];return c}function uo(a,b,c,d,e,f,g,h){if(0===a.length)throw Error("paramsNestedSplits must be non empty");if(0===b[0].length)throw Error("Split tensors must not be scalars");let i=b[0][0]-1;if(f.forEach((a,b)=>{if(a<0||a>=i){let c=jd.indexToLoc(b,g.length,jd.computeStrides(g)).join(",");throw Error(`indices[${c}] = ${a} is not in [0, ${i})`)}}),0===d.length)throw Error("params.rank must be nonzero");let{outSplits:j,valueSlices:k,numValues:l}=function(a,b,c,d){let e=[],f=0,g=Array(b.length-1+c.length).fill(null).map(()=>[0]);for(let a=0;a<c.length;++a){let b=c[a],e=a===c.length-1?d:c[a+1].length;if(0===b.length)throw Error("Ragged splits may not be empty");if(b[0]<0)throw Error("Ragged splits must be non-negative");if(b[b.length-1]>e)throw Error("Ragged splits must not point past values");for(let a=1;a<b.length;++a)if(b[a-1]>b[a])throw Error("Ragged splits must be sorted in ascending order")}let h=1;for(let a=0;a<b.length-1;++a){h*=b[a];let c=b[a+1];for(let b=1;b<h+1;++b)g[a].push(b*c)}for(let d=0;d<a.length;++d){let h=a[d],i=a[d]+1;for(let a=0;a<c.length;++a){let d=c[a],e=a+b.length-1;if(e>=0){let a=g[e],b=a[a.length-1]-d[h];for(let a=h;a<i;++a)g[e].push(d[a+1]+b)}h=d[h],i=d[i]}i!==h&&(e.push([h,i]),f+=i-h)}return{outSplits:g,valueSlices:e,numValues:f}}(f,g,a,d[0]),m=function(a){let b=[];for(let c=0;c<a.length;++c){let d=a[c].length,e=jd.getArrayFromDType("int32",d);b.push(e),a[c].forEach((a,b)=>e[b]=a)}return b}(j),n=function(a,b,c,d,e){let f=b.slice();f[0]=e;let g=jd.getArrayFromDType(c,jd.sizeFromShape(f)),h=a.length,i=0===h?0:h/b[0];return!function(a,b,c,d,e,f){let g=un(b,2)[1],h=un(f,2)[1],i=0;for(let b of c)for(let c=b[0];c<b[1];++c){for(let b=0;b<d;++b)e[i*h+b]=a[c*g+b];++i}}(a,b,d,i,g,f),[g,f]}(c,d,e,k,l);return[m,n[0],n[1]]}var jd=jd;function up(a,b,c,d,e,f,g){if(b.length>1)throw Error("starts must be a scalar or vector");if(e.length>1)throw Error("limits must be a scalar or vector");if(g.length>1)throw Error("deltas must be a scalar or vector");let h=0===b.length,i=0===e.length,j=0===g.length,k=[];h||k.push(b[0]),i||k.push(e[0]),j||k.push(g[0]);for(let a=1;a<k.length;++a)if(k[a]!==k[a-1])throw Error("starts, limits, and deltas must have the same shape");let l=0===k.length?1:k[0],m=jd.getArrayFromDType("int32",l+1);m[0]=0;for(let b=0;b<l;++b){let c,e=h?a[0]:a[b],g=i?d[0]:d[b],k=j?f[0]:f[b];if(0===k)throw Error("Requires delta != 0");if(k>0&&g<e||k<0&&g>e)c=0;else if((c=Math.ceil(Math.abs((g-e)/k)))>0x7fffffff)throw Error("Requires ((limit - start) / delta) <= 2147483647");m[b+1]=m[b]+c}let n=m[l],o=jd.getArrayFromDType(c,n),p=0;for(let b=0;b<l;++b){let c=m[b+1]-m[b],d=h?a[0]:a[b],e=j?f[0]:f[b];for(let a=0;a<c;++a)o[p++]=d,d+=e}return[m,o]}var hJ=hJ,jd=jd,uq=hJ.RowPartitionType;class ur{constructor(a,b,c,d,e,f,g,h,i,j){this.shape=a,this.shapeShape=b,this.values=c,this.valuesShape=d,this.valuesDType=e,this.defaultValue=f,this.defaultValueShape=g,this.rowPartitionValues=h,this.rowPartitionValuesShapes=i,this.rowPartitionTypes=hJ.getRowPartitionTypesHelper(j),this.raggedRank=hJ.getRaggedRank(this.rowPartitionTypes)}getRowPartitionTypeByDimension(a){return this.rowPartitionTypes[0]===uq.FIRST_DIM_SIZE?this.rowPartitionTypes[a+1]:this.rowPartitionTypes[a]}getRowPartitionTensor(a){return this.rowPartitionTypes[0]===uq.FIRST_DIM_SIZE?this.rowPartitionValues[a+1]:this.rowPartitionValues[a]}getMaxWidth(a){let b=this.getRowPartitionTensor(a-1);switch(this.getRowPartitionTypeByDimension(a-1)){case uq.VALUE_ROWIDS:return ur.getMaxWidthValueRowID(b);case uq.ROW_SPLITS:return ur.getMaxWidthRowSplit(b);default:throw Error(`Cannot handle partition type ${uq[this.getRowPartitionTypeByDimension(a-1)]}`)}}static getMaxWidthRowSplit(a){let b=a.length;if(0===b||1===b)return 0;let c=0;for(let d=0;d<b-1;++d){let b=a[d+1]-a[d];b>c&&(c=b)}return c}static getMaxWidthValueRowID(a){let b=a.length;if(0===b)return 0;let c=0,d=a[0],e=0;for(let f=1;f<b;++f){let b=a[f];b!==d&&(d=b,e=Math.max(f-c,e),c=f)}return Math.max(b-c,e)}tensorShapeFromTensor(a,b,c=!0){if(0===b.length){if(-1===a[0])return[];throw Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return ut(a,c)}calculateOutputSize(a){let b=this.valuesShape,c=this.defaultValueShape;hJ.validateDefaultValueShape(c,b);let d=this.tensorShapeFromTensor(this.shape,this.shapeShape),e=hJ.combineRaggedTensorToTensorShapes(this.raggedRank,d,b);e[0]<0&&(e[0]=a);for(let a=1;a<=this.raggedRank;++a)e[a]<0&&(e[a]=this.getMaxWidth(a));return e}calculateFirstParentOutputIndex(a,b,c){let d=Math.min(a,c),e=[],f=0;for(let a=0;a<d;++a,f+=b)e.push(f);for(let b=d;b<a;++b)e.push(-1);return jd.assert(e.length===a,()=>"Final length of result must be equal to firstDimension."),e}calculateOutputIndexRowSplit(a,b,c,d){let e=a.length,f=[];for(let g=0;g<e-1;++g){let e=a[g+1]-a[g],h=Math.min(d,e),i=b[g];-1===i&&(h=0);for(let a=0;a<h;++a)f.push(i),i+=c;for(let a=0;a<e-h;++a)f.push(-1)}if(e>0&&f.length!==a[e-1])throw Error("Invalid row split size.");return f}calculateOutputIndexValueRowID(a,b,c,d){let e=a.length,f=[];if(0===e)return[];let g=0,h=a[0];if(h>=b.length)throw Error(`Got currentValueRowId=${h}, which is not less than ${b.length}`);let i=b[h];f.push(i);for(let j=1;j<e;++j){let e=a[j];if(e===h)i>=0&&(++g<d?i+=c:i=-1);else{if(g=0,h=e,e>=b.length)throw Error(`Got nextValueRowId=${e} which is not less than ${b.length}`);i=b[e]}f.push(i)}if(f.length!==a.length)throw Error("Invalid row ids.");return f}calculateOutputIndex(a,b,c,d){let e=this.getRowPartitionTensor(a),f=this.getRowPartitionTypeByDimension(a);switch(f){case uq.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(e,b,c,d);case uq.ROW_SPLITS:if(e.length-1>b.length)throw Error(`Row partition size is greater than output size: ${e.length-1} > ${b.length}`);return this.calculateOutputIndexRowSplit(e,b,c,d);default:throw Error(`Unsupported partition type: ${uq[f]}`)}}getFirstDimensionSize(){let a=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw Error("No row_partition_types given.");let b=this.rowPartitionTypes[0];switch(b){case uq.FIRST_DIM_SIZE:return a[0];case uq.VALUE_ROWIDS:throw Error("Cannot handle VALUE_ROWIDS in first dimension.");case uq.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw Error(`Cannot handle type ${uq[b]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw Error("Invalid first partition input. Tensor requires at least one element.");let a=this.getFirstDimensionSize(),b=this.calculateOutputSize(a),c=Array(this.raggedRank+1);c[c.length-1]=1;for(let a=c.length-2;a>=0;--a)c[a]=c[a+1]*b[a+1];let d=ut(b,!1),e=jd.getArrayFromDType(this.valuesDType,jd.sizeFromShape(d));if(c[0]*b[0]>0){let f=this.calculateFirstParentOutputIndex(a,c[0],b[0]);for(let a=1;a<=this.raggedRank;++a)f=this.calculateOutputIndex(a-1,f,c[a],b[a]);this.setOutput(this.raggedRank,f,e,d)}return[d,e]}setOutput(a,b,c,d){if(0===c.length)return;let e=this.values,f=d.slice();f=f.slice(a+1);let g=jd.sizeFromShape(f),h=b.length,i=this.defaultValue;if(i.length!==g&&1!==i.length){let a=this.defaultValueShape;dX(()=>{i=fB(fd(i,a),f).dataSync()})}let j=0,k=0,l=0;for(let a=0;a<=h;++a){let d=a<h?b[a]:-1;if(d===l){++l;continue}if(k<l){let a=e.subarray(j*g);us(c.subarray(k*g),a,(l-k)*g)}if(a>=h&&(d=Math.floor(c.length/g)),d>l)if(1===this.defaultValue.length)c.subarray(l*g,d*g).fill(this.defaultValue[0]),l=d;else for(;d>l;)us(c.slice(l*g),i,g),++l;d<0?(j=a+1,k=l):(j=a,l=(k=l)+1)}}}function us(a,b,c){for(let d=0;d<c;d++)a[d]=b[d]}function ut(a,b){let c=[];for(let d of a){if(d<0){if(!b)throw Error(`Dimension ${d} must be >= 0`);if(d<-1)throw Error(`Dimension ${d} must be >= -1`);d=-1}c.push(d)}return c}function uu(a,b,c,d,e,f,g,h,i,j){return new ur(a,b,c,d,e,f,g,h,i,j).compute()}var jd=jd;function uv(a,b,c,d){let e=a===b,f=a<b&&c<0,g=b<a&&c>1;if(e||f||g)return jd.makeZerosTypedArray(0,d);let h=Math.abs(Math.ceil((b-a)/c)),i=jd.makeZerosTypedArray(h,d);b<a&&1===c&&(c=-1),i[0]=a;for(let a=1;a<i.length;a++)i[a]=i[a-1]+c;return i}let uw=tJ(a=>1/Math.sqrt(a)),ux=tL(cm,uw);function uy(a,b,c,d,e,f,g,h,i,j){let k=a.values,l=b.values;if(0===d)return eD(c,b.dtype);let m=i instanceof dl?i:eD([d/e,e],b.dtype);"string"==typeof i||"number"==typeof i?m.values.fill(i):"boolean"==typeof i&&m.values.fill(+i);for(let a=0;a<f;a++){let f=[],i=0;for(let b=0;b<g;b++){let c=k[a*g+b];f.push(c),i+=c*h[b]}if(i<0||i>=d/e)throw Error(`Invalid indices: ${f} does not index into ${c}`);for(let c=0;c<e;c++)j?m.values[i*e+c]+=l[a*e+c]:m.values[i*e+c]=0===b.rank?l[0]:l[a*e+c]}return m}let uz=tJ(a=>1/(1+Math.exp(-a))),uA=tK(cv,a=>1/(1+Math.exp(-a)));var hJ=hJ,uB=gA,jd=jd;function uC(a,b,c,d,e){let f=uB.isSliceContinous(d,b,c),g=jd.sizeFromShape(c),h=jd.computeStrides(d);if(f){let c=uB.computeFlatOffset(b,h);return"string"===e?a.slice(c,c+g):a.subarray(c,c+g)}let i="string"===e?hJ.fromUint8ToStringArray(a):a,j=eD(d,e,i),k=eD(c,e);for(let a=0;a<k.size;++a){let c=k.indexToLoc(a),d=c.map((a,c)=>a+b[c]);k.set(j.get(...d),...c)}return"string"===e?hJ.fromStringArrayToUint8(k.values):k.values}function uD(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{begin:f,size:g}=d;tq(e,"slice");let[h,i]=uB.parseSliceParams(e,f,g);uB.assertParamsValid(e,h,i);let j=uC(c.data.get(e.dataId).values,h,i,e.shape,e.dtype);return c.makeTensorInfo(i,e.dtype,j)}var hJ=hJ,jd=jd;function uE(a,b,c,d,e,f,g){let h=b[0],i=f[0],j=Array(i),k=Array(h),l=b[1];if(0===i){if(0!==h)throw Error(hJ.getSparseFillEmptyRowsIndicesDenseShapeMismatch(h));return[jd.getArrayFromDType(c,0),[0,l],jd.getArrayFromDType(e,0),j,k]}let m=!0,n=0,o=Array(i).fill(0);for(let b=0;b<h;++b){let c=a[b*l];if(c<0)throw Error(hJ.getSparseFillEmptyRowsNegativeIndexErrorMessage(b,c));if(c>=i)throw Error(hJ.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(b,c,i));++o[c],m=m&&c>=n,n=c}let p=!0;for(let a=0;a<i;++a){let b=0===o[a];j[a]=b,p=p&&!b,o[a]=Math.max(o[a],1),a>0&&(o[a]+=o[a-1])}if(p&&m){for(let a=0;a<h;++a)k[a]=a;return[a,[h,l],d,j,k]}{let b=o[i-1],f=jd.getArrayFromDType(c,b*l),m=jd.getArrayFromDType(e,b),n=Array(i).fill(0);for(let b=0;b<h;++b){let c=a[b*l],e=n[c],g=(0===c?0:o[c-1])+e;n[c]++;for(let c=0;c<l;++c)f[g*l+c]=a[b*l+c];m[g]=d[b],k[b]=g}for(let a=0;a<i;++a)if(0===n[a]){let b=0===a?0:o[a-1];f[b*l+0]=a;for(let a=1;a<l;++a)f[b*l+a]=0;m[b]=g}return[f,[b,l],m,j,k]}}var hJ=hJ,jd=jd;function uF(a,b,c,d,e){let f=jd.sizeFromShape(d),g=b[0],h=e.length,i=[],j=1,k=-1;for(let a=0;a<h;++a){let b=e[a];if(-1===b){if(-1!==k)throw Error(hJ.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(k,a));k=a,i.push(1)}else{if(b<0)throw Error(hJ.getSparseReshapeNegativeOutputDimErrorMessage(a,b));j*=b,i.push(b)}}if(-1!==k){if(j<=0)throw Error(hJ.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());let a=Math.trunc(f/j);if(j*a!==f)throw Error(hJ.getSparseReshapeInputOutputMultipleErrorMessage(d,i));i[k]=a}if(jd.sizeFromShape(i)!==f)throw Error(hJ.getSparseReshapeInputOutputMismatchErrorMessage(d,i));let l=d.length,m=[];if(l>0){m[l-1]=1;for(let a=l-2;a>=0;--a)m[a]=m[a+1]*d[a+1]}let n=[];if(h>0){n[h-1]=1;for(let a=h-2;a>=0;--a)n[a]=n[a+1]*i[a+1]}let o=jd.getArrayFromDType(c,g*h);for(let b=0;b<g;++b){let c=0;for(let d=0;d<l;++d)c+=a[b*l+d]*m[d];for(let a=0;a<h;++a)o[b*h+a]=Math.trunc(c/n[a]),c%=n[a]}return[o,[g,h],i]}var hJ=hJ,jd=jd;function uG(a,b,c,d,e,f=!1,g=0){let h=d.length,i=[b[0],a.length/b[0]],j=i[1],k=h>0?e[h-1]+1:0;if(k<0)throw Error(hJ.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let l=b.slice();l[0]=k;let m=l.reduce((a,b)=>a*b,1),n=jd.getArrayFromDType(c,m);if(0===h)return k>0&&n.fill(g),[n,l];if(k<=0)throw Error(hJ.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let o=0,p=1,q=0,r=e[0];for(;;){let b=0;if(p<h){if(r===(b=e[p])){++p;continue}if(r>=b)throw Error(hJ.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(r<0||r>=k)throw Error(hJ.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(r,k));r>q&&n.fill(g,q*j,r*j);for(let b=o;b<p;++b){let c=d[b];if(c<0||c>=i[0])throw Error(hJ.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(b,d[b],i[0]));for(let b=0;b<j;b++)n[r*j+b]+=a[c*j+b]}if(f)for(let a=0;a<j;a++)n[r*j+a]/=p-o;if(o=p,++p,q=r+1,r=b,p>h)break}return q<k&&n.fill(g,q*j,k*j),[n,l]}let uH=tJ(a=>Math.sqrt(a)),uI=tK(cx,a=>Math.sqrt(a)),uJ=tu((a,b)=>{let c=a-b;return c*c}),uK=tB(cG,uJ),uL=tJ((a,b)=>{let{pattern:c,replaceGlobal:d,rewrite:e}=b;return a.replace(new RegExp(c,d?"g":""),e)}),uM=tL(cI,uL);function uN(a,b,c,d){let e=eD(a,b.dtype);for(let a=0;a<e.size;a++){let f=e.indexToLoc(a),g=Array(f.length);for(let a=0;a<g.length;a++)g[a]=f[a]*c[a]+d[a];e.set(b.get(...g),...f)}return e}var jd=jd;class uO{constructor(a,b,c,d,e,f){this.separator=jd.encodeString(a),this.nGramWidths=b,this.leftPad=jd.encodeString(c),this.rightPad=jd.encodeString(d),this.padWidth=e,this.preserveShort=f}getPadWidth(a){return Math.min(this.padWidth<0?a-1:this.padWidth,a-1)}getNumNGrams(a,b){return Math.max(0,a+2*this.getPadWidth(b)-b+1)}createNGrams(a,b,c,d,e,f){for(let g=0;g<e;++g){let h,i=this.getPadWidth(f),j=Math.max(0,i-g),k=Math.max(0,i-(e-(g+1))),l=f-(j+k),m=b+(j>0?0:g-i);h=0+j*this.leftPad.length;for(let b=0;b<l;++b)h+=a[m+b].length;h+=k*this.rightPad.length,h+=(j+k+l-1)*this.separator.length,c[d+g]=new Uint8Array(h);let n=c[d+g],o=0,p=a=>a.forEach(a=>n[o++]=a);for(let a=0;a<j;++a)p(this.leftPad),p(this.separator);for(let b=0;b<l-1;++b)p(a[m+b]),p(this.separator);if(l>0){p(a[m+l-1]);for(let a=0;a<k;++a)p(this.separator),p(this.rightPad)}else{for(let a=0;a<k-1;++a)p(this.rightPad),p(this.separator);p(this.rightPad)}}}compute(a,b){let c=a.length,d=b.length;if(d>0){let a=b[0];if(0!==a)throw Error(`First split value must be 0, got ${a}`);for(let e=1;e<d;++e){let d=b[e]>=a;if(!(d=d&&b[e]<=c))throw Error(`Invalid split value ${b[e]}, must be in [${a}, ${c}]`);a=b[e]}if(a!==c)throw Error(`Last split value must be data size. Expected ${c}, got ${a}`)}let e=d-1,f=jd.getArrayFromDType("int32",d);if(0===c||0===d){let a=Array(c);for(let a=0;a<=e;++a)f[a]=0;return[a,f]}f[0]=0;for(let a=1;a<=e;++a){let c=b[a]-b[a-1],d=0;this.nGramWidths.forEach(a=>{d+=this.getNumNGrams(c,a)}),this.preserveShort&&c>0&&0===d&&(d=1),f[a]=f[a-1]+d}let g=Array(f[e]);for(let c=0;c<e;++c){let d=b[c],e=f[c];if(this.nGramWidths.forEach(f=>{let h=b[c+1]-b[c],i=this.getNumNGrams(h,f);this.createNGrams(a,d,g,e,i,f),e+=i}),this.preserveShort&&e===f[c]){let f=b[c+1]-b[c];if(0===f)continue;let h=f+2*this.padWidth;this.createNGrams(a,d,g,e,1,h)}}return[g,f]}}function uP(a,b,c,d,e,f,g,h){return new uO(c,d,e,f,g,h).compute(a,b)}var jd=jd;function uQ(a,b,c){let d=a.length,e=[],f=0,g=0,h=Array(d);for(let i=0;i<d;++i){let d=e.length;!function(a,b,c,d){if(!a.length)return;if(0===b.length){for(let b=0;b<a.length;++b)d.push(a.subarray(b,b+1));return}if(1===b.length){let e=b[0],f=a.indexOf(e);for(;-1!==f;){let b=a.subarray(0,f);c&&0===b.length||d.push(b),f=(a=a.subarray(f+1)).indexOf(e)}c&&0===a.length||d.push(a);return}let e=0;for(let f=0;f<a.length+1;f++)if(f===a.length||-1!==b.indexOf(a[f])){let b=a.subarray(e,f);c&&0===b.length||d.push(b),e=f+1}}(a[i],b,c,e);let j=e.length-d;h[i]=j,f+=j,g=Math.max(g,j)}let i=jd.getArrayFromDType("int32",2*f),j=Array(f),k=[d,g],l=0;for(let a=0;a<d;++a)for(let b=0;b<h[a];++b)i[2*l]=a,i[2*l+1]=b,j[l]=e[l],++l;return[i,j,k]}var jd=jd;function uR(a,b){let c=jd.getArrayFromDType("int32",a.length);for(let d=0;d<a.length;++d)c[d]=jd.fingerPrint64(a[d]).modulo(b).getLowBitsUnsigned();return c}let uS=tu((a,b)=>a-b),uT=tB("Sub",uS,tC((a,b,c,d)=>({real:a-c,imag:b-d})));function uU(a,b){let c=Array(a.rank);for(let d=0;d<c.length;d++)c[d]=a.shape[d]*b[d];let d=eD(c,a.dtype);for(let b=0;b<d.values.length;++b){let c=d.indexToLoc(b),e=Array(a.rank);for(let b=0;b<e.length;b++)e[b]=c[b]%a.shape[b];let f=a.locToIndex(e);d.values[b]=a.values[f]}return d}var jd=jd;let uV=(a,b)=>{let c=b.value-a.value;return 0===c?a.index-b.index:c};function uW(a,b,c,d,e){let f=b[b.length-1],[g,h]=[a.length/f,f],i=jd.getTypedArrayFromDType(c,g*d),j=jd.getTypedArrayFromDType("int32",g*d);for(let b=0;b<g;b++){let c=b*h,f=a.subarray(c,c+h),g=Array(f.length);f.forEach((a,b)=>g[b]={value:a,index:b}),d<g.length&&(!function a(b,c,d=0,e=b.length-1){for(;e>d;){if(e-d>600){let f=e-d+1,g=c-d+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*Math.sign(g-f/2),k=Math.max(d,Math.floor(c-g*i/f+j)),l=Math.min(e,Math.floor(c+(f-g)*i/f+j));a(b,c,k,l)}let f=b[c],g=d,h=e;for(jd.swap(b,d,c),uV(b[e],f)>0&&jd.swap(b,d,e);g<h;){for(jd.swap(b,g,h),g++,h--;0>uV(b[g],f);)g+=1;for(;uV(b[h],f)>0;)h-=1}0===uV(b[d],f)?jd.swap(b,d,h):(h+=1,jd.swap(b,h,e)),h<=c&&(d=h+1),c<=h&&(e=h-1)}}(g,d),g=g.slice(0,d)),e&&g.sort(uV);let k=b*d,l=i.subarray(k,k+d),m=j.subarray(k,k+d);for(let a=0;a<d;a++)l[a]=g[a].value,m[a]=g[a].index}let k=b.slice();return k[k.length-1]=d,[eD(k,c,i),eD(k,"int32",j)]}var jd=jd;function uX(a,b,c,d){let e=jd.parseAxisParam(b,c)[0],f=[1,c[0],1];for(let a=0;a<e;a++)f[0]*=c[a];f[1]=c[e];for(let a=e+1;a<c.length;a++)f[2]*=c[a];let g=new Map,h=new Int32Array(c[e]),i=new dl(f,d,a),j=[],k=1===f[0]&&1===f[2];for(let b=0;b<c[e];b++){let c;if(k)c=a[b].toString();else{let a=[];for(let c=0;c<f[0];c++)for(let d=0;d<f[2];d++)a.push(i.get(c,b,d));c=a.join(",")}let d=g.get(c);if(null!=d)h[b]=d;else{let a=g.size;g.set(c,a),h[b]=a,j.push(b)}}let l=f.slice();l[1]=g.size;let m=new dl(l,d);j.forEach((a,b)=>{for(let c=0;c<f[0];c++)for(let d=0;d<f[2];d++)m.set(i.get(c,a,d),c,b,d)});let n=c.slice();return n[e]=l[1],{outputValues:m.values,outputShape:n,indices:h}}var uY=a.i(25502);d$("cpu",()=>new ts,1);let uZ=tK("Elu",a=>a>=0?a:Math.exp(a)-1);var jd=jd;function u$(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{alpha:f}=d;tq([e],"leakyRelu");let g=jd.sizeFromShape(e.shape),h=c.data.get(e.dataId).values,i=jd.getTypedArrayFromDType("float32",g);for(let a=0;a<h.length;a++)i[a]=h[a]<0?f*h[a]:h[a];return c.makeTensorInfo(e.shape,"float32",i)}let u_=tu((a,b)=>a<0?b*a:a);function u0(a){let{inputs:b,backend:c}=a,{x:d,alpha:e}=b;tq([d,e],"prelu");let f=c.data.get(d.dataId).values,g=c.data.get(e.dataId).values,[h,i]=u_(d.shape,e.shape,f,g,"float32");return c.makeTensorInfo(i,"float32",h)}let u1=tK(cd,a=>Math.max(0,a)),u2=tK(cj,a=>Math.min(Math.max(0,a),6));function u3(a,b,c,d,e){if("linear"===c)return tx({inputs:{x:b},backend:a});if("relu"===c)return u1({inputs:{x:b},backend:a});if("elu"===c)return uZ({inputs:{x:b},backend:a});if("relu6"===c)return u2({inputs:{x:b},backend:a});if("prelu"===c)return u0({inputs:{x:b,alpha:d},backend:a});else if("leakyrelu"===c)return u$({inputs:{x:b},backend:a,attrs:{alpha:e}});else if("sigmoid"===c)return uA({inputs:{x:b},backend:a});throw Error(`Activation ${c} has not been implemented for the CPU backend.`)}var u4=gJ,jd=jd,jd=jd;function u5(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{shape:f}=d,g=jd.sizeFromShape(e.shape),h=jd.inferFromImplicitShape(f,g),i=jd.sizeFromShape(h);jd.assert(g===i,()=>`The new shape (${h}) has ${i} elements and the old shape (${e.shape}) has ${g} elements. The new shape and old shape must have the same number of elements.`),c.incRef(e.dataId);let j=c.data.get(e.dataId);if(null!=j.complexTensorInfos){let a=j.complexTensorInfos.real,b=j.complexTensorInfos.imag;a.shape=h,b.shape=h}return{dataId:e.dataId,shape:h,dtype:e.dtype}}function u6(a){let{inputs:b,backend:c,attrs:d}=a,{a:e,b:f}=b,{transposeA:g,transposeB:h}=d;tq([e,f],"matMul");let i=e.shape.length,j=f.shape.length,k=g?e.shape[i-2]:e.shape[i-1],l=h?f.shape[j-1]:f.shape[j-2],m=g?e.shape[i-1]:e.shape[i-2],n=h?f.shape[j-2]:f.shape[j-1],o=e.shape.slice(0,-2),p=f.shape.slice(0,-2),q=jd.sizeFromShape(o),r=jd.sizeFromShape(p),s=u4.assertAndGetBroadcastShape(e.shape.slice(0,-2),f.shape.slice(0,-2)).concat([m,n]);jd.assert(k===l,()=>`Error in matMul: inner shapes (${k}) and (${l}) of Tensors with shapes ${e.shape} and ${f.shape} and transposeA=${g} and transposeB=${h} must match.`);let t=u5({inputs:{x:e},backend:c,attrs:{shape:g?[q,k,m]:[q,m,k]}}),u=u5({inputs:{x:f},backend:c,attrs:{shape:h?[r,n,l]:[r,l,n]}}),v=g?t.shape[1]:t.shape[2],w=g?t.shape[2]:t.shape[1],x=h?u.shape[1]:u.shape[2],y=Math.max(q,r),z=c.data.get(t.dataId).values,A=c.data.get(u.dataId).values,B=jd.computeStrides(t.shape),C=jd.computeStrides(u.shape),[D,E,F]=g?[B[0],1,B[1]]:[B[0],B[1],1],[G,H,I]=h?[1,C[1],C[0]]:[C[1],1,C[0]],J=w*x,K=eD([y,w,x],t.dtype),L=K.values,M=c.blockSize;for(let a=0;a<y;a++){let b=a%q,c=a%r;for(let d=0;d<w;d+=M){let e=Math.min(d+M,w);for(let f=0;f<x;f+=M){let g=Math.min(f+M,x);for(let h=0;h<v;h+=M){let i=Math.min(h+M,v);for(let j=d;j<e;j++)for(let d=f;d<g;d++){let e=0;for(let a=h;a<i;a++)e+=z[b*D+j*E+a*F]*A[a*G+d*H+c*I];L[a*J+(j*x+d)]+=e}}}}}return c.disposeIntermediateTensorInfo(t),c.disposeIntermediateTensorInfo(u),c.makeTensorInfo(s,K.dtype,K.values)}let u7=tK(aD,a=>Math.acos(a)),u8=tK(aE,a=>Math.acosh(a));var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;let u9=tK(aI,a=>Math.asin(a)),va=tK(aJ,a=>Math.asinh(a)),vb=tK(aK,a=>Math.atan(a)),vc=tB(aM,tu((a,b)=>Math.atan2(a,b))),vd=tK(aL,a=>Math.atanh(a));var hJ=hJ,jd=jd;function ve(a,b,c,d,e,f){let g=e.strideHeight,h=e.strideWidth,i=e.dilationHeight,j=e.dilationWidth,k=e.effectiveFilterHeight,l=e.effectiveFilterWidth,m=e.padInfo.top,n=e.padInfo.left,o="max"===f?-1/0:1/0,p=eD(e.outShape,c),q=p.values,r=e.outShape[1]*e.outShape[2]*e.outShape[3],s=e.outShape[2]*e.outShape[3],t=e.outShape[3];for(let b=0;b<e.batchSize;++b){let c=b*r,p=b*d[0];for(let b=0;b<e.inChannels;++b)for(let r=0;r<e.outHeight;++r){let u=r*g-m,v=Math.max(0,u),w=Math.min(e.inHeight,k+u),x=c+r*s;for(let c=0;c<e.outWidth;++c){let g=c*h-n,k=Math.max(0,g),m=Math.min(e.inWidth,l+g),r=o,s=0,u=0;for(let c=v;c<w;c+=i){let e=p+c*d[1];for(let c=k;c<m;c+=j){let g=a[e+c*d[2]+b];"max"===f&&g>r?r=g:"avg"===f&&(s+=g,u++)}if(isNaN(r))break}q[x+c*t+b]="avg"===f?s/u:r}}}return p}function vf(a,b,c,d,e=!1,f=!1){let g=eD(d.outShape,"int32"),h=d.strideHeight,i=d.strideWidth,j=d.dilationHeight,k=d.dilationWidth,l=d.effectiveFilterHeight,m=d.effectiveFilterWidth,n=d.padInfo.top,o=d.padInfo.left,p=eD(b,c,a);for(let a=0;a<d.batchSize;++a)for(let b=0;b<d.inChannels;++b)for(let c=0;c<d.outHeight;++c){let q=c*h-n,r=q;for(;r<0;)r+=j;let s=Math.min(d.inHeight,l+q);for(let h=0;h<d.outWidth;++h){let l=h*i-o,n=l;for(;n<0;)n+=k;let t=Math.min(d.inWidth,m+l),u=-1/0,v=-1;for(let c=r;c<s;c+=j){let g=c-q;for(let h=n;h<t;h+=k){let i=h-l,j=p.get(a,c,h,b);j>u&&(u=j,v=e?f?((a*d.inHeight+c)*d.inWidth+h)*d.inChannels+b:(c*d.inWidth+h)*d.inChannels+b:g*m+i)}}g.set(v,a,c,h,b)}}return g}function vg(a,b,c,d,e,f){let g=e.strideDepth,h=e.strideHeight,i=e.strideWidth,j=e.dilationDepth,k=e.dilationHeight,l=e.dilationWidth,m=e.effectiveFilterDepth,n=e.effectiveFilterHeight,o=e.effectiveFilterWidth,p=e.padInfo.front,q=e.padInfo.top,r=e.padInfo.left,s="max"===f?-1/0:1/0,t=eD(e.outShape,c),u=t.values,v=e.outShape[1]*e.outShape[2]*e.outShape[3]*e.outShape[4],w=e.outShape[2]*e.outShape[3]*e.outShape[4],x=e.outShape[3]*e.outShape[4],y=e.outShape[4];for(let b=0;b<e.batchSize;++b){let c=b*v,t=b*d[0];for(let b=0;b<e.inChannels;++b)for(let v=0;v<e.outDepth;++v){let z=v*g-p,A=z;for(;A<0;)A+=j;let B=Math.min(e.inDepth,m+z),C=c+v*w;for(let c=0;c<e.outHeight;++c){let g=c*h-q,m=g;for(;m<0;)m+=k;let p=Math.min(e.inHeight,n+g),v=C+c*x;for(let c=0;c<e.outWidth;++c){let g=c*i-r,h=g;for(;h<0;)h+=l;let n=Math.min(e.inWidth,o+g),q=v+c*y,w=s,x=0,z=0;for(let c=A;c<B;c+=j){let e=t+c*d[1];for(let c=m;c<p;c+=k){let g=e+c*d[2];for(let c=h;c<n;c+=l){let e=a[g+c*d[3]+b];if("max"===f&&e>w?w=e:"avg"===f&&(x+=e,z++),isNaN(w))break}if(isNaN(w))break}if(isNaN(w))break}u[q+b]="avg"===f?x/Math.max(z,1):w}}}}return t}var hJ=hJ,jd=jd,hJ=hJ,hJ=hJ,jd=jd,hJ=hJ,hJ=hJ;let vh=tK(aY,(a,b)=>a>b.clipValueMax?b.clipValueMax:a<b.clipValueMin?b.clipValueMin:a);var jd=jd,hJ=hJ,jd=jd;function vi(a){let{inputs:b,backend:c}=a,{input:d}=b,e=c.data.get(d.dataId).complexTensorInfos.imag,f=c.data.get(e.dataId).values;return c.makeTensorInfo(e.shape,e.dtype,f)}function vj(a){let{inputs:b,backend:c,attrs:d}=a,{axis:e}=d,f=jd.parseAxisParam(e,b[0].shape)[0],g=b.map(a=>a.shape);hJ.assertParamsConsistent(g,f);let h=hJ.computeOutShape(b.map(a=>a.shape),f);if(0===jd.sizeFromShape(h))return c.makeTensorInfo(h,b[0].dtype,[]);let i=b.filter(a=>jd.sizeFromShape(a.shape)>0);if(1===i.length)return tx({inputs:{x:i[0]},backend:c});if("complex64"===i[0].dtype){let a=i.map(a=>ty({inputs:{input:a},backend:c})),b=i.map(a=>vi({inputs:{input:a},backend:c})),d=vj({inputs:a,backend:c,attrs:{axis:f}}),e=vj({inputs:b,backend:c,attrs:{axis:f}}),g=tv({inputs:{real:d,imag:e},backend:c});return a.forEach(a=>c.disposeIntermediateTensorInfo(a)),b.forEach(a=>c.disposeIntermediateTensorInfo(a)),c.disposeIntermediateTensorInfo(d),c.disposeIntermediateTensorInfo(e),g}let j=i.map(a=>{let b=jd.sizeFromShape(a.shape.slice(f));return u5({inputs:{x:a},backend:c,attrs:{shape:[-1,b]}})}),k=j.map(a=>({vals:c.data.get(a.dataId).values,shape:a.shape}));h=hJ.computeOutShape(j.map(a=>a.shape),1);let l=1===j[0].shape[0],m=tO(k,h,b[0].dtype,l),n=hJ.computeOutShape(i.map(a=>a.shape),f),o=c.makeTensorInfo(n,b[0].dtype,m);return j.forEach(a=>c.disposeIntermediateTensorInfo(a)),o}var hJ=hJ,jd=jd;function vk(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f}=b,{strides:g,pad:h,dataFormat:i,dilations:j,dimRoundingMode:k}=d;tq([e,f],"conv2d");let l=hJ.convertConv2DDataFormat(i),m=hJ.computeConv2DInfo(e.shape,f.shape,g,j,h,k,!1,l),n=m.filterHeight,o=m.filterWidth,p=m.dilationHeight,q=m.dilationWidth,r=m.padInfo.left,s=m.padInfo.top,t="channelsLast"===m.dataFormat,u=new dl(m.outShape,e.dtype),v=jd.computeStrides(e.shape),w=jd.computeStrides(f.shape),x=v[0],y=t?v[1]:v[2],z=t?v[2]:1,A=t?1:v[1],B=u.strides[0],C=t?u.strides[1]:u.strides[2],D=t?u.strides[2]:1,E=t?1:u.strides[1],F=c.data.get(e.dataId).values,G=c.data.get(f.dataId).values,H=u.values;for(let a=0;a<m.batchSize;++a){let b=a*x,c=a*B;for(let a=0;a<m.outHeight;++a){let d=c+a*C,e=a*m.strideHeight-s;for(let a=0;a<n;++a){let c=e+a*p;if(c<0||c>=m.inHeight)continue;let f=a*w[0],g=b+c*y;for(let a=0;a<m.outWidth;++a){let b=d+a*D,c=a*m.strideWidth-r;for(let a=0;a<o;++a){let d=c+a*q;if(d<0||d>=m.inWidth)continue;let e=f+a*w[1],h=g+d*z,i=e;for(let a=0;a<m.inChannels;++a){let c=F[h+a*A];for(let a=0;a<m.outChannels;++a)H[b+a*E]+=c*G[i+a];i+=m.outChannels}}}}}}return c.makeTensorInfo(u.shape,u.dtype,H)}var hJ=hJ,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;let vl=tK("Cos",a=>Math.cos(a)),vm=tK(a6,a=>Math.cosh(a));var jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,jd=jd,hJ=hJ,jd=jd;function vn(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f}=b,{strides:g,pad:h,dilations:i,dimRoundingMode:j}=d;tq([e,f],"depthwiseConv2DNative");let k=jd.computeStrides(e.shape),l=jd.computeStrides(f.shape),m=i;null==m&&(m=[1,1]),jd.assert(hJ.eitherStridesOrDilationsAreOne(g,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${g} and dilations '${m}'`);let n=hJ.computeConv2DInfo(e.shape,f.shape,g,m,h,j,!0),{filterHeight:o,filterWidth:p,dilationHeight:q,dilationWidth:r,padInfo:s}=n,t=s.left,u=s.top,v=n.outChannels/n.inChannels,w=new dl(n.outShape,e.dtype),x=c.data.get(e.dataId).values,y=c.data.get(f.dataId).values,z=w.values;for(let a=0;a<n.batchSize;++a){let b=a*k[0],c=a*w.strides[0];for(let a=0;a<n.outHeight;++a){let d=c+a*w.strides[1],e=a*n.strideHeight-u;for(let a=0;a<o;++a){let c=e+a*q;if(c<0||c>=n.inHeight)continue;let f=a*l[0],g=b+c*k[1];for(let a=0;a<n.outWidth;++a){let b=d+a*w.strides[2],c=a*n.strideWidth-t;for(let a=0;a<p;++a){let d=c+a*r;if(d<0||d>=n.inWidth)continue;let e=f+a*l[1],h=g+d*n.inChannels,i=b,j=e;for(let a=0;a<n.inChannels;++a){let b=x[h+a];for(let a=0;a<v;++a)z[i+a]+=b*y[j+a];i+=v,j+=v}}}}}}return c.makeTensorInfo(w.shape,w.dtype,w.values)}var hJ=hJ,hJ=hJ,jd=jd,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;function vo(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{axis:g,keepDims:h}=e;tq(f,"sum");let i=(b="bool"===f.dtype?tA({inputs:{x:f},backend:d,attrs:{dtype:"int32"}}):tx({inputs:{x:f},backend:d})).shape.length,j=jd.parseAxisParam(g,b.shape),k=hJ.getAxesPermutation(j,i),l=j,m=b;null!=k&&(m=ul({inputs:{x:b},backend:d,attrs:{perm:k}}),l=hJ.getInnerMostAxes(l.length,i)),hJ.assertAxesAreInnerMostDims("sum",l,m.shape.length);let[n,o]=hJ.computeOutAndReduceShapes(m.shape,l),p=tw(d,n,hJ.upcastType(m.dtype,"int32")),q=jd.sizeFromShape(o),r=d.data.get(p.dataId).values,s=d.data.get(m.dataId).values;for(let a=0;a<r.length;++a){let b=a*q,c=0;for(let a=0;a<q;++a)c+=s[b+a];r[a]=c}if(h){let a=hJ.expandShapeToKeepDim(p.shape,j),b=p;p=u5({inputs:{x:p},backend:d,attrs:{shape:a}}),d.disposeIntermediateTensorInfo(b)}return d.disposeIntermediateTensorInfo(b),null!=k&&d.disposeIntermediateTensorInfo(m),p}var jd=jd,hJ=hJ;let vp=hJ.ERF_P,vq=hJ.ERF_A1,vr=hJ.ERF_A2,vs=hJ.ERF_A3,vt=hJ.ERF_A4,vu=hJ.ERF_A5,vv=tK("Erf",a=>{let b=Math.sign(a),c=Math.abs(a),d=1/(1+vp*c);return b*(1-((((vu*d+vt)*d+vs)*d+vr)*d+vq)*d*Math.exp(-c*c))});var jd=jd;function vw(a){let{inputs:b,backend:c,attrs:d}=a,{input:e}=b,{dim:f}=d,g=e.shape.length,h=e.shape.slice(),i=f;return f<0&&(jd.assert(-(g+1)<=f,()=>`Axis must be in the interval [${-(g+1)}, ${g}]`),i=g+f+1),h.splice(i,0,1),u5({inputs:{x:e},backend:c,attrs:{shape:h}})}var jd=jd,hJ=hJ,jd=jd;let vx=tB(bk,tu((a,b)=>a/b)),vy={kernelName:bk,backendName:"cpu",kernelFunc:vx};function vz(a,b,c){let d=a.shape,e=d[0],f=d[1],g=c.data.get(a.dataId),h=g.complexTensorInfos.real,i=g.complexTensorInfos.imag,j=[e,f],k=jd.sizeFromShape(j),l=jd.getTypedArrayFromDType("float32",k),m=jd.getTypedArrayFromDType("float32",k);for(let a=0;a<e;a++){let d=uD({inputs:{x:h},backend:c,attrs:{begin:[a,0],size:[1,f]}}),e=uD({inputs:{x:i},backend:c,attrs:{begin:[a,0],size:[1,f]}}),g=tv({inputs:{real:d,imag:e},backend:c}),{real:j,imag:k}=function(a,b,c){var d;let e=jd.sizeFromShape(a.shape),f=c.data.get(a.dataId),g=c.data.get(f.complexTensorInfos.real.dataId).values,h=c.data.get(f.complexTensorInfos.imag.dataId).values;if(((d=e)&d-1)==0){let d=function a(b,c,d,e,f){if(1===d)return{real:b,imag:c};let g=hJ.mergeRealAndImagArrays(b,c),h=d/2,i=hJ.complexWithEvenIndex(g),j=i.real,k=i.imag,l=[j.length],m=f.makeTensorInfo(l,"float32",j),n=f.makeTensorInfo(l,"float32",k),o=tv({inputs:{real:m,imag:n},backend:f}),p=hJ.complexWithOddIndex(g),q=p.real,r=p.imag,s=[q.length],t=f.makeTensorInfo(s,"float32",q),u=f.makeTensorInfo(s,"float32",r),v=tv({inputs:{real:t,imag:u},backend:f}),w=a(j,k,h,e,f),x=w.real,y=w.imag,z=[x.length],A=f.makeTensorInfo(z,"float32",x),B=f.makeTensorInfo(z,"float32",y),C=tv({inputs:{real:A,imag:B},backend:f}),D=a(q,r,h,e,f),E=D.real,F=D.imag,G=[E.length],H=f.makeTensorInfo(G,"float32",E),I=f.makeTensorInfo(G,"float32",F),J=tv({inputs:{real:H,imag:I},backend:f}),K=hJ.exponents(d,e),L=[K.real.length],M=f.makeTensorInfo(L,"float32",K.real),N=f.makeTensorInfo(L,"float32",K.imag),O=tv({inputs:{real:M,imag:N},backend:f}),P=ug({inputs:{a:O,b:J},backend:f}),Q=tE({inputs:{a:C,b:P},backend:f}),R=uT({inputs:{a:C,b:P},backend:f}),S=ty({inputs:{input:Q},backend:f}),T=ty({inputs:{input:R},backend:f}),U=vi({inputs:{input:Q},backend:f}),V=vi({inputs:{input:R},backend:f}),W=vj({inputs:[S,T],backend:f,attrs:{axis:0}}),X=vj({inputs:[U,V],backend:f,attrs:{axis:0}}),Y=f.data.get(W.dataId).values,Z=f.data.get(X.dataId).values;return f.disposeIntermediateTensorInfo(m),f.disposeIntermediateTensorInfo(n),f.disposeIntermediateTensorInfo(o),f.disposeIntermediateTensorInfo(t),f.disposeIntermediateTensorInfo(u),f.disposeIntermediateTensorInfo(v),f.disposeIntermediateTensorInfo(A),f.disposeIntermediateTensorInfo(B),f.disposeIntermediateTensorInfo(C),f.disposeIntermediateTensorInfo(H),f.disposeIntermediateTensorInfo(I),f.disposeIntermediateTensorInfo(J),f.disposeIntermediateTensorInfo(M),f.disposeIntermediateTensorInfo(N),f.disposeIntermediateTensorInfo(O),f.disposeIntermediateTensorInfo(P),f.disposeIntermediateTensorInfo(Q),f.disposeIntermediateTensorInfo(R),f.disposeIntermediateTensorInfo(S),f.disposeIntermediateTensorInfo(U),f.disposeIntermediateTensorInfo(T),f.disposeIntermediateTensorInfo(V),f.disposeIntermediateTensorInfo(W),f.disposeIntermediateTensorInfo(X),{real:Y,imag:Z}}(g,h,e,b,c),f=[a.shape[0],a.shape[1]];if(b){let a=c.makeTensorInfo(f,"float32",d.real),b=c.makeTensorInfo(f,"float32",d.imag),g=c.makeTensorInfo([],"float32",jd.createScalarValue(e,"float32")),h=tx({inputs:{x:g},backend:c}),i=vy.kernelFunc({inputs:{a:a,b:g},backend:c}),j=vy.kernelFunc({inputs:{a:b,b:h},backend:c}),k=c.data.get(i.dataId).values,l=c.data.get(j.dataId).values;return c.disposeIntermediateTensorInfo(a),c.disposeIntermediateTensorInfo(b),c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(h),c.disposeIntermediateTensorInfo(i),c.disposeIntermediateTensorInfo(j),{real:k,imag:l}}return d}{let a=function(a,b,c){let d=new Float32Array(2*b);for(let e=0;e<b;e++){let f=0,g=0;for(let d=0;d<b;d++){let h=hJ.exponent(e*d,b,c),i=hJ.getComplexWithIndex(a,d);f+=i.real*h.real-i.imag*h.imag,g+=i.real*h.imag+i.imag*h.real}c&&(f/=b,g/=b),hJ.assignToTypedArray(d,f,g,e)}return d}(hJ.mergeRealAndImagArrays(g,h),e,b);return hJ.splitRealAndImagArrays(a)}}(g,b,c),n=hJ.mergeRealAndImagArrays(j,k);for(let b=0;b<f;b++){let c=hJ.getComplexWithIndex(n,b);l[a*f+b]=c.real,m[a*f+b]=c.imag}c.disposeIntermediateTensorInfo(d),c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(g)}let n=c.makeTensorInfo(j,"float32",l),o=c.makeTensorInfo(j,"float32",m),p=tv({inputs:{real:n,imag:o},backend:c});return c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(o),p}var jd=jd;function vA(a){var b,c;let{backend:d,attrs:e}=a,{shape:f,value:g,dtype:h}=e,i=h||jd.inferDtype(g),j=jd.getArrayFromDType(i,jd.sizeFromShape(f));return b=j,c=g,b.fill(c),d.makeTensorInfo(f,i,j)}var jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,jd=jd;let vB=tK(bC,a=>+!!Number.isFinite(a),"bool"),vC=tK(bD,a=>+(Math.abs(a)===1/0),"bool"),vD=tK(bE,a=>+!!Number.isNaN(a),"bool"),vE=tK(bJ,a=>Math.log1p(a)),vF=tB(bK,tu((a,b)=>a&&b),null,"bool"),vG=tK(bL,a=>+!a,"bool"),vH=tB(bM,tu((a,b)=>a||b),null,"bool");var jd=jd,jd=jd,hJ=hJ,jd=jd;function vI(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{reductionIndices:f,keepDims:g}=d,h=e.shape,i=h.length,j=jd.parseAxisParam(f,h),k=j,l=hJ.getAxesPermutation(k,i),m=c.data.get(e.dataId).values;if(null!=l){let a=Array(i);for(let b=0;b<a.length;b++)a[b]=h[l[b]];m=uk(m,h,e.dtype,l,a),k=hJ.getInnerMostAxes(k.length,i),h=a}tq(e,"max"),hJ.assertAxesAreInnerMostDims("max",k,i);let[n,o]=hJ.computeOutAndReduceShapes(h,k),p=ua(m,jd.sizeFromShape(o),n,e.dtype),q=c.write(p,n,e.dtype),r=n;return g&&(r=hJ.expandShapeToKeepDim(n,j)),{dataId:q,shape:r,dtype:e.dtype}}var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,hJ=hJ,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,jd=jd;let vJ=tB("Mod",tu((a,b)=>{let c=a%b;return a<0&&b<0||a>=0&&b>=0?c:(c+b)%b}));var jd=jd,hJ=hJ,jd=jd;function vK(a){let{inputs:b,backend:c,attrs:d}=a,{logits:e}=b,{dim:f}=d,g=e.shape.length,h=f;if(-1===h&&(h=g-1),h!==g-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${g} and dim was ${h}`);let i=jd.parseAxisParam([h],e.shape),j=vI({inputs:{x:e},backend:c,attrs:{reductionIndices:i,keepDims:!1}}),k=hJ.expandShapeToKeepDim(j.shape,i),l=u5({inputs:{x:j},backend:c,attrs:{shape:k}}),m=uT({inputs:{a:e,b:l},backend:c}),n=tS({inputs:{x:m},backend:c}),o=vo({inputs:{x:n},backend:c,attrs:{axis:i,keepDims:!1}}),p=u5({inputs:{x:o},backend:c,attrs:{shape:k}}),q=vx({inputs:{a:n,b:p},backend:c});return c.disposeIntermediateTensorInfo(j),c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(o),c.disposeIntermediateTensorInfo(p),q}var tp=tp;let vL=tp.nonMaxSuppressionV3Impl;var tp=tp;let vM=tp.nonMaxSuppressionV4Impl;var tp=tp;let vN=tp.nonMaxSuppressionV5Impl;var jd=jd;function vO(a){let{inputs:b,backend:c}=a,{x:d}=b;if("string"===d.dtype)throw Error("zerosLike is not supported for string tensors");if("complex64"!==d.dtype)return vA({backend:c,attrs:{shape:d.shape,value:0,dtype:d.dtype}});{let a=ty({inputs:{input:d},backend:c}),b=vO({inputs:{x:a},backend:c}),e=vi({inputs:{input:d},backend:c}),f=vO({inputs:{x:e},backend:c}),g=tv({inputs:{real:b,imag:f},backend:c});return c.disposeIntermediateTensorInfo(a),c.disposeIntermediateTensorInfo(b),c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(f),g}}var jd=jd;function vP(a){let{inputs:b,backend:c,attrs:d}=a,{axis:e}=d;if(1===b.length)return vw({inputs:{input:b[0]},backend:c,attrs:{dim:e}});let f=b[0].shape,g=b[0].dtype;b.forEach(a=>{jd.assertShapesMatch(f,a.shape,"All tensors passed to stack must have matching shapes"),jd.assert(g===a.dtype,()=>"All tensors passed to stack must have matching dtypes")});let h=[],i=vj({inputs:b.map(a=>{let b=vw({inputs:{input:a},backend:c,attrs:{dim:e}});return h.push(b),b}),backend:c,attrs:{axis:e}});return h.forEach(a=>c.disposeIntermediateTensorInfo(a)),i}var jd=jd;let vQ={kernelName:b4,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{paddings:f,constantValue:g}=d;tq(e,"pad");let h=f.map((a,b)=>a[0]+e.shape[b]+a[1]),i=f.map(a=>a[0]),j=c.data.get(e.dataId).values,k=jd.sizeFromShape(e.shape),l=e.shape.length,m=jd.computeStrides(e.shape),n=jd.sizeFromShape(h),o=h.length,p=jd.computeStrides(h),q=jd.getTypedArrayFromDType(e.dtype,n);0!==g&&q.fill(g);for(let a=0;a<k;a++){let b=jd.indexToLoc(a,l,m).map((a,b)=>a+i[b]);q[jd.locToIndex(b,o,p)]=j[a]}return{dataId:c.write(q,h,e.dtype),shape:h,dtype:e.dtype}}},vR=tB("Pow",tu((a,b)=>Math.pow(a,b))),vS=tK(cc,a=>1/a);var jd=jd,jd=jd,jd=jd,jd=jd,jd=jd,hJ=hJ,jd=jd;let vT=tK(cl,a=>{let b=Math.floor(a);return a-b<.5?Math.floor(a):a-b>.5?Math.ceil(a):b%2==0?b:b+1});var hJ=hJ,jd=jd,jd=jd,hJ=hJ;let vU=hJ.SELU_SCALEALPHA,vV=hJ.SELU_SCALE,vW=tK(cr,a=>a>=0?vV*a:vU*(Math.exp(a)-1)),vX=tK(cu,a=>a<0?-1:+(a>0)),vY=tK("Sin",a=>Math.sin(a)),vZ=tK(ct,a=>Math.sinh(a)),v$=Math.log(11920928955078125e-23)+2,v_=tK(cw,a=>{let b=Math.exp(a);return a<v$?b:a>-v$?a:Math.log(1+b)});var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;let v0=tK(cW,(a,b)=>isNaN(a)?NaN:a>0?1:b.alpha);var uB=gA,jd=jd;let v1=tK("Tan",a=>Math.tan(a)),v2=tK(cN,a=>Math.tanh(a));var hJ=hJ,jd=jd;function v3(a,b,c){switch(c){case"reflect":var d,e,f,g,h=a,i=b;let j=h;if(j<0)if(i<=1)j=0;else{let a=2*i;j<a&&(j=a*Math.trunc(-j/a)+j),j=j<-i?j+a:-j-1}else if(j>i-1)if(i<=1)j=0;else{let a=2*i;(j-=a*Math.trunc(j/a))>=i&&(j=a-j-1)}return jd.clamp(0,j,i-1);case"wrap":let k;return d=a,e=b,(k=d)<0?e<=1?k=0:k+=e*(Math.trunc(-k/(e-1))+1):k>e-1&&(e<=1?k=0:k-=e*Math.trunc(k/(e-1))),jd.clamp(0,k,e-1);case"nearest":return f=a,g=b,jd.clamp(0,f,g-1);default:return a}}function v4(a,b,c,d,e,f,g,h,i,j,k){return 0<=h&&h<b&&0<=i&&i<c?a[g*d+h*e+i*f+j]:k}var jd=jd;for(let a of[{kernelName:cZ,backendName:"cpu",kernelFunc:function(a){let b,c,d,{inputs:e,backend:f,attrs:g}=a,{a:h,b:i,bias:j,preluActivationWeights:k}=e,{transposeA:l,transposeB:m,activation:n,leakyreluAlpha:o}=g,p=[];for(let a of(b=u6({inputs:{a:h,b:i},attrs:{transposeA:l,transposeB:m},backend:f}),j&&(c=tE({inputs:{a:b,b:j},backend:f}),p.push(b),b=c),n&&(d=u3(f,b,n,k,o),p.push(b),b=d),p))f.disposeIntermediateTensorInfo(a);return b}},{kernelName:"Abs",backendName:"cpu",kernelFunc:a=>{let{x:b}=a.inputs,c=a.backend;tq(b,"abs");let d=new Float32Array(jd.sizeFromShape(b.shape));return d=tt(c.data.get(b.dataId).values),c.makeOutput(d,b.shape,b.dtype)}},{kernelName:aD,backendName:"cpu",kernelFunc:u7},{kernelName:aE,backendName:"cpu",kernelFunc:u8},{kernelName:"Add",backendName:"cpu",kernelFunc:tE},{kernelName:aF,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a;tq(b,"addN");let d=b.map(a=>c.data.get(a.dataId).values),e=eD(b[0].shape,b[0].dtype),f=e.values;for(let a=0;a<b.length;a++){let b=d[a];for(let a=0;a<f.length;a++)f[a]+=b[a]}return c.makeTensorInfo(e.shape,e.dtype,e.values)}},{kernelName:"All",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d;tq(e,"all");let h=jd.parseAxisParam(f,e.shape),i=h,j=hJ.getAxesPermutation(i,e.shape.length),k=e;null!=j&&(k=ul({inputs:{x:e},backend:c,attrs:{perm:j}}),i=hJ.getInnerMostAxes(i.length,e.shape.length)),hJ.assertAxesAreInnerMostDims("all",i,k.shape.length);let[l,m]=hJ.computeOutAndReduceShapes(k.shape,i),n=jd.sizeFromShape(m),o=jd.makeZerosTypedArray(jd.sizeFromShape(l),k.dtype),p=c.data.get(k.dataId).values;for(let a=0;a<o.length;++a){let b=a*n,c=p[b];for(let a=0;a<n;++a){let d=p[b+a];c=c&&d}o[a]=c}null!=j&&c.disposeIntermediateTensorInfo(k);let q=c.makeTensorInfo(l,k.dtype,o);if(g){let a=u5({inputs:{x:q},backend:c,attrs:{shape:hJ.expandShapeToKeepDim(l,h)}});return c.disposeIntermediateTensorInfo(q),a}return q}},{kernelName:"Any",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d;tq(e,"any");let h=jd.parseAxisParam(f,e.shape),i=h,j=hJ.getAxesPermutation(i,e.shape.length),k=e;null!=j&&(k=ul({inputs:{x:e},backend:c,attrs:{perm:j}}),i=hJ.getInnerMostAxes(i.length,e.shape.length)),hJ.assertAxesAreInnerMostDims("any",i,k.shape.length);let[l,m]=hJ.computeOutAndReduceShapes(k.shape,i),n=jd.sizeFromShape(m),o=jd.makeZerosTypedArray(jd.sizeFromShape(l),k.dtype),p=c.data.get(k.dataId).values;for(let a=0;a<o.length;++a){let b=a*n,c=p[b];for(let a=0;a<n;++a){let d=p[b+a];c=c||d}o[a]=c}null!=j&&c.disposeIntermediateTensorInfo(k);let q=c.makeTensorInfo(l,k.dtype,o);if(g){let a=u5({inputs:{x:q},backend:c,attrs:{shape:hJ.expandShapeToKeepDim(l,h)}});return c.disposeIntermediateTensorInfo(q),a}return q}},{kernelName:aG,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f}=d;tq(e,"argMax");let g=jd.parseAxisParam(f,e.shape),h=hJ.getAxesPermutation(g,e.shape.length),i=e,j=[];null!=h&&(j.push(i=ul({inputs:{x:e},backend:c,attrs:{perm:h}})),g=hJ.getInnerMostAxes(g.length,i.shape.length)),g=[g[0]],hJ.assertAxesAreInnerMostDims("argMax",g,i.shape.length);let[k,l]=hJ.computeOutAndReduceShapes(i.shape,g),m=jd.sizeFromShape(k),n=jd.makeZerosTypedArray(m,"int32"),o=jd.sizeFromShape(l),p=c.data.get(i.dataId).values;for(let a=0;a<n.length;++a){let b=a*o,c=p[b],d=0;for(let a=0;a<o;++a){let e=p[b+a];e>c&&(c=e,d=a)}n[a]=d}return j.forEach(a=>c.disposeIntermediateTensorInfo(a)),c.makeTensorInfo(k,"int32",n)}},{kernelName:aH,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f}=d;tq(e,"argMin");let g=jd.parseAxisParam(f,e.shape),h=hJ.getAxesPermutation(g,e.shape.length),i=e,j=[];null!=h&&(j.push(i=ul({inputs:{x:e},backend:c,attrs:{perm:h}})),g=hJ.getInnerMostAxes(g.length,i.shape.length)),g=[g[0]],hJ.assertAxesAreInnerMostDims("argMin",g,i.shape.length);let[k,l]=hJ.computeOutAndReduceShapes(i.shape,g),m=jd.sizeFromShape(k),n=jd.makeZerosTypedArray(m,"int32"),o=jd.sizeFromShape(l),p=c.data.get(i.dataId).values;for(let a=0;a<n.length;++a){let b=a*o,c=p[b],d=0;for(let a=0;a<o;++a){let e=p[b+a];e<c&&(c=e,d=a)}n[a]=d}return j.forEach(a=>c.disposeIntermediateTensorInfo(a)),c.makeTensorInfo(k,"int32",n)}},{kernelName:aI,backendName:"cpu",kernelFunc:u9},{kernelName:aJ,backendName:"cpu",kernelFunc:va},{kernelName:aK,backendName:"cpu",kernelFunc:vb},{kernelName:aM,backendName:"cpu",kernelFunc:vc},{kernelName:aL,backendName:"cpu",kernelFunc:vd},{kernelName:aN,backendName:"cpu",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c;tq(f,"avgPool");let{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=e;jd.assert(hJ.eitherStridesOrDilationsAreOne(h,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${h} and dilations '1'`);let k=hJ.computePool2DInfo(f.shape,g,h,1,i,j);if(1===k.filterWidth&&1===k.filterHeight&&jd.arraysEqual(k.inShape,k.outShape))b=tx({inputs:{x:f},backend:d});else{let a=d.data.get(f.dataId).values,c=jd.computeStrides(f.shape),e=ve(a,f.shape,f.dtype,c,k,"avg");b=d.makeTensorInfo(k.outShape,f.dtype,e.values)}return b}},{kernelName:aP,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{filterSize:f,strides:g,pad:h,dimRoundingMode:i,dataFormat:j}=d;tq(e,"avgPool3d");let k=hJ.computePool3DInfo(e.shape,f,g,1,h,i,j),l=vg(c.data.get(e.dataId).values,e.shape,e.dtype,jd.computeStrides(e.shape),k,"avg");return c.makeTensorInfo(l.shape,"float32",l.values)}},{kernelName:aQ,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b,{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=d;tq([e,f],"avgPool3DGrad");let k=hJ.computePool3DInfo(f.shape,g,h,1,i,j),l=k.strideDepth,m=k.strideHeight,n=k.strideWidth,o=k.filterDepth,p=k.filterHeight,q=k.filterWidth,r=k.dilationDepth,s=k.dilationHeight,t=k.dilationWidth,u=k.effectiveFilterDepth,v=k.effectiveFilterHeight,w=k.effectiveFilterWidth,x=u-1-k.padInfo.front,y=w-1-k.padInfo.left,z=v-1-k.padInfo.top,A=eD(f.shape,"float32"),B=1/(o*p*q),C=c.bufferSync(e);for(let a=0;a<k.batchSize;++a)for(let b=0;b<k.inChannels;++b)for(let c=0;c<k.inDepth;++c)for(let d=0;d<k.inHeight;++d)for(let e=0;e<k.inWidth;++e){let f=c-x,g=d-z,h=e-y,i=0;for(let c=0;c<u;c+=r){let d=(f+c)/l;if(!(d<0)&&!(d>=k.outDepth)&&Math.floor(d)===d)for(let c=0;c<v;c+=s){let e=(g+c)/m;if(!(e<0)&&!(e>=k.outHeight)&&Math.floor(e)===e)for(let c=0;c<w;c+=t){let f=(h+c)/n;f<0||f>=k.outWidth||Math.floor(f)!==f||(i+=C.get(a,d,e,f,b))}}}A.set(i*B,a,c,d,e,b)}return c.makeTensorInfo(A.shape,A.dtype,A.values)}},{kernelName:aO,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b;tq([e,f],"avgPoolGrad");let{filterSize:g,strides:h,pad:i}=d,j=hJ.computePool2DInfo(f.shape,g,h,1,i),k=j.strideHeight,l=j.strideWidth,m=j.filterHeight,n=j.filterWidth,o=j.dilationHeight,p=j.dilationWidth,q=j.effectiveFilterHeight,r=j.effectiveFilterWidth,s=r-1-j.padInfo.left,t=q-1-j.padInfo.top,u=eD(f.shape,"float32"),v=1/(m*n),w=c.data.get(e.dataId).values,x=eD(e.shape,"float32",w);for(let a=0;a<j.batchSize;++a)for(let b=0;b<j.inChannels;++b)for(let c=0;c<j.inHeight;++c)for(let d=0;d<j.inWidth;++d){let e=c-t,f=d-s,g=0;for(let c=0;c<q;c+=o){let d=(e+c)/k;if(!(d<0)&&!(d>=j.outHeight)&&Math.floor(d)===d)for(let c=0;c<r;c+=p){let e=(f+c)/l;e<0||e>=j.outWidth||Math.floor(e)!==e||(g+=x.get(a,d,e,b))}}u.set(g*v,a,c,d,b)}return c.makeTensorInfo(u.shape,u.dtype,u.values)}},{kernelName:aR,backendName:"cpu",kernelFunc:u6},{kernelName:bu,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,scale:f,offset:g,mean:h,variance:i}=b;jd.assert(h.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),jd.assert(null==g||h.shape.length===g.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),jd.assert(null==f||h.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),tq([e,h,i,f,g],"batchNorm");let{varianceEpsilon:j}=d;null==j&&(j=.001);let k=c.data.get(e.dataId).values,l=c.data.get(h.dataId).values,m=c.data.get(i.dataId).values,n=f?c.data.get(f.dataId).values:new Float32Array([1]),o=g?c.data.get(g.dataId).values:new Float32Array([0]),p=new Float32Array(k.length),q=o.length,r=n.length,s=m.length,t=l.length,u=0,v=0,w=0,x=0;for(let a=0;a<k.length;++a)p[a]=o[u++]+(k[a]-l[v++])*n[w++]/Math.sqrt(m[x++]+j),u>=q&&(u=0),v>=t&&(v=0),w>=r&&(w=0),x>=s&&(x=0);return c.makeTensorInfo(e.shape,e.dtype,p)}},{kernelName:aS,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockShape:f,crops:g}=d;tq([e],"batchToSpaceND");let h=f.reduce((a,b)=>a*b),i=hJ.getReshaped(e.shape,f,h),j=hJ.getPermuted(i.length,f.length),k=hJ.getReshapedPermuted(e.shape,f,h),l=hJ.getSliceBeginCoords(g,f.length),m=hJ.getSliceSize(k,g,f.length),n=u5({inputs:{x:e},backend:c,attrs:{shape:i}}),o=ul({inputs:{x:n},backend:c,attrs:{perm:j}}),p=u5({inputs:{x:o},backend:c,attrs:{shape:k}}),q=uD({inputs:{x:p},backend:c,attrs:{begin:l,size:m}});return c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(o),c.disposeIntermediateTensorInfo(p),q}},{kernelName:aT,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,weights:f}=b,{size:g}=d,h=tF(c.data.get(e.dataId).values,c.data.get(f.dataId).values,f.dtype,f.shape,g);return c.makeTensorInfo([g],f.dtype,h)}},{kernelName:aU,backendName:"cpu",kernelFunc:tI},{kernelName:aV,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{s0:d,s1:e}=b,f=c.data.get(d.dataId).values,g=c.data.get(e.dataId).values,h=hJ.assertAndGetBroadcastShape(Array.from(f),Array.from(g));return c.makeTensorInfo([h.length],"int32",Int32Array.from(h))}},{kernelName:aW,backendName:"cpu",kernelFunc:tA},{kernelName:aX,backendName:"cpu",kernelFunc:tN},{kernelName:aY,backendName:"cpu",kernelFunc:vh},{kernelName:aZ,backendName:"cpu",kernelFunc:tv},{kernelName:a$,backendName:"cpu",kernelFunc:a=>{let{x:b}=a.inputs,c=a.backend,d=new Float32Array(jd.sizeFromShape(b.shape)),e=c.data.get(b.dataId),f=e.complexTensorInfos.real,g=e.complexTensorInfos.imag,h=c.data.get(f.dataId).values,i=c.data.get(g.dataId).values;for(let a=0;a<h.length;a++){let b=h[a],c=i[a];d[a]=Math.hypot(b,c)}return c.makeOutput(d,b.shape,"float32")}},{kernelName:a_,backendName:"cpu",kernelFunc:vj},{kernelName:a0,backendName:"cpu",kernelFunc:vk},{kernelName:a1,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,pad:h,dataFormat:i,dimRoundingMode:j,filterShape:k}=d;tq([e,f],"conv2dBackpropFilter");let l=hJ.convertConv2DDataFormat(i),m=hJ.computeConv2DInfo(e.shape,k,g,1,h,j,!1,l),{strideHeight:n,strideWidth:o,filterHeight:p,filterWidth:q}=m,r="channelsLast"===m.dataFormat,s=new dl(m.filterShape,"float32"),t=m.padInfo.left,u=m.padInfo.top,v=c.data.get(e.dataId).values,w=c.data.get(f.dataId).values,x=new dl(e.shape,e.dtype,v),y=new dl(f.shape,f.dtype,w);for(let a=0;a<p;++a){let b=Math.max(0,Math.ceil((u-a)/n)),c=Math.min(m.outHeight,(m.inHeight+u-a)/n);for(let d=0;d<q;++d){let e=Math.max(0,Math.ceil((t-d)/o)),f=Math.min(m.outWidth,(m.inWidth+t-d)/o);for(let g=0;g<m.inChannels;++g)for(let h=0;h<m.outChannels;++h){let i=0;for(let j=0;j<m.batchSize;++j)for(let k=b;k<c;++k){let b=a+k*n-u;for(let a=e;a<f;++a){let c=d+a*o-t;r?i+=x.get(j,b,c,g)*y.get(j,k,a,h):i+=x.get(j,g,b,c)*y.get(j,h,k,a)}}s.set(i,a,d,g,h)}}}return c.makeTensorInfo(s.shape,s.dtype,s.values)}},{kernelName:a2,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{inputShape:g,strides:h,pad:i,dataFormat:j,dimRoundingMode:k}=d;tq([e,f],"conv2dBackpropInput");let l=jd.computeStrides(f.shape),m=jd.computeStrides(e.shape),n=hJ.convertConv2DDataFormat(j),o=hJ.computeConv2DInfo(g,f.shape,h,1,i,k,!1,n),p=new dl(o.inShape,"float32"),q=p.values,r=c.data.get(e.dataId).values,s=c.data.get(f.dataId).values,[t,u,v]=l,{batchSize:w,filterHeight:x,filterWidth:y,inChannels:z,inHeight:A,inWidth:B,outChannels:C,outHeight:D,outWidth:E,strideHeight:F,strideWidth:G}=o;n=o.dataFormat;let H=x-1-o.padInfo.top,I=y-1-o.padInfo.left,J="channelsLast"===n,K=p.strides[0],L=J?p.strides[1]:p.strides[2],M=J?p.strides[2]:1,N=J?1:p.strides[1],O=m[0],P=J?m[1]:m[2],Q=J?m[2]:1,R=J?1:m[1];for(let a=0;a<w;++a)for(let b=0;b<z;++b)for(let c=0;c<A;++c){let d=c-H,e=Math.max(0,Math.ceil(d/F)),f=Math.min(D,(x+d)/F);for(let g=0;g<B;++g){let h=g-I,i=Math.max(0,Math.ceil(h/G)),j=Math.min(E,(y+h)/G),k=0;for(let c=e;c<f;++c){let e=c*F-d;for(let d=i;d<j;++d){let f=d*G-h,g=O*a+P*c+Q*d,i=t*(x-1-e)+u*(y-1-f)+v*b;for(let a=0;a<C;++a)k+=r[g+R*a]*s[i+a]}}q[K*a+L*c+M*g+N*b]=k}}return c.makeTensorInfo(p.shape,p.dtype,p.values)}},{kernelName:a3,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f}=b,{strides:g,pad:h,dilations:i}=d;tq([e,f],"conv3d");let j=hJ.computeConv3DInfo(e.shape,f.shape,g,i,h),{filterDepth:k,filterHeight:l,filterWidth:m,dilationDepth:n,dilationHeight:o,dilationWidth:p,padInfo:q}=j,r=q.front,s=q.left,t=q.top,u=new dl(j.outShape,e.dtype),v=c.data.get(e.dataId).values,w=c.data.get(f.dataId).values,x=u.values,y=jd.computeStrides(e.shape),z=jd.computeStrides(f.shape);for(let a=0;a<j.batchSize;++a){let b=a*y[0],c=a*u.strides[0];for(let a=0;a<j.outDepth;++a){let d=c+a*u.strides[1],e=a*j.strideDepth-r;for(let a=0;a<k;++a){let c=e+a*n;if(c<0||c>=j.inDepth)continue;let f=a*z[0],g=b+c*y[1];for(let a=0;a<j.outHeight;++a){let b=d+a*u.strides[2],c=a*j.strideHeight-t;for(let a=0;a<l;++a){let d=c+a*o;if(d<0||d>=j.inHeight)continue;let e=f+a*z[1],h=g+d*y[2];for(let a=0;a<j.outWidth;++a){let c=b+a*j.outChannels,d=a*j.strideWidth-s;for(let a=0;a<m;++a){let b=d+a*p;if(b<0||b>=j.inWidth)continue;let f=e+a*z[2],g=h+b*j.inChannels,i=f;for(let a=0;a<j.inChannels;++a){let b=v[g+a];for(let a=0;a<j.outChannels;++a)x[c+a]+=b*w[i+a];i+=j.outChannels}}}}}}}}return c.makeTensorInfo(u.shape,u.dtype,u.values)}},{kernelName:a4,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,pad:h,filterShape:i}=d;tq([e,f],"conv3dBackpropFilterV2");let j=jd.computeStrides(e.shape),k=jd.computeStrides(f.shape),l=hJ.computeConv3DInfo(e.shape,i,g,1,h),m=l.strideDepth,n=l.strideHeight,o=l.strideWidth,p=l.filterDepth,q=l.filterHeight,r=l.filterWidth,s=new dl(l.filterShape,"float32"),t=s.values,[u,v,w,x]=s.strides,y=c.data.get(f.dataId).values,[z,A,B,C]=k,D=c.data.get(e.dataId).values,[E,F,G,H]=j,I=l.padInfo.front,J=l.padInfo.left,K=l.padInfo.top;for(let a=0;a<p;++a){let b=Math.max(0,Math.ceil((I-a)/m)),c=Math.min(l.outDepth,(l.inDepth+I-a)/m),d=a*u;for(let e=0;e<q;++e){let f=Math.max(0,Math.ceil((K-e)/n)),g=Math.min(l.outHeight,(l.inHeight+K-e)/n),h=e*v+d;for(let d=0;d<r;++d){let i=Math.max(0,Math.ceil((J-d)/o)),j=Math.min(l.outWidth,(l.inWidth+J-d)/o),k=d*w+h;for(let h=0;h<l.inChannels;++h){let p=h*x+k;for(let k=0;k<l.outChannels;++k){let q=0;for(let p=0;p<l.batchSize;++p){let l=p*E,r=p*z;for(let p=b;p<c;++p){let b=(a+p*m-I)*F+l,c=p*A+r;for(let a=f;a<g;++a){let f=(e+a*n-K)*G+b,g=a*B+c;for(let a=i;a<j;++a){let b=(d+a*o-J)*H+f,c=a*C+g;q+=D[b+h]*y[c+k]}}}}t[p+k]=q}}}}}return c.makeTensorInfo(s.shape,s.dtype,s.values)}},{kernelName:a5,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{pad:g,strides:h,inputShape:i}=d;tq([e],"conv3dBackpropInputV2");let j=jd.computeStrides(e.shape),k=jd.computeStrides(f.shape),l=hJ.computeConv3DInfo(i,f.shape,h,1,g),m=new dl(l.inShape,"float32"),n=m.values,[o,p,q,r]=m.strides,s=c.data.get(e.dataId).values,[t,u,v,w]=j,x=c.data.get(f.dataId).values,[y,z,A,B]=k,{batchSize:C,filterDepth:D,filterHeight:E,filterWidth:F,inChannels:G,inDepth:H,inHeight:I,inWidth:J,outChannels:K,outDepth:L,outHeight:M,outWidth:N,strideDepth:O,strideHeight:P,strideWidth:Q}=l,R=D-1-l.padInfo.front,S=E-1-l.padInfo.top,T=F-1-l.padInfo.left;for(let a=0;a<C;++a)for(let b=0;b<G;++b)for(let c=0;c<H;++c){let d=c-R,e=Math.max(0,Math.ceil(d/O)),f=Math.min(L,(D+d)/O);for(let g=0;g<I;++g){let h=g-S,i=Math.max(0,Math.ceil(h/P)),j=Math.min(M,(E+h)/P);for(let k=0;k<J;++k){let l=k-T,m=Math.max(0,Math.ceil(l/Q)),C=Math.min(N,(F+l)/Q),G=0;for(let c=e;c<f;++c){let e=c*O-d;for(let d=i;d<j;++d){let f=d*P-h;for(let g=m;g<C;++g){let h=g*Q-l,i=t*a+u*c+v*d+w*g,j=y*(D-1-e)+z*(E-1-f)+A*(F-1-h)+B*b;for(let a=0;a<K;++a)G+=s[i+a]*x[j+a]}}}n[o*a+p*c+q*g+r*k+b]=G}}}return c.makeTensorInfo(m.shape,m.dtype,m.values)}},{kernelName:"Cos",backendName:"cpu",kernelFunc:vl},{kernelName:a6,backendName:"cpu",kernelFunc:vm},{kernelName:a9,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{image:e,boxes:f,boxInd:g}=b,{cropSize:h,method:i,extrapolationValue:j}=d,[k,l,m,n]=e.shape,o=f.shape[0],[p,q]=h,r=eD([o,p,q,n],"float32"),s=c.data.get(f.dataId).values,t=c.data.get(g.dataId).values,u=c.data.get(e.dataId).values,v=jd.computeStrides(e.shape),w=jd.computeStrides(r.shape);for(let a=0;a<o;a++){let b=4*a,c=s[b],d=s[b+1],e=s[b+2],f=s[b+3],g=t[a];if(g>=k)continue;let h=p>1?(e-c)*(l-1)/(p-1):0,o=q>1?(f-d)*(m-1)/(q-1):0;for(let b=0;b<p;b++){let k=p>1?c*(l-1)+b*h:.5*(c+e)*(l-1);if(k<0||k>l-1){for(let c=0;c<q;c++)for(let d=0;d<n;d++){let e=d+c*w[2]+b*w[1]+a*w[0];r.values[e]=j}continue}if("bilinear"===i){let c=Math.floor(k),e=Math.ceil(k),h=k-c;for(let i=0;i<q;i++){let k=q>1?d*(m-1)+i*o:.5*(d+f)*(m-1);if(k<0||k>m-1){for(let c=0;c<n;c++){let d=c+i*w[2]+b*w[1]+a*w[0];r.values[d]=j}continue}let l=Math.floor(k),p=Math.ceil(k),s=k-l;for(let d=0;d<n;d++){let f=d+l*v[2]+c*v[1]+g*v[0],j=u[f],k=u[f=d+p*v[2]+c*v[1]+g*v[0]],m=u[f=d+l*v[2]+e*v[1]+g*v[0]],n=u[f=d+p*v[2]+e*v[1]+g*v[0]],o=j+(k-j)*s,q=m+(n-m)*s;f=d+i*w[2]+b*w[1]+a*w[0],r.values[f]=o+(q-o)*h}}}else for(let c=0;c<q;++c){let e=q>1?d*(m-1)+c*o:.5*(d+f)*(m-1);if(e<0||e>m-1){for(let d=0;d<n;d++){let e=d+c*w[2]+b*w[1]+a*w[0];r.values[e]=j}continue}let h=Math.round(e),i=Math.round(k);for(let d=0;d<n;d++){let e=d+h*v[2]+i*v[1]+g*v[0],f=d+c*w[2]+b*w[1]+a*w[0];r.values[f]=u[e]}}}}return c.makeTensorInfo(r.shape,r.dtype,r.values)}},{kernelName:a7,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,exclusive:g,reverse:h}=d;tq(e,"cumprod");let i=hJ.getAxesPermutation([f],e.shape.length),j=e;null!=i&&(j=ul({inputs:{x:e},backend:c,attrs:{perm:i}}));let k=hJ.getInnerMostAxes(1,e.shape.length)[0];if(k!==j.shape.length-1)throw Error(`backend.cumprod in CPU expects an inner-most axis=${j.shape.length-1} but got axis=${k}`);let l=dt(j.dtype,"int32"),m=jd.makeOnesTypedArray(jd.sizeFromShape(j.shape),l),n=c.data.get(j.dataId).values,o=j.shape[j.shape.length-1],p=h?(a,b)=>a+o-b-1:(a,b)=>a+b;for(let a=0;a<n.length;a+=o)for(let b=0;b<o;b++){let c=p(a,b);if(0===b)m[c]=g?1:n[c];else{let d=p(a,b-1);m[c]=g?n[d]*m[d]:n[c]*m[d]}}let q=c.makeTensorInfo(j.shape,l,m);if(null!=i){let a=ul({inputs:{x:q},backend:c,attrs:{perm:hJ.getUndoAxesPermutation(i)}});return c.disposeIntermediateTensorInfo(q),c.disposeIntermediateTensorInfo(j),a}return q}},{kernelName:a8,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,exclusive:g,reverse:h}=d;tq(e,"cumsum");let i=hJ.getAxesPermutation([f],e.shape.length),j=e;null!=i&&(j=ul({inputs:{x:e},backend:c,attrs:{perm:i}}));let k=hJ.getInnerMostAxes(1,e.shape.length)[0];if(k!==j.shape.length-1)throw Error(`backend.cumsum in CPU expects an inner-most axis=${j.shape.length-1} but got axis=${k}`);let l=dt(j.dtype,"int32"),m=jd.makeZerosTypedArray(jd.sizeFromShape(j.shape),l),n=c.data.get(j.dataId).values,o=j.shape[j.shape.length-1],p=h?(a,b)=>a+o-b-1:(a,b)=>a+b;for(let a=0;a<n.length;a+=o)for(let b=0;b<o;b++){let c=p(a,b);if(0===b)m[c]=g?0:n[c];else{let d=p(a,b-1);m[c]=g?n[d]+m[d]:n[c]+m[d]}}let q=c.makeTensorInfo(j.shape,l,m);if(null!=i){let a=ul({inputs:{x:q},backend:c,attrs:{perm:hJ.getUndoAxesPermutation(i)}});return c.disposeIntermediateTensorInfo(q),c.disposeIntermediateTensorInfo(j),a}return q}},{kernelName:ba,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,weights:f}=b,{size:g,binaryOutput:h}=d;if(1===e.shape.length){let a=tF(c.data.get(e.dataId).values,c.data.get(f.dataId).values,f.dtype,f.shape,g);return c.makeTensorInfo([g],f.dtype,a)}if(2===e.shape.length){let a=tG(c.bufferSync(e),c.bufferSync(f),g,h);return c.makeTensorInfo(a.shape,f.dtype,a.values)}throw Error(`Error in denseBincount: input must be at most rank 2, but got rank${e.shape.length}.`)}},{kernelName:bb,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockSize:f,dataFormat:g}=d;jd.assert("NHWC"===g,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${g}`);let h=e.shape[0],i=e.shape[1],j=e.shape[2],k=e.shape[3],l=i*f,m=j*f,n=k/(f*f),o=c.data.get(e.dataId).values,p=new Float32Array(h*l*m*n),q=0;for(let a=0;a<h;++a)for(let b=0;b<l;++b){let c=Math.floor(b/f),d=b%f;for(let b=0;b<m;++b){let e=Math.floor(b/f),g=b%f,h=(d*f+g)*n;for(let b=0;b<n;++b){let d=b+h+k*(e+j*(c+i*a));p[q++]=o[d]}}}return c.makeTensorInfo([h,l,m,n],e.dtype,p)}},{kernelName:bc,backendName:"cpu",kernelFunc:vn},{kernelName:bd,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,dilations:h,pad:i,dimRoundingMode:j,filterShape:k}=d;tq([e,f],"depthwiseConv2dNativeBackpropFilter");let l=hJ.computeConv2DInfo(e.shape,k,g,h,i,j,!0),{strideHeight:m,strideWidth:n,filterHeight:o,filterWidth:p}=l,q=new dl(l.filterShape,"float32"),r=l.padInfo.left,s=l.padInfo.top,t=l.outChannels/l.inChannels,u=c.data.get(e.dataId).values,v=new dl(e.shape,e.dtype,u),w=c.data.get(f.dataId).values,x=new dl(f.shape,f.dtype,w);for(let a=0;a<o;++a){let b=Math.max(0,Math.ceil((s-a)/m)),c=Math.min(l.outHeight,(l.inHeight+s-a)/m);for(let d=0;d<p;++d){let e=Math.max(0,Math.ceil((r-d)/n)),f=Math.min(l.outWidth,(l.inWidth+r-d)/n);for(let g=0;g<l.outChannels;++g){let h=Math.trunc(g/t),i=g%t,j=0;for(let i=0;i<l.batchSize;++i)for(let k=b;k<c;++k){let b=a+k*m-s;for(let a=e;a<f;++a){let c=d+a*n-r;j+=v.get(i,b,c,h)*x.get(i,k,a,g)}}q.set(j,a,d,h,i)}}}return c.makeTensorInfo(q.shape,q.dtype,q.values)}},{kernelName:be,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{strides:g,dilations:h,pad:i,dimRoundingMode:j,inputShape:k}=d;tq([e,f],"depthwiseConv2DNativeBackpropInput");let l=jd.computeStrides(e.shape),m=jd.computeStrides(f.shape),n=hJ.computeConv2DInfo(k,f.shape,g,h,i,j,!0),o=new dl(n.inShape,"float32"),p=o.values,[q,r,s]=o.strides,t=c.data.get(e.dataId).values,[u,v,w]=l,x=c.data.get(f.dataId).values,[y,z,A]=m,{batchSize:B,filterHeight:C,filterWidth:D,inChannels:E,inHeight:F,inWidth:G,outChannels:H,outHeight:I,outWidth:J,strideHeight:K,strideWidth:L}=n,M=C-1-n.padInfo.top,N=D-1-n.padInfo.left,O=H/E;for(let a=0;a<B;++a)for(let b=0;b<E;++b)for(let c=0;c<F;++c){let d=c-M,e=Math.max(0,Math.ceil(d/K)),f=Math.min(I,(C+d)/K);for(let g=0;g<G;++g){let h=g-N,i=Math.max(0,Math.ceil(h/L)),j=Math.min(J,(D+h)/L),k=0;for(let c=e;c<f;++c){let e=c*K-d;for(let d=i;d<j;++d){let f=d*L-h,g=u*a+v*c+w*d,i=y*(C-1-e)+z*(D-1-f)+A*b;for(let a=0;a<O;++a)k+=t[g+(b*O+a)]*x[i+a]}}p[q*a+r*c+s*g+b]=k}}return c.makeTensorInfo(o.shape,o.dtype,o.values)}},{kernelName:bf,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{x:d}=b,e=jd.sizeFromShape(d.shape),f=c.data.get(d.dataId).values,g=eD([e,e],d.dtype),h=g.values;for(let a=0;a<f.length;a++)h[a*e+a]=f[a];let i=[...d.shape,...d.shape];return c.makeTensorInfo(i,g.dtype,g.values)}},{kernelName:bg,backendName:"cpu",kernelFunc:({inputs:a,backend:b,attrs:c})=>{let{x:d,filter:e}=a,{strides:f,pad:g,dilations:h}=c,i=b.data.get(d.dataId).values,j=d.shape.length,k=b.data.get(e.dataId).values,l=e.shape.length,{batchSize:m,inHeight:n,inWidth:o,inChannels:p,outHeight:q,outWidth:r,padInfo:s,strideHeight:t,strideWidth:u,filterHeight:v,filterWidth:w,dilationHeight:x,dilationWidth:y,outShape:z}=hJ.computeDilation2DInfo(d.shape,e.shape,f,g,"NHWC",h),A=jd.sizeFromShape(z),B=z.length,C=jd.getArrayFromDType(d.dtype,A);for(let a=0;a<m;++a)for(let b=0;b<q;++b){let c=b*t-s.top;for(let f=0;f<r;++f){let g=f*u-s.left;for(let h=0;h<p;++h){let m=Number.MIN_SAFE_INTEGER;for(let b=0;b<v;++b){let f=c+b*x;if(f>=0&&f<n)for(let c=0;c<w;++c){let n=g+c*y;if(n>=0&&n<o){let g=jd.locToIndex([a,f,n,h],j,jd.computeStrides(d.shape)),o=jd.locToIndex([b,c,h],l,jd.computeStrides(e.shape)),p=i[g]+k[o];p>m&&(m=p)}}}C[jd.locToIndex([a,b,f,h],B,jd.computeStrides(z))]=m}}}return{dataId:b.write(jd.toTypedArray(C,d.dtype),z,d.dtype),shape:z,dtype:d.dtype}}},{kernelName:bi,backendName:"cpu",kernelFunc:({inputs:a,backend:b,attrs:c})=>{let{x:d,filter:e,dy:f}=a,{strides:g,pad:h,dilations:i}=c,j=jd.toNestedArray(d.shape,b.data.get(d.dataId).values),k=jd.toNestedArray(e.shape,b.data.get(e.dataId).values),{batchSize:l,inHeight:m,inWidth:n,inChannels:o,outHeight:p,outWidth:q,padInfo:r,strideHeight:s,strideWidth:t,filterHeight:u,filterWidth:v,dilationHeight:w,dilationWidth:x,outShape:y}=hJ.computeDilation2DInfo(d.shape,e.shape,g,h,"NHWC",i);jd.assert(f.rank===y.length,()=>`Error in ${bi}, dy must have the same rank as output ${y.length}, but got ${f.rank}`);let z=jd.toNestedArray(y,b.data.get(f.dataId).values),A=jd.makeZerosNestedTypedArray(e.shape,e.dtype);for(let a=0;a<l;++a)for(let b=0;b<p;++b){let c=b*s-r.top;for(let d=0;d<q;++d){let e=d*t-r.left;for(let f=0;f<o;++f){let g=Number.MIN_SAFE_INTEGER,h=0,i=0;for(let b=0;b<u;++b){let d=c+b*w;if(d>=0&&d<m)for(let c=0;c<v;++c){let l=e+c*x;if(l>=0&&l<n){let e=j[a][d][l][f]+k[b][c][f];e>g&&(g=e,h=b,i=c)}}}A[h][i][f]+=z[a][b][d][f]}}}return{dataId:b.write(jd.toTypedArray(A,d.dtype),e.shape,e.dtype),shape:e.shape,dtype:e.dtype}}},{kernelName:bh,backendName:"cpu",kernelFunc:({inputs:a,backend:b,attrs:c})=>{let{x:d,filter:e,dy:f}=a,{strides:g,pad:h,dilations:i}=c,j=jd.toNestedArray(d.shape,b.data.get(d.dataId).values),k=jd.toNestedArray(e.shape,b.data.get(e.dataId).values),{batchSize:l,inHeight:m,inWidth:n,inChannels:o,outHeight:p,outWidth:q,padInfo:r,strideHeight:s,strideWidth:t,filterHeight:u,filterWidth:v,dilationHeight:w,dilationWidth:x,outShape:y}=hJ.computeDilation2DInfo(d.shape,e.shape,g,h,"NHWC",i);jd.assert(f.rank===y.length,()=>`Error in ${bh}, dy must have the same rank as output ${y.length}, but got ${f.rank}`);let z=jd.toNestedArray(y,b.data.get(f.dataId).values),A=jd.makeZerosNestedTypedArray(d.shape,d.dtype);for(let a=0;a<l;++a)for(let b=0;b<p;++b){let c=b*s-r.top;for(let d=0;d<q;++d){let e=d*t-r.left;for(let f=0;f<o;++f){let g=Number.MIN_SAFE_INTEGER,h=c<0?0:c,i=e<0?0:e;for(let b=0;b<u;++b){let d=c+b*w;if(d>=0&&d<m)for(let c=0;c<v;++c){let l=e+c*x;if(l>=0&&l<n){let e=j[a][d][l][f]+k[b][c][f];e>g&&(g=e,h=d,i=l)}}}A[a][h][i][f]+=z[a][b][d][f]}}}return{dataId:b.write(jd.toTypedArray(A,d.dtype),d.shape,d.dtype),shape:d.shape,dtype:d.dtype}}},{kernelName:bj,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{image:e}=b,{canvas:f,options:g}=d,{contextOptions:h,imageOptions:i}=g||{},j=(null==i?void 0:i.alpha)||1,k=(null==h?void 0:h.contextType)||"2d";if("2d"!==k)throw Error(`Context type ${h.contextType} is not supported by the CPU backend.`);let l=f.getContext(k,(null==h?void 0:h.contextAttributes)||{});if(null==l)throw Error(`Could not get the context with ${k} type.`);let[m,n]=e.shape.slice(0,2),o=2===e.shape.length?1:e.shape[2],p=c.data.get(e.dataId).values,q="float32"===e.dtype?255:1,r=new Uint8ClampedArray(n*m*4);for(let a=0;a<m*n;++a){let b=[0,0,0,255*j];for(let c=0;c<o;c++){let d=p[a*o+c];if("float32"===e.dtype){if(d<0||d>1)throw Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${d}.`)}else if("int32"===e.dtype&&(d<0||d>255))throw Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${d}.`);1===o?(b[0]=d*q,b[1]=d*q,b[2]=d*q):b[c]=d*q}let c=4*a;r[c+0]=Math.round(b[0]),r[c+1]=Math.round(b[1]),r[c+2]=Math.round(b[2]),r[c+3]=Math.round(b[3])}f.width=n,f.height=m;let s=new ImageData(r,n,m);return l.putImageData(s,0,0),e}},{kernelName:bl,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{equation:e}=d,{allDims:f,summedDims:g,idDims:h}=hJ.decodeEinsumEquation(e,b.length);hJ.checkEinsumDimSizes(f.length,h,b);let{path:i,steps:j}=hJ.getEinsumComputePath(g,h),k=j.length,l=null,m=f.length,n=[];for(let a=0;a<k;++a){for(let d of j[a]){let a,{permutationIndices:e,expandDims:f}=hJ.getEinsumPermutation(m,h[d]);hJ.isIdentityPermutation(e)?a=b[d]:(a=ul({inputs:{x:b[d]},backend:c,attrs:{perm:e}}),n.push(a));let g=a.shape.slice();for(let a=0;a<f.length;++a)g.splice(f[a],0,1);jd.arraysEqual(a.shape,g)||(a=u5({inputs:{x:a},backend:c,attrs:{shape:g}}),n.push(a)),null===l?l=a:(l=ug({inputs:{a:a,b:l},backend:c}),n.push(l))}a<k-1&&(i[a]>=0&&(l=vo({inputs:{x:l},backend:c,attrs:{axis:i[a]-(f.length-m),keepDims:!1}}),n.push(l)),m--)}for(let a of n)a!==l&&c.disposeIntermediateTensorInfo(a);return l}},{kernelName:"Elu",backendName:"cpu",kernelFunc:uZ},{kernelName:bm,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{dy:d,y:e}=b;tq([d,e],"eluGrad");let f=new Float32Array(jd.sizeFromShape(e.shape)),g=c.data.get(e.dataId).values,h=c.data.get(d.dataId).values;for(let a=0;a<g.length;++a){let b=g[a];b>=0?f[a]=h[a]:f[a]=h[a]*(b+1)}return c.makeTensorInfo(e.shape,"float32",f)}},{kernelName:bn,backendName:"cpu",kernelFunc:tQ},{kernelName:"Erf",backendName:"cpu",kernelFunc:vv},{kernelName:"Exp",backendName:"cpu",kernelFunc:tS},{kernelName:bo,backendName:"cpu",kernelFunc:vw},{kernelName:bp,backendName:"cpu",kernelFunc:tU},{kernelName:"FFT",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{input:d}=b,e=jd.sizeFromShape(d.shape),f=d.shape[d.shape.length-1],g=u5({inputs:{x:d},backend:c,attrs:{shape:[e/f,f]}}),h=vz(g,!1,c),i=u5({inputs:{x:h},backend:c,attrs:{shape:d.shape}});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(h),i}},{kernelName:bq,backendName:"cpu",kernelFunc:vA},{kernelName:br,backendName:"cpu",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{image:d}=a,e=jd.getTypedArrayFromDType(d.dtype,jd.sizeFromShape(d.shape)),[f,g,h,i]=d.shape,j=c.data.get(d.dataId).values;for(let a=0;a<f;a++){let b=a*h*g*i;for(let a=0;a<g;a++){let c=h*i*a;for(let a=0;a<h;a++){let d=a*i;for(let f=0;f<i;f++){let g=Math.round(h-a-1),k=b+c+d+f,l=j[k];g>=0&&g<h&&(l=j[b+c+g*i+f]),e[k]=l}}}}return{dataId:c.write(e,d.shape,d.dtype),shape:d.shape,dtype:d.dtype}}},{kernelName:bs,backendName:"cpu",kernelFunc:tW},{kernelName:bt,backendName:"cpu",kernelFunc:tY},{kernelName:c$,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f,bias:g,preluActivationWeights:h}=b,{strides:i,pad:j,dataFormat:k,dilations:l,dimRoundingMode:m,activation:n,leakyreluAlpha:o}=d,p=vk({inputs:{x:e,filter:f},backend:c,attrs:{strides:i,pad:j,dataFormat:k,dilations:l,dimRoundingMode:m}});if(g){let a=p;if("NCHW"===k&&1===g.shape.length&&1!==g.shape[0]){let a=u5({inputs:{x:g},backend:c,attrs:{shape:[g.shape[0],1,1]}});p=tE({inputs:{a:p,b:a},backend:c}),c.disposeIntermediateTensorInfo(a)}else p=tE({inputs:{a:p,b:g},backend:c});c.disposeIntermediateTensorInfo(a)}if(n){let a=p;if("NCHW"===k&&"prelu"===n&&1===h.shape.length&&1!==h.shape[0]){let a=u5({inputs:{x:h},backend:c,attrs:{shape:[h.shape[0],1,1]}});p=u3(c,p,n,a,o),c.disposeIntermediateTensorInfo(a)}else p=u3(c,p,n,h,o);c.disposeIntermediateTensorInfo(a)}return p}},{kernelName:c_,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f,bias:g,preluActivationWeights:h}=b,{strides:i,pad:j,dataFormat:k,dilations:l,dimRoundingMode:m,activation:n,leakyreluAlpha:o}=d,p=vn({inputs:{x:e,filter:f},backend:c,attrs:{strides:i,pad:j,dataFormat:k,dilations:l,dimRoundingMode:m}});if(g){let a=p;p=tE({inputs:{a:p,b:g},backend:c}),c.disposeIntermediateTensorInfo(a)}if(n){let a=p;p=u3(c,p,n,h,o),c.disposeIntermediateTensorInfo(a)}return p}},{kernelName:bw,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{params:d,indices:e}=b,f=jd.sizeFromShape(d.shape),g=e.shape,h=g[g.length-1],[i,j,k,l]=hJ.prepareAndValidate(d,e);if(0===j)return c.makeTensorInfo(i,d.dtype,[]);let m=tZ(c.data.get(e.dataId).values,c.bufferSync(d),d.dtype,j,h,k,l,d.shape,f);return c.makeTensorInfo(i,d.dtype,m.values)}},{kernelName:bv,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,indices:f}=b,{axis:g,batchDims:h}=d;tq([e,f],"gatherV2");let i=jd.parseAxisParam(g,e.shape)[0],j=c.data.get(f.dataId).values,k=e.shape[i];for(let a=0;a<j.length;++a){let b=j[a];jd.assert(b<=k-1&&b>=0,()=>`GatherV2: the index value ${b} is not in [0, ${k-1}]`)}let l=h;null==h&&(l=0);let m=jd.sizeFromShape(f.shape),n=hJ.segment_util.collectGatherOpShapeInfo(e,f,i,l),o=u5({inputs:{x:e},backend:c,attrs:{shape:[n.batchSize,n.outerSize,n.dimSize,n.sliceSize]}}),p=u5({inputs:{x:f},backend:c,attrs:{shape:[n.batchSize,m/n.batchSize]}}),q=[n.batchSize,n.outerSize,m/n.batchSize,n.sliceSize],r=c.bufferSync(p),s=t$(c.bufferSync(o),r,q);return c.disposeIntermediateTensorInfo(o),c.disposeIntermediateTensorInfo(p),c.makeTensorInfo(n.outputShape,s.dtype,s.values)}},{kernelName:bx,backendName:"cpu",kernelFunc:t0},{kernelName:by,backendName:"cpu",kernelFunc:t2},{kernelName:bz,backendName:"cpu",kernelFunc:tx},{kernelName:bA,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{input:d}=b,e=jd.sizeFromShape(d.shape),f=d.shape[d.shape.length-1],g=u5({inputs:{x:d},backend:c,attrs:{shape:[e/f,f]}}),h=vz(g,!0,c),i=u5({inputs:{x:h},backend:c,attrs:{shape:d.shape}});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(h),i}},{kernelName:bB,backendName:"cpu",kernelFunc:vi},{kernelName:bC,backendName:"cpu",kernelFunc:vB},{kernelName:bD,backendName:"cpu",kernelFunc:vC},{kernelName:bE,backendName:"cpu",kernelFunc:vD},{kernelName:bF,backendName:"cpu",kernelFunc:u$},{kernelName:bG,backendName:"cpu",kernelFunc:t4},{kernelName:bH,backendName:"cpu",kernelFunc:t6},{kernelName:bI,backendName:"cpu",kernelFunc:function(a){let{backend:b,attrs:c}=a,{start:d,stop:e,num:f}=c,g=t7(d,e,f);return b.makeTensorInfo([g.length],"float32",g)}},{kernelName:"Log",backendName:"cpu",kernelFunc:t9},{kernelName:bJ,backendName:"cpu",kernelFunc:vE},{kernelName:bK,backendName:"cpu",kernelFunc:vF},{kernelName:bL,backendName:"cpu",kernelFunc:vG},{kernelName:bM,backendName:"cpu",kernelFunc:vH},{kernelName:"LRN",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{depthRadius:f,bias:g,alpha:h,beta:i}=d;tq(e,"LRN");let j=e.shape[3],k=j-1,l=c.data.get(e.dataId).values,m=jd.sizeFromShape(e.shape),n=new Float32Array(m);for(let a=0;a<m;a++){let b=function(a){let b=a%j,c=a-b+Math.max(0,b-f),d=a-b+Math.min(b+f,k),e=0;for(;c<=d;c++){let a=l[c];e+=a*a}return e}(a),c=l[a]*Math.pow(g+h*b,-i);n[a]=c}return c.makeTensorInfo(e.shape,e.dtype,n)}},{kernelName:bN,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,y:f,dy:g}=b,{depthRadius:h,bias:i,alpha:j,beta:k}=d;tq(g,"LRNGrad");let l=jd.sizeFromShape(g.shape),m=g.shape[3],n=c.data.get(g.dataId).values,o=c.data.get(e.dataId).values,p=c.data.get(f.dataId).values,q=new Float32Array(l);for(let a=0;a<l;a++){let b=a%m,c=a-b+Math.max(0,b-h),d=a-b+Math.min(m,b+h+1),e=0;for(let a=c;a<d;a++)e+=Math.pow(o[a],2);e=j*e+i;for(let b=c;b<d;b++){let c=-2*j*k*o[b]*p[a]/e;a===b&&(c+=Math.pow(e,-k)),c*=n[a],q[b]+=c}}return c.makeTensorInfo(g.shape,e.dtype,q)}},{kernelName:"Max",backendName:"cpu",kernelFunc:vI},{kernelName:bO,backendName:"cpu",kernelFunc:uc},{kernelName:bP,backendName:"cpu",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c;tq(f,"maxPool");let{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=e;jd.assert(hJ.eitherStridesOrDilationsAreOne(h,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${h} and dilations '1'`);let k=hJ.computePool2DInfo(f.shape,g,h,1,i,j);if(1===k.filterWidth&&1===k.filterHeight&&jd.arraysEqual(k.inShape,k.outShape))b=tx({inputs:{x:f},backend:d});else{let a=d.data.get(f.dataId).values,c=jd.computeStrides(f.shape),e=ve(a,f.shape,f.dtype,c,k,"max");b=d.makeTensorInfo(k.outShape,f.dtype,e.values)}return b}},{kernelName:bR,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{filterSize:f,strides:g,pad:h,dimRoundingMode:i,dataFormat:j}=d;tq(e,"maxPool3d");let k=hJ.computePool3DInfo(e.shape,f,g,1,h,i,j),l=vg(c.data.get(e.dataId).values,e.shape,e.dtype,jd.computeStrides(e.shape),k,"max");return c.makeTensorInfo(l.shape,"float32",l.values)}},{kernelName:bS,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b,{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=d;tq([e,f],"maxPool3DGrad");let k=hJ.computePool3DInfo(f.shape,g,h,1,i,j),l=function(a,b){let c=eD(b.outShape,"int32"),d=b.strideDepth,e=b.strideHeight,f=b.strideWidth,g=b.dilationDepth,h=b.dilationHeight,i=b.dilationWidth,j=b.effectiveFilterDepth,k=b.effectiveFilterHeight,l=b.effectiveFilterWidth,m=b.padInfo.front,n=b.padInfo.top,o=b.padInfo.left;for(let p=0;p<b.batchSize;++p)for(let q=0;q<b.inChannels;++q)for(let r=0;r<b.outDepth;++r){let s=r*d-m,t=s;for(;t<0;)t+=g;let u=Math.min(b.inDepth,j+s);for(let d=0;d<b.outHeight;++d){let j=d*e-n,m=j;for(;m<0;)m+=h;let v=Math.min(b.inHeight,k+j);for(let e=0;e<b.outWidth;++e){let n=e*f-o,w=n;for(;w<0;)w+=i;let x=Math.min(b.inWidth,l+n),y=-1/0,z=-1;for(let b=t;b<u;b+=g){let c=b-s;for(let d=m;d<v;d+=h){let e=d-j;for(let f=w;f<x;f+=i){let g=f-n,h=a.get(p,b,d,f,q);h>=y&&(y=h,z=c*k*l+e*k+g)}}}c.set(z,p,r,d,e,q)}}}return c}(c.bufferSync(f),k),m=k.strideDepth,n=k.strideHeight,o=k.strideWidth,p=k.dilationDepth,q=k.dilationHeight,r=k.dilationWidth,s=k.effectiveFilterDepth,t=k.effectiveFilterHeight,u=k.effectiveFilterWidth,v=s-1-k.padInfo.front,w=u-1-k.padInfo.left,x=t-1-k.padInfo.top,y=eD(f.shape,"float32"),z=c.bufferSync(e);for(let a=0;a<k.batchSize;++a)for(let b=0;b<k.inChannels;++b)for(let c=0;c<k.inDepth;++c)for(let d=0;d<k.inHeight;++d)for(let e=0;e<k.inWidth;++e){let f=c-v,g=d-x,h=e-w,i=0;for(let c=0;c<s;c+=p){let d=(f+c)/m;if(!(d<0)&&!(d>=k.outDepth)&&Math.floor(d)===d)for(let e=0;e<t;e+=q){let f=(g+e)/n;if(!(f<0)&&!(f>=k.outHeight)&&Math.floor(f)===f)for(let g=0;g<u;g+=r){let j=(h+g)/o;if(j<0||j>=k.outWidth||Math.floor(j)!==j)continue;let m=+(s*t*u-1-l.get(a,d,f,j,b)===c*t*u+e*u+g);0!==m&&(i+=z.get(a,d,f,j,b)*m)}}}y.set(i,a,c,d,e,b)}return c.makeTensorInfo(y.shape,y.dtype,y.values)}},{kernelName:bQ,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f,output:g}=b;tq([f,g],"maxPoolGrad");let{filterSize:h,strides:i,pad:j,dimRoundingMode:k}=d,l=hJ.computePool2DInfo(f.shape,h,i,1,j,k),m=c.data.get(f.dataId).values,n=eD(l.outShape,f.dtype,vf(m,f.shape,f.dtype,l).values),o=l.strideHeight,p=l.strideWidth,q=l.dilationHeight,r=l.dilationWidth,s=l.effectiveFilterHeight,t=l.effectiveFilterWidth,u=t-1-l.padInfo.left,v=s-1-l.padInfo.top,w=eD(f.shape,"float32"),x=c.data.get(e.dataId).values,y=eD(e.shape,"float32",x);for(let a=0;a<l.batchSize;++a)for(let b=0;b<l.inChannels;++b)for(let c=0;c<l.inHeight;++c)for(let d=0;d<l.inWidth;++d){let e=c-v,f=d-u,g=0;for(let c=0;c<s;c+=q){let d=(e+c)/o;if(!(d<0)&&!(d>=l.outHeight)&&Math.floor(d)===d)for(let e=0;e<t;e+=r){let h=(f+e)/p;if(h<0||h>=l.outWidth||Math.floor(h)!==h)continue;let i=+(s*t-1-n.get(a,d,h,b)===c*t+e);0!==i&&(g+=y.get(a,d,h,b)*i)}}w.set(g,a,c,d,b)}return c.makeTensorInfo(w.shape,w.dtype,w.values)}},{kernelName:bT,backendName:"cpu",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{x:d}=a,{filterSize:e,strides:f,pad:g,includeBatchInIndex:h}=b;tq(d,"MaxPoolWithArgmax");let i=c.data.get(d.dataId).values,j=hJ.computePool2DInfo(d.shape,e,f,[1,1],g),[k,l]=function(a,b,c,d,e){let f=jd.computeStrides(b),g=ve(a,b,c,f,e,"max"),h=vf(a,b,c,e,!0,d);return[g.values,h.values]}(i,d.shape,d.dtype,h,j),m=c.write(k,j.outShape,d.dtype),n=c.write(l,j.outShape,d.dtype);return[{dataId:m,shape:j.outShape,dtype:d.dtype},{dataId:n,shape:j.outShape,dtype:"int32"}]}},{kernelName:bU,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d,h=jd.parseAxisParam(f,e.shape),i=hJ.computeOutAndReduceShapes(e.shape,h)[1],j=jd.sizeFromShape(i),k=[],l=c.makeTensorInfo([],"float32",new Float32Array([j]));k.push(l);let m=tA({inputs:{x:e},backend:c,attrs:{dtype:"float32"}});k.push(m);let n=vx({inputs:{a:m,b:l},backend:c});k.push(n);let o=vo({inputs:{x:n},backend:c,attrs:{axis:f,keepDims:g}});return k.forEach(a=>c.disposeIntermediateTensorInfo(a)),o}},{kernelName:"Min",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d;tq(e,"min");let h=jd.parseAxisParam(f,e.shape),i=h,j=hJ.getAxesPermutation(i,e.shape.length),k=e;null!=j&&(k=ul({inputs:{x:e},backend:c,attrs:{perm:j}}),i=hJ.getInnerMostAxes(i.length,e.shape.length)),hJ.assertAxesAreInnerMostDims("min",i,k.shape.length);let[l,m]=hJ.computeOutAndReduceShapes(k.shape,i),n=jd.sizeFromShape(m),o=jd.makeZerosTypedArray(jd.sizeFromShape(l),k.dtype),p=c.data.get(k.dataId).values;for(let a=0;a<o.length;++a){let b=a*n,c=p[b];for(let a=0;a<n;++a){let d=p[b+a];(Number.isNaN(d)||d<c)&&(c=d)}o[a]=c}null!=j&&c.disposeIntermediateTensorInfo(k);let q=c.makeTensorInfo(l,k.dtype,o);if(g){let a=u5({inputs:{x:q},backend:c,attrs:{shape:hJ.expandShapeToKeepDim(l,h)}});return c.disposeIntermediateTensorInfo(q),a}return q}},{kernelName:bV,backendName:"cpu",kernelFunc:ue},{kernelName:bW,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{paddings:f,mode:g}=d;tq(e,"mirrorPad");let h=f.map((a,b)=>a[0]+e.shape[b]+a[1]),i=f.map(a=>a[0]),j=f.map((a,b)=>a[0]+e.shape[b]),k=+("reflect"!==g),l=c.data.get(e.dataId).values,m=e.shape.length,n=jd.computeStrides(e.shape),o=jd.sizeFromShape(h),p=h.length,q=jd.computeStrides(h),r=jd.getTypedArrayFromDType(e.dtype,o);for(let a=0;a<o;a++){let b=jd.indexToLoc(a,p,q);for(let a=0;a<p;a++)b[a]<i[a]?b[a]=2*i[a]-b[a]-k:b[a]>=j[a]&&(b[a]=(j[a]-1)*2-b[a]+k);b=b.map((a,b)=>a-i[b]);let c=jd.locToIndex(b,m,n);r[a]=l[c]}return{dataId:c.write(r,h,e.dtype),shape:h,dtype:e.dtype}}},{kernelName:"Mod",backendName:"cpu",kernelFunc:vJ},{kernelName:bX,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{logits:e}=b,{numSamples:f,seed:g,normalized:h}=d;tq(e,"multinomial");let i=h?e:vK({inputs:{logits:e},backend:c,attrs:{dim:-1}}),j=i.shape[0],k=i.shape[1],l=c.data.get(i.dataId).values,m=[j,f],n=jd.makeZerosTypedArray(jd.sizeFromShape(m),"int32");for(let a=0;a<j;++a){let b=a*k,c=new Float32Array(k-1);c[0]=l[b];for(let a=1;a<c.length;++a)c[a]=c[a-1]+l[b+a];let d=kT.alea(g.toString()),e=a*f;for(let a=0;a<f;++a){let b=d();n[e+a]=c.length;for(let d=0;d<c.length;d++)if(b<c[d]){n[e+a]=d;break}}}return h||c.disposeIntermediateTensorInfo(i),c.makeTensorInfo(m,"int32",n)}},{kernelName:bY,backendName:"cpu",kernelFunc:ug},{kernelName:"Neg",backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{x:d}=b;tq(d,"neg");let[e,f]=uh(c.data.get(d.dataId).values,d.shape,d.dtype);return c.makeTensorInfo(f,d.dtype,e)}},{kernelName:b$,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i}=d;tq(e,"NonMaxSuppression");let{selectedIndices:j}=vL(c.data.get(e.dataId).values,c.data.get(f.dataId).values,g,h,i);return c.makeTensorInfo([j.length],"int32",new Int32Array(j))}},{kernelName:b_,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i,padToMaxOutputSize:j}=d;tq(e,"NonMaxSuppressionPadded");let{selectedIndices:k,validOutputs:l}=vM(c.data.get(e.dataId).values,c.data.get(f.dataId).values,g,h,i,j);return[c.makeTensorInfo([k.length],"int32",new Int32Array(k)),c.makeTensorInfo([],"int32",new Int32Array([l]))]}},{kernelName:b0,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i,softNmsSigma:j}=d;tq(e,"NonMaxSuppressionWithScore");let k=c.data.get(e.dataId).values,{selectedIndices:l,selectedScores:m}=vN(k,c.data.get(f.dataId).values,g,h,i,j);return[c.makeTensorInfo([l.length],"int32",new Int32Array(l)),c.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},{kernelName:bZ,backendName:"cpu",kernelFunc:uj},{kernelName:b2,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{indices:e}=b,{dtype:f,depth:g,onValue:h,offValue:i}=d;tq(e,"oneHot");let j=jd.sizeFromShape(e.shape),k=new Float32Array(j*g);k.fill(i);let l=c.data.get(e.dataId).values;for(let a=0;a<j;++a)l[a]>=0&&l[a]<g&&(k[a*g+l[a]]=h);return c.makeTensorInfo([...e.shape,g],f,k)}},{kernelName:b1,backendName:"cpu",kernelFunc:function a(b){let{inputs:c,backend:d}=b,{x:e}=c;if("string"===e.dtype)throw Error("onesLike is not supported for string tensors");if("complex64"!==e.dtype)return vA({backend:d,attrs:{shape:e.shape,value:1,dtype:e.dtype}});{let b=ty({inputs:{input:e},backend:d}),c=a({inputs:{x:b},backend:d}),f=vi({inputs:{input:e},backend:d}),g=vO({inputs:{x:f},backend:d}),h=tv({inputs:{real:c,imag:g},backend:d});return d.disposeIntermediateTensorInfo(b),d.disposeIntermediateTensorInfo(c),d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(g),h}}},{kernelName:b3,backendName:"cpu",kernelFunc:vP},vQ,{kernelName:"Pow",backendName:"cpu",kernelFunc:vR},{kernelName:b5,backendName:"cpu",kernelFunc:u0},{kernelName:b6,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d;tq(e,"prod");let h=e.shape.length,i=jd.parseAxisParam(f,e.shape),j=hJ.getAxesPermutation(i,h),k=i,l=e,m=[];null!=j&&(m.push(l=ul({inputs:{x:e},backend:c,attrs:{perm:j}})),k=hJ.getInnerMostAxes(k.length,h));let n=c.data.get(l.dataId).values,{outVals:o,outShape:p,outDtype:q}=um(l.shape,l.dtype,n,k),r=p;return g&&(r=hJ.expandShapeToKeepDim(p,i)),m.forEach(a=>c.disposeIntermediateTensorInfo(a)),c.makeTensorInfo(r,q,o)}},{kernelName:b7,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{paramsNestedSplits:e,paramsDenseValues:f,indices:g}=b,{outputRaggedRank:h}=d,i=e.map(a=>c.data.get(a.dataId).values),j=e.map(a=>a.shape),k=c.data.get(f.dataId).values,l=c.data.get(g.dataId).values,[m,n,o]=uo(i,j,k,f.shape,f.dtype,l,g.shape,h),p=m.map(a=>c.makeTensorInfo([a.length],"int32",a)),q=c.makeTensorInfo(o,f.dtype,n);return p.concat([q])}},{kernelName:b8,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{starts:d,limits:e,deltas:f}=b,g=c.data.get(d.dataId).values,h=c.data.get(e.dataId).values,i=c.data.get(f.dataId).values,[j,k]=up(g,d.shape,d.dtype,h,e.shape,i,f.shape);return[c.makeTensorInfo([j.length],"int32",j),c.makeTensorInfo([k.length],d.dtype,k)]}},{kernelName:b9,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{shape:e,values:f,defaultValue:g,rowPartitionTensors:h}=b,{rowPartitionTypes:i}=d,j=c.data.get(e.dataId).values,k=c.data.get(f.dataId).values,l=c.data.get(g.dataId).values,m=h.map(a=>c.data.get(a.dataId).values),n=h.map(a=>a.shape),[o,p]=uu(j,e.shape,k,f.shape,f.dtype,l,g.shape,m,n,i);return c.makeTensorInfo(o,f.dtype,p)}},{kernelName:ca,backendName:"cpu",kernelFunc:function(a){let{backend:b,attrs:c}=a,{start:d,stop:e,dtype:f,step:g}=c,h=uv(d,e,g,f);return b.makeTensorInfo([h.length],f,h)}},{kernelName:cb,backendName:"cpu",kernelFunc:ty},vy,{kernelName:cc,backendName:"cpu",kernelFunc:vS},{kernelName:cd,backendName:"cpu",kernelFunc:u1},{kernelName:cj,backendName:"cpu",kernelFunc:u2},{kernelName:ce,backendName:"cpu",kernelFunc:u5},{kernelName:ch,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e}=b,{alignCorners:f,halfPixelCenters:g,size:h}=d;tq(e,"resizeBilinear");let i=jd.computeStrides(e.shape),[j,k]=h,[l,m,n,o]=e.shape,p=c.data.get(e.dataId).values,q=new Float32Array(jd.sizeFromShape([l,j,k,o])),r=[f&&j>1?m-1:m,f&&k>1?n-1:n],s=[f&&j>1?j-1:j,f&&k>1?k-1:k],t=0,u=r[0]/s[0],v=r[1]/s[1];for(let a=0;a<l;a++)for(let b=0;b<j;b++){let c,d=Math.max(0,Math.floor(c=g?u*(b+.5)-.5:u*b)),e=c-d,f=Math.min(m-1,Math.ceil(c)),h=a*i[0]+d*i[1],j=a*i[0]+f*i[1];for(let a=0;a<k;a++){let b,c=Math.max(0,Math.floor(b=g?v*(a+.5)-.5:v*a)),d=b-c,f=Math.min(n-1,Math.ceil(b)),k=h+c*i[2],l=j+c*i[2],m=h+f*i[2],r=j+f*i[2];for(let a=0;a<o;a++){let b=p[k+a],c=p[l+a],f=p[m+a],g=p[r+a],h=b+(f-b)*d,i=h+(c+(g-c)*d-h)*e;q[t++]=i}}}return c.makeTensorInfo([l,j,k,o],"float32",q)}},{kernelName:ci,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e,dy:f}=b,{alignCorners:g}=d;tq([f,e],"resizeBilinearGrad");let h=jd.computeStrides(e.shape),[i,j,k,l]=e.shape,[,m,n]=f.shape,o=new Float32Array(i*j*k*l),p=[g&&m>1?j-1:j,g&&n>1?k-1:k],q=[g&&m>1?m-1:m,g&&n>1?n-1:n],r=p[0]/q[0],s=p[1]/q[1],t=c.data.get(f.dataId).values,u=0;for(let a=0;a<i;a++){let b=a*h[0];for(let a=0;a<m;a++){let c=a*r,d=Math.floor(c),e=Math.min(Math.ceil(c),j-1),f=b+d*h[1],g=b+e*h[1],i=c-d,m=1-i;for(let a=0;a<n;a++){let b=a*s,c=Math.floor(b),d=Math.min(Math.ceil(b),k-1),e=b-c,j=1-e,n=f+c*h[2],p=f+d*h[2],q=g+c*h[2],r=g+d*h[2],v=m*j,w=m*e,x=i*j,y=i*e;for(let a=0;a<l;a++){let b=t[u++];o[n+a]+=b*v,o[p+a]+=b*w,o[q+a]+=b*x,o[r+a]+=b*y}}}}return c.makeTensorInfo([i,k,j,l],"float32",o)}},{kernelName:cf,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e}=b,{alignCorners:f,halfPixelCenters:g,size:h}=d;tq(e,"resizeNearestNeighbor");let i=jd.computeStrides(e.shape),[j,k]=h,[l,m,n,o]=e.shape,p=c.data.get(e.dataId).values,q=new Float32Array(l*j*k*o),r=[f&&j>1?m-1:m,f&&k>1?n-1:n],s=[f&&j>1?j-1:j,f&&k>1?k-1:k],t=r[0]/s[0],u=r[1]/s[1],v=0;for(let a=0;a<l;a++){let b=a*i[0];for(let a=0;a<j;a++){let c=g?t*(a+.5):t*a,d=Math.min(m-1,f?Math.round(c):Math.floor(c));g&&(d=Math.max(0,d));let e=b+d*i[1];for(let a=0;a<k;a++){let b=g?u*(a+.5):u*a,c=Math.min(n-1,f?Math.round(b):Math.floor(b));g&&(c=Math.max(0,c));let d=e+c*i[2];for(let a=0;a<o;a++){let b=p[d+a];q[v++]=b}}}}return c.makeTensorInfo([l,j,k,o],e.dtype,q)}},{kernelName:cg,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e,dy:f}=b,{alignCorners:g}=d;tq([f,e],"resizeNearestNeighborGrad");let h=jd.computeStrides(e.shape),i=jd.computeStrides(f.shape),[j,k,l,m]=e.shape,[,n,o]=f.shape,p=new Float32Array(j*k*l*m),q=c.data.get(f.dataId).values,r=[g&&n>1?k-1:k,g&&o>1?l-1:l],s=[g&&n>1?n-1:n,g&&o>1?o-1:o],t=r[0]/s[0],u=r[1]/s[1],v=1/t,w=1/u,x=2*Math.ceil(v)+2,y=2*Math.ceil(w)+2;for(let a=0;a<j;a++){let b=a*h[0];for(let a=0;a<k;a++){let c=b+a*h[1],d=Math.floor(Math.floor(a*v)-x/2);for(let e=0;e<l;e++){let f=c+e*h[2],j=Math.floor(Math.floor(e*w)-y/2);for(let c=0;c<m;c++){let h=0;for(let f=0;f<x;f++){let m=f+d;if(m<0||m>=n)continue;let p=b+m*i[1],r=m*t;if(a===Math.min(k-1,g?Math.round(r):Math.floor(r)))for(let a=0;a<y;a++){let b=a+j;if(b<0||b>=o)continue;let d=p+b*i[2],f=b*u;e===Math.min(l-1,g?Math.round(f):Math.floor(f))&&(h+=q[d+c])}}p[f+c]=h}}}}return c.makeTensorInfo(e.shape,e.dtype,p)}},{kernelName:ck,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{dims:f}=d;tq(e,"reverse");let g=e.shape.length,h=jd.parseAxisParam(f,e.shape);if(0===g)return tx({inputs:{x:e},backend:c});let i=new dl(e.shape,e.dtype),j=c.bufferSync(e);for(let a=0;a<i.size;a++){let b=i.indexToLoc(a),c=b.slice();h.forEach(a=>c[a]=e.shape[a]-1-c[a]),i.set(j.get(...c),...b)}return c.makeTensorInfo(i.shape,i.dtype,i.values)}},{kernelName:cY,backendName:"cpu",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{image:d}=a,{radians:e,fillValue:f,center:g}=b,h=jd.getTypedArrayFromDType(d.dtype,jd.sizeFromShape(d.shape)),[i,j,k,l]=d.shape,[m,n]=hJ.getImageCenter(g,j,k),o=Math.sin(e),p=Math.cos(e),q=c.data.get(d.dataId).values;for(let a=0;a<i;a++){let b=a*k*j*l;for(let a=0;a<j;a++){let c=k*l*a;for(let d=0;d<k;d++){let e=d*l;for(let g=0;g<l;g++){let r=[i,a,d,g],s=r[2],t=r[1],u=(s-m)*p-(t-n)*o,v=(s-m)*o+(t-n)*p;u=Math.round(u+m),v=Math.round(v+n);let w=f;"number"!=typeof f&&(w=3===g?255:f[g]),u>=0&&u<k&&v>=0&&v<j&&(w=q[b+k*l*v+u*l+g]),h[b+c+e+g]=w}}}}return{dataId:c.write(h,d.shape,d.dtype),shape:d.shape,dtype:d.dtype}}},{kernelName:cl,backendName:"cpu",kernelFunc:vT},{kernelName:cm,backendName:"cpu",kernelFunc:ux},{kernelName:cn,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{indices:e,updates:f}=b,{shape:g}=d,{sliceRank:h,numUpdates:i,sliceSize:j,strides:k,outputSize:l}=hJ.calculateShapes(f,e,g),m=uy(c.bufferSync(e),c.bufferSync(f),g,l,j,i,h,k,0,!0);return c.makeTensorInfo(g,m.dtype,m.values)}},{kernelName:cp,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{sortedSequence:e,values:f}=b,{side:g}=d,h=function(a,b,c,d,e,f){let g=jd.getArrayFromDType("int32",c*e);for(let h=0;h<c;++h){let c=a.slice(h*d,(h+1)*d),i=h*e;for(let a=0;a<e;++a)g[i+a]="left"===f?function(a,b){let c=0,d=a.length,e=0;for(;c<d;)a[e=Math.floor((c+d)/2)]<b?c=e+1:d=e;return d}(c,b[a+i]):function(a,b){let c=0,d=a.length,e=0;for(;c<d;)a[e=Math.floor((c+d)/2)]<=b?c=e+1:d=e;return d}(c,b[a+i])}return g}(c.data.get(e.dataId).values,c.data.get(f.dataId).values,e.shape[0],e.shape[1],f.shape[1],g);return c.makeTensorInfo(f.shape,"int32",h)}},{kernelName:cq,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{condition:d,t:e,e:f}=b;tq([d,e,f],"select");let g=d.shape.length,h=c.data.get(d.dataId).values,i=c.data.get(e.dataId).values,j=c.data.get(f.dataId).values,k=dt(e.dtype,f.dtype),l=jd.makeZerosTypedArray(jd.sizeFromShape(e.shape),k),m=0,n=0===g||g>1||1===e.shape.length?1:jd.sizeFromShape(e.shape.slice(1));for(let a=0;a<h.length;a++)for(let b=0;b<n;b++)1===h[a]?l[m++]=i[a]:l[m++]=j[a];return c.makeTensorInfo(e.shape,k,l)}},{kernelName:cr,backendName:"cpu",kernelFunc:vW},{kernelName:cv,backendName:"cpu",kernelFunc:uA},{kernelName:cu,backendName:"cpu",kernelFunc:vX},{kernelName:"Sin",backendName:"cpu",kernelFunc:vY},{kernelName:ct,backendName:"cpu",kernelFunc:vZ},{kernelName:cs,backendName:"cpu",kernelFunc:uD},{kernelName:cA,backendName:"cpu",kernelFunc:vK},{kernelName:cw,backendName:"cpu",kernelFunc:v_},{kernelName:cy,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockShape:f,paddings:g}=d;tq([e],"spaceToBatchND");let h=jd.sizeFromShape(f),i=[[0,0]];i.push(...g);for(let a=1+f.length;a<e.shape.length;++a)i.push([0,0]);let j=vQ.kernelFunc({inputs:{x:e},backend:c,attrs:{paddings:i,constantValue:0}}),k=hJ.getReshaped(j.shape,f,h,!1),l=hJ.getPermuted(k.length,f.length,!1),m=hJ.getReshapedPermuted(j.shape,f,h,!1),n=u5({inputs:{x:j},backend:c,attrs:{shape:k}}),o=ul({inputs:{x:n},backend:c,attrs:{perm:l}}),p=u5({inputs:{x:o},backend:c,attrs:{shape:m}});return c.disposeIntermediateTensorInfo(j),c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(o),p}},{kernelName:cB,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{indices:d,values:e,denseShape:f,defaultValue:g}=b;if(1!==f.shape.length)throw Error(`Dense shape must be a vector, saw:
        ${f.shape}`);if(2!==d.shape.length)throw Error(`Indices must be a matrix, saw:
        ${d.shape}`);if(1!==e.shape.length)throw Error(`Values must be a vector, saw:
        ${e.shape}`);if(0!==g.shape.length)throw Error(`Default value must be a scalar, saw:
        ${g.shape}`);let h=c.data.get(d.dataId).values,i=c.data.get(e.dataId).values,j=c.data.get(f.dataId).values,k=c.data.get(g.dataId).values[0],[l,m,n,o,p]=uE(h,d.shape,d.dtype,i,e.dtype,j,k);return[c.makeTensorInfo(m,d.dtype,l),c.makeTensorInfo([m[0]],e.dtype,n),c.makeTensorInfo([o.length],"bool",new Uint8Array(o.map(a=>Number(a)))),c.makeTensorInfo([p.length],d.dtype,new Int32Array(p))]}},{kernelName:cC,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{inputIndices:d,inputShape:e,newShape:f}=b;if(2!==d.shape.length)throw Error(`Input indices should be a matrix but received shape
        ${d.shape}`);if(1!==e.shape.length)throw Error(`Input shape should be a vector but received shape
        ${e.shape}`);if(1!==f.shape.length)throw Error(`Target shape should be a vector but received shape ${f.shape}`);let g=Array.from(c.data.get(e.dataId).values),h=c.data.get(d.dataId).values,i=Array.from(c.data.get(f.dataId).values),[j,k,l]=uF(h,d.shape,d.dtype,g,i);return[c.makeTensorInfo(k,d.dtype,j),c.makeTensorInfo([l.length],f.dtype,new Int32Array(l))]}},{kernelName:cD,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{data:d,indices:e,segmentIds:f}=b;if(d.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.shape.length)throw Error(`Indices should be a vector but received shape
          ${e.shape}`);if(1!==f.shape.length)throw Error(`Segment ids should be a vector but received shape
          ${f.shape}`);if(e.shape[0]!==f.shape[0])throw Error("segmentIds and indices should have same size.");let g=c.data.get(d.dataId).values,h=c.data.get(e.dataId).values,i=c.data.get(f.dataId).values,[j,k]=uG(g,d.shape,d.dtype,h,i,!0);return c.makeTensorInfo(k,d.dtype,j)}},{kernelName:cE,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{data:d,indices:e,segmentIds:f}=b;if(d.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.shape.length)throw Error(`Indices should be a vector but received shape
         ${e.shape}`);if(1!==f.shape.length)throw Error(`Segment ids should be a vector but received shape
         ${f.shape}`);if(e.shape[0]!==f.shape[0])throw Error("segmentIds and indices should have same size.");let g=c.data.get(d.dataId).values,h=c.data.get(e.dataId).values,i=c.data.get(f.dataId).values,[j,k]=uG(g,d.shape,d.dtype,h,i);return c.makeTensorInfo(k,d.dtype,j)}},{kernelName:cF,backendName:"cpu",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{sparseIndices:f,sparseValues:g,defaultValue:h}=c,{outputShape:i}=e,{sliceRank:j,numUpdates:k,sliceSize:l,strides:m,outputSize:n}=hJ.calculateShapes(g,f,i),o=d.bufferSync(f);switch(g.dtype){case"bool":b=uy(o,d.bufferSync(g),i,n,l,k,j,m,!!d.data.get(h.dataId).values[0],!1);break;case"float32":case"int32":b=uy(o,d.bufferSync(g),i,n,l,k,j,m,d.data.get(h.dataId).values[0],!1);break;case"string":b=uy(o,d.bufferSync(g),i,n,l,k,j,m,jd.decodeString(d.data.get(h.dataId).values[0]),!1);break;default:throw Error(`Unsupported type ${g.dtype}`)}return d.makeTensorInfo(i,b.dtype,b.values)}},{kernelName:cz,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{numOrSizeSplits:f,axis:g}=d,h=jd.parseAxisParam(g,e.shape)[0],i=hJ.prepareSplitSize(e,f,h),j=Array(e.shape.length).fill(0),k=e.shape.slice();return i.map(a=>{let b=[...k];b[h]=a;let d=uD({inputs:{x:e},backend:c,attrs:{begin:j,size:b}});return j[h]+=a,d})}},{kernelName:cx,backendName:"cpu",kernelFunc:uI},{kernelName:cH,backendName:"cpu",kernelFunc:({inputs:a,backend:b})=>{let{x:c}=a;tq(c,"square");let d=b.data.get(c.dataId).values,e=new Float32Array(d.length);for(let a=0;a<d.length;++a){let b=d[a];e[a]=b*b}return{dataId:b.write(e,c.shape,c.dtype),shape:c.shape,dtype:c.dtype}}},{kernelName:cG,backendName:"cpu",kernelFunc:uK},{kernelName:cI,backendName:"cpu",kernelFunc:uM},{kernelName:cW,backendName:"cpu",kernelFunc:v0},{kernelName:cJ,backendName:"cpu",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{begin:g,end:h,strides:i,beginMask:j,endMask:k,ellipsisMask:l,newAxisMask:m,shrinkAxisMask:n}=e;tq(f,"stridedSlice");let{finalShapeSparse:o,finalShape:p,isIdentity:q,sliceDim0:r,isSimpleSlice:s,begin:t,end:u,strides:v}=uB.sliceInfo(f.shape,g,h,i,j,k,l,m,n);if(q)b=u5({inputs:{x:f},backend:d,attrs:{shape:p}});else if(r||s){jd.assert(f.shape.length>=1,()=>`Input must have rank at least 1, got: ${f.shape.length}`);let a=uB.computeOutShape(t,u,v),c=uD({inputs:{x:f},backend:d,attrs:{begin:t,size:a}});b=u5({inputs:{x:c},backend:d,attrs:{shape:p}}),d.disposeIntermediateTensorInfo(c)}else{let a=uN(o,d.bufferSync(f),v,t);b=d.makeTensorInfo(p,a.dtype,a.values)}return b}},{kernelName:cK,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{separator:e,nGramWidths:f,leftPad:g,rightPad:h,padWidth:i,preserveShortSequences:j}=d,{data:k,dataSplits:l}=b,[m,n]=uP(c.data.get(k.dataId).values,c.data.get(l.dataId).values,e,f,g,h,i,j);return[c.makeTensorInfo([m.length],"string",m),c.makeTensorInfo(l.shape,"int32",n)]}},{kernelName:cL,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{skipEmpty:e}=d,{input:f,delimiter:g}=b;if("string"!==f.dtype)throw Error("Input must be of datatype string");if(1!==f.shape.length)throw Error(`Input must be a vector, got shape: ${f.shape}`);if(0!==g.shape.length)throw Error(`Delimiter must be a scalar, got shape: ${g.shape}`);let[h,i,j]=uQ(c.data.get(f.dataId).values,c.data.get(g.dataId).values[0],e),k=i.length;return[c.makeTensorInfo([k,2],"int32",h),c.makeTensorInfo([k],"string",i),c.makeTensorInfo([2],"int32",new Int32Array(j))]}},{kernelName:cM,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{numBuckets:e}=d,{input:f}=b;if("string"!==f.dtype)throw Error("Input must be of datatype string");if(e<=0)throw Error("Number of buckets must be at least 1");let g=uR(c.data.get(f.dataId).values,e);return c.makeTensorInfo(f.shape,"int32",g)}},{kernelName:"Sub",backendName:"cpu",kernelFunc:uT},{kernelName:"Sum",backendName:"cpu",kernelFunc:vo},{kernelName:"Tan",backendName:"cpu",kernelFunc:v1},{kernelName:cN,backendName:"cpu",kernelFunc:v2},{kernelName:co,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c}=a,{tensor:d,indices:e,updates:f}=b,{sliceRank:g,numUpdates:h,sliceSize:i,strides:j,outputSize:k}=hJ.calculateShapes(f,e,d.shape),l=c.bufferSync(e),m=c.bufferSync(f),n=c.bufferSync(d),o=uy(l,m,d.shape,k,i,h,g,j,n,!1);return c.makeTensorInfo(d.shape,o.dtype,o.values)}},{kernelName:cO,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{reps:f}=d;tq(e,"tile");let g=uU(c.bufferSync(e),f);return c.makeTensorInfo(g.shape,g.dtype,g.values)}},{kernelName:cP,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{k:f,sorted:g}=d;tq(e,"topk");let[h,i]=uW(c.data.get(e.dataId).values,e.shape,e.dtype,f,g);return[c.makeTensorInfo(h.shape,h.dtype,h.values),c.makeTensorInfo(i.shape,i.dtype,i.values)]}},{kernelName:cQ,backendName:"cpu",kernelFunc:function(a){let{inputs:b,attrs:c,backend:d}=a,{image:e,transforms:f}=b,{interpolation:g,fillMode:h,fillValue:i,outputShape:j}=c,[k,l,m,n]=e.shape,[o,p]=null!=j?j:[l,m],q=[k,o,p,n],r=jd.computeStrides(e.shape),s=r[0],t=r[1],u=r[2],v=jd.computeStrides(q),w=v[0],x=v[1],y=v[2],z=jd.getTypedArrayFromDType(e.dtype,jd.sizeFromShape(q));z.fill(i);let A=d.data.get(e.dataId).values,B=d.data.get(f.dataId).values;for(let a=0;a<k;++a){let b=1===f.shape[0]?B:B.subarray(8*a,8*a+8);for(let c=0;c<o;++c)for(let d=0;d<p;++d)for(let e=0;e<n;++e){let f,j=b[6]*d+b[7]*c+1;if(0===j)continue;let k=(b[0]*d+b[1]*c+b[2])/j,n=(b[3]*d+b[4]*c+b[5])/j,o=v3(k,m,h),p=v3(n,l,h);switch(g){case"nearest":f=v4(A,l,m,s,t,u,a,Math.round(p),Math.round(o),e,i);break;case"bilinear":f=function(a,b,c,d,e,f,g,h,i,j,k){let l=Math.floor(h),m=Math.floor(i),n=l+1,o=m+1,p=(o-i)*v4(a,b,c,d,e,f,g,l,m,j,k)+(i-m)*v4(a,b,c,d,e,f,g,l,o,j,k),q=(o-i)*v4(a,b,c,d,e,f,g,n,m,j,k)+(i-m)*v4(a,b,c,d,e,f,g,n,o,j,k);return(n-h)*p+(h-l)*q}(A,l,m,s,t,u,a,p,o,e,i);break;default:throw Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${g}`)}z[a*w+c*x+d*y+e]=f}return d.makeTensorInfo(q,e.dtype,z)}return{dataId:d.write(z,q,e.dtype),shape:e.shape,dtype:e.dtype}}},{kernelName:cR,backendName:"cpu",kernelFunc:ul},{kernelName:cS,backendName:"cpu",kernelFunc:function(a){let{inputs:b,attrs:c,backend:d}=a,{axis:e}=c,{x:f}=b;tq(f,"unique");let{outputValues:g,outputShape:h,indices:i}=uX(d.data.get(f.dataId).values,e,f.shape,f.dtype);return[d.makeTensorInfo(h,f.dtype,g),d.makeTensorInfo([i.length],"int32",i)]}},{kernelName:cT,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{value:e}=b,{axis:f}=d;f<0&&(f+=e.shape.length);let g=e.shape.length,h=e.shape[f],i=Array(g-1),j=0;for(let a=0;a<g;a++)a!==f&&(i[j++]=e.shape[a]);let k=Array(g).fill(0),l=e.shape.slice();l[f]=1;let m=Array(h);for(let a=0;a<m.length;a++){k[f]=a;let b=uD({inputs:{x:e},backend:c,attrs:{begin:k,size:l}});m[a]=u5({inputs:{x:b},backend:c,attrs:{shape:i}}),c.disposeIntermediateTensorInfo(b)}return m}},{kernelName:cU,backendName:"cpu",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,segmentIds:f}=b,{numSegments:g}=d;tq(e,"unsortedSegmentSum");let h=e.shape.length,i=f.shape.length,j=[],k=[],l=h-i,m=f;for(let a=0;a<l;++a){let b=vw({inputs:{input:m},backend:c,attrs:{dim:a+1}});m=b,k.push(b)}for(let a=0;a<g;++a){let b=jd.createScalarValue(a,"int32"),d=c.makeTensorInfo([],"int32",b),f=tQ({inputs:{a:d,b:m},backend:c}),g=tA({inputs:{x:f},backend:c,attrs:{dtype:"float32"}}),h=ug({inputs:{a:g,b:e},backend:c}),i=vo({inputs:{x:h},backend:c,attrs:{axis:0,keepDims:!1}});j.push(i),k.push(d),k.push(f),k.push(g),k.push(h),k.push(i)}let n=vP({inputs:j,backend:c,attrs:{axis:0}});return k.forEach(a=>c.disposeIntermediateTensorInfo(a)),n}},{kernelName:cV,backendName:"cpu",kernelFunc:vO}])c6(a);a.s(["webgl",()=>yX],62536);var v5=a.i(50695),v5=v5,v5=v5;a.s(["assertNotComplex",()=>wX,"bindCanvasToFramebuffer",()=>wA,"bindColorTextureToFramebuffer",()=>wB,"bindTextureToProgramUniformSampler",()=>wz,"bindTextureUnit",()=>wv,"bindVertexBufferToProgramAttribute",()=>wu,"callAndCheck",()=>wd,"canBeRepresented",()=>we,"createFragmentShader",()=>wi,"createFramebuffer",()=>wt,"createProgram",()=>wl,"createStaticIndexBuffer",()=>wp,"createStaticVertexBuffer",()=>wo,"createTexture",()=>wr,"createVertexShader",()=>wh,"getBatchDim",()=>wH,"getExtensionOrThrow",()=>wg,"getFramebufferErrorMessage",()=>wE,"getMaxTexturesInShader",()=>wP,"getNumChannels",()=>wq,"getProgramUniformLocation",()=>wy,"getProgramUniformLocationOrThrow",()=>wx,"getRowsCols",()=>wI,"getShapeAs3D",()=>wJ,"getTextureShapeFromLogicalShape",()=>wK,"getWebGLDisjointQueryTimerVersion",()=>wQ,"getWebGLErrorMessage",()=>wf,"getWebGLMaxTextureSize",()=>wM,"hasExtension",()=>wR,"isCapableOfRenderingToFloatTexture",()=>wT,"isDownloadFloatTextureEnabled",()=>wU,"isReshapeFree",()=>wL,"isWebGLFenceEnabled",()=>wW,"isWebGLVersionEnabled",()=>wS,"linkProgram",()=>wm,"logShaderSourceAndInfoLog",()=>wk,"resetMaxTextureSize",()=>wN,"resetMaxTexturesInShader",()=>wO,"unbindColorTextureFromFramebuffer",()=>wC,"unbindTextureUnit",()=>ww,"validateFramebuffer",()=>wD,"validateProgram",()=>wn,"validateTextureSize",()=>ws],82212);var jd=jd;let v6={},v7={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function v8(a,b){v6[a]=b}function v9(a,b){if(!(a in v6)||null!=b){let c=function(a,b){if(1!==a&&2!==a)throw Error("Cannot get WebGL rendering context, WebGL is disabled.");let c=null==b?function(a){if(!aA.getBool("IS_SAFARI")&&"undefined"!=typeof OffscreenCanvas&&2===a)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw Error("Cannot create a canvas in this context")}(a):b;return(c.addEventListener("webglcontextlost",b=>{b.preventDefault(),delete v6[a]},!1),aA.getBool("SOFTWARE_WEBGL_ENABLED")&&(v7.failIfMajorPerformanceCaveat=!1),1===a)?c.getContext("webgl",v7)||c.getContext("experimental-webgl",v7):c.getContext("webgl2",v7)}(a,b);if(null===c)return console.log("Could not get context for WebGL version",a),null;v6[a]=c}let c=v6[a];return null==c||c.isContextLost()?(delete v6[a],v9(a)):(c.disable(c.DEPTH_TEST),c.disable(c.STENCIL_TEST),c.disable(c.BLEND),c.disable(c.DITHER),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SAMPLE_COVERAGE),c.enable(c.SCISSOR_TEST),c.enable(c.CULL_FACE),c.cullFace(c.BACK),v6[a])}var jd=jd;function wa(a){let b=Math.ceil(jd.sizeFromShape(a)/4);return jd.sizeToSquarishShape(b)}function wb(a,b){return[Math.max(1,Math.ceil(b/2)),Math.max(1,Math.ceil(a/2))]}function wc(a,b){let c,d,e,f,g,h,i,j,k,l;return 2===aA.getNumber("WEBGL_VERSION")?(c=a.R32F,d=a.R16F,e=a.RGBA16F,f=a.RGBA32F,g=a.RED,i=4,j=1,k=a.HALF_FLOAT,l=a.FLOAT,h=a.RGBA8):(c=a.RGBA,d=a.RGBA,e=a.RGBA,f=a.RGBA,g=a.RGBA,i=4,j=4,k=null!=b?b.HALF_FLOAT_OES:null,l=a.FLOAT,h=a.RGBA),{internalFormatFloat:c,internalFormatHalfFloat:d,internalFormatPackedHalfFloat:e,internalFormatPackedFloat:f,textureFormatFloat:g,downloadTextureFormat:h,downloadUnpackNumChannels:i,defaultNumChannels:j,textureTypeHalfFloat:k,textureTypeFloat:l}}function wd(a,b){let c=b();return aA.getBool("DEBUG")&&function(a){let b=a.getError();if(b!==a.NO_ERROR)throw Error("WebGL Error: "+wf(a,b))}(a),c}function we(a){return!!(aA.getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===a||596e-10<Math.abs(a)&&65504>Math.abs(a))}function wf(a,b){switch(b){case a.NO_ERROR:return"NO_ERROR";case a.INVALID_ENUM:return"INVALID_ENUM";case a.INVALID_VALUE:return"INVALID_VALUE";case a.INVALID_OPERATION:return"INVALID_OPERATION";case a.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case a.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case a.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${b}`}}function wg(a,b){return wF(a,()=>a.getExtension(b),'Extension "'+b+'" not supported on this browser.')}function wh(a,b){let c=wF(a,()=>a.createShader(a.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(wd(a,()=>a.shaderSource(c,b)),wd(a,()=>a.compileShader(c)),!1===a.getShaderParameter(c,a.COMPILE_STATUS))throw console.log(a.getShaderInfoLog(c)),Error("Failed to compile vertex shader.");return c}function wi(a,b){let c=wF(a,()=>a.createShader(a.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(wd(a,()=>a.shaderSource(c,b)),wd(a,()=>a.compileShader(c)),aA.get("ENGINE_COMPILE_ONLY"))return c;if(!1===a.getShaderParameter(c,a.COMPILE_STATUS))throw wk(b,a.getShaderInfoLog(c)),Error("Failed to compile fragment shader.");return c}!function(a){a[a.DENSE=0]="DENSE",a[a.SHARED_BATCH=1]="SHARED_BATCH"}(u||(u={})),function(a){a[a.RENDER=0]="RENDER",a[a.UPLOAD=1]="UPLOAD",a[a.PIXELS=2]="PIXELS",a[a.DOWNLOAD=3]="DOWNLOAD"}(v||(v={})),function(a){a[a.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",a[a.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",a[a.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",a[a.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",a[a.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(w||(w={}));let wj=/ERROR: [0-9]+:([0-9]+):/g;function wk(a,b){let c=wj.exec(b);if(null==c){console.log(`Couldn't parse line number in error: ${b}`),console.log(a);return}let d=+c[1],e=a.split("\n"),f=e.length.toString().length+2,g=e.map((a,b)=>jd.rightPad((b+1).toString(),f)+a),h=0;for(let a=0;a<g.length;a++)h=Math.max(g[a].length,h);let i=g.slice(0,d-1),j=g.slice(d-1,d),k=g.slice(d);console.log(i.join("\n")),console.log(b.split("\n")[0]),console.log(`%c ${jd.rightPad(j[0],h)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(k.join("\n"))}function wl(a){return wF(a,()=>a.createProgram(),"Unable to create WebGLProgram.")}function wm(a,b){if(wd(a,()=>a.linkProgram(b)),!aA.get("ENGINE_COMPILE_ONLY")&&!1===a.getProgramParameter(b,a.LINK_STATUS))throw console.log(a.getProgramInfoLog(b)),Error("Failed to link vertex and fragment shaders.")}function wn(a,b){if(wd(a,()=>a.validateProgram(b)),!1===a.getProgramParameter(b,a.VALIDATE_STATUS))throw console.log(a.getProgramInfoLog(b)),Error("Shader program validation failed.")}function wo(a,b){let c=wF(a,()=>a.createBuffer(),"Unable to create WebGLBuffer");return wd(a,()=>a.bindBuffer(a.ARRAY_BUFFER,c)),wd(a,()=>a.bufferData(a.ARRAY_BUFFER,b,a.STATIC_DRAW)),c}function wp(a,b){let c=wF(a,()=>a.createBuffer(),"Unable to create WebGLBuffer");return wd(a,()=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c)),wd(a,()=>a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW)),c}function wq(){return 2===aA.getNumber("WEBGL_VERSION")?1:4}function wr(a){return wF(a,()=>a.createTexture(),"Unable to create WebGLTexture.")}function ws(a,b){let c=aA.getNumber("WEBGL_MAX_TEXTURE_SIZE");if(a<=0||b<=0)throw Error(`Requested texture size [${a}x${b}] is invalid.`);if(a>c||b>c)throw Error(`Requested texture size [${a}x${b}] greater than WebGL maximum on this browser / GPU [${c}x${c}].`)}function wt(a){return wF(a,()=>a.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function wu(a,b,c,d,e,f,g){let h=a.getAttribLocation(b,c);return -1!==h&&(wd(a,()=>a.bindBuffer(a.ARRAY_BUFFER,d)),wd(a,()=>a.vertexAttribPointer(h,e,a.FLOAT,!1,f,g)),wd(a,()=>a.enableVertexAttribArray(h)),!0)}function wv(a,b,c){wG(a,c),wd(a,()=>a.activeTexture(a.TEXTURE0+c)),wd(a,()=>a.bindTexture(a.TEXTURE_2D,b))}function ww(a,b){wG(a,b),wd(a,()=>a.activeTexture(a.TEXTURE0+b)),wd(a,()=>a.bindTexture(a.TEXTURE_2D,null))}function wx(a,b,c){return wF(a,()=>a.getUniformLocation(b,c),'uniform "'+c+'" not present in program.')}function wy(a,b,c){return a.getUniformLocation(b,c)}function wz(a,b,c,d){wd(a,()=>wv(a,b,d)),wd(a,()=>a.uniform1i(c,d))}function wA(a){wd(a,()=>a.bindFramebuffer(a.FRAMEBUFFER,null)),wd(a,()=>a.viewport(0,0,a.canvas.width,a.canvas.height)),wd(a,()=>a.scissor(0,0,a.canvas.width,a.canvas.height))}function wB(a,b,c){wd(a,()=>a.bindFramebuffer(a.FRAMEBUFFER,c)),wd(a,()=>a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0))}function wC(a,b){wd(a,()=>a.bindFramebuffer(a.FRAMEBUFFER,b)),wd(a,()=>a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0))}function wD(a){let b=a.checkFramebufferStatus(a.FRAMEBUFFER);if(b!==a.FRAMEBUFFER_COMPLETE)throw Error("Error binding framebuffer: "+wE(a,b))}function wE(a,b){switch(b){case a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case a.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${b}`}}function wF(a,b,c){let d=wd(a,()=>b());if(null==d)throw Error(c);return d}function wG(a,b){let c=a.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,d=b+a.TEXTURE0;if(d<a.TEXTURE0||d>c){let a=`[gl.TEXTURE0, gl.TEXTURE${c}]`;throw Error(`textureUnit must be in ${a}.`)}}function wH(a,b=2){return jd.sizeFromShape(a.slice(0,a.length-b))}function wI(a){if(0===a.length)throw Error("Cannot get rows and columns of an empty shape array.");return[a.length>1?a[a.length-2]:1,a[a.length-1]]}function wJ(a){let b=[1,1,1];return 0!==a.length&&(1!==a.length||1!==a[0])&&(b=[wH(a),...wI(a)]),b}function wK(a,b=!1){let c=aA.getNumber("WEBGL_MAX_TEXTURE_SIZE"),d=aA.getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");d===1/0&&aA.getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(d=c/2),b&&(c*=2,d*=2,1===(a=a.map((b,c)=>c>=a.length-2?jd.nearestLargerEven(a[c]):a[c])).length&&(a=[2,a[0]])),2!==a.length&&(a=jd.squeezeShape(a).newShape);let e=jd.sizeFromShape(a),f=null;a.length<=1&&e<=c?f=[1,e]:2===a.length&&a[0]<=c&&a[1]<=c?f=a:3===a.length&&a[0]*a[1]<=c&&a[2]<=c?f=[a[0]*a[1],a[2]]:3===a.length&&a[0]<=c&&a[1]*a[2]<=c?f=[a[0],a[1]*a[2]]:4===a.length&&a[0]*a[1]*a[2]<=c&&a[3]<=c?f=[a[0]*a[1]*a[2],a[3]]:4===a.length&&a[0]<=c&&a[1]*a[2]*a[3]<=c&&(f=[a[0],a[1]*a[2]*a[3]]);let g=null!=f&&Math.max(...f)>d&&Math.min(...f)<=(b?2:1)&&Math.min(...f)>0;if(null==f||g)if(b){let b=wH(a),c=2,d=2;a.length&&([c,d]=wI(a)),e=c/2*b*(d/2),f=jd.sizeToSquarishShape(e).map(a=>2*a)}else f=jd.sizeToSquarishShape(e);return f}function wL(a,b){if(a=a.slice(-2),b=b.slice(-2),jd.arraysEqual(a,b)||!a.length||!b.length||0===a[0]||0===a[1]||0===b[0]||0===b[1])return!0;if(a.length!==b.length){let c=a[a.length-1],d=b[b.length-1];if(c===d||c%2==0&&d%2==0&&(1===a[0]||1===b[0]))return!0}return a[1]===b[1]&&a[0]%2==0&&b[0]%2==0}function wM(a){if(null==g){let b=v9(a);g=b.getParameter(b.MAX_TEXTURE_SIZE)}return g}function wN(){g=null}function wO(){h=null}function wP(a){if(null==h){let b=v9(a);h=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,h)}function wQ(a){if(0===a)return 0;let b=v9(a);return wR(b,"EXT_disjoint_timer_query_webgl2")&&2===a?2:+!!wR(b,"EXT_disjoint_timer_query")}function wR(a,b){return null!=a.getExtension(b)}function wS(a){try{let b=v9(a);if(null!=b)return!0}catch(a){console.log("Error when getting WebGL context: ",a)}return!1}function wT(a){if(0===a)return!1;let b=v9(a);if(1===a){if(!wR(b,"OES_texture_float"))return!1}else if(!wR(b,"EXT_color_buffer_float"))return!1;return wV(b)}function wU(a){if(0===a)return!1;let b=v9(a);if(1===a){if(!wR(b,"OES_texture_float")||!wR(b,"WEBGL_color_buffer_float"))return!1}else{if(wR(b,"EXT_color_buffer_float"))return wV(b);let a="EXT_color_buffer_half_float";if(wR(b,a)){let e=b.getExtension(a);var c=b,d=e;let f=wc(c,d),g=c.createTexture();c.bindTexture(c.TEXTURE_2D,g),c.texImage2D(c.TEXTURE_2D,0,f.internalFormatHalfFloat,1,1,0,f.textureFormatFloat,f.textureTypeHalfFloat,null);let h=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,h),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0);let i=c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE;return c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteTexture(g),c.deleteFramebuffer(h),i}return!1}return wV(b)}function wV(a){let b=wc(a),c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,b.internalFormatFloat,1,1,0,b.textureFormatFloat,b.textureTypeFloat,null);let d=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,d),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,c,0);let e=a.checkFramebufferStatus(a.FRAMEBUFFER)===a.FRAMEBUFFER_COMPLETE;return a.bindTexture(a.TEXTURE_2D,null),a.bindFramebuffer(a.FRAMEBUFFER,null),a.deleteTexture(c),a.deleteFramebuffer(d),e}function wW(a){return 2===a&&null!=v9(a).fenceSync}function wX(a,b){Array.isArray(a)||(a=[a]),a.forEach(a=>{null!=a&&jd.assert("complex64"!==a.dtype,()=>`${b} does not support complex64 tensors in the WebGL backend.`)})}let wY=aA;wY.registerFlag("HAS_WEBGL",()=>wY.getNumber("WEBGL_VERSION")>0),wY.registerFlag("WEBGL_VERSION",()=>wS(2)?2:+!!wS(1)),wY.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),wY.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===wY.get("WEBGL_VERSION")),wY.registerFlag("WEBGL_CPU_FORWARD",()=>!0),wY.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),wY.registerFlag("WEBGL_PACK",()=>wY.getBool("HAS_WEBGL")),wY.registerFlag("WEBGL_PACK_NORMALIZATION",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_CLIP",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_REDUCE",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_LAZILY_UNPACK",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_CONV_IM2COL",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>wY.getBool("WEBGL_PACK")),wY.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>wM(wY.getNumber("WEBGL_VERSION"))),wY.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>wP(wY.getNumber("WEBGL_VERSION"))),wY.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let a=wY.getNumber("WEBGL_VERSION");return 0===a?0:wQ(a)}),wY.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>wY.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!v5.isMobile()),wY.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>wT(wY.getNumber("WEBGL_VERSION"))),wY.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!wY.getBool("WEBGL_FORCE_F16_TEXTURES")&&wY.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),wY.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>wU(wY.getNumber("WEBGL_VERSION"))),wY.registerFlag("WEBGL_FENCE_API_ENABLED",()=>wW(wY.getNumber("WEBGL_VERSION"))),wY.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>4*!!wY.getBool("WEBGL_RENDER_FLOAT32_ENABLED")),wY.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,a=>{if("number"!=typeof a)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${a}.`);if(a<0&&-1!==a)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${a}.`)}),wY.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>v5.isMobile()?1:-1,a=>{if("number"!=typeof a)throw Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${a}.`);if(a<0&&-1!==a)throw Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${a}.`)}),wY.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),wY.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),wY.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),wY.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),wY.registerFlag("WEBGL_EXP_CONV",()=>!1),wY.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>wY.getBool("IS_TEST")),wY.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),wY.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),wY.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),wY.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);var hJ=hJ,tp=tp,jd=jd;function wZ(){let a,b,c,d,e,f,g,h,i,j;return 2===aA.getNumber("WEBGL_VERSION")?(a="#version 300 es",b="in",c="out",d="in",e="texture",f="outputColor",g="out vec4 outputColor;",h=aA.getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",i="",j=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(a="",b="attribute",c="varying",d="varying",e="texture2D",f="gl_FragColor",g="",h=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,i=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,j=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:a,attribute:b,varyingVs:c,varyingFs:d,texture2D:e,output:f,defineOutput:g,defineSpecialNaN:h,defineSpecialInf:i,defineRound:j}}var hJ=hJ,jd=jd,hJ=hJ,jd=jd,jd=jd;function w$(a,b,c="index"){let d=jd.computeStrides(b);return d.map((b,e)=>{let f=`int ${a[e]} = ${c} / ${b}`,g=e===d.length-1?`int ${a[e+1]} = ${c} - ${a[e]} * ${b}`:`index -= ${a[e]} * ${b}`;return`${f}; ${g};`}).join("")}function w_(a,b,c="index"){let d=jd.computeStrides(b);return d.map((b,e)=>{let f=`int ${a[e]} = ${c} / outShapeStrides[${e}]`,g=e===d.length-1?`int ${a[e+1]} = ${c} - ${a[e]} * outShapeStrides[${e}]`:`index -= ${a[e]} * outShapeStrides[${e}]`;return`${f}; ${g};`}).join("")}function w0(a){let b=jd.computeStrides(a).map(a=>a.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${b[0]} + coords.y * ${b[1]} + coords.z;
  }
`}function w1(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}let w2=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`,{getBroadcastDims:w3}=hJ,w4=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,w5=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,w6=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,w7=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function w8(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function w9(a){return`offset${a}`}function xa(a){let b=a.name,c=jd.sizeFromShape(a.shapeInfo.logicalShape);return c<2?`return ${b};`:`
    for (int i = 0; i < ${c}; i++) {
      if (i == index) {
        return ${b}[i];
      }
    }
  `}function xb(a){if(a<=1)return"int";if(2===a)return"ivec2";if(3===a)return"ivec3";if(4===a)return"ivec4";if(5===a)return"ivec5";else if(6===a)return"ivec6";else throw Error(`GPU for rank ${a} is not yet supported`)}function xc(a,b,c){let{newShape:d,keptDims:e}=jd.squeezeShape(b),f=b.length,g=a&&3===f&&1===b[0],h=g?b.slice(1):d,i=!a&&f>1&&!jd.arraysEqual(b,c)&&d.length<f||g,j=i?h:b;return{useSqueezeShape:i,uniformShape:j,keptDims:e}}function xd(a,b){let c=JSON.parse(JSON.stringify(a));return c.shapeInfo.logicalShape=b,c}function xe(a,b){return b.map(b=>a[b]).join(", ")}function xf(a,b,c){let d,e,f,g=[],h=[],i=null,j=null;for(let d of(j=a.getUniformLocation(c,"NAN",!1),1===aA.getNumber("WEBGL_VERSION")&&(i=a.getUniformLocation(c,"INFINITY",!1)),b.variableNames)){let e={name:d,uniform:a.getUniformLocation(c,d,!1),offset:a.getUniformLocation(c,`offset${d}`,!1)};b.enableShapeUniforms&&(e.shape=a.getUniformLocation(c,`${d}Shape`,!1),e.texShape=a.getUniformLocation(c,`${d}TexShape`,!1)),g.push(e)}if(b.enableShapeUniforms&&(d=a.getUniformLocation(c,"outShape",!1),f=a.getUniformLocation(c,"outShapeStrides",!1),e=a.getUniformLocation(c,"outTexShape",!1)),b.customUniforms)for(let d of b.customUniforms)h.push(a.getUniformLocation(c,d.name,!1));return{variablesLocations:g,customUniformLocations:h,infLoc:i,nanLoc:j,outShapeLocation:d,outShapeStridesLocation:f,outTexShapeLocation:e}}function xg(a,b){if(a.length!==b.length)throw Error(`Binary was compiled with ${a.length} inputs, but was executed with ${b.length} inputs`);a.forEach((a,c)=>{let d=a.logicalShape,e=b[c],f=e.shape;if(!jd.arraysEqual(d,f))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${d} and ${f} must match`);if(a.isUniform&&e.isUniform)return;let g=a.texShape,h=e.isUniform?null:e.texData.texShape;if(!jd.arraysEqual(g,h))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${g} and ${h} must match`)})}function xh(a){return aA.getBool("WEBGL_USE_SHAPES_UNIFORMS")&&a<=4}class xi{constructor(a){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=u.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let b=wZ();this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?w_(["r","c","d"],a):w$(["r","c","d"],a)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${b.output} = result;
      }
    `}}class xj{constructor(a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=u.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let b=wZ();this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?w_(["r","c","d"],a):w$(["r","c","d"],a)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${b.output} = result;
      }
    `}}class xk{constructor(a){this.variableNames=["A"],this.outTexUsage=v.DOWNLOAD;let b=wZ();this.outputShape=a,this.userCode=`
      ${w2}

      void main() {
        float x = getAAtOutCoords();
        ${b.output} = encode_float(x);
      }
    `}}class xl{constructor(a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=v.DOWNLOAD;let b=wZ();this.outputShape=a,this.userCode=`
      ${w2}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${b.output} = encode_float(x);
      }
    `}}let xm={R:0,G:1,B:2,A:3};class xn{constructor(a,b=!1,c="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let d=wZ();this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length);let e="result";b&&(e="floor(result * 255. + 0.5)");let f="";for(let a=0;a<c.length;a++){let b=c[a];f+=`
          if(offset == ${a}) {
            result = values[${xm[b]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?w1():w0(a)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${c.length});

        flatIndex = idiv(flatIndex, ${c.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${d.texture2D}(A, uv);
          ${f}
        }
        ${d.output} = vec4(${e}, 0., 0., 0.);
      }
    `}}class xo{constructor(a,b=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let c=wZ();this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length);let d="",e="result";b&&(e="floor(result * 255. + 0.5)");for(let b=0;b<=1;b++)for(let e=0;e<=1;e++){let f=2*b+e;d+=`
          localCoords = coords;
          if(localCoords[2] + ${e} < ${this.enableShapeUniforms?"outShape[2]":`${a[2]}`}) {
          localCoords[2] += ${e};
          if (localCoords[1] + ${b} < ${this.enableShapeUniforms?"outShape[1]":`${a[1]}`}) {
            localCoords[1] += ${b};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${c.texture2D}(A, uv);

            if (offset == 0) {
              result[${f}] = values[0];
            } else if (offset == 1) {
              result[${f}] = values[1];
            } else if (offset == 2) {
              result[${f}] = values[2];
            } else {
              result[${f}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?w1():w0(a)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${d}

          ${c.output} = ${e};
        }
    `}}var jd=jd;function xp(a){let b=wZ();return wh(a,`${b.version}
    precision highp float;
    ${b.attribute} vec3 clipSpacePos;
    ${b.attribute} vec2 uv;
    ${b.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function xq(a){return wo(a,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function xr(a){return wp(a,new Uint16Array([0,1,2,2,1,3]))}function xs(a,b,c,d,e,f){ws(b,c);let g=wr(a),h=a.TEXTURE_2D;return wd(a,()=>a.bindTexture(h,g)),wd(a,()=>a.texParameteri(h,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE)),wd(a,()=>a.texParameteri(h,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),wd(a,()=>a.texParameteri(h,a.TEXTURE_MIN_FILTER,a.NEAREST)),wd(a,()=>a.texParameteri(h,a.TEXTURE_MAG_FILTER,a.NEAREST)),1===aA.getNumber("WEBGL_VERSION")?wd(a,()=>a.texImage2D(h,0,d,b,c,0,e,f,null)):wd(a,()=>a.texStorage2D(h,1,d,b,c)),wd(a,()=>a.bindTexture(a.TEXTURE_2D,null)),{texture:g,texShape:[c,b]}}function xt(a){return a.internalFormatFloat}function xu(a,b,c,d){let[e,f]=[c,b];return xs(a,e,f,xt(d),d.textureFormatFloat,a.FLOAT)}function xv(a){return a.internalFormatHalfFloat}function xw(a,b,c,d){let[e,f]=[c,b];return xs(a,e,f,xv(d),d.textureFormatFloat,d.textureTypeHalfFloat)}function xx(a){return a.downloadTextureFormat}function xy(a,b,c,d){let[e,f]=[c,b];return xs(a,e,f,xx(d),a.RGBA,a.UNSIGNED_BYTE)}function xz(a){return a.internalFormatPackedFloat}function xA(a,b,c,d){let[e,f]=wb(b,c);return xs(a,e,f,xz(d),a.RGBA,a.FLOAT)}function xB(a){return a.internalFormatPackedHalfFloat}function xC(a,b,c,d){let[e,f]=wb(b,c);return xs(a,e,f,xB(d),a.RGBA,d.textureTypeHalfFloat)}function xD(a,b,c){return wd(a,()=>a.bindBuffer(a.ARRAY_BUFFER,c)),wu(a,b,"clipSpacePos",c,3,20,0)&&wu(a,b,"uv",c,2,20,12)}function xE(a,b,c,d,e,f){let g,h,i;wd(a,()=>a.bindTexture(a.TEXTURE_2D,b)),e instanceof Uint8Array?(g=new Uint8Array(c*d*4),h=a.UNSIGNED_BYTE,i=a.RGBA):(g=new Float32Array(c*d*4),h=a.FLOAT,i=f.internalFormatPackedFloat),g.set(e),2===aA.getNumber("WEBGL_VERSION")?wd(a,()=>a.texSubImage2D(a.TEXTURE_2D,0,0,0,c,d,a.RGBA,h,g)):wd(a,()=>a.texImage2D(a.TEXTURE_2D,0,i,c,d,0,a.RGBA,h,g)),wd(a,()=>a.bindTexture(a.TEXTURE_2D,null))}function xF(a,b,c){wd(a,()=>a.bindTexture(a.TEXTURE_2D,b)),c.data instanceof Uint8Array?2===aA.getNumber("WEBGL_VERSION")?wd(a,()=>a.texSubImage2D(a.TEXTURE_2D,0,0,0,c.width,c.height,a.RGBA,a.UNSIGNED_BYTE,c.data)):wd(a,()=>a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c.width,c.height,0,a.RGBA,a.UNSIGNED_BYTE,c.data)):2===aA.getNumber("WEBGL_VERSION")?wd(a,()=>a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,c)):wd(a,()=>a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c)),wd(a,()=>a.bindTexture(a.TEXTURE_2D,null))}function xG(a,b,c,d){let e=a.createBuffer();wd(a,()=>a.bindBuffer(a.PIXEL_PACK_BUFFER,e));let f=16*b*c;return wd(a,()=>a.bufferData(a.PIXEL_PACK_BUFFER,f,a.STREAM_READ)),wd(a,()=>a.readPixels(0,0,c,b,a.RGBA,a.FLOAT,0)),wd(a,()=>a.bindBuffer(a.PIXEL_PACK_BUFFER,null)),e}function xH(a,b,c){let d=new Float32Array(c);return a.bindBuffer(a.PIXEL_PACK_BUFFER,b),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,d),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),d}function xI(a,b,c,d){let[e,f]=[c,b],g=new Uint8Array(b*c*4);return wd(a,()=>a.readPixels(0,0,e,f,d.downloadTextureFormat,a.UNSIGNED_BYTE,g)),new Float32Array(g.buffer)}function xJ(a,b,c,d,e,f,g,h){let i=new Float32Array(function(a,b){let[c,d]=wb(a,b);return c*d*4}(f,g));return a.bindBuffer(a.PIXEL_PACK_BUFFER,b),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,i),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),i}function xK(a,b,c){let d=new Float32Array(b*c*4);return wd(a,()=>a.readPixels(0,0,c,b,a.RGBA,a.FLOAT,d)),d}a.s(["bindVertexProgramAttributeStreams",()=>xD,"createBufferFromOutputTexture",()=>xG,"createFloat16MatrixTexture",()=>xw,"createFloat16PackedMatrixTexture",()=>xC,"createFloat32MatrixTexture",()=>xu,"createIndexBuffer",()=>xr,"createPackedMatrixTexture",()=>xA,"createUnsignedBytesMatrixTexture",()=>xy,"createVertexBuffer",()=>xq,"createVertexShader",()=>xp,"downloadByteEncodedFloatMatrixFromOutputTexture",()=>xI,"downloadFloat32MatrixFromBuffer",()=>xH,"downloadMatrixFromPackedOutputTexture",()=>xK,"downloadPackedMatrixFromBuffer",()=>xJ,"getInternalFormatForFloat16MatrixTexture",()=>xv,"getInternalFormatForFloat16PackedMatrixTexture",()=>xB,"getInternalFormatForFloat32MatrixTexture",()=>xt,"getInternalFormatForPackedMatrixTexture",()=>xz,"getInternalFormatForUnsignedBytesMatrixTexture",()=>xx,"uploadDenseMatrixToTexture",()=>xE,"uploadPixelDataToTexture",()=>xF],38096);class xL{constructor(a){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];let b=aA.getNumber("WEBGL_VERSION");if(null!=a){var c;this.gl=a,c=a,v6[b]=c}else this.gl=v9(b);if(a=this.gl,2===aA.getNumber("WEBGL_VERSION")){let b=a;this.createVertexArray=()=>wd(b,()=>b.createVertexArray()),this.bindVertexArray=a=>wd(b,()=>b.bindVertexArray(a)),this.deleteVertexArray=a=>wd(b,()=>b.deleteVertexArray(a)),this.getVertexArray=()=>wd(b,()=>b.getParameter(b.VERTEX_ARRAY_BINDING))}else if(null!=a){let b=a.getExtension("OES_vertex_array_object");if(null==b)throw Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>wd(a,()=>b.createVertexArrayOES()),this.bindVertexArray=c=>wd(a,()=>b.bindVertexArrayOES(c)),this.deleteVertexArray=c=>wd(a,()=>b.deleteVertexArrayOES(c)),this.getVertexArray=()=>wd(a,()=>a.getParameter(b.VERTEX_ARRAY_BINDING_OES))}let d="WEBGL_color_buffer_float",e="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===aA.getNumber("WEBGL_VERSION")){let a="OES_texture_half_float";if(this.textureFloatExtension=wg(this.gl,"OES_texture_float"),wR(this.gl,a))this.textureHalfFloatExtension=wg(this.gl,a);else if(aA.get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(d),wR(this.gl,e))this.colorBufferHalfFloatExtension=wg(this.gl,e);else if(aA.get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(d="EXT_color_buffer_float",wR(this.gl,d))this.colorBufferFloatExtension=this.gl.getExtension(d);else if(wR(this.gl,e))this.colorBufferHalfFloatExtension=this.gl.getExtension(e);else throw Error("GL context does not support color renderable floats");this.vertexBuffer=xq(this.gl),this.indexBuffer=xr(this.gl),this.framebuffer=wt(this.gl),this.textureConfig=wc(this.gl,this.textureHalfFloatExtension)}get debug(){return aA.getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let a=this.gl;wd(a,()=>a.finish()),wd(a,()=>a.bindFramebuffer(a.FRAMEBUFFER,null)),wd(a,()=>a.deleteFramebuffer(this.framebuffer)),wd(a,()=>a.bindBuffer(a.ARRAY_BUFFER,null)),wd(a,()=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)),wd(a,()=>a.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(a,b){return this.throwIfDisposed(),xu(this.gl,a,b,this.textureConfig)}createFloat16MatrixTexture(a,b){return this.throwIfDisposed(),xw(this.gl,a,b,this.textureConfig)}createUnsignedBytesMatrixTexture(a,b){return this.throwIfDisposed(),xy(this.gl,a,b,this.textureConfig)}uploadPixelDataToTexture(a,b){this.throwIfDisposed(),xF(this.gl,a,b)}uploadDenseMatrixToTexture(a,b,c,d){this.throwIfDisposed(),xE(this.gl,a,b,c,d,this.textureConfig)}createFloat16PackedMatrixTexture(a,b){return this.throwIfDisposed(),xC(this.gl,a,b,this.textureConfig)}createPackedMatrixTexture(a,b){return this.throwIfDisposed(),xA(this.gl,a,b,this.textureConfig)}deleteMatrixTexture(a){this.throwIfDisposed(),this.outputTexture===a&&(wC(this.gl,this.framebuffer),this.outputTexture=null),wd(this.gl,()=>this.gl.deleteTexture(a))}downloadByteEncodedFloatMatrixFromOutputTexture(a,b,c){return this.downloadMatrixDriver(a,()=>xI(this.gl,b,c,this.textureConfig))}downloadPackedMatrixFromBuffer(a,b,c,d,e,f){return xJ(this.gl,a,b,c,d,e,f,this.textureConfig)}downloadFloat32MatrixFromBuffer(a,b){return xH(this.gl,a,b)}createBufferFromTexture(a,b,c){this.bindTextureToFrameBuffer(a);let d=xG(this.gl,b,c,this.textureConfig);return this.unbindTextureToFrameBuffer(),d}createAndWaitForFence(){let a=this.createFence(this.gl);return this.pollFence(a)}createFence(a){let b,c;if(aA.getBool("WEBGL_FENCE_API_ENABLED")){let d=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush(),c=()=>{let b=a.clientWaitSync(d,0,0);return b===a.ALREADY_SIGNALED||b===a.CONDITION_SATISFIED},b=d}else aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(b=this.beginQuery(),this.endQuery(),c=()=>this.isQueryAvailable(b,aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):c=()=>!0;return{query:b,isFencePassed:c}}downloadMatrixFromPackedTexture(a,b,c){return this.downloadMatrixDriver(a,()=>xK(this.gl,b,c))}createProgram(a){this.throwIfDisposed();let b=this.gl;null==this.vertexShader&&(this.vertexShader=xp(b));let c=wl(b);wd(b,()=>b.attachShader(c,this.vertexShader)),wd(b,()=>b.attachShader(c,a)),wm(b,c);let d=Object.assign(c,{vao:this.createVertexArray()});return this.debug&&wn(b,d),d}buildVao(a){this.setProgram(a),this.bindVertexArray(a.vao);let b=this.gl;wd(b,()=>b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),xD(b,a,this.vertexBuffer)}deleteProgram(a){this.throwIfDisposed(),a===this.program&&(this.program=null),null!=a&&(wd(this.gl,()=>this.gl.deleteProgram(a)),this.deleteVertexArray(a.vao))}setProgram(a){this.throwIfDisposed(),this.program=a,null!=this.program&&this.debug&&wn(this.gl,this.program),wd(this.gl,()=>this.gl.useProgram(a))}getUniformLocation(a,b,c=!0){return(this.throwIfDisposed(),c)?wx(this.gl,a,b):wy(this.gl,a,b)}getAttributeLocation(a,b){return this.throwIfDisposed(),wd(this.gl,()=>this.gl.getAttribLocation(a,b))}getUniformLocationNoThrow(a,b){return this.throwIfDisposed(),this.gl.getUniformLocation(a,b)}setInputMatrixTexture(a,b,c){this.throwIfDisposed(),this.throwIfNoProgram(),wz(this.gl,a,b,c)}setOutputMatrixTexture(a,b,c){this.setOutputMatrixTextureDriver(a,c,b)}setOutputPackedMatrixTexture(a,b,c){this.throwIfDisposed();let[d,e]=wb(b,c);this.setOutputMatrixTextureDriver(a,d,e)}setOutputMatrixWriteRegion(a,b,c,d){this.setOutputMatrixWriteRegionDriver(c,a,d,b)}setOutputPackedMatrixWriteRegion(a,b,c,d){throw Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&wn(this.gl,this.program),wD(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let a=this.gl;this.debug&&(console.assert(this.getVertexArray()===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()),wd(a,()=>a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),wd(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=wg(this.gl,2===aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let a=this.gl,b=this.getQueryTimerExtensionWebGL2(),c=a.createQuery();return a.beginQuery(b.TIME_ELAPSED_EXT,c),c}let a=this.getQueryTimerExtensionWebGL1(),b=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,b),b}endQuery(){if(2===aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let a=this.gl,b=this.getQueryTimerExtensionWebGL2();a.endQuery(b.TIME_ELAPSED_EXT);return}let a=this.getQueryTimerExtensionWebGL1();a.endQueryEXT(a.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(a){return await jd.repeatedTry(()=>this.disposed||this.isQueryAvailable(a,aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(a,aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(a,b){if(0===b)return null;if(2===b){let b=this.gl;return b.getQueryParameter(a,b.QUERY_RESULT)/1e6}{let b=this.getQueryTimerExtensionWebGL1();return b.getQueryObjectEXT(a,b.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(a,b){if(0===b)return!0;if(2===b){let b=this.gl,c=this.getQueryTimerExtensionWebGL2(),d=b.getQueryParameter(a,b.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(c.GPU_DISJOINT_EXT)),d&&!this.disjoint}{let b=this.getQueryTimerExtensionWebGL1(),c=b.getQueryObjectEXT(a,b.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(b.GPU_DISJOINT_EXT)),c&&!this.disjoint}}pollFence(a){return new Promise(b=>{this.addItemToPoll(()=>a.isFencePassed(),()=>b())})}pollItems(){let a=function(a){let b=0;for(;b<a.length&&a[b]();++b);return b-1}(this.itemsToPoll.map(a=>a.isDoneFn));for(let b=0;b<=a;++b){let{resolveFn:a}=this.itemsToPoll[b];a()}this.itemsToPoll=this.itemsToPoll.slice(a+1)}addItemToPoll(a,b){let c;this.itemsToPoll.push({isDoneFn:a,resolveFn:b}),this.itemsToPoll.length>1||("setTimeoutCustom"in aA.platform&&(c=aA.platform.setTimeoutCustom.bind(aA.platform)),jd.repeatedTry(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,c))}bindTextureToFrameBuffer(a){this.throwIfDisposed(),wB(this.gl,a,this.framebuffer),this.debug&&wD(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(wB(this.gl,this.outputTexture,this.framebuffer),this.debug&&wD(this.gl)):wC(this.gl,this.framebuffer)}downloadMatrixDriver(a,b){this.bindTextureToFrameBuffer(a);let c=b();return this.unbindTextureToFrameBuffer(),c}setOutputMatrixTextureDriver(a,b,c){this.throwIfDisposed();let d=this.gl;wB(d,a,this.framebuffer),this.debug&&wD(d),this.outputTexture=a,wd(d,()=>d.viewport(0,0,b,c)),wd(d,()=>d.scissor(0,0,b,c))}setOutputMatrixWriteRegionDriver(a,b,c,d){this.throwIfDisposed(),wd(this.gl,()=>this.gl.scissor(a,b,c,d))}throwIfDisposed(){if(this.disposed)throw Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw Error("No GPU program is currently set.")}}let{addImpl:xM,bincountImpl:xN,bincountReduceImpl:xO,bitwiseAndImpl:xP,castImpl:xQ,ceilImpl:xR,concatImpl:xS,equalImpl:xT,expImpl:xU,expm1Impl:xV,floorImpl:xW,gatherNdImpl:xX,gatherV2Impl:xY,greaterImpl:xZ,greaterEqualImpl:x$,lessImpl:x_,lessEqualImpl:x0,linSpaceImpl:x1,logImpl:x2,maxImpl:x3,maximumImpl:x4,minimumImpl:x5,multiplyImpl:x6,negImpl:x7,notEqualImpl:x8,prodImpl:x9,raggedGatherImpl:ya,raggedRangeImpl:yb,raggedTensorToTensorImpl:yc,rangeImpl:yd,rsqrtImpl:ye,scatterImpl:yf,sigmoidImpl:yg,simpleAbsImpl:yh,sliceImpl:yi,sparseFillEmptyRowsImpl:yj,sparseReshapeImpl:yk,sparseSegmentReductionImpl:yl,sqrtImpl:ym,staticRegexReplaceImpl:yn,stridedSliceImpl:yo,stringNGramsImpl:yp,stringSplitImpl:yq,stringToHashBucketFastImpl:yr,subImpl:ys,tileImpl:yt,topKImpl:yu,transposeImpl:yv,uniqueImpl:yw}=uY;function yx(a,b){return["x","y","z","w","u","v"].slice(0,b).map(b=>`${a}.${b}`)}function yy(a,b){return 1===b?[a]:yx(a,b)}class yz{constructor(a){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=a,this.rank=a.length,this.enableShapeUniforms=xh(this.outputShape.length),0===this.rank)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let a=yy("rc",this.rank),b=xb(this.rank),c=this.getOutOfBoundsCondition(a),d=this.getSetup(a),e=this.getOutput(a);this.userCode=`
        void main() {
          ${b} rc = getOutputCoords();

          if(${c}) {
            setOutput(vec4(0));
          } else {
            ${d}

            setOutput(vec4(${e}));
          }
        }
      `}}getSourceCoordsArr(a){let b=[];for(let c=0;c<=1;c++)for(let d=0;d<=1;d++){let e=`${0===c?"r":"rp1"}, ${0===d?"c":"cp1"}`;for(let b=2;b<this.rank;b++)e=`${a[a.length-1-b]},`+e;b.push(e)}return b}getOutOfBoundsCondition(a){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let b="";for(let c=this.rank-2;c<this.rank;c++)b+=`${a[c]} >= ${this.enableShapeUniforms?`outShape[${c}]`:this.outputShape[c]}`,c<this.rank-1&&(b+="||");return b}getSetup(a){if(1===this.rank)return"";let b=a.slice(-2),c=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],d=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${b[0]};
      int c = ${b[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${c};
      bool rEdge = rp1 >= ${d};
    `}getOutput(a){let b=this.getSourceCoordsArr(a);if(1===this.rank){let a=this.enableShapeUniforms?"outShape":this.outputShape[0];return`getA(rc), (rc + 1 >= ${a} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${b[0]}),
            cEdge ? 0. : getA(${b[1]}),
            rEdge ? 0. : getA(${b[2]}),
            rEdge || cEdge ? 0. : getA(${b[3]})`}}class yA{constructor(a,b){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length);let c="";for(let a=0;a<4;a++){let b="thisRC = rc;";a%2==1&&(b+="thisRC.z += 1;"),a>1&&(b+="thisRC.y += 1;"),c+=`
        ${b}
        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${a}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${a>0?"}":""}
      `}this.userCode=`
      ${function(a,b){let c=b?function(a,b,c="index"){let d=function(a,b){let c=a.length,d=a.map(a=>`${b}[${a}]`),e=Array(c-1);e[c-2]=d[c-1];for(let a=c-3;a>=0;--a)e[a]=`(${e[a+1]} * ${d[a+1]})`;return e}(a.map((a,b)=>b),b);return d.map((b,e)=>{let f=`int ${a[e]} = ${c} / ${d[e]}`,g=e===d.length-1?`int ${a[e+1]} = ${c} - ${a[e]} * ${d[e]}`:`index -= ${a[e]} * ${d[e]}`;return`${f}; ${g};`}).join("")}(["r","c","d"],"inputShape"):w$(["r","c","d"],a);return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${c}
      return ivec3(r, c, d);
    }
  `}(b,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?w1():w0(a)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":a[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":a[2]};

        ${c}

        setOutput(result);
      }
    `}}class yB{constructor(a){this.gpgpu=a,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(a,b,c){let d,e=yD(b,c),f=yE(a,e,c);f in this.freeTextures||(this.freeTextures[f]=[]),f in this.usedTextures||(this.usedTextures[f]=[]);let g=yC(a,e,this.gpgpu.gl,this.gpgpu.textureConfig,c);if(this.freeTextures[f].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=g,this.log();let a=this.freeTextures[f].pop();return this.usedTextures[f].push(a),a}return e===w.PACKED_2X2_FLOAT32?d=this.gpgpu.createPackedMatrixTexture(a[0],a[1]):e===w.PACKED_2X2_FLOAT16?d=this.gpgpu.createFloat16PackedMatrixTexture(a[0],a[1]):e===w.UNPACKED_FLOAT32?d=this.gpgpu.createFloat32MatrixTexture(a[0],a[1]):e===w.UNPACKED_FLOAT16?d=this.gpgpu.createFloat16MatrixTexture(a[0],a[1]):e===w.PACKED_4X1_UNSIGNED_BYTE&&(d=this.gpgpu.createUnsignedBytesMatrixTexture(a[0],a[1])),this.usedTextures[f].push(d),this.numUsedTextures++,this._numBytesAllocated+=g,this.log(),d}releaseTexture(a,b,c,d){if(null==this.freeTextures)return;let e=yD(c,d),f=yE(b,e,d);f in this.freeTextures||(this.freeTextures[f]=[]);let g=yC(b,e,this.gpgpu.gl,this.gpgpu.textureConfig,d),h=aA.getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==h&&this._numBytesAllocated>h?(this.gpgpu.deleteMatrixTexture(a.texture),this._numBytesAllocated-=g):(this.freeTextures[f].push(a),this.numFreeTextures++,this._numBytesFree+=g),this.numUsedTextures--;let i=this.usedTextures[f],j=i&&i.indexOf(a);if(null==j||j<0)throw Error("Cannot release a texture that was never provided by this texture manager");i[j]=i[i.length-1],i.pop(),this.log()}log(){if(!this.logEnabled)return;let a=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${a})`);let b=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*b)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(let a in this.freeTextures)this.freeTextures[a].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});for(let a in this.usedTextures)this.usedTextures[a].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function yC(a,b,c,d,e){let f,g=function(a,b){switch(a){case w.PACKED_2X2_FLOAT32:return xz(b);case w.PACKED_2X2_FLOAT16:return xB(b);case w.UNPACKED_FLOAT32:return xt(b);case w.UNPACKED_FLOAT16:return xv(b);case w.PACKED_4X1_UNSIGNED_BYTE:return xx(b);default:throw Error(`Unknown physical texture type ${a}`)}}(b,d);if(e){let[b,c]=wb(a[0],a[1]);f=b*c}else{var h;let[b,c]=(h=a[0],[a[1],h]);f=b*c}return f*function(a,b){if(b===a.R32F)return 4;if(b===a.R16F)return 2;if(b===a.RGBA32F)return 16;if(b===a.RGBA)return 16;if(b===a.RGBA16F)return 8;else if(b===a.RGBA8)return 4;throw Error(`Unknown internal format ${b}`)}(c,g)}function yD(a,b){if(a===v.UPLOAD)return w.PACKED_2X2_FLOAT32;if(a===v.RENDER||null==a)return aA.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?b?w.PACKED_2X2_FLOAT32:w.UNPACKED_FLOAT32:b?w.PACKED_2X2_FLOAT16:w.UNPACKED_FLOAT16;if(a===v.DOWNLOAD||a===v.PIXELS)return w.PACKED_4X1_UNSIGNED_BYTE;throw Error(`Unknown logical texture type ${a}`)}function yE(a,b,c){return`${a[0]}_${a[1]}_${b}_${c}`}class yF{constructor(a,b){this.variableNames=["A"],this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${b}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}let yG="if (isnan(x)) return x;",yH="return abs(x);",yI=yG+`
  return (x < 0.0) ? 0.0 : x;
`,yJ=yG+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,yK="return x;",yL=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,yM=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,yN=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;class yO{constructor(a,b){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${b}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class yP{constructor(a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length);let b=a.length,c=yy("rc",b),d=xb(b),e=function(a,b){if(1===a)return"rc";let c="";for(let d=0;d<a;d++)c+=b[d],d<a-1&&(c+=",");return c}(b,c),f=c.slice(-2),g=b<=1?"rc":`vec2(${f.join(",")})`;this.userCode=`
      void main() {
        ${d} rc = getOutputCoords();
        vec4 packedInput = getA(${e});

        setOutput(getChannel(packedInput, ${g}));
      }
    `}}let yQ=tp.whereImpl,yR={},yS=aA.getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class yT extends C{nextDataId(){return yT.nextDataId++}constructor(a){let b;if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!aA.getBool("HAS_WEBGL"))throw Error("WebGL is not supported on this device");null!=a?(b=a instanceof xL?a:new xL(v9(aA.getNumber("WEBGL_VERSION"),a)),this.binaryCache={},this.gpgpuCreatedLocally=!1):(b=new xL(v9(aA.getNumber("WEBGL_VERSION"))),this.binaryCache=function(a){return a in yR||(yR[a]={}),yR[a]}(aA.getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0),this.gpgpu=b,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new yB(this.gpgpu),this.numMBBeforeWarning=null==aA.global.screen?1024:aA.global.screen.height*aA.global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new B(this,dF)}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(a,b,c,d,e,f){let g=this.makeTensorInfo(b,c),h=this.texData.get(g.dataId);h.isPacked=!1,h.texture={texture:a,texShape:[d,e]},h.texShape=[d,e];let i=new xn(wJ(b),!1,f),j=this.runWebGLProgram(i,[g],c,[[d,e]]);return j.shape=b,h.texture=null,this.disposeIntermediateTensorInfo(g),j.dataId}write(a,b,c){if((aA.getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||aA.getBool("DEBUG"))&&this.checkNumericalProblems(a),"complex64"===c&&null!=a)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");let d={id:this.nextDataId()};return this.texData.set(d,{shape:b,dtype:c,values:a,usage:v.UPLOAD,refCount:1}),d}refCount(a){return this.texData.has(a)?this.texData.get(a).refCount:0}incRef(a){let b=this.texData.get(a);b.refCount++}decRef(a){if(this.texData.has(a)){let b=this.texData.get(a);b.refCount--}}move(a,b,c,d,e){if(aA.getBool("DEBUG")&&this.checkNumericalProblems(b),"complex64"===d)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(a,{shape:c,dtype:d,values:b,usage:v.UPLOAD,refCount:e})}disposeIntermediateTensorInfo(a){this.disposeData(a.dataId)}readSync(a){let b,c,{values:d,dtype:e,complexTensorInfos:f,slice:g,shape:h,isPacked:i}=this.texData.get(a);if(null!=g){let b;b=i?new yO(h,yK):new yF(h,yK);let c=this.runWebGLProgram(b,[{dataId:a,shape:h,dtype:e}],e),d=this.readSync(c.dataId);return this.disposeIntermediateTensorInfo(c),d}if(null!=d)return this.convertAndCacheOnCPU(a);if("string"===e)return d;let j=null!=this.activeTimers;if(j&&(b=jd.now()),"complex64"===e){let a=this.readSync(f.real.dataId),b=this.readSync(f.imag.dataId);c=hJ.mergeRealAndImagArrays(a,b)}else c=this.getValuesFromTexture(a);return j&&(this.downloadWaitMs+=jd.now()-b),this.convertAndCacheOnCPU(a,c)}async read(a){let b,c;if(this.pendingRead.has(a)){let b=this.pendingRead.get(a);return new Promise(a=>b.push(a))}let{values:d,shape:e,slice:f,dtype:g,complexTensorInfos:h,isPacked:i}=this.texData.get(a);if(null!=f){let b;b=i?new yO(e,yK):new yF(e,yK);let c=this.runWebGLProgram(b,[{dataId:a,shape:e,dtype:g}],g),d=this.read(c.dataId);return this.disposeIntermediateTensorInfo(c),d}if(null!=d)return this.convertAndCacheOnCPU(a);if(aA.getBool("DEBUG")&&!aA.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===aA.getNumber("WEBGL_VERSION"))throw Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let j=null;if("complex64"!==g&&aA.get("WEBGL_BUFFER_SUPPORTED")){b=this.decode(a);let c=this.texData.get(b.dataId);j=this.gpgpu.createBufferFromTexture(c.texture.texture,...wa(e))}if(this.pendingRead.set(a,[]),"complex64"!==g&&await this.gpgpu.createAndWaitForFence(),"complex64"===g){let a=await Promise.all([this.read(h.real.dataId),this.read(h.imag.dataId)]),b=a[0],d=a[1];c=hJ.mergeRealAndImagArrays(b,d)}else if(null==j)c=this.getValuesFromTexture(a);else{let a=jd.sizeFromShape(e);c=this.gpgpu.downloadFloat32MatrixFromBuffer(j,a)}if(null!=b&&this.disposeIntermediateTensorInfo(b),null!=j){let a=this.gpgpu.gl;wd(a,()=>a.deleteBuffer(j))}let k=this.convertAndCacheOnCPU(a,c),l=this.pendingRead.get(a);return this.pendingRead.delete(a),l.forEach(a=>a(k)),this.pendingDisposal.has(a)&&(this.pendingDisposal.delete(a),this.disposeData(a)&&dF.removeDataId(a,this),this.pendingDeletes--),k}readToGPU(a,b={}){let{values:c,shape:d,slice:e,dtype:f,isPacked:g,texture:h}=this.texData.get(a);if("complex64"===f)throw Error("Does not support reading texture for complex64 dtype.");if(null!=e){let c;c=g?new yO(d,yK):new yF(d,yK);let e=this.runWebGLProgram(c,[{dataId:a,shape:d,dtype:f}],f),h=this.readToGPU(e,b);return this.disposeIntermediateTensorInfo(e),h}if(null==h)if(null!=c)throw Error("Data is not on GPU but on CPU.");else throw Error("There is no data on GPU or CPU.");let i=this.decode(a,b.customTexShape);return Object.assign({tensorRef:dF.makeTensorFromTensorInfo(i)},this.texData.get(i.dataId).texture)}bufferSync(a){let b=this.readSync(a.dataId);if("string"===a.dtype)try{let c=b.map(a=>jd.decodeString(a));return eD(a.shape,a.dtype,c)}catch(a){throw Error("Failed to decode encoded string bytes into utf-8")}return eD(a.shape,a.dtype,b)}checkNumericalProblems(a){if(null!=a)for(let b=0;b<a.length;b++){let c=a[b];if(!we(c)){if(aA.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${c} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${c} cannot be represented on this device.`)}}}getValuesFromTexture(a){let{shape:b,dtype:c,isPacked:d}=this.texData.get(a),e=jd.sizeFromShape(b);if(aA.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){let c=this.decode(a),d=this.texData.get(c.dataId),f=this.gpgpu.downloadMatrixFromPackedTexture(d.texture.texture,...wa(b)).subarray(0,e);return this.disposeIntermediateTensorInfo(c),f}let f=aA.getBool("WEBGL_PACK")&&!0===d,g=f?wJ(b):b,h=f?new xl(g):new xk(g),i=this.runWebGLProgram(h,[{shape:g,dtype:c,dataId:a}],"float32"),j=this.texData.get(i.dataId),k=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(j.texture.texture,j.texShape[0],j.texShape[1]).subarray(0,e);return this.disposeIntermediateTensorInfo(i),k}timerAvailable(){return aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(a){let b=this.activeTimers,c=[],d=!1;null==this.programTimersStack?(this.programTimersStack=c,d=!0):this.activeTimers.push(c),this.activeTimers=c,a();let e=jd.flatten(this.activeTimers.map(a=>a.query)).filter(a=>null!=a),f=jd.flatten(this.activeTimers.map(a=>a.name)).filter(a=>null!=a);this.activeTimers=b,d&&(this.programTimersStack=null);let g={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){let a=await Promise.all(e);g.kernelMs=jd.sum(a),g.getExtraProfileInfo=()=>a.map((a,b)=>({name:f[b],ms:a})).map(a=>`${a.name}: ${a.ms}`).join(", ")}else g.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,g})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:jd.now(),endMs:null}}endTimer(a){return aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.endQuery():a.endMs=jd.now(),a}async getQueryTime(a){return aA.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.waitForQueryAndGetTime(a):a.endMs-a.startMs}disposeData(a,b=!1){if(this.pendingDisposal.has(a))return!1;if(!this.texData.has(a))return!0;if(b?this.texData.get(a).refCount=0:this.texData.get(a).refCount--,!b&&this.texData.get(a).refCount>0)return!1;if(this.pendingRead.has(a))return this.pendingDisposal.add(a),this.pendingDeletes++,!1;this.releaseGPUData(a);let{complexTensorInfos:c}=this.texData.get(a);return null!=c&&(this.disposeData(c.real.dataId,b),this.disposeData(c.imag.dataId,b)),this.texData.delete(a),!0}releaseGPUData(a){let{texture:b,dtype:c,texShape:d,usage:e,isPacked:f,slice:g}=this.texData.get(a),h=g&&g.origDataId||a,i=this.dataRefCount.get(h);i>1?this.dataRefCount.set(h,i-1):(this.dataRefCount.delete(h),null!=b&&(this.numBytesInGPU-=this.computeBytes(d,c),this.textureManager.releaseTexture(b,d,e,f)));let j=this.texData.get(a);j.texture=null,j.texShape=null,j.isPacked=!1,j.slice=null}getTexture(a){return this.uploadToGPU(a),this.texData.get(a).texture.texture}getDataInfo(a){return this.texData.get(a)}shouldExecuteOnCPU(a,b=yS){return aA.getBool("WEBGL_CPU_FORWARD")&&a.every(a=>null==this.texData.get(a.dataId).texture&&jd.sizeFromShape(a.shape)<b)}getGPGPUContext(){return this.gpgpu}where(a){hJ.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");let b=a.dataSync();return yQ(a.shape,b)}packedUnaryOp(a,b,c){let d=new yO(a.shape,b),e=this.compileAndRun(d,[a],c);return dF.makeTensorFromTensorInfo(e)}abs(a){if(this.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){let b=yh(this.texData.get(a.dataId).values);return this.makeOutput(a.shape,a.dtype,b)}if(aA.getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(a,yH,a.dtype);let b=new yF(a.shape,yH),c=this.compileAndRun(b,[a]);return dF.makeTensorFromTensorInfo(c)}makeTensorInfo(a,b,c){let d;if("string"===b&&null!=c&&c.length>0&&jd.isString(c[0])){let e=c.map(a=>jd.encodeString(a));d=this.write(e,a,b)}else d=this.write(c,a,b);return this.texData.get(d).usage=null,{dataId:d,shape:a,dtype:b}}makeOutput(a,b,c){return dF.makeTensorFromTensorInfo(this.makeTensorInfo(a,b,c),this)}unpackTensor(a){let b=new yP(a.shape);return this.runWebGLProgram(b,[a],a.dtype)}packTensor(a){let b=new yz(a.shape);return this.runWebGLProgram(b,[a],a.dtype,null,!0)}packedReshape(a,b){let c=[wH(a.shape),...wI(a.shape)],d={dtype:a.dtype,shape:c,dataId:a.dataId},e=new yA([wH(b),...wI(b)],c),f=this.runWebGLProgram(e,[d],a.dtype,[c],!0);return{dataId:f.dataId,shape:b,dtype:f.dtype}}decode(a,b){let c,{isPacked:d,shape:e,dtype:f}=this.texData.get(a);if(null!=b){let a=jd.sizeFromShape(e),c=b[0]*b[1]*4;jd.assert(a<=c,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}let g=wJ(e);c=d?new xj(g):new xi(g);let h=[null!=b?b:wa(g)],i=this.runWebGLProgram(c,[{shape:g,dtype:f,dataId:a}],f,h,!0,b);return{dtype:f,shape:e,dataId:i.dataId}}runWebGLProgram(a,b,c,d,e=!1,f){let g,h=this.makeTensorInfo(a.outputShape,c),i=this.texData.get(h.dataId);if(a.packedOutput&&(i.isPacked=!0),a.outPackingScheme===u.DENSE&&(i.texShape=(null!=f?f:wa(a.outputShape)).map(a=>2*a)),null!=a.outTexUsage&&(i.usage=a.outTexUsage),0===jd.sizeFromShape(h.shape))return i.values=jd.getTypedArrayFromDType(h.dtype,0),h;let j=[],k=b.map(b=>{if("complex64"===b.dtype)throw Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let c=this.texData.get(b.dataId);if(null==c.texture){if(!a.packedInputs&&jd.sizeFromShape(b.shape)<=aA.getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:b.shape,texData:null,isUniform:!0,uniformValues:c.values};a.packedInputs&&(c.isPacked=!0,c.shape=b.shape)}if(this.uploadToGPU(b.dataId),!!c.isPacked!=!!a.packedInputs)b=c.isPacked?this.unpackTensor(b):this.packTensor(b),j.push(b),c=this.texData.get(b.dataId);else if(c.isPacked&&!wL(c.shape,b.shape)){let a=b,d=b.shape;b.shape=c.shape,b=this.packedReshape(b,d),j.push(b),c=this.texData.get(b.dataId),a.shape=d}return{shape:b.shape,texData:c,isUniform:!1}});this.uploadToGPU(h.dataId);let l={shape:h.shape,texData:i,isUniform:!1},m=function(a,b,c){let d="";b.concat(c).forEach(b=>{let e=null!=b.texData&&null!=b.texData.slice&&b.texData.slice.flatOffset>0;if(a.enableShapeUniforms&&!b.isUniform){let f=b.texData.texShape,{useSqueezeShape:g,uniformShape:h,keptDims:i}=xc(a.packedInputs,b.shape,f),j="",k="",l="";if(1===h.length&&a.packedInputs){let a=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)];j=`${a[0]>1}_${a[1]>1}`}else if(2!==h.length||a.packedInputs){if(h.length>2&&!a.packedInputs){let a=jd.computeStrides(h);l=`${a[0]===f[1]}_${a[a.length-1]===f[1]}`}}else k=`${h[0]>1}_${h[1]>1}`;let m=b.shape.length,n=2===h.length&&jd.arraysEqual(b.shape,f),o=1===jd.sizeFromShape(b.shape),p=hJ.getBroadcastDims(b.shape,c.shape),q=!a.packedInputs&&m===c.shape.length&&jd.arraysEqual(f,c.texData.texShape),r=a.packedInputs||h.length>2?"":`${f[0]>1}_${f[1]>1}`;d+=`${m}_${q}_${g?i:""}_${h.length}_${o}_${p}_${n}_${j}_${k}_${l}_${r}_${e}`}else{let a=b.isUniform?"uniform":b.texData.texShape;d+=`${b.shape}_${a}_${e}`}});let e=a.userCode,f=a.constructor.name;return f+("_"+d+"_"+e+`${aA.getNumber("WEBGL_VERSION")}`)}(a,k,l),n=this.getAndSaveBinary(m,()=>(function(a,b,c,d){let e=c.map((a,c)=>{let d={logicalShape:a.shape,texShape:a.isUniform?null:a.texData.texShape,isUniform:a.isUniform,isPacked:!a.isUniform&&a.texData.isPacked,flatOffset:null};return null!=a.texData&&null!=a.texData.slice&&a.texData.slice.flatOffset>0&&(d.flatOffset=a.texData.slice.flatOffset),{name:b.variableNames[c],shapeInfo:d}}),f=e.map(a=>a.shapeInfo),g={logicalShape:d.shape,texShape:d.texData.texShape,isUniform:!1,isPacked:d.texData.isPacked,flatOffset:null},h=function(a,b,c){var d,e,f,g;let h,i,j=[];if(a.forEach(a=>{let b=jd.sizeFromShape(a.shapeInfo.logicalShape);if(a.shapeInfo.isUniform?j.push(`uniform float ${a.name}${b>1?`[${b}]`:""};`):(j.push(`uniform sampler2D ${a.name};`),j.push(`uniform int offset${a.name};`)),c.enableShapeUniforms){let{uniformShape:b}=xc(c.packedInputs,a.shapeInfo.logicalShape,a.shapeInfo.texShape);switch(b.length){case 1:j.push(`uniform int ${a.name}Shape;`);break;case 2:j.push(`uniform ivec2 ${a.name}Shape;`);break;case 3:j.push(`uniform ivec3 ${a.name}Shape;`);break;case 4:j.push(`uniform ivec4 ${a.name}Shape;`)}j.push(`uniform ivec2 ${a.name}TexShape;`)}}),c.enableShapeUniforms){switch(b.logicalShape.length){case 1:j.push("uniform int outShape;");break;case 2:j.push("uniform ivec2 outShape;"),j.push("uniform int outShapeStrides;");break;case 3:j.push("uniform ivec3 outShape;"),j.push("uniform ivec2 outShapeStrides;");break;case 4:j.push("uniform ivec4 outShape;"),j.push("uniform ivec3 outShapeStrides;")}j.push("uniform ivec2 outTexShape;")}c.customUniforms&&c.customUniforms.forEach(a=>{j.push(`uniform ${a.type} ${a.name}${a.arrayIndex?`[${a.arrayIndex}]`:""};`)});let k=j.join("\n"),l=a.map(a=>(function(a,b,c=!1,d){let e="";c?e+=function a(b,c){switch(b.shapeInfo.logicalShape.length){case 0:var d=b;let e=d.name,f="get"+e.charAt(0).toUpperCase()+e.slice(1),g=wZ();return`
    vec4 ${f}() {
      return ${g.texture2D}(${e}, halfCR);
    }
  `;case 1:return function(a,b){let c=a.name,d="get"+c.charAt(0).toUpperCase()+c.slice(1),e=a.shapeInfo.texShape,f=wZ();if(b)return`
    vec4 ${d}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${c}TexShape[0]) / 2.0), ceil(float(${c}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${f.texture2D}(${c}, uv);
    }
  `;let g=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return`
    vec4 ${d}(int index) {
      vec2 uv = packedUVfrom1D(
        ${g[0]}, ${g[1]}, index);
      return ${f.texture2D}(${c}, uv);
    }
  `}(b,c);case 2:return function(a,b){let c=a.shapeInfo.logicalShape,d=a.name,e="get"+d.charAt(0).toUpperCase()+d.slice(1),f=a.shapeInfo.texShape,g=f[0],h=f[1],i=wZ();if(null!=f&&jd.arraysEqual(c,f))return b?`
      vec4 ${e}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${d}TexShape[1], ${d}TexShape[0]);

        return ${i.texture2D}(${d}, uv);
      }
    `:`
      vec4 ${e}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${g}.0);

        return ${i.texture2D}(${d}, uv);
      }
    `;if(b)return`
    vec4 ${e}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${d}TexShape[0]) / 2.0), ceil(float(${d}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${d}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${i.texture2D}(${d}, uv);
    }
  `;let j=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)],k=Math.ceil(c[1]/2);return`
    vec4 ${e}(int row, int col) {
      vec2 uv = packedUVfrom2D(${k}, ${j[0]}, ${j[1]}, row, col);
      return ${i.texture2D}(${d}, uv);
    }
  `}(b,c);case 3:return function(b,c){let d=b.shapeInfo.logicalShape,e=b.name,f="get"+e.charAt(0).toUpperCase()+e.slice(1),g=b.shapeInfo.texShape,h=[Math.ceil(g[0]/2),Math.ceil(g[1]/2)];if(1===d[0]){let e=xd(b,d.slice(1));return`
        ${a(e,c)}
        vec4 ${f}(int b, int row, int col) {
          return ${f}(${xe(["b","row","col"],[1,2])});
        }
      `}let i=wZ();if(c)return`
    vec4 ${f}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${e}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${e}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${i.texture2D}(${e}, uv);
    }
  `;let j=h[0],k=h[1],l=Math.ceil(d[2]/2),m=l*Math.ceil(d[1]/2);return`
    vec4 ${f}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${j}, ${k}, ${m}, ${l}, b, row, col);
      return ${i.texture2D}(${e}, uv);
    }
  `}(b,c);default:return function(a,b){let c=a.name,d="get"+c.charAt(0).toUpperCase()+c.slice(1),e=wZ();if(b)return`
    vec4 ${d}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${c}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${c}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${c}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${c}TexShape[0]) / 2.0), ceil(float(${c}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${e.texture2D}(${c}, uv);
    }
  `;let f=a.shapeInfo.logicalShape,g=f.length,h=a.shapeInfo.texShape,i=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)],j=i[0],k=i[1],l=Math.ceil(f[g-1]/2),m=l*Math.ceil(f[g-2]/2),n="int b, int row, int col",o=`b * ${m} + (row / 2) * ${l} + (col / 2)`;for(let a=2;a<g-1;a++)n=`int b${a}, `+n,m*=f[g-a-1],o=`b${a} * ${m} + `+o;return`
    vec4 ${d}(${n}) {
      int index = ${o};
      int texR = index / ${k};
      int texC = index - texR * ${k};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${k}, ${j});
      return ${e.texture2D}(${c}, uv);
    }
  `}(b,c)}}(a,d):e+=function a(b,c=!1){let d=b.shapeInfo.logicalShape;switch(d.length){case 0:return function(a,b){let c=a.name,d="get"+c.charAt(0).toUpperCase()+c.slice(1);if(a.shapeInfo.isUniform)return`float ${d}() {return ${c};}`;let[e,f]=a.shapeInfo.texShape;if(1===e&&1===f)return`
      float ${d}() {
        return sampleTexture(${c}, halfCR);
      }
    `;let g=w9(c);if(b)return`
    float ${d}() {
      vec2 uv = uvFromFlat(${c}TexShape[0], ${c}TexShape[1], ${g});
      return sampleTexture(${c}, uv);
    }
  `;let[h,i]=a.shapeInfo.texShape;return`
    float ${d}() {
      vec2 uv = uvFromFlat(${h}, ${i}, ${g});
      return sampleTexture(${c}, uv);
    }
  `}(b,c);case 1:return function(a,b){let c=a.name,d="get"+c.charAt(0).toUpperCase()+c.slice(1);if(a.shapeInfo.isUniform)return`
      float ${d}(int index) {
        ${xa(a)}
      }
    `;let e=a.shapeInfo.texShape,f=e[0],g=e[1];if(1===g&&1===f)return`
      float ${d}(int index) {
        return sampleTexture(${c}, halfCR);
      }
    `;let h=w9(c);return 1===g?b?`
      float ${d}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${h}) + 0.5) / float(${c}TexShape[0]));
        return sampleTexture(${c}, uv);
      }
    `:`
      float ${d}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${h}) + 0.5) / ${f}.0);
        return sampleTexture(${c}, uv);
      }
    `:1===f?b?`
      float ${d}(int index) {
        vec2 uv = vec2((float(index + ${h}) + 0.5) / float(${c}TexShape[1]), 0.5);
        return sampleTexture(${c}, uv);
      }
    `:`
      float ${d}(int index) {
        vec2 uv = vec2((float(index + ${h}) + 0.5) / ${g}.0, 0.5);
        return sampleTexture(${c}, uv);
      }
    `:b?`
    float ${d}(int index) {
      vec2 uv = uvFromFlat(${c}TexShape[0], ${c}TexShape[1], index + ${h});
      return sampleTexture(${c}, uv);
    }
  `:`
    float ${d}(int index) {
      vec2 uv = uvFromFlat(${f}, ${g}, index + ${h});
      return sampleTexture(${c}, uv);
    }
  `}(b,c);case 2:return function(b,c){let d=b.shapeInfo.logicalShape,e=b.name,f="get"+e.charAt(0).toUpperCase()+e.slice(1),g=b.shapeInfo.texShape;if(null!=g&&jd.arraysEqual(d,g)){if(c)return`
      float ${f}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${e}TexShape[1], ${e}TexShape[0]);
        return sampleTexture(${e}, uv);
      }
    `;let a=g[0],b=g[1];return`
    float ${f}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${b}.0, ${a}.0);
      return sampleTexture(${e}, uv);
    }
  `}let{newShape:h,keptDims:i}=jd.squeezeShape(d);if(h.length<d.length){let d=xd(b,h);return`
      ${a(d,c)}
      float ${f}(int row, int col) {
        return ${f}(${xe(["row","col"],i)});
      }
    `}if(b.shapeInfo.isUniform)return`
      float ${f}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${d[1]}, 1)));
        ${xa(b)}
      }
    `;let j=g[0],k=g[1],l=w9(e);return 1===k?c?`
      float ${f}(int row, int col) {
        float index = dot(vec3(row, col, ${l}), vec3(${e}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${e}TexShape[0]));
        return sampleTexture(${e}, uv);
      }
    `:`
    float ${f}(int row, int col) {
      float index = dot(vec3(row, col, ${l}), vec3(${d[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${j}.0);
      return sampleTexture(${e}, uv);
    }
  `:1===j?c?`
      float ${f}(int row, int col) {
        float index = dot(vec3(row, col, ${l}), vec3(${e}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${e}TexShape[1]), 0.5);
        return sampleTexture(${e}, uv);
      }
    `:`
    float ${f}(int row, int col) {
      float index = dot(vec3(row, col, ${l}), vec3(${d[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${k}.0, 0.5);
      return sampleTexture(${e}, uv);
    }
  `:c?`
      float ${f}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${e}Shape[1] + col + ${l};
        vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index);
        return sampleTexture(${e}, uv);
      }
    `:`
  float ${f}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${d[1]} + col + ${l};
    vec2 uv = uvFromFlat(${j}, ${k}, index);
    return sampleTexture(${e}, uv);
  }
`}(b,c);case 3:return function(b,c){let d=b.shapeInfo.logicalShape,e=b.name,f="get"+e.charAt(0).toUpperCase()+e.slice(1),g=d[1]*d[2],h=d[2],{newShape:i,keptDims:j}=jd.squeezeShape(d);if(i.length<d.length){let d=xd(b,i);return`
        ${a(d,c)}
        float ${f}(int row, int col, int depth) {
          return ${f}(${xe(["row","col","depth"],j)});
        }
      `}if(b.shapeInfo.isUniform)return`
      float ${f}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${g}, ${h}, 1)));
        ${xa(b)}
      }
    `;let k=b.shapeInfo.texShape,l=k[0],m=k[1],n=b.shapeInfo.flatOffset;if(m===g&&null==n)return c?`
      float ${f}(int row, int col, int depth) {
        int stride1 = ${e}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${e}TexShape[1], ${e}TexShape[0]);
        return sampleTexture(${e}, uv);
      }
    `:`
        float ${f}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${h}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${m}.0, ${l}.0);
          return sampleTexture(${e}, uv);
        }
      `;if(m===h&&null==n)return c?`
      float ${f}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${e}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${e}TexShape[1], ${e}TexShape[0]);
        return sampleTexture(${e}, uv);
      }
    `:`
    float ${f}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${d[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${m}.0, ${l}.0);
      return sampleTexture(${e}, uv);
    }
  `;let o=w9(e);return c?`
    float ${f}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${e}Shape[1] * ${e}Shape[2];
      int stride1 = ${e}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${o};
      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index);
      return sampleTexture(${e}, uv);
    }
    `:`
      float ${f}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${g} + col * ${h} + depth + ${o};
        vec2 uv = uvFromFlat(${l}, ${m}, index);
        return sampleTexture(${e}, uv);
      }
  `}(b,c);case 4:return function(b,c){let d=b.shapeInfo.logicalShape,e=b.name,f="get"+e.charAt(0).toUpperCase()+e.slice(1),g=d[3],h=d[2]*g,i=d[1]*h,{newShape:j,keptDims:k}=jd.squeezeShape(d);if(j.length<d.length){let d=xd(b,j);return`
      ${a(d,c)}
      float ${f}(int row, int col, int depth, int depth2) {
        return ${f}(${xe(["row","col","depth","depth2"],k)});
      }
    `}if(b.shapeInfo.isUniform)return`
      float ${f}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${i}, ${h}, ${g}, 1)));
        ${xa(b)}
      }
    `;let l=b.shapeInfo.flatOffset,m=b.shapeInfo.texShape,n=m[0],o=m[1],p=`int stride2 = ${e}Shape[3];`,q=`int stride1 = ${e}Shape[2] * stride2;`,r=`int stride0 = ${e}Shape[1] * stride1;`;if(o===i&&null==l)return c?`
      float ${f}(int row, int col, int depth, int depth2) {
        ${p}
        ${q}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${e}TexShape[1], ${e}TexShape[0]);
        return sampleTexture(${e}, uv);
      }
    `:`
      float ${f}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${h}, ${g}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}.0, ${n}.0);
        return sampleTexture(${e}, uv);
      }
    `;if(o===g&&null==l)return c?`
      float ${f}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${e}Shape[1] * ${e}Shape[2], ${e}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${e}TexShape[1], ${e}TexShape[0]);
        return sampleTexture(${e}, uv);
      }
    `:`
      float ${f}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${d[1]*d[2]}, ${d[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${o}.0, ${n}.0);
        return sampleTexture(${e}, uv);
      }
    `;let s=w9(e);return c?`
    float ${f}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${q}
      ${r}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index + ${s});
      return sampleTexture(${e}, uv);
    }
  `:`
    float ${f}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${h} +
          depth * ${g} + depth2;
      vec2 uv = uvFromFlat(${n}, ${o}, index + ${s});
      return sampleTexture(${e}, uv);
    }
  `}(b,c);case 5:return function(b){let c=b.shapeInfo.logicalShape,d=b.name,e="get"+d.charAt(0).toUpperCase()+d.slice(1),f=c[4],g=c[3]*f,h=c[2]*g,i=c[1]*h,{newShape:j,keptDims:k}=jd.squeezeShape(c);if(j.length<c.length){let c=xd(b,j);return`
      ${a(c)}
      float ${e}(int row, int col, int depth, int depth2, int depth3) {
        return ${e}(${xe(["row","col","depth","depth2","depth3"],k)});
      }
    `}if(b.shapeInfo.isUniform)return`
      float ${e}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${i}, ${h}, ${g}, ${f})) +
          depth3;
        ${xa(b)}
      }
    `;let l=b.shapeInfo.flatOffset,m=b.shapeInfo.texShape,n=m[0],o=m[1];if(o===i&&null==l)return`
      float ${e}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${h}, ${g}, ${f}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}.0, ${n}.0);
        return sampleTexture(${d}, uv);
      }
    `;if(o===f&&null==l)return`
      float ${e}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${c[1]*c[2]*c[3]},
               ${c[2]*c[3]}, ${c[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${o}.0, ${n}.0);
        return sampleTexture(${d}, uv);
      }
    `;let p=w9(d);return`
    float ${e}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${h} + depth * ${g} +
          depth2 * ${f} + depth3 + ${p};
      vec2 uv = uvFromFlat(${n}, ${o}, index);
      return sampleTexture(${d}, uv);
    }
  `}(b);case 6:return function(b){let c=b.shapeInfo.logicalShape,d=b.name,e="get"+d.charAt(0).toUpperCase()+d.slice(1),{newShape:f,keptDims:g}=jd.squeezeShape(c);if(f.length<c.length){let c=xd(b,f);return`
      ${a(c)}
      float ${e}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${e}(${xe(["row","col","depth","depth2","depth3","depth4"],g)});
      }
    `}let h=c[5],i=c[4]*h,j=c[3]*i,k=c[2]*j,l=c[1]*k;if(b.shapeInfo.isUniform)return`
      float ${e}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${l}, ${k}, ${j}, ${i})) +
          dot(
            vec2(depth3, depth4),
            vec2(${h}, 1)));
        ${xa(b)}
      }
    `;let m=b.shapeInfo.flatOffset,n=b.shapeInfo.texShape,o=n[0],p=n[1];if(p===l&&null==m)return`
      float ${e}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${k}, ${j}, ${i}, ${h})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${o}.0);
        return sampleTexture(${d}, uv);
      }
    `;if(p===h&&null==m)return`
      float ${e}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${c[1]*c[2]*c[3]*c[4]},
               ${c[2]*c[3]*c[4]},
               ${c[3]*c[4]},
               ${c[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${o}.0);
        return sampleTexture(${d}, uv);
      }
    `;let q=w9(d);return`
    float ${e}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${l} + col * ${k} + depth * ${j} +
          depth2 * ${i} + depth3 * ${h} + depth4 + ${q};
      vec2 uv = uvFromFlat(${o}, ${p}, index);
      return sampleTexture(${d}, uv);
    }
  `}(b);default:throw Error(`${d.length}-D input sampling is not yet supported`)}}(a,d);let f=a.shapeInfo.logicalShape,g=b.logicalShape;return f.length<=g.length&&(c?e+=function(a,b){let c,d=a.name,e=d.charAt(0).toUpperCase()+d.slice(1),f=a.shapeInfo.logicalShape.length,g=b.logicalShape.length,h=w3(a.shapeInfo.logicalShape,b.logicalShape),i=xb(g),j=g-f,k=["x","y","z","w","u","v"];c=0===f?"":g<2&&h.length>=1?"coords = 0;":h.map(a=>`coords.${k[a+j]} = 0;`).join("\n");let l="";l=g<2&&f>0?"coords":a.shapeInfo.logicalShape.map((a,b)=>`coords.${k[b+j]}`).join(", ");let m="return outputValue;",n=1===jd.sizeFromShape(a.shapeInfo.logicalShape),o=1===jd.sizeFromShape(b.logicalShape);if(1!==f||n||o){if(n&&!o)m=1===g?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(h.length){let a=f-2,b=f-1;h.indexOf(a)>-1&&h.indexOf(b)>-1?m="return vec4(outputValue.x);":h.indexOf(a)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":h.indexOf(b)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 ${"get"+e+"AtOutCoords"}() {
      ${i} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${e}(${l});
      ${m}
    }
  `}(a,b):e+=function(a,b){let c,d=a.name,e=d.charAt(0).toUpperCase()+d.slice(1),f="get"+e+"AtOutCoords",g=b.texShape,h=a.shapeInfo.texShape,i=a.shapeInfo.logicalShape.length,j=b.logicalShape.length;if(!a.shapeInfo.isUniform&&i===j&&null==a.shapeInfo.flatOffset&&jd.arraysEqual(h,g))return`
      float ${f}() {
        return sampleTexture(${d}, resultUV);
      }
    `;let k=xb(j),l=w3(a.shapeInfo.logicalShape,b.logicalShape),m=j-i,n=["x","y","z","w","u","v"];c=0===i?"":j<2&&l.length>=1?"coords = 0;":l.map(a=>`coords.${n[a+m]} = 0;`).join("\n");let o="";return o=j<2&&i>0?"coords":a.shapeInfo.logicalShape.map((a,b)=>`coords.${n[b+m]}`).join(", "),`
    float ${f}() {
      ${k} coords = getOutputCoords();
      ${c}
      return get${e}(${o});
    }
  `}(a,b)),e})(a,b,c.packedInputs,c.enableShapeUniforms)).join("\n"),m=b.texShape,n=wZ(),o=(d=n,`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${d.texture2D}(textureSampler, uv).r;
    }
  `),p=(e=n,`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${w4}
    ${w5}
    ${w6}
  `);return b.isPacked?(h=function(a,b,c){switch(a.length){case 0:return w8();case 1:var d=b,e=c;let f=[Math.ceil(d[0]/2),Math.ceil(d[1]/2)];return 1===f[0]?e?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${f[1]}.0);
      }
    `:1===f[1]?e?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${f[0]}.0);
      }
    `:e?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${f[0]}, ${f[1]}));
      return 2 * (resTexRC.x * ${f[1]} + resTexRC.y);
    }
  `;case 2:var g=a,h=b,i=c;let j=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)];if(jd.arraysEqual(g,h))return i?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${j[0]}, ${j[1]}));
      }
    `;let k=Math.ceil(g[1]/2);return i?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${j[0]}, ${j[1]}));

      int index = resTexRC.x * ${j[1]} + resTexRC.y;
      int r = 2 * (index / ${k});
      int c = imod(index, ${k}) * 2;

      return ivec2(r, c);
    }
  `;case 3:var l=a,m=b,n=c;if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;let o=[Math.ceil(m[0]/2),Math.ceil(m[1]/2)],p=Math.ceil(l[2]/2),q=p*Math.ceil(l[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      int b = index / ${q};
      index -= b * ${q};

      int r = 2 * (index / ${p});
      int c = imod(index, ${p}) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(a,b,c){if(c)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;let d=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],e=Math.ceil(a[a.length-1]/2),f=e*Math.ceil(a[a.length-2]/2),g=f,h="",i="b, r, c";for(let b=2;b<a.length-1;b++)g*=a[a.length-b-1],h=`
      int b${b} = index / ${g};
      index -= b${b} * ${g};
    `+h,i=`b${b}, `+i;return`
    ivec${a.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${d[0]}, ${d[1]}));
      int index = resTexRC.x * ${d[1]} + resTexRC.y;

      ${h}

      int b = index / ${f};
      index -= b * ${f};

      int r = 2 * (index / ${e});
      int c = imod(index, ${e}) * 2;

      return ivec${a.length}(${i});
    }
  `}(a,b,c)}}(b.logicalShape,m,c.enableShapeUniforms),f=n,i=`
    void setOutput(vec4 val) {
      ${f.output} = val;
    }
  `):(h=function(a,b,c){switch(a.length){case 0:return w8();case 1:return d=b,e=c,1===d[0]?e?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${d[1]}.0);
      }
    `:1===d[1]?e?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${d[0]}.0);
      }
    `:e?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${d[0]}, ${d[1]}));
      return resTexRC.x * ${d[1]} + resTexRC.y;
    }
  `;case 2:return f=a,g=b,h=c,jd.arraysEqual(f,g)?h?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${g[0]}, ${g[1]}));
      }
    `:1===f[1]?h?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${g[0]}, ${g[1]}));
        int index = resTexRC.x * ${g[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:1===f[0]?h?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${g[0]}, ${g[1]}));
        int index = resTexRC.x * ${g[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:h?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${g[0]}, ${g[1]}));
      int index = resTexRC.x * ${g[1]} + resTexRC.y;
      int r = index / ${f[1]};
      int c = index - r * ${f[1]};
      return ivec2(r, c);
    }
  `;case 3:var d,e,f,g,h,i=a,j=b,k=c;if(k){let a=w_(["r","c","d"],i);return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${a}
    return ivec3(r, c, d);
  }
`}let l=w$(["r","c","d"],i);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${j[0]}, ${j[1]}));
      int index = resTexRC.x * ${j[1]} + resTexRC.y;
      ${l}
      return ivec3(r, c, d);
    }
  `;case 4:var m=a,n=b,o=c;if(o){let a=w_(["r","c","d","d2"],m);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${a}
      return ivec4(r, c, d, d2);
    }
  `}let p=w$(["r","c","d","d2"],m);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${n[0]}, ${n[1]}));
      int index = resTexRC.x * ${n[1]} + resTexRC.y;
      ${p}
      return ivec4(r, c, d, d2);
    }
  `;case 5:var q=a,r=b;let s=w$(["r","c","d","d2","d3"],q);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${r[0]},
                             ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${s}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `;case 6:var t=a,u=b;let v=w$(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${u[0]}, ${u[1]}));
      int index = resTexRC.x * ${u[1]} + resTexRC.y;

      ${v}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `;default:throw Error(`${a.length}-D output sampling is not yet supported`)}}(b.logicalShape,m,c.enableShapeUniforms),g=n,i=`
    void setOutput(float val) {
      ${g.output} = vec4(val, 0, 0, 0);
    }
  `),c.packedInputs&&(p+=w7),[p,o,i,k,h,l,c.userCode].join("\n")}(e,g,b),i=wi(a.gl,h),j=a.createProgram(i);return aA.get("ENGINE_COMPILE_ONLY")?{program:b,fragmentShader:i,source:h,webGLProgram:j,inShapeInfos:f,outShapeInfo:g,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(a.buildVao(j),Object.assign({program:b,fragmentShader:i,source:h,webGLProgram:j,inShapeInfos:f,outShapeInfo:g},xf(a,b,j)))})(this.gpgpu,a,k,l)),o=null!=this.activeTimers;o&&(g=this.startTimer()),aA.get("ENGINE_COMPILE_ONLY")||function(a,b,c,d,e){b.program.enableShapeUniforms||(xg(b.inShapeInfos,c),xg([b.outShapeInfo],[d]));let f=d.texData.texture,g=d.texData.texShape;d.texData.isPacked?a.setOutputPackedMatrixTexture(f.texture,g[0],g[1]):a.setOutputMatrixTexture(f.texture,g[0],g[1]),a.setProgram(b.webGLProgram),a.bindVertexArray(b.webGLProgram.vao),1===aA.getNumber("WEBGL_VERSION")&&null!==b.infLoc&&a.gl.uniform1f(b.infLoc,1/0),null!==b.nanLoc&&a.gl.uniform1f(b.nanLoc,NaN);for(let d=0;d<c.length;++d){let e=c[d],{uniform:f,offset:g,shape:h,texShape:i}=b.variablesLocations[d];if(h){let{uniformShape:c}=xc(b.program.packedInputs,e.shape,e.texData.texShape);switch(c.length){case 1:a.gl.uniform1iv(h,new Int32Array(c));break;case 2:a.gl.uniform2iv(h,new Int32Array(c));break;case 3:a.gl.uniform3iv(h,new Int32Array(c));break;case 4:a.gl.uniform4iv(h,new Int32Array(c))}}if(i&&a.gl.uniform2i(i,e.texData.texShape[0],e.texData.texShape[1]),null!=f){if(e.isUniform){if(2>jd.sizeFromShape(e.shape))a.gl.uniform1f(f,e.uniformValues[0]);else{let b=e.uniformValues;b instanceof Float32Array||(b=new Float32Array(b)),a.gl.uniform1fv(f,b)}continue}null!=e.texData.slice&&null!=g&&a.gl.uniform1i(g,e.texData.slice.flatOffset),a.setInputMatrixTexture(e.texData.texture.texture,f,d)}}let h=b.outShapeLocation;if(h)switch(d.shape.length){case 1:a.gl.uniform1iv(h,new Int32Array(d.shape));break;case 2:a.gl.uniform2iv(h,new Int32Array(d.shape));break;case 3:a.gl.uniform3iv(h,new Int32Array(d.shape));break;case 4:a.gl.uniform4iv(h,new Int32Array(d.shape))}if(b.outShapeStridesLocation){let c=jd.computeStrides(d.shape);switch(d.shape.length){case 2:a.gl.uniform1iv(b.outShapeStridesLocation,new Int32Array(c));break;case 3:a.gl.uniform2iv(b.outShapeStridesLocation,new Int32Array(c));break;case 4:a.gl.uniform3iv(b.outShapeStridesLocation,new Int32Array(c))}}if(b.outTexShapeLocation&&a.gl.uniform2i(b.outTexShapeLocation,d.texData.texShape[0],d.texData.texShape[1]),b.program.customUniforms&&e)for(let c=0;c<b.program.customUniforms.length;++c){let d=b.program.customUniforms[c],f=b.customUniformLocations[c],g=e[c];if("float"===d.type)a.gl.uniform1fv(f,g);else if("vec2"===d.type)a.gl.uniform2fv(f,g);else if("vec3"===d.type)a.gl.uniform3fv(f,g);else if("vec4"===d.type)a.gl.uniform4fv(f,g);else if("int"===d.type)a.gl.uniform1iv(f,g);else if("ivec2"===d.type)a.gl.uniform2iv(f,g);else if("ivec3"===d.type)a.gl.uniform3iv(f,g);else if("ivec4"===d.type)a.gl.uniform4iv(f,g);else throw Error(`uniform type ${d.type} is not supported yet.`)}a.executeProgram()}(this.gpgpu,n,k,l,d),j.forEach(a=>this.disposeIntermediateTensorInfo(a)),o&&(g=this.endTimer(g),this.activeTimers.push({name:a.constructor.name,query:this.getQueryTime(g)}));let p=aA.getNumber("WEBGL_FLUSH_THRESHOLD");if(p>0){let a=jd.now();a-this.lastGlFlushTime>p&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=a)}if(!aA.getBool("WEBGL_LAZILY_UNPACK")&&i.isPacked&&!1===e){let a=this.unpackTensor(h);return this.disposeIntermediateTensorInfo(h),a}return h}compileAndRun(a,b,c,d,e=!1){return c=c||b[0].dtype,this.runWebGLProgram(a,b,c,d,e)}getAndSaveBinary(a,b){return a in this.binaryCache||(this.binaryCache[a]=b()),this.binaryCache[a]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(aA.getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(a=>{this.gpgpu.deleteProgram(this.binaryCache[a].webGLProgram),delete this.binaryCache[a]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=dX(()=>{if(!aA.get("WEBGL_RENDER_FLOAT32_ENABLED")){let a=aA.getBool("DEBUG");aA.set("DEBUG",!1);let b=this.abs(eP(1e-8)).dataSync()[0];if(aA.set("DEBUG",a),b>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(a){let b,c=this.texData.get(a),{shape:d,dtype:e,values:f,texture:g,usage:h,isPacked:i}=c;if(null!=g)return;let j=null!=this.activeTimers;j&&(b=jd.now());let k=c.texShape;if(null==k&&(c.texShape=k=wK(d,i)),null!=f){let a,g=wJ(d),h=k[1],l=k[0],m=f instanceof Uint8Array||f instanceof Uint8ClampedArray;(i||!m)&&([h,l]=wb(k[0],k[1])),a=i?new xo(g,m):new xn(g,m);let n=m?[l,h]:k,o=this.makeTensorInfo(n,e),p=this.texData.get(o.dataId);m?p.usage=v.PIXELS:p.usage=v.UPLOAD,p.texShape=n,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(o.dataId),h,l,f);let q=[[l,h]],r=this.runWebGLProgram(a,[o],e,q,!0),s=this.texData.get(r.dataId);c.texShape=s.texShape,c.isPacked=s.isPacked,c.usage=s.usage,aA.get("ENGINE_COMPILE_ONLY")?this.disposeData(r.dataId):(c.texture=s.texture,c.values=null,this.texData.delete(r.dataId)),this.disposeIntermediateTensorInfo(o),j&&(this.uploadWaitMs+=jd.now()-b)}else c.texture=this.acquireTexture(k,h,e,i)}convertAndCacheOnCPU(a,b){let c=this.texData.get(a),{dtype:d}=c;return null!=b&&(c.values=function(a,b){if("float32"===b||"complex64"===b)return a;if("int32"===b||"bool"===b){let c="int32"===b?new Int32Array(a.length):new Uint8Array(a.length);for(let b=0;b<c.length;++b)c[b]=Math.round(a[b]);return c}throw Error(`Unknown dtype ${b}`)}(b,d)),c.values}acquireTexture(a,b,c,d){if(this.numBytesInGPU+=this.computeBytes(a,c),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){let a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${a} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(a,b,d)}computeBytes(a,b){return a[0]*a[1]*jd.bytesPerElement(b)}checkCompileCompletion(){for(let[,a]of Object.entries(this.binaryCache))this.checkCompletion_(a)}async checkCompileCompletionAsync(){let a=[];if(this.gpgpu.parallelCompilationExtension){for(let[,b]of Object.entries(this.binaryCache))a.push(this.checkCompletionAsync_(b));return Promise.all(a)}for(let[,b]of Object.entries(this.binaryCache)){let c=new Promise(a=>{try{this.checkCompletion_(b),a(!0)}catch(a){throw a}});a.push(c)}return Promise.all(a)}async checkCompletionAsync_(a){return this.gpgpu.gl.getProgramParameter(a.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(a):(await mA(),this.checkCompletionAsync_(a))}checkCompletion_(a){if(!1===this.gpgpu.gl.getProgramParameter(a.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(a.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(a.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw wk(a.source,this.gpgpu.gl.getShaderInfoLog(a.fragmentShader)),Error("Failed to compile fragment shader.");throw Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(let a of Object.values(this.binaryCache)){this.gpgpu.buildVao(a.webGLProgram);let{variablesLocations:b,customUniformLocations:c,infLoc:d,nanLoc:e,outShapeLocation:f,outShapeStridesLocation:g,outTexShapeLocation:h}=xf(this.gpgpu,a.program,a.webGLProgram);a.variablesLocations=b,a.customUniformLocations=c,a.infLoc=d,a.nanLoc=e,a.outShapeLocation=f,a.outShapeStridesLocation=g,a.outTexShapeLocation=h}}createTensorFromGPUData(a,b,c){a.channels=a.channels||"RGBA";let{texture:d,height:e,width:f,channels:g}=a,h=dF.backend;if(!h.gpgpu.gl.isTexture(d))throw Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");let i=h.writeTexture(d,b,c,e,f,g);return dF.makeTensorFromDataId(i,b,c,h)}}yT.nextDataId=0,a.s(["forceHalfFloat",()=>yW],49679);var yU=a.i(38096),yV=a.i(82212);function yW(){aA.set("WEBGL_FORCE_F16_TEXTURES",!0)}v5.isBrowser()&&d$("webgl",()=>new yT,2);let yX={forceHalfFloat:yW};var u4=gJ,jd=jd,hJ=hJ,hJ=hJ;let yY=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class yZ{constructor(a,b,c){this.variableNames=["A","B"],this.outputShape=hJ.assertAndGetBroadcastShape(b,c),this.enableShapeUniforms=xh(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${a}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}var hJ=hJ,jd=jd;let y$=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class y_{constructor(a,b,c,d=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=hJ.assertAndGetBroadcastShape(b,c);let e=this.outputShape.length;this.enableShapeUniforms=xh(e);let f="";if(d)if(0===e||1===jd.sizeFromShape(this.outputShape))f=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else{let a=xb(e);if(f=`
          ${a} coords = getOutputCoords();
        `,1===e)this.enableShapeUniforms?f+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:f+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let a=yy("coords",e);this.enableShapeUniforms?f+=`
            bool nextRowOutOfBounds =
              (${a[e-2]} + 1) >= outShape[${e} - 2];
            bool nextColOutOfBounds =
              (${a[e-1]} + 1) >= outShape[${e} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:f+=`
            bool nextRowOutOfBounds =
              (${a[e-2]} + 1) >= ${this.outputShape[e-2]};
            bool nextColOutOfBounds =
              (${a[e-1]} + 1) >= ${this.outputShape[e-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${a}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${f}

        setOutput(result);
      }
    `}}function y0(a){let{inputs:b,backend:c}=a,{x:d}=b;return c.incRef(d.dataId),{dataId:d.dataId,shape:d.shape,dtype:d.dtype}}function y1(a){let{inputs:b,backend:c}=a,{real:d,imag:e}=b,f=c.makeTensorInfo(d.shape,"complex64"),g=c.texData.get(f.dataId);return g.complexTensorInfos={real:y0({inputs:{x:d},backend:c}),imag:y0({inputs:{x:e},backend:c})},f}var jd=jd;let y2="return (a < 0.) ? b * a : a;",y3=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,y4="return (a < 0.) ? b * a : a;",y5=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,y6="if (isnan(x)) return x;";function y7({opSnippet:a,packedOpSnippet:b,cpuKernelImpl:c,dtype:d}){return({inputs:e,backend:f})=>{let g,{x:h}=e,i=d||h.dtype;if(f.shouldExecuteOnCPU([h])&&null!=c){let a=c(f.texData.get(h.dataId).values,i);return f.makeTensorInfo(h.shape,i,a)}return g=aA.getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=b?new yO(h.shape,b):new yF(h.shape,a),f.runWebGLProgram(g,[h],i)}}function y8({opSnippet:a,packedOpSnippet:b,checkOutOfBounds:c=!1,supportsComplex:d=!1,cpuKernelImpl:e,dtype:f}){return({inputs:g,backend:h})=>{let i,{a:j,b:k}=g;if(d&&"complex64"===j.dtype){let b=h.texData.get(j.dataId),c=h.texData.get(k.dataId),[d,e]=[[b.complexTensorInfos.real,c.complexTensorInfos.real],[b.complexTensorInfos.imag,c.complexTensorInfos.imag]].map(b=>{let[c,d]=b,e={dataId:c.dataId,dtype:c.dtype,shape:j.shape},f={dataId:d.dataId,dtype:d.dtype,shape:k.shape},g=new yZ(a,j.shape,k.shape);return h.runWebGLProgram(g,[e,f],dt(c.dtype,d.dtype))}),f=y1({inputs:{real:d,imag:e},backend:h});return h.disposeIntermediateTensorInfo(d),h.disposeIntermediateTensorInfo(e),f}let l=f||dt(j.dtype,k.dtype);if(("string"===j.dtype||"string"===k.dtype||h.shouldExecuteOnCPU([j,k]))&&null!=e){let a=h.texData.get(j.dataId).values,b=h.texData.get(k.dataId).values,c="string"===j.dtype?hJ.fromUint8ToStringArray(a):a,d="string"===j.dtype?hJ.fromUint8ToStringArray(b):b,[f,g]=e(j.shape,k.shape,c,d,l),i=h.makeTensorInfo(g,l);return h.texData.get(i.dataId).values=f,i}return i=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=b?new y_(b,j.shape,k.shape,c):new yZ(a,j.shape,k.shape),h.runWebGLProgram(i,[j,k],l)}}function y9(a,b=!1){if("linear"===a)return"return x;";if("relu"===a)return b?yM:yI;if("elu"===a)return b?yL:"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===a)return b?yN:yJ;if("prelu"===a)return b?y5:y4;else if("leakyrelu"===a)return b?y3:y2;else if("sigmoid"===a)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw Error(`Activation ${a} has not been implemented for the WebGL backend.`)}class za{constructor(a,b,c,d=!1,e=!1,f=!1,g=null,h=!1,i=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c,this.enableShapeUniforms=xh(this.outputShape.length);let j=Math.ceil((d?a[1]:a[2])/2),k=d?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],l=e?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",n="";g&&(m=h?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${g}
        }`:i?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${g}
        }`:`vec4 activation(vec4 x) {
          ${g}
        }`,n="result = activation(result);"),f&&this.variableNames.push("bias"),h&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha");let o="rc.x",p="rc.x";a[0]<b[0]?o=`imod(rc.x, ${a[0]})`:b[0]<a[0]&&(p=`imod(rc.x, ${b[0]})`),this.userCode=`
      ${m}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${j}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${o};
        int batchB = ${p};
        for (int i = 0; i < ${j}; i++) {
          vec4 a = getMatrixA(batchA, ${d?"i * 2, rc.y":"rc.y, i * 2"});
          vec4 b = getMatrixB(batchB, ${e?"rc.z, i * 2":"i * 2, rc.z"});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${k[0]} * ${l[0]});
          result += (${k[1]} * ${l[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${f?"result += getBiasAtOutCoords();":""}

        ${n}

        setOutput(result);
      }
    `}}var hJ=hJ,hJ=hJ;let zb={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class zc{constructor(a,b,c){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=hJ.assertAndGetBroadcastShape(b,c),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${a}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}let zd="return a * b;";function ze(a){let b,{inputs:c,backend:d}=a,{a:e,b:f}=c,g=hJ.upcastType(e.dtype,f.dtype);if("complex64"===e.dtype){let a=d.texData.get(e.dataId),b=d.texData.get(f.dataId),c=new zc(zb.REAL,e.shape,f.shape),g=new zc(zb.IMAG,e.shape,f.shape),h=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:e.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:e.shape},{dataId:b.complexTensorInfos.real.dataId,dtype:b.complexTensorInfos.real.dtype,shape:f.shape},{dataId:b.complexTensorInfos.imag.dataId,dtype:b.complexTensorInfos.imag.dtype,shape:f.shape}],i=d.runWebGLProgram(c,h,"float32"),j=d.runWebGLProgram(g,h,"float32"),k=y1({inputs:{real:i,imag:j},backend:d});return d.disposeIntermediateTensorInfo(i),d.disposeIntermediateTensorInfo(j),k}if(d.shouldExecuteOnCPU([e,f])){let a=d.texData.get(e.dataId),b=d.texData.get(f.dataId),[c,h]=x6(e.shape,f.shape,a.values,b.values,g),i=d.makeTensorInfo(h,g);return d.texData.get(i.dataId).values=c,i}return b=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new y_(zd,e.shape,f.shape):new yZ(zd,e.shape,f.shape),d.runWebGLProgram(b,[e,f],g)}var jd=jd;function zf(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{shape:f}=d,g=jd.sizeFromShape(e.shape),h=jd.inferFromImplicitShape(f,g),i=jd.sizeFromShape(h);jd.assert(g===i,()=>`The new shape (${h}) has ${i} elements and the old shape (${e.shape}) has ${g} elements. The new shape and old shape must have the same number of elements.`);let j=c.texData.get(e.dataId);return!j.isPacked||wL(e.shape,h)||null!==j.texture&&wL(j.shape,h)?(c.incRef(e.dataId),{dataId:e.dataId,shape:h,dtype:e.dtype}):function(a,b,c){let d=[wH(a.shape),...wI(a.shape)],e={dtype:a.dtype,shape:d,dataId:a.dataId},f=new yA([wH(b),...wI(b)],d),g=c.runWebGLProgram(f,[e],a.dtype,[d],!0);return{dataId:g.dataId,shape:b,dtype:g.dtype}}(e,h,c)}var hJ=hJ,jd=jd,hJ=hJ,jd=jd;class zg{constructor(a,b){this.variableNames=["x"];let{windowSize:c,batchSize:d,inSize:e,outSize:f}=a;this.outputShape=[d,f];let g=4*Math.floor(c/4),h=c%4,i="sumValue += dot(values, ones);";if(null!=b){let a=1/b;i=`sumValue += dot(values * ${jd.isInt(a)?a.toPrecision(2):a}, ones);`}let j="";e%c>0&&(j=`
        if (inIdx < 0 || inIdx >= ${e}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${j}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${c};

        float sumValue = 0.0;

        for (int i = 0; i < ${g}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${i}
        }

        int inIdx = inOffset + ${g};
        if (${1===h}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${i}
        } else if (${2===h}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${i}
        } else if (${3===h}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${i}
        }
        setOutput(sumValue);
      }
    `}}class zh{constructor(a,b){this.variableNames=["x"];let{windowSize:c,batchSize:d,inSize:e,outSize:f}=a;this.outputShape=[d,f];let g="0.0",h="";"prod"===b?g="1.0":"min"===b?(g="1.0 / 1e-20",h="min"):"max"===b&&(g="-1.0 / 1e-20",h="max");let i=`${b}(${b}(${b}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===b?i="sumValue":"prod"===b?i="prodValue":"all"===b?i="allValue":"any"===b&&(i="anyValue");let j=4*Math.floor(c/4),k=c%4,l=`
      if (${"sum"===b}) {
        sumValue += dot(values, ones);
      } else if (${"prod"===b}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${h}(values, minMaxValue);
        if (${"min"===b} || ${"max"===b}) {
          minMaxValue = ${h}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";"all"===b?(g="1.0",l=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):"any"===b&&(g="0.0",l=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let n="";e%c>0&&(n=`
        if (inIdx < 0 || inIdx >= ${e}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${g};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${n}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${c};

        vec4 minMaxValue = vec4(${g});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${j}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${j};
        if (${1===k}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${l}
        } else if (${2===k}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${l}
        } else if (${3===k}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${l}
        }
        setOutput(${i});
      }
    `}}function zi(a,b,c,d){let e=function(a){let b=[];for(;0===b.length||1!==b[b.length-1].outSize;){let c=b.length?b[b.length-1].outSize:a[1],d=hJ.computeOptimalWindowSize(c);b.push({inSize:c,windowSize:d,outSize:Math.ceil(c/d)})}return b}(a.shape),f=a;for(let g=0;g<e.length;g++){let h,i,{inSize:j,windowSize:k,outSize:l}=e[g];h="mean"===c?0===g?new zg({windowSize:k,inSize:j,batchSize:a.shape[0],outSize:l},j):new zg({windowSize:k,inSize:j,batchSize:a.shape[0],outSize:l}):new zh({windowSize:k,inSize:j,batchSize:a.shape[0],outSize:l},c),i=f,f=d.runWebGLProgram(h,[f],b),i.dataId!==a.dataId&&d.disposeIntermediateTensorInfo(i)}return f}class zj{constructor(a,b){this.variableNames=["A"];let c=Array(a.length);for(let d=0;d<c.length;d++)c[d]=a[b[d]];this.outputShape=c,this.rank=c.length;let d=xb(this.rank),e=function(a){let b=a.length;if(b>6)throw Error(`Transpose for rank ${b} is not yet supported`);let c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],d=Array(b);for(let b=0;b<a.length;b++)d[a[b]]=c[b];return d.join()}(b);this.userCode=`
    void main() {
      ${d} resRC = getOutputCoords();
      setOutput(getA(${e}));
    }
    `}}class zk{constructor(a,b){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let c=Array(a.length);for(let d=0;d<c.length;d++)c[d]=a[b[d]];if(this.outputShape=c,this.rank=c.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let d=xb(this.rank),e=yx("rc",this.rank),f=Array(this.rank);for(let a=0;a<b.length;a++)f[b[a]]=e[a];let g=`vec2(${f.slice(-2).join()})`,h=`++${e[this.rank-1]} < ${c[this.rank-1]}`,i=`getChannel(getA(${f.join()}), ${g})`;this.userCode=`
    void main() {
      ${d} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${i};
      if(${h}) {
        result[1] = ${i};
      }
      --${e[this.rank-1]};
      if(++${e[this.rank-2]} < ${c[this.rank-2]}) {
        result[2] = ${i};
        if(${h}) {
          result[3] = ${i};
        }
      }
      setOutput(result);
    }
    `}}function zl(a,b,c){let d=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zk(a.shape,b):new zj(a.shape,b);return c.runWebGLProgram(d,[a],a.dtype)}function zm(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,keepDims:g}=d;return function(a,b,c,d){let e=a.shape.length,f=jd.parseAxisParam(b,a.shape),g=f,h=hJ.getAxesPermutation(g,e),i=null!=h,j=a;i&&(j=zl(a,h,d),g=hJ.getInnerMostAxes(g.length,e)),hJ.assertAxesAreInnerMostDims("sum",g,e);let[k,l]=hJ.computeOutAndReduceShapes(j.shape,g),m=k;c&&(m=hJ.expandShapeToKeepDim(k,f));let n=jd.sizeFromShape(l),o=zf({inputs:{x:j},attrs:{shape:[jd.sizeFromShape(a.shape)/n,n]},backend:d}),p=zi(o,du(a.dtype),"sum",d),q=zf({inputs:{x:p},attrs:{shape:m},backend:d});return d.disposeIntermediateTensorInfo(o),d.disposeIntermediateTensorInfo(p),i&&d.disposeIntermediateTensorInfo(j),q}(e,f,g,c)}function zn(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{perm:g}=e,h=Array(f.shape.length);for(let a=0;a<h.length;a++)h[a]=f.shape[g[a]];if(d.shouldExecuteOnCPU([f])){let a=yv(d.texData.get(f.dataId).values,f.shape,f.dtype,g,h);b=d.makeTensorInfo(h,f.dtype),d.texData.get(b.dataId).values=a}else b=zl(f,g,d);return b}function zo({a,b,transposeA:c,transposeB:d,backend:e,bias:f=null,preluActivationWeights:g=null,leakyreluAlpha:h=0,activation:i=null}){let j,k=a.shape.length,l=b.shape.length,m=c?a.shape[k-2]:a.shape[k-1],n=d?b.shape[l-1]:b.shape[l-2],o=c?a.shape[k-1]:a.shape[k-2],p=d?b.shape[l-2]:b.shape[l-1],q=a.shape.slice(0,-2),r=b.shape.slice(0,-2),s=jd.sizeFromShape(q),t=jd.sizeFromShape(r),u=u4.assertAndGetBroadcastShape(a.shape.slice(0,-2),b.shape.slice(0,-2)).concat([o,p]);jd.assert(m===n,()=>`Error in matMul: inner shapes (${m}) and (${n}) of Tensors with shapes ${a.shape} and ${b.shape} and transposeA=${c} and transposeB=${d} must match.`);let v=c?[s,m,o]:[s,o,m],w=d?[t,p,n]:[t,n,p],x=zf({inputs:{x:a},backend:e,attrs:{shape:v}}),y=zf({inputs:{x:b},backend:e,attrs:{shape:w}}),z=[x,y],A=Math.max(s,t),B=c?x.shape[1]:x.shape[2],C=null!=f,D=null!=g,E="leakyrelu"===i,F=null!=i?y9(i,!0):null,G=C||D||E||null!=F;if((1===o||1===p)&&B>1e3&&!1===G){let a=x,b=y;c&&(a=zn({inputs:{x:x},backend:e,attrs:{perm:[0,2,1]}}),z.push(a)),d&&(b=zn({inputs:{x:y},backend:e,attrs:{perm:[0,2,1]}}),z.push(b));let f=1!==p,g=1===p,h=a;f&&(h=zf({inputs:{x:a},backend:e,attrs:{shape:[A,B,1]}}),z.push(h));let i=b;g&&(i=zf({inputs:{x:b},backend:e,attrs:{shape:[A,1,B]}}),z.push(i));let k=ze({inputs:{a:h,b:i},backend:e});j=zm({inputs:{x:k},backend:e,attrs:{axis:1===p?2:1,keepDims:!0}}),z.push(k)}else{let i=dt(a.dtype,b.dtype),k=new za(v,w,[A,o,p],c,d,C,F,D,E),l=[x,y];if(null!=f&&l.push(f),D&&l.push(g),E){let a=e.makeTensorInfo([],"float32",jd.createScalarValue(h,"float32"));l.push(a),z.push(a)}j=e.runWebGLProgram(k,l,i)}let H=zf({inputs:{x:j},backend:e,attrs:{shape:u}});for(let a of(z.push(j),z))e.disposeIntermediateTensorInfo(a);return H}let zp="return abs(x);",zq=y7({opSnippet:yG+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`}),zr=y7({opSnippet:yG+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`}),zs="return a + b;",zt=y8({opSnippet:zs,packedOpSnippet:zs,supportsComplex:!0,cpuKernelImpl:xM});class zu{constructor(a,b){this.outputShape=[],this.outputShape=a,this.variableNames=b.map((a,b)=>`T${b}`);let c=[];this.variableNames.forEach(a=>{c.push(`float v${a} = get${a}AtOutCoords();`)});let d=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${c.join("\n        ")}

        float result = ${d};
        setOutput(result);
      }
    `}}class zv{constructor(a,b){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.variableNames=b.map((a,b)=>`T${b}`);let c=[];this.variableNames.forEach(a=>{c.push(`vec4 v${a} = get${a}AtOutCoords();`)});let d=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${c.join("\n        ")}

        vec4 result = ${d};
        setOutput(result);
      }
    `}}var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;class zw{constructor(a,b,c){this.variableNames=["A"];let{windowSize:d,batchSize:e,outSize:f}=a;c||this.variableNames.push("bestIndicesA"),this.outputShape=[e,f],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${d};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${d}; i++) {
          int inIdx = ${c?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};
          float candidate = getA(batch, inIdx);
          if (candidate ${"max"===b?">":"<"} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}var jd=jd;class zx{constructor(a,b,c,d){let e,f;this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,jd.assert(a.length>2,()=>`Packed arg${c.charAt(0).toUpperCase()+c.slice(1)} supports only inputs with rank above 2.`);let g=Math.ceil(a[a.length-1]/b);this.outputShape=a.slice(0,-1),g>1&&this.outputShape.push(g),d||this.variableNames.push("bestIndicesA");let h=this.outputShape,i=h.length,j=xb(i),k=yy("coords",i);if(1===g){let a=xb(f=i+1);e=`
        ${a} sourceLocR = ${a}(${k.join()}, 0);
        ++${k[i-1]};
        ${a} sourceLocG = ${a}(${k.join()}, 0);
        ++${k[i-2]};
        ${a} sourceLocA = ${a}(${k.join()}, 0);
        --${k[i-1]};
        ${a} sourceLocB = ${a}(${k.join()}, 0);
        --${k[i-2]};`}else f=i,e=`
        ${j} sourceLocR = coords;
        ++${k[i-1]};
        ${j} sourceLocG = coords;
        ++${k[i-2]};
        ${j} sourceLocA = coords;
        --${k[i-1]};
        ${j} sourceLocB = coords;
        --${k[i-2]};`;let l=["x","y","z","w","u","v"].slice(0,f),m="."+l[f-1],n=l.map(a=>"int "+a),o=yy("sourceLocR",f-1).concat("inIdx.r"),p=yy("sourceLocG",f-1).concat("inIdx.g"),q=yy("sourceLocB",f-1).concat("inIdx.b"),r=yy("sourceLocA",f-1).concat("inIdx.a"),s="max"===c?"greaterThan":"lessThan",t=d?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${o.join()}),
                             getBestIndicesAChannel(${p.join()}),
                             getBestIndicesAChannel(${q.join()}),
                             getBestIndicesAChannel(${r.join()})));`,u=`vec4(
            getAChannel(${o.join()}),
            hasNextCol ? getAChannel(${p.join()}) : 0.,
            hasNextRow ? getAChannel(${q.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${r.join()}) : 0.)`,v=d?"":`
      float getBestIndicesAChannel(${n.join()}) {
        return getChannel(getBestIndicesA(${l.join()}),
                                          vec2(${l.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${n.join()}) {
        return getChannel(getA(${l.join()}),
                               vec2(${l.slice(-2).join()}));
      }
      ${v}
      void main() {
        ${j} coords = getOutputCoords();
        bool hasNextCol = ${k[i-1]} < ${h[i-1]-1};
        bool hasNextRow = ${k[i-2]} < ${h[i-2]-1};
        ${e}
        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},
          sourceLocB${m}, sourceLocA${m}) * ${b};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${u};

        for (int i = 0; i < ${b}; i++) {
          inIdx = srcIdx;
          ${t}
          vec4 candidate = ${u};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${s}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function zy(a,b,c,d){let e=[c];if(hJ.assertAxesAreInnerMostDims("arg"+d.charAt(0).toUpperCase()+d.slice(1),e,b.shape.length),!aA.getBool("WEBGL_PACK_REDUCE")||b.shape.length<=2){let c=[],f=a.texData.get(b.dataId),g=null!==f&&f.isPacked,h=b;g&&c.push(h=a.unpackTensor(b));let[i,j]=hJ.computeOutAndReduceShapes(h.shape,e),k=zf({inputs:{x:h},backend:a,attrs:{shape:[-1,jd.sizeFromShape(j)]}});c.push(k);let l=function a(b,c,d,e=null){let f=c.shape[0],g=c.shape[1];null!=e&&(f=e.shape[0],g=e.shape[1]);let h=hJ.computeOptimalWindowSize(g),i=new zw({windowSize:h,inSize:g,batchSize:f,outSize:Math.ceil(g/h)},d,null==e),j=[c];null!=e&&j.push(e);let k=b.runWebGLProgram(i,j,"int32");if(1===k.shape[1])return k;let l=a(b,c,d,k);return b.disposeIntermediateTensorInfo(k),l}(a,k,d);c.push(l);let m=zf({inputs:{x:l},backend:a,attrs:{shape:i}});return c.forEach(b=>a.disposeIntermediateTensorInfo(b)),m}return function a(b,c,d,e=null){let f=null!=e?e.shape:c.shape,g=f[f.length-1],h=new zx(f,hJ.computeOptimalWindowSize(g),d,null==e),i=null==e?[c]:[c,e],j=b.runWebGLProgram(h,i,"int32");if(j.shape.length===c.shape.length){let e=a(b,c,d,j);return b.disposeIntermediateTensorInfo(j),e}return j}(a,b,d)}var hJ=hJ,jd=jd;let zz=y7({opSnippet:yG+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`}),zA=y7({opSnippet:yG+"return log(x + sqrt(x * x + 1.0));"}),zB=y7({opSnippet:yG+`
  return atan(x);
`}),zC=y8({opSnippet:yY+`
  return atan(a, b);
`,packedOpSnippet:`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+y$+`
  return result;
`}),zD=y7({opSnippet:yG+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`});var hJ=hJ,jd=jd;class zE{constructor(a,b,c,d=!1,e=!1){if(this.variableNames=["x"],"avg"===b&&c)throw Error("Cannot compute positions for average pool.");let f=a.filterWidth,g=a.strideHeight,h=a.strideWidth,i=a.dilationHeight,j=a.dilationWidth,k=a.effectiveFilterHeight,l=a.effectiveFilterWidth,m=a.padInfo.top,n=a.padInfo.left;this.outputShape=a.outShape;let o="avg"===b,p=`((batch  * ${a.inHeight} + xR) * ${a.inWidth} + xC) * ${a.inChannels} + d`,q=`(xR * ${a.inWidth} + xC) * ${a.inChannels} + d`,r="0.0";if(o||(r="-1.0 / 1e-20"),c){this.userCode=`
        const ivec2 strides = ivec2(${g}, ${h});
        const ivec2 pads = ivec2(${m}, ${n});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${k};
              wR += ${i}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${a.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${l};
                wC += ${j}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${a.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${d?e?p:q:`wR * ${l} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let s=`${b}(${b}(${b}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===b&&(s="avgValue / max(count, 1.0)");let t=4*Math.floor(f/4),u=f%4,v=`
      if (${o}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${g}, ${h});
      const ivec2 pads = ivec2(${m}, ${n});
      const float initializationValue = ${r};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${a.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${r});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${k};
            wR += ${i}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${a.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${t}; wC += 4) {
            int xC = xCCorner + wC * ${j};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${j}, d),
              getValue(batch, xR, xC + 2 * ${j}, d),
              getValue(batch, xR, xC + 3 * ${j}, d)
            );

            ${v}
          }

          int xC = xCCorner + ${t};
          if (${1===u}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${v}
          } else if (${2===u}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${j}, d),
              initializationValue,
              initializationValue
            );

            ${v}
          } else if (${3===u}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${j}, d),
              getValue(batch, xR, xC + 2 * ${j}, d),
              initializationValue
            );

            ${v}
          }
        }
        setOutput(${s});
      }
    `}}class zF{constructor(a,b,c,d=!1,e=!1){if(this.variableNames=["x"],"avg"===b&&c)throw Error("Cannot compute positions for average pool.");let f=a.filterWidth,g=a.strideDepth,h=a.strideHeight,i=a.strideWidth,j=a.dilationDepth,k=a.dilationHeight,l=a.dilationWidth,m=a.effectiveFilterDepth,n=a.effectiveFilterHeight,o=a.effectiveFilterWidth,p=a.padInfo.front,q=a.padInfo.top,r=a.padInfo.left;this.outputShape=a.outShape;let s="avg"===b,t="0.0";if(s||(t="-1.0 / 1e-20"),c){this.userCode=`
        const ivec3 strides =
            ivec3(${g}, ${h}, ${i});
        const ivec3 pads = ivec3(${p}, ${q}, ${r});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${j}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${a.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${n};
                wR += ${k}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${a.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${o};
                  wC += ${l}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${a.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${d?e?`(((batch * ${a.inDepth} + xD) * ${a.inHeight} + xR) * ${a.inWidth} + xC) * ${a.inChannels} + ch`:`((xD * ${a.inHeight} + xR) * ${a.inWidth} + xC) * ${a.inChannels} + ch`:`wD * ${n} * ${o} +
                      wR * ${o} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let u=`${b}(${b}(${b}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===b&&(u="avgValue / max(count, 1.0)");let v=4*Math.floor(f/4),w=f%4,x=`
      if (${s}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${g}, ${h}, ${i});
      const ivec3 pads = ivec3(${p}, ${q}, ${r});
      const float initializationValue = ${t};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${a.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${t});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${j}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${a.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${n};
            wR += ${k}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${a.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${v}; wC += 4) {
              int xC = xCCorner + wC * ${l};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${l}, ch),
                getValue(batch, xD, xR, xC + 2 * ${l}, ch),
                getValue(batch, xD, xR, xC + 3 * ${l}, ch)
              );

              ${x}
            }

            int xC = xCCorner + ${v};
            if (${1===w}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${x}
            } else if (${2===w}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${l}, ch),
                initializationValue,
                initializationValue
              );

              ${x}
            } else if (${3===w}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${l}, ch),
                getValue(batch, xD, xR, xC + 2 * ${l}, ch),
                initializationValue
              );

              ${x}
            }
          }
        }
        setOutput(${u});
      }
    `}}var hJ=hJ,hJ=hJ;class zG{constructor(a){this.variableNames=["dy"],this.outputShape=a.inShape;let b=a.filterHeight,c=a.filterWidth,d=a.strideHeight,e=a.strideWidth,f=a.dilationHeight,g=a.dilationWidth,h=a.effectiveFilterHeight,i=a.effectiveFilterWidth,j=h-1-a.padInfo.top,k=i-1-a.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${j}, ${k});
      const float avgMultiplier = float(${1/(b*c)});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h};
            wR += ${f}) {
          float dyR = float(dyRCorner + wR) / ${d}.0;

          if (dyR < 0.0 || dyR >= ${a.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i};
            wC+= ${g}) {
            float dyC = float(dyCCorner + wC) / ${e}.0;

            if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class zH{constructor(a){this.variableNames=["dy"],this.outputShape=a.inShape;let b=a.filterDepth,c=a.filterHeight,d=a.filterWidth,e=a.strideDepth,f=a.strideHeight,g=a.strideWidth,h=a.dilationDepth,i=a.dilationHeight,j=a.dilationWidth,k=a.effectiveFilterDepth,l=a.effectiveFilterHeight,m=a.effectiveFilterWidth,n=k-1-a.padInfo.front,o=l-1-a.padInfo.top,p=m-1-a.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${n}, ${o}, ${p});
      const float avgMultiplier = float(${1/(b*c*d)});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${k};
            wD += ${h}) {
          float dyD = float(dyDCorner + wD) / ${e}.0;

          if (dyD < 0.0 || dyD >= ${a.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${f}.0;

            if (dyR < 0.0 || dyR >= ${a.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${j}) {
              float dyC = float(dyCCorner + wC) / ${g}.0;

              if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}var hJ=hJ,jd=jd,hJ=hJ;class zI{constructor(a,b,c,d,e,f){this.outputShape=[],this.variableNames=["x","mean","variance"],hJ.assertAndGetBroadcastShape(a,b),hJ.assertAndGetBroadcastShape(a,c);let g="0.0";null!=d&&(hJ.assertAndGetBroadcastShape(a,d),this.variableNames.push("offset"),g="getOffsetAtOutCoords()");let h="1.0";null!=e&&(hJ.assertAndGetBroadcastShape(a,e),this.variableNames.push("scale"),h="getScaleAtOutCoords()"),this.outputShape=a,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${g};
        float scale = ${h};
        float inv = scale * inversesqrt(variance + float(${f}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}var hJ=hJ;class zJ{constructor(a,b,c,d,e,f){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],hJ.assertAndGetBroadcastShape(a,b),hJ.assertAndGetBroadcastShape(a,c);let g="vec4(0.0)";null!=d&&(hJ.assertAndGetBroadcastShape(a,d),this.variableNames.push("offset"),g="getOffsetAtOutCoords()");let h="vec4(1.0)";null!=e&&(hJ.assertAndGetBroadcastShape(a,e),this.variableNames.push("scale"),h="getScaleAtOutCoords()"),this.outputShape=a,this.userCode=`
      void main() {
        vec4 offset = ${g};
        vec4 scale = ${h};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${f}));

        setOutput((x - mean) * inv + offset);
      }
    `}}var hJ=hJ,jd=jd,uB=gA,jd=jd;class zK{constructor(a){let b;this.variableNames=["source"],this.outputShape=a,this.rank=a.length;let c=xb(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let d=function(a){if(1===a)return"sourceLoc";if(a<=6)return zL.slice(0,a).map(a=>"sourceLoc."+a).join(",");throw Error(`Slicing for rank ${a} is not yet supported`)}(this.rank),e=a.map((a,b)=>`sourceLoc.${zL[b]} = start[${b}] + coords.${zL[b]};`);b=`
        ${c} sourceLoc;
        ${c} coords = getOutputCoords();
        ${e.join("\n")}
      `,this.userCode=`
      void main() {
        ${b}
        setOutput(getSource(${d}));
      }
    `}}let zL=["x","y","z","w","u","v"];class zM{constructor(a){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.rank=a.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let b=xb(this.rank),c=yy("coords",this.rank),d=yy("sourceLoc",this.rank),e=1===this.rank?"sourceLoc":`vec2(${d.slice(-2).join()})`,f=`getChannel(getSource(${d.join()}), ${e})`,g=`
      result.x = ${f};
      if (++${c[this.rank-1]} < ${a[this.rank-1]}) {
        ++${d[this.rank-1]};
        result.y = ${f};
        --${d[this.rank-1]};
      }
    `,h=1===this.rank?"":`
      --${c[this.rank-1]};
      if (++${c[this.rank-2]} < ${a[this.rank-2]}) {
        ++${d[this.rank-2]};
        result.z = ${f};
        if (++${c[this.rank-1]} < ${a[this.rank-1]}) {
          ++${d[this.rank-1]};
          result.w = ${f};
        }
      }
    `,i=this.rank<=4?`sourceLoc = coords +
            ${b}(${a.map((a,b)=>`start[${b}]`).join()});`:a.map((a,b)=>`${d[b]} = ${c[b]} + start[${b}];`).join("\n");this.userCode=`
      void main() {
        ${b} coords = getOutputCoords();
        ${b} sourceLoc;
        ${i}
        vec4 result = vec4(0.);
        ${g}
        ${h}
        setOutput(result);
      }
    `}}function zN(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{begin:f,size:g}=d,[h,i]=uB.parseSliceParams(e,f,g);if(uB.assertParamsValid(e,h,i),0===jd.sizeFromShape(i))return c.makeTensorInfo(i,e.dtype,[]);if(c.shouldExecuteOnCPU([e])||"string"===e.dtype){let a=yi(c.texData.get(e.dataId).values,h,i,e.shape,e.dtype);return c.makeTensorInfo(i,e.dtype,a)}let{isPacked:j}=c.texData.get(e.dataId),k=uB.isSliceContinous(e.shape,h,i);if(j||!k){let a=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zM(i):new zK(i),b=[h];return c.runWebGLProgram(a,[e],e.dtype,b)}return c.uploadToGPU(e.dataId),function(a,b,c,d){let e=d.texData.get(a.dataId),f=d.makeTensorInfo(c,a.dtype),g=d.texData.get(f.dataId);Object.assign(g,e),g.refCount=1,g.shape=c,g.dtype=a.dtype;let h=uB.computeFlatOffset(b,jd.computeStrides(a.shape));e.slice&&(h+=e.slice.flatOffset),g.slice={flatOffset:h,origDataId:e.slice&&e.slice.origDataId||a.dataId};let i=d.dataRefCount.get(g.slice.origDataId)||1;return d.dataRefCount.set(g.slice.origDataId,i+1),f}(e,h,i,c)}let zO=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,zP=`
  return float(int(a.r) & int(b.r));
`;var hJ=hJ,jd=jd;let zQ=y8({opSnippet:"return float(a != b);",cpuKernelImpl:x8,dtype:"bool"});function zR(a){let{inputs:b,backend:c}=a,{input:d}=b;return y0({inputs:{x:c.texData.get(d.dataId).complexTensorInfos.real},backend:c})}let zS="return ceil(x);",zT=y7({opSnippet:zS,packedOpSnippet:zS,cpuKernelImpl:xR});class zU{constructor(a){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=a,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class zV{constructor(a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=a,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}class zW{constructor(a){this.variableNames=["real","imag"],this.outputShape=a,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function zX(a,b){return{dataId:b.dataId,dtype:b.dtype,shape:a.shape}}var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ;class zY{constructor(a){this.outputShape=[],this.outputShape=hJ.computeOutShape(a,1),this.variableNames=a.map((a,b)=>`T${b}`);let b=Array(a.length-1);b[0]=a[0][1];for(let c=1;c<b.length;c++)b[c]=b[c-1]+a[c][1];let c=[`if (yC < ${b[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<b.length;a++){let d=b[a-1];c.push(`else if (yC < ${b[a]}) setOutput(getT${a}(yR, yC-${d}));`)}let d=b.length,e=b[b.length-1];c.push(`else setOutput(getT${d}(yR, yC-${e}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${c.join("\n        ")}
      }
    `}}var hJ=hJ;class zZ{constructor(a,b){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=hJ.computeOutShape(a,b);let c=this.outputShape,d=c.length,e=xb(d),f=yy("coords",d),g=["x","y","z","w","u","v"].slice(0,d);this.variableNames=a.map((a,b)=>`T${b}`);let h=Array(a.length-1);h[0]=a[0][b];for(let c=1;c<h.length;c++)h[c]=h[c-1]+a[c][b];let i=g[b],j=g.slice(-2),k=g.join(),l=`if (${i} < ${h[0]}) {
        return getChannel(
            getT0(${k}), vec2(${j.join()}));
        }`;for(let a=1;a<h.length;a++){let b=h[a-1];l+=`
        if (${i} < ${h[a]}  && ${i} >= ${h[a-1]}) {
          return getChannel(
            getT${a}(${z$(g,i,b)}),
            vec2(${z$(j,i,b)}));
        }`}let m=h.length,n=h[h.length-1];l+=`
        return getChannel(
          getT${m}(${z$(g,i,n)}),
          vec2(${z$(j,i,n)}));`,this.userCode=`
      float getValue(${g.map(a=>"int "+a)}) {
        ${l}
      }

      void main() {
        ${e} coords = getOutputCoords();
        vec4 result = vec4(getValue(${f}), 0., 0., 0.);

        ${f[d-1]} = ${f[d-1]} + 1;
        if (${f[d-1]} < ${c[d-1]}) {
          result.g = getValue(${f});
        }

        ${f[d-2]} = ${f[d-2]} + 1;
        if (${f[d-2]} < ${c[d-2]}) {
          result.a = getValue(${f});
        }

        ${f[d-1]} = ${f[d-1]} - 1;
        if (${f[d-2]} < ${c[d-2]} &&
            ${f[d-1]} < ${c[d-1]}) {
          result.b = getValue(${f});
        }
        setOutput(result);
      }
    `}}function z$(a,b,c){let d=a.indexOf(b);return a.map((a,b)=>b===d?`${a} - ${c}`:a).join()}function z_(a){let{inputs:b,backend:c}=a,{input:d}=b;return y0({inputs:{x:c.texData.get(d.dataId).complexTensorInfos.imag},backend:c})}function z0(a){let{inputs:b,backend:c,attrs:d}=a,{axis:e}=d,f=jd.parseAxisParam(e,b[0].shape)[0],g=b.map(a=>a.shape);hJ.assertParamsConsistent(g,f);let h=hJ.computeOutShape(b.map(a=>a.shape),f);if(0===jd.sizeFromShape(h))return c.makeTensorInfo(h,b[0].dtype,[]);let i=b.filter(a=>jd.sizeFromShape(a.shape)>0);return 1===i.length?y0({inputs:{x:i[0]},backend:c}):function a(b,c,d){let e=b[0].dtype;if("complex64"===e){let e=b.map(a=>zR({inputs:{input:a},backend:d})),f=b.map(a=>z_({inputs:{input:a},backend:d})),g=a(e,c,d),h=a(f,c,d),i=y1({inputs:{real:g,imag:h},backend:d});return e.forEach(a=>d.disposeIntermediateTensorInfo(a)),f.forEach(a=>d.disposeIntermediateTensorInfo(a)),d.disposeIntermediateTensorInfo(g),d.disposeIntermediateTensorInfo(h),i}let f=d.shouldExecuteOnCPU(b);if("string"===e&&(f=!0),f){let a=b.map(a=>{let b=jd.sizeFromShape(a.shape.slice(c));return zf({inputs:{x:a},backend:d,attrs:{shape:[-1,b]}})}),f=a.map(a=>({vals:d.readSync(a.dataId),shape:a.shape})),g=xS(f,hJ.computeOutShape(a.map(a=>a.shape),1),e,1===a[0].shape[0]),h=hJ.computeOutShape(b.map(a=>a.shape),c),i=d.makeTensorInfo(h,e,g);return a.forEach(a=>d.disposeIntermediateTensorInfo(a)),i}let g=b.filter(a=>jd.sizeFromShape(a.shape)>0),h=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&g[0].shape.length>1;if(1===g.length){let a=h?new yF(b[0].shape,yK):new yO(b[0].shape,yK);return d.runWebGLProgram(a,b,e)}let i=aA.getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(g.length>i){let b=[];for(let e=0;e<g.length;e+=i){let f=g.slice(e,e+i);b.push(a(f,c,d))}let e=a(b,c,d);for(let a of b)d.disposeIntermediateTensorInfo(a);return e}if(h){let a=new zZ(g.map(a=>a.shape),c);return d.runWebGLProgram(a,g,e)}let{tensors2D:j,outShape:k}=function(a,b,c){let d=hJ.computeOutShape(a.map(a=>a.shape),b);return{tensors2D:a.map(a=>zf({inputs:{x:a},attrs:{shape:[-1,jd.sizeFromShape(a.shape.slice(b))]},backend:c})),outShape:d}}(g,c,d),l=new zY(j.map(a=>a.shape)),m=d.runWebGLProgram(l,j,e);j.forEach(a=>d.disposeIntermediateTensorInfo(a));let n=zf({inputs:{x:m},attrs:{shape:k},backend:d});return d.disposeIntermediateTensorInfo(m),n}(i,f,c)}var hJ=hJ;class z1{constructor(a,b=!1,c=null,d=!1,e=!1){this.variableNames=["x","W"],this.outputShape=a.outShape;let f=a.padInfo.top,g=a.padInfo.left,h=a.strideHeight,i=a.strideWidth,j=a.dilationHeight,k=a.dilationWidth,l=a.filterHeight,m=a.filterWidth,n=4*Math.floor(a.inChannels/4),o=a.inChannels%4,p="channelsLast"===a.dataFormat,q="",r="";c&&(q=d?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${c}
        }`:e?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${c}
        }`:`
          float activation(float x) {
            ${c}
          }
        `,r="result = activation(result);"),b&&this.variableNames.push("bias"),d&&this.variableNames.push("preluActivationWeights"),e&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${q}

      const ivec2 strides = ivec2(${h}, ${i});
      const ivec2 pads = ivec2(${f}, ${g});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${p?3:1}];

        ivec2 xRCCorner =
            ivec2(coords[${p?1:2}], coords[${p?2:3}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l}; wR++) {
          int xR = xRCorner + wR * ${j};

          if (xR < 0 || xR >= ${a.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${k};

            if (xC < 0 || xC >= ${a.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${n}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${p}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${1===o}) {

              if (${p}) {
                dotProd +=
                    getX(batch, xR, xC, ${n}) *
                    getW(wR, wC, ${n}, d2);
              } else {
                dotProd +=
                    getX(batch, ${n}, xR, xC) *
                    getW(wR, wC, ${n}, d2);
              }

            } else if (${2===o}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${n}, d2),
                getW(wR, wC, ${n} + 1, d2)
              );

              if (${p}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${n}),
                  getX(batch, xR, xC, ${n} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${n}, xR, xC),
                  getX(batch, ${n} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${3===o}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${n}, d2),
                getW(wR, wC, ${n} + 1, d2),
                getW(wR, wC, ${n} + 2, d2)
              );

              if (${p}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${n}),
                  getX(batch, xR, xC, ${n} + 1),
                  getX(batch, xR, xC, ${n} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${n}, xR, xC),
                  getX(batch, ${n} + 1, xR, xC),
                  getX(batch, ${n} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${b?"result += getBiasAtOutCoords();":""}
        ${r}
        setOutput(result);
      }
    `}}class z2{constructor(a){this.variableNames=["x","W"],this.outputShape=a.outShape;let b=a.padInfo.front,c=a.padInfo.top,d=a.padInfo.left,e=a.strideDepth,f=a.strideHeight,g=a.strideWidth,h=a.dilationDepth,i=a.dilationHeight,j=a.dilationWidth,k=a.filterDepth,l=a.filterHeight,m=a.filterWidth,n=4*Math.floor(a.inChannels/4),o=a.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${e}, ${f}, ${g});
      const ivec3 pads = ivec3(${b}, ${c}, ${d});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${k}; wF++) {
          int xF = xFCorner + wF * ${h};

          if (xF < 0 || xF >= ${a.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${l}; wR++) {
            int xR = xRCorner + wR * ${i};

            if (xR < 0 || xR >= ${a.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${j};

              if (xC < 0 || xC >= ${a.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${n}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${1===o}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${n}) *
                  getW(wF, wR, wC, ${n}, d2);
              } else if (${2===o}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${n}),
                  getX(batch, xF, xR, xC, ${n} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${n}, d2),
                  getW(wF, wR, wC, ${n} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${3===o}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${n}),
                  getX(batch, xF, xR, xC, ${n} + 1),
                  getX(batch, xF, xR, xC, ${n} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${n}, d2),
                  getW(wF, wR, wC, ${n} + 1, d2),
                  getW(wF, wR, wC, ${n} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}var jd=jd;class z3{constructor(a,b=!1,c=null,d=!1,e=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=a.outShape,this.enableShapeUniforms=xh(this.outputShape.length);let f=a.padInfo.left,g=a.strideWidth,h=a.dilationWidth,i=a.filterHeight,j=a.filterWidth,k=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let a=0;a<j;a++)k+=`
           vec4 xTexelC${2*a};
           int xTexelC${2*a}Ready;
           vec4 xTexelC${2*a+1};
           int xTexelC${2*a+1}Ready;
           vec4 xC${a};`;k+=`
     for (int r = 0; r < ${i}; r++) {
      for (int d1 = 0; d1 < ${a.inChannels}; d1 += 2) {
       `;for(let a=0;a<j;a++)k+=`
           xTexelC${2*a} = vec4(0.0);
           xTexelC${2*a}Ready = 0;
           xTexelC${2*a+1} = vec4(0.0);
           xTexelC${2*a+1}Ready = 0;
           xC${a} = vec4(0.0);`;k+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let b=0;b<(j+1)/2;b++){let c=2*b;if(k+=`
           xC = xCCorner + ${c*h};
           `,1===g){if(c<j&&(f%2==1?(k+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${c}Ready == 0) {
                   xTexelC${c} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${c}.zw = vec2(0.0);
                   }
                   xTexelC${c}Ready = 1;
                 }
               `,1===h&&c>0?k+=`
                 xC${c} = vec4(xTexelC${c-2}.zw, xTexelC${c}.xy);
                 `:k+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${c} = vec4(previous.zw, xTexelC${c}.xy);
                   } else {
                     xC${c} = vec4(0.0, 0.0, xTexelC${c}.xy);
                   }
                   `):k+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${c}Ready == 0) {
                   xTexelC${c} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${c}.zw = vec2(0.0);
                   }
                   xTexelC${c}Ready = 1;
                 }

                 xC${c} = xTexelC${c};
                 `,c+1<j)){let a=f%2==0?jd.nearestLargerEven(h):h;h%2==0&&f%2==1||h%2!=0&&f%2!=1?(k+=`
                   xCOffset = xC + imod(pads[1], 2) + ${a};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${c+1}Ready == 0) {
                     xTexelC${c+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${c+1}.zw = vec2(0.0);
                     }
                     xTexelC${c+1}Ready = 1;
                   }
                   `,h>1?k+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${c+1} = vec4(previous.zw, xTexelC${c+1}.xy);
                     } else {
                      xC${c+1} = vec4(0.0, 0.0, xTexelC${c+1}.xy);
                     }
                     `:k+=`
                     xC${c+1} = vec4(xTexelC${c}.zw, xTexelC${c+1}.xy);
                     `):1===a?k+=`
                     xC${c+1} = xTexelC${c};
                     `:k+=`
                     xCOffset = xC + ${a};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${c+1}Ready == 0) {
                       xTexelC${c+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${c+1}.zw = vec2(0.0);
                       }
                       xTexelC${c+1}Ready = 1;
                     }

                     xC${c+1} = xTexelC${c+1};
                     `}}else c<j&&(f%2==1?(k+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${c}Ready == 0) {
                   xTexelC${c} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${c}.zw = vec2(0.0);
                   }
                   xTexelC${c}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${c+1}Ready == 0) {
                   xTexelC${c+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${c+1}.zw = vec2(0.0);
                   }
                   xTexelC${c+1}Ready = 1;
                 }

                 xC${c} = vec4(xTexelC${c}.zw, xTexelC${c+1}.zw);
               `,c+1<j&&(k+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${c+1} = vec4(xTexelC${c+1}.xy, final.xy);
                 `)):(k+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${c}Ready == 0) {
                   xTexelC${c} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${c}.zw = vec2(0.0);
                   }
                   xTexelC${c}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${c+1}Ready == 0) {
                   xTexelC${c+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${c+1}.zw = vec2(0.);
                   }
                   xTexelC${c+1}Ready = 1;
                 }

                 xC${c} = vec4(
                   xTexelC${c}.xy, xTexelC${c+1}.xy);
               `,c+1<j&&(k+=`
                   xC${c+1} = vec4(xTexelC${c}.zw, xTexelC${c+1}.zw);
                 `)));c<j&&(k+=`
             wTexel = getW(r, ${c}, d1, d2);
             dotProd += xC${c}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${a.inChannels}) {
               dotProd += xC${c}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,c+1<j&&(k+=`
               wTexel = getW(r, ${c+1}, d1, d2);
               dotProd += xC${c+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${a.inChannels}) {
                 dotProd += xC${c+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}k+=`
     }
   
     }
   
     }
   `;let l="",m="";c&&(l=d?`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${c}
         }`:e?`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${c}
         }`:`vec4 activation(vec4 x) {
           ${c}
         }`,m="result = activation(result);"),b&&this.variableNames.push("bias"),d&&this.variableNames.push("preluActivationWeights"),e&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${l}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${k}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${b?"result += getBiasAtOutCoords();":""}
         ${m}
         setOutput(result);
       }
     `}}var jd=jd;class z4{constructor(a,b){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=a,this.enableShapeUniforms=xh(this.outputShape.length);let{dataFormat:c}=b,d=wZ(),e="channelsLast"===c,f=e?1:2,g=e?2:3,h=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${a[2]} && pos < ${a[1]}) {`,i="";for(let a=0;a<=1;a++)for(let b=0;b<=1;b++)i+=`
          blockIndex = rc.z + ${b};
          pos = rc.y + ${a};

          ${h}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${f}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${g}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${e}) {
                  innerDims = vec2(d1, ch);
                  result[${2*a+b}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${2*a+b}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${i}

        ${d.output} = result;
      }
    `}}function z5(a,b){let c=a.length;return c>=3?b?[...a.slice(0,-3),a[c-3]*a[c-2],a[c-1]]:[...a.slice(0,-3),a[c-3],a[c-2]*a[c-1]]:!b&&1===c&&a[0]>1?[a[0],1]:null}function z6({x:a,filter:b,convInfo:c,backend:d,bias:e=null,preluActivationWeights:f=null,leakyreluAlpha:g=0,activation:h=null}){let i,j=a.shape,k=d.texData.get(a.dataId),l=c.inChannels,m=j[0]*j[1]*j[2],n=c.outChannels,o="channelsLast"===c.dataFormat,p=[];if(null!=f){let a=z5(f.shape,o);null!=a&&(f=zf({inputs:{x:f},backend:d,attrs:{shape:a}}),p.push(f))}if(null!=e){let a=z5(e.shape,o);null!=a&&(e=zf({inputs:{x:e},backend:d,attrs:{shape:a}}),p.push(e))}if(!((1===m||1===n)&&l>1e3)&&k.isPacked&&o&&null!=k.texture&&j[2]%2!=0&&jd.arraysEqual(k.shape.slice(-3),j.slice(-3))){let l=j[0]*j[1]*(j[2]+1),m={dataId:a.dataId,shape:[1,l,c.inChannels],dtype:a.dtype},n=k.shape;k.shape=k.shape.slice(),k.shape[k.shape.length-2]++,jd.assert(wL(k.shape,m.shape),()=>`packed reshape ${k.shape} to ${m.shape} isn't free`);let o=zf({inputs:{x:b},backend:d,attrs:{shape:[1,c.inChannels,c.outChannels]}});p.push(o);let q=zo({a:m,b:o,backend:d,transposeA:!1,transposeB:!1,bias:e,activation:h,preluActivationWeights:f,leakyreluAlpha:g}),r=d.texData.get(q.dataId);jd.assert(r.isPacked,()=>"batchMatMul result is expected to be packed"),k.shape=n,r.shape=c.outShape,(i=y0({inputs:{x:q},backend:d})).shape=c.outShape,p.push(q)}else{let j=c.outHeight*c.outWidth,k=zf({inputs:{x:a},backend:d,attrs:{shape:o?[c.batchSize,j,c.inChannels]:[c.batchSize,c.inChannels,j]}}),l=zf({inputs:{x:b},backend:d,attrs:{shape:[1,c.inChannels,c.outChannels]}}),m=zo({a:o?k:l,b:o?l:k,transposeA:!o,transposeB:!1,backend:d,bias:e,activation:h,preluActivationWeights:f,leakyreluAlpha:g});i=zf({inputs:{x:m},backend:d,attrs:{shape:c.outShape}}),p.push(k),p.push(l),p.push(m)}for(let a of p)d.disposeIntermediateTensorInfo(a);return i}function z7({x:a,filter:b,convInfo:c,backend:d,bias:e=null,preluActivationWeights:f=null,leakyreluAlpha:g=0,activation:h=null}){let{filterWidth:i,filterHeight:j,inChannels:k,outWidth:l,outHeight:m,dataFormat:n}=c,o="channelsLast"===n,p=i*j*k,q=m*l,r=[c.batchSize,p,q],s=[];if(null!=f){let a=z5(f.shape,o);null!=a&&(f=zf({inputs:{x:f},backend:d,attrs:{shape:a}}),s.push(f))}if(null!=e){let a=z5(e.shape,o);null!=a&&(e=zf({inputs:{x:e},backend:d,attrs:{shape:a}}),s.push(e))}let t=zf({inputs:{x:b},backend:d,attrs:{shape:[1,p,jd.sizeFromShape(b.shape)/p]}});s.push(t);let u=new z4(r,c),v=[a.shape,[c.padInfo.top,c.padInfo.left],[c.strideHeight,c.strideWidth],[c.dilationHeight,c.dilationWidth],[c.inChannels],[c.filterWidth*c.inChannels],[c.outWidth]],w=d.runWebGLProgram(u,[a],"float32",v),x=zf({inputs:{x:w},backend:d,attrs:{shape:r}});s.push(w),s.push(x);let y=null!=e,z=null!=f,A="leakyrelu"===h,B=h?y9(h,!0):null,C=new za(o?x.shape:t.shape,o?t.shape:x.shape,o?[c.batchSize,q,c.outChannels]:[c.batchSize,c.outChannels,q],!0,!1,y,B,z,A),D=o?[x,t]:[t,x];if(e&&D.push(e),z&&D.push(f),A){let a=d.makeTensorInfo([],"float32",jd.createScalarValue(g,"float32"));D.push(a),s.push(a)}let E=d.runWebGLProgram(C,D,"float32"),F=zf({inputs:{x:E},backend:d,attrs:{shape:c.outShape}});for(let a of(s.push(E),s))d.disposeIntermediateTensorInfo(a);return F}var hJ=hJ;class z8{constructor(a){this.variableNames=["x","dy"],this.outputShape=a.filterShape;let b=a.strideHeight,c=a.strideWidth,d=a.padInfo.top,e=a.padInfo.left,f="channelsLast"===a.dataFormat;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${a.batchSize}; b++) {
          for (int yR = 0; yR < ${a.outHeight}; yR++) {
            int xR = wR + yR * ${b} - ${d};

            if (xR < 0 || xR >= ${a.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${a.outWidth}; yC++) {
              int xC = wC + yC * ${c} - ${e};

              if (xC < 0 || xC >= ${a.inWidth}) {
                continue;
              }

              ${f?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class z9{constructor(a){this.variableNames=["dy","W"],this.outputShape=a.inShape;let b=a.filterHeight,c=a.filterWidth,d=a.strideHeight,e=a.strideWidth,f="channelsLast"===a.dataFormat,g=b-1-a.padInfo.top,h=c-1-a.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${g}, ${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f?3:1}];

        ivec2 dyCorner = ivec2(coords[${f?1:2}], coords[${f?2:3}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${b}; wR++) {
          float dyR = float(dyRCorner + wR) / ${d}.0;

          if (dyR < 0.0 || dyR >= ${a.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${b} - 1 - wR;

          for (int wC = 0; wC < ${c}; wC++) {
            float dyC = float(dyCCorner + wC) / ${e}.0;

            if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${c} - 1 - wC;

            for (int d2 = 0; d2 < ${a.outChannels}; d2++) {

              if (${f}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Aa{constructor(a){this.variableNames=["x","dy"],this.outputShape=a.filterShape;let b=a.strideDepth,c=a.strideHeight,d=a.strideWidth,e=a.padInfo.front,f=a.padInfo.top,g=a.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${a.batchSize}; b++) {
          for (int yF = 0; yF < ${a.outDepth}; yF++) {
            int xF = wF + yF * ${b} - ${e};

            if (xF < 0 || xF >= ${a.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${a.outHeight}; yR++) {
              int xR = wR + yR * ${c} - ${f};

              if (xR < 0 || xR >= ${a.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${a.outWidth}; yC++) {
                int xC = wC + yC * ${d} - ${g};

                if (xC < 0 || xC >= ${a.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Ab{constructor(a){this.variableNames=["dy","W"],this.outputShape=a.inShape;let b=a.filterDepth,c=a.filterHeight,d=a.filterWidth,e=a.strideDepth,f=a.strideHeight,g=a.strideWidth,h=b-1-a.padInfo.front,i=c-1-a.padInfo.top,j=d-1-a.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${h}, ${i}, ${j});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${b}; wF++) {
          float dyF = float(dyFCorner + wF) / ${e}.0;

          if (dyF < 0.0 || dyF >= ${a.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${b} - 1 - wF;

          for (int wR = 0; wR < ${c}; wR++) {
            float dyR = float(dyRCorner + wR) / ${f}.0;

            if (dyR < 0.0 || dyR >= ${a.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${c} - 1 - wR;

            for (int wC = 0; wC < ${d}; wC++) {
              float dyC = float(dyCCorner + wC) / ${g}.0;

              if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${d} - 1 - wC;

              for (int d2 = 0; d2 < ${a.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}var hJ=hJ;class Ac{constructor(a){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=a.inShape,this.enableShapeUniforms=xh(this.outputShape.length);let b=a.filterHeight,c=a.filterWidth,d=b-1-a.padInfo.top,e=c-1-a.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${d}, ${e});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${b}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${a.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${b} - 1 - wR;

          for (int wC = 0; wC < ${c}; wC++) {
            int wCPerm = ${c} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${a.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${a.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${a.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${a.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${a.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}var hJ=hJ,hJ=hJ,hJ=hJ;let Ad=y7({opSnippet:y6+`
  return cos(x);
`,packedOpSnippet:`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${y$}
  return result;
`}),Ae=y7({opSnippet:`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`});class Af{constructor(a,b,c,d,e){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[f,g,h,i]=a,[j]=b,[k,l]=c;this.outputShape=[j,k,l,i];let[m,n]=[`${g-1}.0`,`${h-1}.0`],[o,p,q]=k>1?[`${(g-1)/(k-1)}`,"(y2-y1) * height_ratio",`y1*${m} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${m}`],[r,s,t]=l>1?[`${(h-1)/(l-1)}`,"(x2-x1) * width_ratio",`x1*${n} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${n}`];this.userCode=`
      const float height_ratio = float(${o});
      const float width_ratio = float(${r});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${f}) {
          return;
        }

        float height_scale = ${p};
        float width_scale = ${s};

        float in_y = ${q};
        if( in_y < 0.0 || in_y > ${m} ) {
          setOutput(float(${e}));
          return;
        }
        float in_x = ${t};
        if( in_x < 0.0 || in_x > ${n} ) {
          setOutput(float(${e}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${+("bilinear"===d)} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}!function(a){a.Prod="*",a.Sum="+"}(x||(x={}));class Ag{constructor(a,b,c,d){this.op=a,this.outputShape=b,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];let e=this.outputShape.length,f=this.op===x.Prod?"1.0":"0.0",g=c?f:`getX(${Ah(e,"coords",this.op)})`,h=this.outputShape[this.outputShape.length-1],i="",j="";c?(i=d?`end != ${h-1}`:"end != 0",j=d?"end + 1":"end - 1"):(i=d?`end + pow2 < ${h}`:"end >= pow2",j=d?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${xb(e)} coords = getOutputCoords();
        int end = ${Ai(e,"coords",this.op)};
        float val = ${g};
        int pow2 = int(pow(2.0, index));
        if (${i}) {
          int idx = ${j};
          ${Ai(e,"coords",this.op)} = idx;
          val ${this.op}= getX(${Ah(e,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function Ah(a,b,c){if(1===a)return`${b}`;if(2===a)return`${b}.x, ${b}.y`;if(3===a)return`${b}.x, ${b}.y, ${b}.z`;if(4===a)return`${b}.x, ${b}.y, ${b}.z, ${b}.w`;throw Error(`Cumulative ${c} for rank ${a} is not yet supported`)}function Ai(a,b,c){if(1===a)return`${b}`;if(2===a)return`${b}.y`;if(3===a)return`${b}.z`;if(4===a)return`${b}.w`;throw Error(`Cumulative ${c} for rank ${a} is not yet supported`)}var hJ=hJ;function Aj(a,b,c,d,e,f){let g=b.shape.length,h=hJ.getAxesPermutation([d],g),i=b;null!=h&&(i=zn({inputs:{x:b},backend:c,attrs:{perm:h}}));let j=hJ.getInnerMostAxes(1,g)[0];if(j!==g-1)throw Error(`WebGL cumprod shader expects an inner-most axis=${b.shape.length-1} but got axis=${d}`);let k=i.shape[j],l=y0({inputs:{x:i},backend:c});for(let b=0;b<=Math.ceil(Math.log2(k))-1;b++){let d=new Ag(a,i.shape,!1,f),e=[[b]],g=l;l=c.runWebGLProgram(d,[l],l.dtype,e),c.disposeIntermediateTensorInfo(g)}if(e){let b=new Ag(a,i.shape,e,f),d=l;l=c.runWebGLProgram(b,[l],l.dtype),c.disposeIntermediateTensorInfo(d)}if(null!=h){let a=zn({inputs:{x:l},backend:c,attrs:{perm:hJ.getUndoAxesPermutation(h)}});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(i),a}return l}class Ak{constructor(a,b,c){this.variableNames=["x"],this.outputShape=[],this.outputShape=a,this.blockSize=b,this.dataFormat=c,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${b};
      int offset_h = imod(h, ${b});
      int in_w = w / ${b};
      int offset_w = imod(w, ${b});
      int offset_d = (offset_h * ${b} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}var hJ=hJ,jd=jd;class Al{constructor(a,b=!1,c=null,d=!1,e=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=a.outShape,this.enableShapeUniforms=xh(this.outputShape.length);let f=a.filterHeight,g=a.filterWidth,h=a.outChannels/a.inChannels,i="",j="";c&&(i=d?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${c}
        }`:e?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${c}
        }`:`
          float activation(float x) {
            ${c}
          }
        `,j="result = activation(result);"),b&&this.variableNames.push("bias"),d&&this.variableNames.push("preluActivationWeights"),e&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${i}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${h};
        int q = d2 - d1 * ${h};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${g}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${b?"result += getBiasAtOutCoords();":""}
        ${j}
        setOutput(result);
      }
    `}}var jd=jd;class Am{constructor(a,b=!1,c=null,d=!1,e=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=a.outShape,this.enableShapeUniforms=xh(this.outputShape.length);let f=a.outChannels/a.inChannels,g=a.padInfo.left,h=a.strideWidth,i=a.dilationWidth,j=a.filterHeight,k=a.filterWidth,l=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let a=0;a<k;a++)l+=`
          vec4 xTexelC${2*a};
          int xTexelC${2*a}Ready;
          vec4 xTexelC${2*a+1};
          int xTexelC${2*a+1}Ready;
          vec4 xC${a};`;l+=`
    for (int r = 0; r < ${j}; r++) {
      `;for(let a=0;a<k;a++)l+=`
          xTexelC${2*a} = vec4(0.0);
          xTexelC${2*a}Ready = 0;
          xTexelC${2*a+1} = vec4(0.0);
          xTexelC${2*a+1}Ready = 0;
          xC${a} = vec4(0.0);`;l+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let a=0;a<(k+1)/2;a++){let b=2*a;if(l+=`
          xC = xCCorner + ${b*i};
          `,1===h){if(b<k&&(g%2==1?(l+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,1===i&&b>0?l+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:l+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):l+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<k)){let a=g%2==0?jd.nearestLargerEven(i):i;i%2==0&&g%2==1||i%2!=0&&g%2!=1?(l+=`
                  xCOffset = xC + imod(pads[1], 2) + ${a};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,i>1?l+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:l+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):1===a?l+=`
                    xC${b+1} = xTexelC${b};
                    `:l+=`
                    xCOffset = xC + ${a};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<k&&(g%2==1?(l+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<k&&(l+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(l+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<k&&(l+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<k&&(l+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<k&&(l+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}l+=`
    }
  
      }
    `;let m="",n="";c&&(m=d?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${c}
        }`:e?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${c}
        }`:`vec4 activation(vec4 x) {
          ${c}
        }`,n="result = activation(result);"),b&&this.variableNames.push("bias"),d&&this.variableNames.push("preluActivationWeights"),e&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${m}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${f};
        int q = d2 - d1 * ${f};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${l}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${b?"result += getBiasAtOutCoords();":""}
        ${n}
        setOutput(result);
      }
    `}}var hJ=hJ;class An{constructor(a){this.variableNames=["x","dy"],this.outputShape=a.filterShape;let b=a.strideHeight,c=a.strideWidth,d=a.padInfo.top,e=a.padInfo.left,f=a.outChannels/a.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${f} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${a.batchSize}; b++) {
          for (int yR = 0; yR < ${a.outHeight}; yR++) {
            int xR = wR + yR * ${b} - ${d};

            if (xR < 0 || xR >= ${a.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${a.outWidth}; yC++) {
              int xC = wC + yC * ${c} - ${e};

              if (xC < 0 || xC >= ${a.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Ao{constructor(a){this.variableNames=["dy","W"],this.outputShape=a.inShape;let b=a.filterHeight,c=a.filterWidth,d=a.strideHeight,e=a.strideWidth,f=b-1-a.padInfo.top,g=c-1-a.padInfo.left,h=a.outChannels/a.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${f}, ${g});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${b}; wR++) {
          float dyR = float(dyRCorner + wR) / ${d}.0;

          if (dyR < 0.0 || dyR >= ${a.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${b} - 1 - wR;

          for (int wC = 0; wC < ${c}; wC++) {
            float dyC = float(dyCCorner + wC) / ${e}.0;

            if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${c} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${h}; dm++) {
              int d2 = d1 * ${h} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}var hJ=hJ,jd=jd;class Ap{constructor(a){this.variableNames=["X"],this.outputShape=[a,a],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}var hJ=hJ;class Aq{constructor(a){this.variableNames=["x","W"],this.outputShape=a.outShape;let{inHeight:b,inWidth:c,padInfo:d,strideHeight:e,strideWidth:f,filterHeight:g,filterWidth:h,dilationHeight:i,dilationWidth:j}=a,{top:k,left:l}=d;this.userCode=`
      const ivec2 strides = ivec2(${e}, ${f});
      const ivec2 pads = ivec2(${k}, ${l});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${g}; h++) {
          int hIn = hBeg + h * ${i};

          if (hIn >= 0 && hIn < ${b}) {
            for (int w = 0; w < ${h}; w++) {
              int wIn = wBeg + w * ${j};

              if (wIn >= 0 && wIn < ${c}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}var hJ=hJ,jd=jd;let Ar=y7({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`}),As=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,At=y8({opSnippet:"return float(a == b);",packedOpSnippet:`
  return vec4(equal(a, b));
`,dtype:"bool",cpuKernelImpl:xT});var hJ=hJ;let Au=y7({opSnippet:`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${hJ.ERF_P};
  float a1 = ${hJ.ERF_A1};
  float a2 = ${hJ.ERF_A2};
  float a3 = ${hJ.ERF_A3};
  float a4 = ${hJ.ERF_A4};
  float a5 = ${hJ.ERF_A5};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`}),Av=y7({opSnippet:y6+`
  return exp(x);
`,packedOpSnippet:`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cpuKernelImpl:xU,dtype:"float32"});var jd=jd;function Aw(a){let{inputs:b,attrs:c,backend:d}=a,{dim:e}=c,{input:f}=b,g=f.shape.length,h=f.shape.slice(),i=e;return e<0&&(jd.assert(-(g+1)<=e,()=>`Axis must be in the interval [${-(g+1)}, ${g}]`),i=g+e+1),h.splice(i,0,1),zf({inputs:{x:f},backend:d,attrs:{shape:h}})}let Ax="return exp(x) - 1.0;",Ay=y7({opSnippet:Ax,packedOpSnippet:Ax,cpuKernelImpl:xV});var jd=jd;class Az{constructor(a,b,c){let d;this.variableNames=["real","imag"];let e=b[1];this.outputShape=b;let f=c?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,g=c?`${e}.0`:"1.0";if("real"===a)d="return real * expR - imag * expI;";else if("imag"===a)d="return real * expI + imag * expR;";else throw Error(`FFT component must be either "real" or "imag", got ${a}.`);this.userCode=`
      const float exponentMultiplier = ${f};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${d}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${e});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${e}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${g};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function AA(a,b,c){let d=c.texData.get(a.dataId),e=jd.sizeFromShape(a.shape),f=a.shape[a.shape.length-1],g=zf({inputs:{x:a},backend:c,attrs:{shape:[e/f,f]}}),h=g.shape,i=new Az("real",h,b),j=new Az("imag",h,b),k=[{dataId:d.complexTensorInfos.real.dataId,dtype:d.complexTensorInfos.real.dtype,shape:h},{dataId:d.complexTensorInfos.imag.dataId,dtype:d.complexTensorInfos.imag.dtype,shape:h}],l=c.runWebGLProgram(i,k,"float32"),m=c.runWebGLProgram(j,k,"float32"),n=y1({inputs:{real:l,imag:m},backend:c});c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(m);let o=zf({inputs:{x:n},backend:c,attrs:{shape:a.shape}});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(n),o}var jd=jd;class AB{constructor(a,b){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=a,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function AC(a){let{backend:b,attrs:c}=a,{shape:d,value:e}=c,{dtype:f}=c;if("string"===(f=f||jd.inferDtype(e))){let a=jd.getArrayFromDType(f,jd.sizeFromShape(d));return a.fill(e),b.makeTensorInfo(d,f,a)}{let a=new AB(d,e),c=[[e]];return b.runWebGLProgram(a,[],f,c)}}class AD{constructor(a){this.variableNames=["Image"],this.outputShape=[];let b=a[2];this.outputShape=a,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${b} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${b}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}let AE="return floor(x);",AF=y7({opSnippet:AE,packedOpSnippet:AE,cpuKernelImpl:xW}),AG=y8({opSnippet:`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,packedOpSnippet:`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,dtype:"int32"});class AH{constructor(a){this.variableNames=["A"];let b=wZ(),[c,d]=a;this.outputShape=a,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${c}.0);

        vec4 values = ${b.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class AI{constructor(a){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let b=wZ(),[c,d]=a;this.outputShape=a,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${d}.0, ${c}.0);
            vec4 values = ${b.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${b.output} = result;
      }
    `}}let AJ=aA.getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;class AK{constructor(a,b,c,d){this.sliceDim=a,this.strides=b,this.paramsShape=d,this.variableNames=["x","indices"],this.outputShape=c;let e=xb(c.length),f=`
    int index;`;for(let a=0;a<this.sliceDim;a++)f+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${e} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${f}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}var hJ=hJ,jd=jd;class AL{constructor(a,b){this.variableNames=["A","indices"],this.outputShape=b,this.rank=b.length;let c=xb(this.rank),d=function(a,b){let c=["resRC.x","resRC.y","resRC.z","resRC.w"],d=[];for(let b=0;b<a.length;b++)2===b?d.push("index"):d.push(`${c[b]}`);return d.join()}(a,0);this.userCode=`
      void main() {
        ${c} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${a[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${d}));
      }
    `}}function AM(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,indices:f}=b,{axis:g,batchDims:h}=d,i=jd.parseAxisParam(g,e.shape)[0];if(aA.get("DEBUG")){let a=c.readSync(f.dataId),b=e.shape[i];for(let c=0;c<a.length;++c){let d=a[c];jd.assert(d<=b-1&&d>=0,()=>`GatherV2: the index value ${d} is not in [0, ${b-1}]`)}}let j=hJ.segment_util.collectGatherOpShapeInfo(e,f,i,h),k=jd.sizeFromShape(f.shape),l=[],m=zf({inputs:{x:e},backend:c,attrs:{shape:[j.batchSize,j.outerSize,j.dimSize,j.sliceSize]}}),n=zf({inputs:{x:f},backend:c,attrs:{shape:[j.batchSize,k/j.batchSize]}});l.push(m),l.push(n);let o=[j.batchSize,j.outerSize,k/j.batchSize,j.sliceSize];if(c.shouldExecuteOnCPU([e,f])||"string"===e.dtype){let a=c.bufferSync(n),b=xY(c.bufferSync(m),a,o);return l.forEach(a=>c.disposeIntermediateTensorInfo(a)),c.makeTensorInfo(j.outputShape,b.dtype,b.values)}let p=new AL(m.shape,o),q=c.runWebGLProgram(p,[m,n],m.dtype);l.push(q);let r=zf({inputs:{x:q},backend:c,attrs:{shape:j.outputShape}});return l.forEach(a=>c.disposeIntermediateTensorInfo(a)),r}let AN=y8({opSnippet:"return float(a > b);",packedOpSnippet:`
  return vec4(greaterThan(a, b));
`,cpuKernelImpl:xZ,dtype:"bool"}),AO=y8({opSnippet:"return float(a >= b);",packedOpSnippet:`
  return vec4(greaterThanEqual(a, b));
`,dtype:"bool",cpuKernelImpl:x$}),AP=y7({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),AQ=y7({opSnippet:"return float(isinf(x));",dtype:"bool"}),AR=y7({opSnippet:"return float(isnan(x));",dtype:"bool"}),AS=y8({opSnippet:"return float(a < b);",packedOpSnippet:`
  return vec4(lessThan(a, b));
`,cpuKernelImpl:x_,dtype:"bool"}),AT=y8({opSnippet:"return float(a <= b);",packedOpSnippet:`
  return vec4(lessThanEqual(a, b));
`,cpuKernelImpl:x0,dtype:"bool"}),AU=y7({opSnippet:y6+`
  return x < 0.0 ? 0./0. : log(x);
`,packedOpSnippet:`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,cpuKernelImpl:x2}),AV=y7({opSnippet:y6+`
  return log(1.0 + x);
`}),AW=y8({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,dtype:"bool"}),AX=y7({opSnippet:"return float(!(x >= 1.0));"}),AY=y8({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,dtype:"bool"});class AZ{constructor(a,b,c,d,e){let f;this.variableNames=["x"],this.outputShape=[];let g=a[3]-1;this.outputShape=a;let h=`float(${c}) + float(${d}) * sum`;f=.5===e?`inversesqrt(${h})`:1===e?`1.0/(${h})`:`exp(log(${h}) * float(-${e}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${b}; j <= ${b}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${g}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${f};
        setOutput(val);
      }
    `}}class A${constructor(a,b,c,d,e){let f;this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let g=a[3]-1;this.outputShape=a;let h=`float(${c}) + float(${d}) * sum`;f=.5===e?`inversesqrt(${h})`:1===e?`1.0/(${h})`:`exp(log(${h}) * float(-${e}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${b};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${b}; j <= ${b}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${g}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${f};
        setOutput(result);
      }
    `}}class A_{constructor(a,b,c,d,e){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=a,this.depth=a[3],this.depthRadius=b,this.bias=c,this.alpha=d,this.beta=e,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${b})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${b} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${d}) * norm + float(${c});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${d})
                * float(${e})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${e});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}var hJ=hJ,jd=jd,jd=jd;function A0(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{reductionIndices:g,keepDims:h}=e,i=f.shape.length,j=jd.parseAxisParam(g,f.shape),k=j,l=hJ.getAxesPermutation(k,i),m=null!=l,n=d.shouldExecuteOnCPU([f]),o=f;if(m){if(n){let a=d.texData.get(o.dataId).values,b=Array(i);for(let a=0;a<b.length;a++)b[a]=f.shape[l[a]];let c=yv(a,f.shape,f.dtype,l,b);o=d.makeTensorInfo(b,f.dtype),d.texData.get(o.dataId).values=c}else o=zl(f,l,d);k=hJ.getInnerMostAxes(k.length,i)}hJ.assertAxesAreInnerMostDims("max",k,i);let[p,q]=hJ.computeOutAndReduceShapes(o.shape,k),r=p;if(h&&(r=hJ.expandShapeToKeepDim(p,j)),n){let a=x3(d.texData.get(o.dataId).values,jd.sizeFromShape(q),r,f.dtype);b=d.makeTensorInfo(r,f.dtype),d.texData.get(b.dataId).values=a}else b=function(a,b,c,d){let e=jd.sizeFromShape(b),f=jd.sizeFromShape(a.shape),g=zf({inputs:{x:a},attrs:{shape:[f/e,e]},backend:d}),h=zi(g,a.dtype,"max",d),i=zf({inputs:{x:h},attrs:{shape:c},backend:d});return d.disposeIntermediateTensorInfo(g),d.disposeIntermediateTensorInfo(h),i}(o,q,r,d);return m&&d.disposeIntermediateTensorInfo(o),b}let A1=y8({opSnippet:yY+`
  return max(a, b);
`,packedOpSnippet:`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+y$+`
  return result;
`,cpuKernelImpl:x4});var hJ=hJ,jd=jd,hJ=hJ,hJ=hJ;class A2{constructor(a){this.variableNames=["dy","maxPos"],this.outputShape=a.inShape;let b=a.strideHeight,c=a.strideWidth,d=a.dilationHeight,e=a.effectiveFilterHeight,f=a.effectiveFilterWidth,g=e-1-a.padInfo.top,h=f-1-a.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${g}, ${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${e};
          wR += ${d}) {
          float dyR = float(dyRCorner + wR) / ${b}.0;

          if (dyR < 0.0 || dyR >= ${a.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${f}; wC++) {
            float dyC = float(dyCCorner + wC) / ${c}.0;

            if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${e*f-1} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${f} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class A3{constructor(a){this.variableNames=["dy","maxPos"],this.outputShape=a.inShape;let b=a.strideDepth,c=a.strideHeight,d=a.strideWidth,e=a.dilationDepth,f=a.dilationHeight,g=a.dilationWidth,h=a.effectiveFilterDepth,i=a.effectiveFilterHeight,j=a.effectiveFilterWidth,k=h-1-a.padInfo.front,l=i-1-a.padInfo.top,m=j-1-a.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${k}, ${l}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${h};
           wD += ${e}) {
          float dyD = float(dyDCorner + wD) / ${b}.0;

          if (dyD < 0.0 || dyD >= ${a.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${i};
              wR += ${f}) {
            float dyR = float(dyRCorner + wR) / ${c}.0;

            if (dyR < 0.0 || dyR >= ${a.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${j};
                wC += ${g}) {
              float dyC = float(dyCCorner + wC) / ${d}.0;

              if (dyC < 0.0 || dyC >= ${a.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${h*i*j-1} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${i} * ${j} +
                  wR * ${j} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}var hJ=hJ,hJ=hJ,jd=jd,hJ=hJ,jd=jd,jd=jd,hJ=hJ,jd=jd;let A4=y8({opSnippet:yY+`
  return min(a, b);
`,packedOpSnippet:`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+y$+`
  return result;
`,cpuKernelImpl:x5});class A5{constructor(a,b,c){this.variableNames=["x"],this.outputShape=b.map((b,c)=>b[0]+a[c]+b[1]);let d=a.length,e=xb(d),f=b.map(a=>a[0]).join(","),g=b.map((b,c)=>b[0]+a[c]).join(","),h=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,d),i=+("reflect"!==c);if(1===d){this.userCode=`
        int start = ${f};
        int end = ${g};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${i};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${i};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${e} start = ${e}(${f});
      ${e} end = ${e}(${g});

      void main() {
        ${e} outC = getOutputCoords();
        for (int i = 0; i < ${d}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${i};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${i};
          }
        }
        ${e} coords = outC - start;
        setOutput(getX(${h}));
      }
    `}}class A6{constructor(a,b,c){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=b.map((b,c)=>b[0]+a[c]+b[1]);let d=a.length,e=xb(d),f=b.map(a=>a[0]).join(","),g=b.map((b,c)=>b[0]+a[c]).join(","),h=yy("rc",d),i=yy("source",d),j=`${h[d-1]} < ${this.outputShape[d-1]}`,k=1===d?"source":`vec2(${i.slice(-2).join()})`,l=+("reflect"!==c),m="";if(1===d){let a=`
        ${e} source = rc;
        if (source < start) {
          source = start * 2 - source - ${l};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${l};
        }
        source -= start;
      `;m=`
        ${e} rc = outputLoc;
        ${a}
        result[0] = getChannel(getX(${i.join()}), ${k});
        ${h[d-1]} += 1;
        if(${j}) {
          ${a}
          result[1] = getChannel(getX(${i.join()}), ${k});
        }
      `}else{let a=`
        ${e} source = rc;
        ${e} lt = ${e}(lessThan(source, start));
        ${e} gte = ${e}(greaterThanEqual(source, end));
        ${e} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${l}) +
                gte * ((end - 1) * 2 - source + ${l});
        source -= start;
      `;m=`
        ${e} rc = outputLoc;
        ${a}
        result[0] = getChannel(getX(${i.join()}), ${k});
        ${h[d-1]} += 1;
        if(${j}) {
          ${a}
          result[1] = getChannel(getX(${i.join()}), ${k});
        }
        rc = outputLoc;
        ${h[d-2]} += 1;
        if(${h[d-2]} < ${this.outputShape[d-2]}) {
          ${a}
          result[2] = getChannel(getX(${i.join()}), ${k});
          ${h[d-1]} += 1;
          if(${j}) {
            ${a}
            result[3] = getChannel(getX(${i.join()}), ${k});
          }
        }
      `}this.userCode=`
      const ${e} start = ${e}(${f});
      const ${e} end = ${e}(${g});

      void main() {
        ${e} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}let A7=y8({opSnippet:`if (b == 0.0) return NAN;
  return mod(a, b);`,packedOpSnippet:`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+y$+`
  return result;
`});class A8{constructor(a,b,c){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[a,c],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${b-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${b-1}));
      }
    `}}var hJ=hJ,jd=jd;let A9=y8({opSnippet:`
if (a == b) {
  return 1.0;
};
return a / b;`,packedOpSnippet:`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,checkOutOfBounds:!0}),Ba="return a - b;",Bb=y8({opSnippet:Ba,packedOpSnippet:Ba,supportsComplex:!0,cpuKernelImpl:ys});function Bc(a){let{inputs:b,backend:c,attrs:d}=a,{logits:e}=b,{dim:f}=d,g=jd.parseAxisParam([f],e.shape),h=A0({inputs:{x:e},backend:c,attrs:{reductionIndices:g,keepDims:!1}}),i=hJ.expandShapeToKeepDim(h.shape,g),j=zf({inputs:{x:h},backend:c,attrs:{shape:i}}),k=Bb({inputs:{a:e,b:j},backend:c}),l=Av({inputs:{x:k},backend:c}),m=zm({inputs:{x:l},backend:c,attrs:{axis:g,keepDims:!1}}),n=zf({inputs:{x:m},backend:c,attrs:{shape:i}}),o=A9({inputs:{a:l,b:n},backend:c});return c.disposeIntermediateTensorInfo(h),c.disposeIntermediateTensorInfo(j),c.disposeIntermediateTensorInfo(k),c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(n),o}let Bd=yG+`
  return -x;
`,Be=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;var hJ=hJ,tp=tp;let Bf=tp.nonMaxSuppressionV3Impl;var hJ=hJ,tp=tp;let Bg=tp.nonMaxSuppressionV4Impl;var hJ=hJ,tp=tp;let Bh=tp.nonMaxSuppressionV5Impl;var jd=jd;class Bi{constructor(a,b,c,d){this.variableNames=["indices"],this.outputShape=[a,b],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${d}), float(${c}),
                      float(index == coords.y)));
      }
    `}}function Bj(a){let{inputs:b,backend:c}=a,{x:d}=b;if("complex64"!==d.dtype)return AC({attrs:{shape:d.shape,dtype:d.dtype,value:"string"===d.dtype?"":0},backend:c});{let a=zR({inputs:{input:d},backend:c}),b=Bj({inputs:{x:a},backend:c}),e=z_({inputs:{input:d},backend:c}),f=Bj({inputs:{x:e},backend:c}),g=y1({inputs:{real:b,imag:f},backend:c});return c.disposeIntermediateTensorInfo(a),c.disposeIntermediateTensorInfo(b),c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(f),g}}var jd=jd,jd=jd;class Bk{constructor(a,b,c){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=b.map((b,c)=>b[0]+a[c]+b[1]);let d=a.length,e=xb(d),f=b.map(a=>a[0]).join(","),g=b.map((b,c)=>b[0]+a[c]).join(","),h=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,d);if(1===d){this.userCode=`
        int start = ${f};
        int end = ${g};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${e} start = ${e}(${f});
      ${e} end = ${e}(${g});

      void main() {
        ${e} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${e} coords = outC - start;
          setOutput(getX(${h}));
        }
      }
    `}}class Bl{constructor(a,b,c){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=b.map((b,c)=>b[0]+a[c]+b[1]);let d=a.length,e=xb(d),f=b.map(a=>a[0]).join(","),g=b.map((b,c)=>b[0]+a[c]).join(","),h=yy("rc",d),i=yy("source",d),j=`${h[d-1]} < ${this.outputShape[d-1]}`,k=1===d?"source":`vec2(${i.slice(-2).join()})`,l=[`${e} rc = outputLoc;`,`${h[d-1]} += 1;
       if(${j}) {
      `,1===d?"":`}
       rc = outputLoc;
       ${h[d-2]} += 1;
       if(${h[d-2]} < ${this.outputShape[d-2]}) {`,1===d?"":`  ${h[d-1]} += 1;
         if(${j}) {`],m=1===d?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",n="";for(let a=0,b=1===d?2:4;a<b;a++)n+=`
        ${l[a]}
        if (${m}) {
          result[${a}] = float(value);
        } else {
          ${e} source = rc - start;
          result[${a}] = getChannel(getX(${i.join()}), ${k});
        }
      `;n+=1===d?"} ":"}}",this.userCode=`
      const ${e} start = ${e}(${f});
      const ${e} end = ${e}(${g});

      void main() {
        ${e} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${n}
        setOutput(result);
      }
    `}}let Bm=a=>{let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{paddings:f,constantValue:g}=d;if(0===jd.sizeFromShape(e.shape))return AC({backend:c,attrs:{shape:f.map((a,b)=>a[0]+e.shape[b]+a[1]),value:g,dtype:e.dtype}});let h=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bl(e.shape,f,g):new Bk(e.shape,f,g),i=[[g]];return c.runWebGLProgram(h,[e],e.dtype,i)},Bn=y8({opSnippet:`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,packedOpSnippet:`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+y$+`
  return result;
`});var hJ=hJ,jd=jd;let Bo=a=>{let{backend:b,attrs:c}=a,{start:d,stop:e,step:f,dtype:g}=c,h=yd(d,e,f,g);return b.makeTensorInfo([h.length],g,h)},Bp=y7({opSnippet:"return 1.0 / x;"}),Bq=y7({opSnippet:yG+`
  return (x < 0.0) ? 0.0 : x;
`,packedOpSnippet:`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`}),Br=y7({opSnippet:yG+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,packedOpSnippet:`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`});class Bs{constructor(a,b,c,d,e){this.variableNames=["A"],this.outputShape=[];let[f,g,h,i]=a;this.outputShape=[f,b,c,i];let j=[d&&b>1?g-1:g,d&&c>1?h-1:h],k=[d&&b>1?b-1:b,d&&c>1?c-1:c];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${j[0]/k[0]},
          ${j[1]/k[1]});
      const vec2 inputShapeRC = vec2(${g}.0, ${h}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${e?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class Bt{constructor(a,b,c,d,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[f,g,h,i]=a;this.outputShape=[f,b,c,i];let j=[d&&b>1?g-1:g,d&&c>1?h-1:h],k=[d&&b>1?b-1:b,d&&c>1?c-1:c];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${j[0]/k[0]},
          ${j[1]/k[1]},
          ${j[1]/k[1]});
      const vec3 inputShapeRC = vec3(${g}.0, ${h}.0,
                                     ${h}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${e?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${i-1};
        bool hasNextRow = coords.z < ${c-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}class Bu{constructor(a,b,c){this.variableNames=["dy"],this.outputShape=[],this.outputShape=b;let[,d,e]=b,[,f,g]=a,h=[c&&f>1?d-1:d,c&&g>1?e-1:e],i=[c&&f>1?f-1:f,c&&g>1?g-1:g],j=h[0]/i[0],k=h[1]/i[1],l=1/j,m=1/k,n=2*Math.ceil(l)+2,o=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${j});
        const float widthScale = float(${k});

        const float invHeightScale = float(${l});
        const float invWidthScale = float(${m});

        const int winHeight = int(${n});
        const int winWidth = int(${o});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${f}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${g}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${d-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${e-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}class Bv{constructor(a,b,c,d,e){this.variableNames=["A"],this.outputShape=[];let[f,g,h,i]=a;this.outputShape=[f,b,c,i];let j=[d&&b>1?g-1:g,d&&c>1?h-1:h],k=[d&&b>1?b-1:b,d&&c>1?c-1:c];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${j[0]/k[0]},
          ${j[1]/k[1]});
      const vec2 inputShapeRC = vec2(${g}.0, ${h}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${e?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d?"0.5":"0.0"})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class Bw{constructor(a,b,c,d,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[f,g,h,i]=a;this.outputShape=[f,b,c,i];let j=[d&&b>1?g-1:g,d&&c>1?h-1:h],k=[d&&b>1?b-1:b,d&&c>1?c-1:c];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${j[0]/k[0]},
          ${j[1]/k[1]},
          ${j[1]/k[1]});
      const vec3 inputShapeRC = vec3(${g}.0, ${h}.0,
                                     ${h}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${e?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d?"0.5":"0.0"})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${i-1};
        bool hasNextRow = coords.z < ${c-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}class Bx{constructor(a,b,c){this.variableNames=["dy"],this.outputShape=[],this.outputShape=b;let[,d,e]=b,[,f,g]=a,h=[c&&f>1?d-1:d,c&&g>1?e-1:e],i=[c&&f>1?f-1:f,c&&g>1?g-1:g],j=h[0]/i[0],k=h[1]/i[1],l=1/j,m=1/k,n=2*Math.ceil(l)+2,o=2*Math.ceil(m)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${j});
        const float widthScale = float(${k});

        const float invHeightScale = float(${l});
        const float invWidthScale = float(${m});

        const int winHeight = int(${n});
        const int winWidth = int(${o});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${f}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${g}) {
              continue;
            }

            float sourceFracRow =
              float(${h[0]}) *
                (float(dyR) / float(${i[0]}));

            float sourceFracCol =
                float(${h[1]}) *
                  (float(dyC) / float(${i[1]}));

            int sourceNearestRow = int(min(
                float(int(${d}) - 1),
                ${c} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${e}) - 1),
                ${c} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}var jd=jd;class By{constructor(a,b){this.variableNames=["x"];let c=a.length;if(c>4)throw Error(`WebGL backend: Reverse of rank-${c} tensor is not yet supported`);if(this.outputShape=a,1===c){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${a[0]} - coord - 1));
        }
      `;return}let d=a.map((c,d)=>(c=>-1!==b.indexOf(c)&&1!==a[c]?`${a[c]} - coords[${c}] - 1`:`coords[${c}]`)(d)).join(","),e=xb(c);this.userCode=`
      void main() {
        ${e} coords = getOutputCoords();
        setOutput(getX(${d}));
      }
    `}}class Bz{constructor(a,b){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let c=a.length;if(c>4)throw Error(`WebGL backend: Reverse of rank-${c} tensor is not yet supported`);this.outputShape=a;let d=yy("rc",c),e=`${d[c-1]} + 1 < ${this.outputShape[c-1]}`,f=`${d[c-2]} + 1 < ${this.outputShape[c-2]}`,g=xb(c);function h(c){let d=a.map((d,e)=>{var f,g;return f=e,g=c,-1!==b.indexOf(f)&&1!==a[f]?`${a[f]} - ${g[f]} - 1`:`${g[f]}`}),e=d.join(","),f=d.slice(-2).join(",");return`getChannel(getX(${e}), vec2(${f}))`}1===c?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${a[0]} - rc - 1),
            ${a[0]} - rc - 1);
          if(${e}){
              result.g = getChannel(getX(${a[0]} - (rc  + 1) - 1),
                ${a[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${g} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${h(d.slice())};
          if(${e}){
            result.g = ${function(a){return a[c-1]="("+a[c-1]+" + 1)",h(a)}(d.slice())};
          }
          if(${f}) {
            result.b = ${function(a){return a[c-2]="("+a[c-2]+" + 1)",h(a)}(d.slice())};
            if(${e}) {
              result.a = ${function(a){return a[c-1]="("+a[c-1]+" + 1)",a[c-2]="("+a[c-2]+" + 1)",h(a)}(d.slice())};
            }
          }
          setOutput(result);
        }
    `}}var hJ=hJ;class BA{constructor(a,b){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let c=a[1],d=a[2];this.outputShape=a;let e="";e="number"==typeof b?`float outputValue = ${b.toFixed(2)};`:`
        vec3 fill = vec3(${b.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${e}
          if(coordX >= 0 && coordX < ${d} && coordY >= 0 && coordY < ${c}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}let BB=y7({opSnippet:`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`}),BC=y7({opSnippet:"return inversesqrt(x);",cpuKernelImpl:ye});var hJ=hJ;class BD{constructor(a,b,c,d,e,f,g=!0,h=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=f;let i=xb(e.length),j=xb(f.length),k="";1===c?k="i":2===c&&(k="i, j");let l=`getIndices(${k})`,m="";1===d?m="i":2===d&&(m="i, coords[1]");let n=`getUpdates(${m})`,o="";h&&(o="coords[0], coords[1]");let p=`getDefaultValue(${o})`;this.userCode=`
        ${i} strides = ${i}(${e});

        void main() {
          ${j} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${a}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${b}; j++) {
              int index = round(${l});
              flattenedIndex += index * ${b>1?"strides[j]":"strides"};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${n};
              found = true;
            }
          }
          setOutput(mix(${p}, sum, float(found)));
        }
      `}}class BE{constructor(a,b,c,d,e,f,g=!0,h=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=f;let i=xb(e.length),j=xb(f.length),k="";1===c?k="i":2===c&&(k="i, j");let l=`getIndices(${k})`,m="";1===d?m="i":2===d&&(m="i, coords[1]");let n=`getUpdates(${m})`,o="";h&&(o="coords[0], coords[1]");let p=`getDefaultValue(${o})`;this.userCode=`
        ${i} strides = ${i}(${e});

        void main() {
          ${j} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${a}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${b}; j+=2) {
              ivec4 index = round(${l});
              flattenedIndex += index.xz * ${b>1?"strides[j]":"strides"};
              if (j + 1 < ${b}) {
                flattenedIndex += index.yw * ${b>1?"strides[j + 1]":"strides"};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${n};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${p}, sum, found));
        }
      `}}class BF{constructor(a,b,c,d){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[a,c];let e=`for (int i = 0; i < ${Math.ceil(Math.log2(b+1))}; ++i) { if (left >= right) break;`,f=2===aA.getNumber("WEBGL_VERSION")?"while (left < right) {":e;this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${f}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${"left"===d?"<":"<="} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}class BG{constructor(a,b,c){let d,e;if(this.variableNames=["c","a","b"],this.outputShape=b,c>4)throw Error(`Where for rank ${c} is not yet supported`);if(1===c)e="resRC",d="resRC";else{let c=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],g=[];for(let d=0;d<b.length;d++)g.push(`${c[d]}`),d<a&&f.push(`${c[d]}`);d=f.join(),e=g.join()}let f=xb(c);this.userCode=`
      void main() {
        ${f} resRC = getOutputCoords();
        float cVal = getC(${d});
        if (cVal >= 1.0) {
          setOutput(getA(${e}));
        } else {
          setOutput(getB(${e}));
        }
      }
    `}}var hJ=hJ;let BH=y7({opSnippet:`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${hJ.SELU_SCALEALPHA};
  float scale = ${hJ.SELU_SCALE};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`}),BI=y7({opSnippet:y6+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,packedOpSnippet:`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cpuKernelImpl:yg}),BJ=y7({opSnippet:`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`}),BK=y7({opSnippet:y6+`
  return sin(x);
`,packedOpSnippet:`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${y$}
  return result;
`}),BL=y7({opSnippet:`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`}),BM=y7({opSnippet:`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`});var hJ=hJ,jd=jd,hJ=hJ,jd=jd,hJ=hJ,jd=jd;let BN="return sqrt(x);",BO=y7({opSnippet:BN,packedOpSnippet:BN,cpuKernelImpl:ym}),BP=y7({opSnippet:"return x * x;"}),BQ="return (a - b) * (a - b);",BR=y8({opSnippet:BQ,packedOpSnippet:BQ});var hJ=hJ,uB=gA,jd=jd;class BS{constructor(a,b,c){this.variableNames=["x"],this.outputShape=c;let d=c.length,e=xb(c.length),f=xb(c.length),g="";if(1===d)g="coords * strides + begin";else{let a=0;g=c.map((b,d)=>(a++,1===c.length?`coords * strides[${d}] + begin[${d}]`:`coords[${a-1}] * strides[${d}] + begin[${d}]`)).join(",")}this.userCode=`
      ${e} begin = ${e}(${a});
      ${e} strides = ${e}(${b});

      void main() {
        ${f} coords = getOutputCoords();
        setOutput(getX(${g}));
      }
    `}}let BT=y7({opSnippet:"return tan(x);"}),BU=y7({opSnippet:`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`});var hJ=hJ,jd=jd;class BV{constructor(a,b){this.variableNames=["A"];let c=Array(a.length);for(let d=0;d<c.length;d++)c[d]=a[d]*b[d];this.outputShape=c,this.rank=c.length;let d=xb(this.rank),e=function(a){let b=a.length;if(b>5)throw Error(`Tile for rank ${b} is not yet supported`);if(1===b)return`imod(resRC, ${a[0]})`;let c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],d=[];for(let b=0;b<a.length;b++)d.push(`imod(${c[b]}, ${a[b]})`);return d.join()}(a);this.userCode=`
      void main() {
        ${d} resRC = getOutputCoords();
        setOutput(getA(${e}));
      }
    `}}function BW(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{reps:f}=d;if("string"===e.dtype||e.shape.length>5){let a=c.readSync(e.dataId),b="string"===e.dtype?a.map(a=>jd.decodeString(a)):a,d=yt(eD(e.shape,e.dtype,b),f);return c.makeTensorInfo(d.shape,d.dtype,d.values)}let g=new BV(e.shape,f);return c.runWebGLProgram(g,[e],e.dtype)}var jd=jd;class BX{constructor(a){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=a,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class BY{constructor(a){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=a,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function BZ(a,b){null!==b&&a.disposeIntermediateTensorInfo(b)}function B$(a){let b=1;for(;b<a;)b*=2;return b}class B_{constructor(a,b,c,d,e,f){let g;switch(this.variableNames=["Image","Transforms"],this.outputShape=f,d){case"constant":default:g=1;break;case"reflect":g=2;break;case"wrap":g=3;break;case"nearest":g=4}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${g} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${g} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${g} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${a} && 0 <= coordX && coordX < ${b}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${e});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${e});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${b}));
                float mapY = mapCoord(inY, float(${a}));

                if (${"nearest"===c?1:2} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}var hJ=hJ,jd=jd;class B0{constructor(a,b){this.variableNames=["x","segmentIds"];let c=a.windowSize,d=a.batchSize,e=a.inSize,f=a.numSegments,g=f*Math.ceil(e/c);this.outputShape=[d,g];let h=4*Math.floor(c/4),i=c%4,j=`
        sumValue += dot(values, segFilter);
    `,k="";e%c>0&&(k=`
        if (inIdx < 0 || inIdx >= ${e}) {
          return initializationValue;
        }
      `);let l="";e%c>0&&(l=`
        if (inIdx < 0 || inIdx >= ${e}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        ${k}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${l}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${f})) * float(${c}));
        int currentSeg = int(mod(float(outIdx), float(${f})));

        float sumValue = 0.0;

        for (int i = 0; i < ${h}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${j}
        }

        int inIdx = inOffset + ${h};
        if (${1===i}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${j}
        } else if (${2===i}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${j}
        } else if (${3===i}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${j}
        }
        setOutput(sumValue);
      }
    `}}for(let a of[{kernelName:cZ,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{a:e,b:f,bias:g,preluActivationWeights:h}=b,{transposeA:i,transposeB:j,activation:k,leakyreluAlpha:l}=d;return zo({a:e,b:f,transposeA:i,transposeB:j,backend:c,bias:g,preluActivationWeights:h,leakyreluAlpha:l,activation:k})}},{kernelName:"Abs",backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d}=a,{x:e}=c;if(d.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){let a=yh(d.texData.get(e.dataId).values);return d.makeTensorInfo(e.shape,e.dtype,a)}return b=aA.getBool("WEBGL_PACK_UNARY_OPERATIONS")?new yO(e.shape,zp):new yF(e.shape,zp),d.runWebGLProgram(b,[e],e.dtype)}},{kernelName:aD,backendName:"webgl",kernelFunc:zq},{kernelName:aE,backendName:"webgl",kernelFunc:zr},{kernelName:"Add",backendName:"webgl",kernelFunc:zt},{kernelName:aF,backendName:"webgl",kernelFunc:function a(b){let{inputs:c,backend:d}=b;if(1===c.length)return y0({inputs:{x:c[0]},backend:d});if(c.length>aA.getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let b=Math.floor(c.length/2),e=a({inputs:c.slice(0,b),backend:d}),f=a({inputs:c.slice(b),backend:d});return a({inputs:[e,f],backend:d})}let e=c.map(a=>a.dtype).reduce((a,b)=>dt(a,b)),f=c.map(a=>a.shape),g=aA.getBool("WEBGL_PACK")?new zv(c[0].shape,f):new zu(c[0].shape,f);return d.runWebGLProgram(g,c,e)}},{kernelName:"All",backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{axis:g,keepDims:h}=e,i=f.shape.length,j=jd.parseAxisParam(g,f.shape),k=j,l=hJ.getAxesPermutation(k,i),m=f;null!=l&&(m=zn({inputs:{x:f},backend:d,attrs:{perm:l}}),k=hJ.getInnerMostAxes(k.length,i)),hJ.assertAxesAreInnerMostDims("all",k,i);let[n,o]=hJ.computeOutAndReduceShapes(m.shape,k),p=zf({inputs:{x:m},backend:d,attrs:{shape:[-1,jd.sizeFromShape(o)]}}),q=zi(p,p.dtype,"all",d);return b=h?zf({inputs:{x:q},backend:d,attrs:{shape:hJ.expandShapeToKeepDim(n,j)}}):zf({inputs:{x:q},backend:d,attrs:{shape:n}}),d.disposeIntermediateTensorInfo(p),d.disposeIntermediateTensorInfo(q),null!=l&&d.disposeIntermediateTensorInfo(m),b}},{kernelName:"Any",backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{axis:g,keepDims:h}=e,i=f.shape.length,j=jd.parseAxisParam(g,f.shape),k=j,l=hJ.getAxesPermutation(k,i),m=f;null!=l&&(m=zn({inputs:{x:f},backend:d,attrs:{perm:l}}),k=hJ.getInnerMostAxes(k.length,i)),hJ.assertAxesAreInnerMostDims("any",k,i);let[n,o]=hJ.computeOutAndReduceShapes(m.shape,k),p=zf({inputs:{x:m},backend:d,attrs:{shape:[-1,jd.sizeFromShape(o)]}}),q=zi(p,p.dtype,"any",d);return b=h?zf({inputs:{x:q},backend:d,attrs:{shape:hJ.expandShapeToKeepDim(n,j)}}):zf({inputs:{x:q},backend:d,attrs:{shape:n}}),d.disposeIntermediateTensorInfo(p),d.disposeIntermediateTensorInfo(q),null!=l&&d.disposeIntermediateTensorInfo(m),b}},{kernelName:aG,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f}=d,g=jd.parseAxisParam(f,e.shape),h=hJ.getAxesPermutation(g,e.shape.length),i=e,j=[];null!=h&&(j.push(i=zn({inputs:{x:e},backend:c,attrs:{perm:h}})),g=hJ.getInnerMostAxes(g.length,i.shape.length)),hJ.assertAxesAreInnerMostDims("argMax",[g[0]],i.shape.length);let k=zy(c,i,g[0],"max");return j.forEach(a=>c.disposeIntermediateTensorInfo(a)),k}},{kernelName:aH,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f}=d,g=jd.parseAxisParam(f,e.shape),h=hJ.getAxesPermutation(g,e.shape.length),i=e,j=[];null!=h&&(j.push(i=zn({inputs:{x:e},backend:c,attrs:{perm:h}})),g=hJ.getInnerMostAxes(g.length,i.shape.length)),hJ.assertAxesAreInnerMostDims("argMin",[g[0]],i.shape.length);let k=zy(c,i,g[0],"min");return j.forEach(a=>c.disposeIntermediateTensorInfo(a)),k}},{kernelName:aI,backendName:"webgl",kernelFunc:zz},{kernelName:aJ,backendName:"webgl",kernelFunc:zA},{kernelName:aK,backendName:"webgl",kernelFunc:zB},{kernelName:aM,backendName:"webgl",kernelFunc:zC},{kernelName:aL,backendName:"webgl",kernelFunc:zD},{kernelName:aN,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b;wX(e,"avgPool");let{filterSize:f,strides:g,pad:h,dimRoundingMode:i}=d;jd.assert(hJ.eitherStridesOrDilationsAreOne(g,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${g} and dilations '1'`);let j=hJ.computePool2DInfo(e.shape,f,g,1,h,i);if(1===j.filterWidth&&1===j.filterHeight&&jd.arraysEqual(j.inShape,j.outShape))return y0({inputs:{x:e},backend:c});let k=new zE(j,"avg",!1);return c.runWebGLProgram(k,[e],"float32")}},{kernelName:aP,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{filterSize:f,strides:g,pad:h,dimRoundingMode:i,dataFormat:j}=d,k=new zF(hJ.computePool3DInfo(e.shape,f,g,[1,1,1],h,i,j),"avg",!1);return c.runWebGLProgram(k,[e],"float32")}},{kernelName:aQ,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b,{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=d,k=new zH(hJ.computePool3DInfo(f.shape,g,h,[1,1,1],i,j));return c.runWebGLProgram(k,[e],f.dtype)}},{kernelName:aO,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b;wX([e,f],"avgPoolGrad");let{filterSize:g,strides:h,pad:i}=d,j=new zG(hJ.computePool2DInfo(f.shape,g,h,1,i));return c.runWebGLProgram(j,[e],f.dtype)}},{kernelName:aR,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{a:e,b:f}=b,{transposeA:g,transposeB:h}=d;return zo({a:e,b:f,transposeA:g,transposeB:h,backend:c})}},{kernelName:bu,backendName:"webgl",kernelFunc:({inputs:a,backend:b,attrs:c})=>{let{x:d,mean:e,variance:f,offset:g,scale:h}=a;jd.assert(e.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),jd.assert(null==g||e.shape.length===g.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),jd.assert(null==h||e.shape.length===h.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:i}=c;null==i&&(i=.001);let j=[d,e,f],k=null;null!=g&&(k=g.shape,j.push(g));let l=null;null!=h&&(l=h.shape,j.push(h));let m=aA.getBool("WEBGL_PACK_NORMALIZATION")?new zJ(d.shape,e.shape,f.shape,k,l,i):new zI(d.shape,e.shape,f.shape,k,l,i);return b.runWebGLProgram(m,j,j[0].dtype)}},{kernelName:aS,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockShape:f,crops:g}=d;jd.assert(e.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let h=f.reduce((a,b)=>a*b),i=hJ.getReshaped(e.shape,f,h),j=hJ.getPermuted(i.length,f.length),k=hJ.getReshapedPermuted(e.shape,f,h),l=hJ.getSliceBeginCoords(g,f.length),m=hJ.getSliceSize(k,g,f.length),n=[],o=zf({inputs:{x:e},backend:c,attrs:{shape:i}}),p=zn({inputs:{x:o},backend:c,attrs:{perm:j}}),q=zf({inputs:{x:p},backend:c,attrs:{shape:k}}),r=zN({inputs:{x:q},backend:c,attrs:{begin:l,size:m}});return n.push(o),n.push(p),n.push(q),n.forEach(a=>c.disposeIntermediateTensorInfo(a)),r}},{kernelName:aT,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,weights:f}=b,{size:g}=d,h=xN(c.readSync(e.dataId),c.readSync(f.dataId),f.dtype,f.shape,g);return c.makeTensorInfo([g],f.dtype,h)}},{kernelName:aU,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d}=a,{a:e,b:f}=c,g=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS"),h=aA.getNumber("WEBGL_VERSION");if(d.shouldExecuteOnCPU([e,f])||1===h){let a=d.texData.get(e.dataId).values,b=d.texData.get(f.dataId).values,[c,g]=xP(e.shape,f.shape,a,b,e.dtype),h=d.makeTensorInfo(g,e.dtype);return d.texData.get(h.dataId).values=c,h}return b=g?new y_(zO,e.shape,f.shape,!1):new yZ(zP,e.shape,f.shape),d.runWebGLProgram(b,[e,f],e.dtype)}},{kernelName:aV,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{s0:d,s1:e}=b,f=c.readSync(d.dataId),g=c.readSync(e.dataId),h=hJ.assertAndGetBroadcastShape(Array.from(f),Array.from(g));return c.makeTensorInfo([h.length],"int32",Int32Array.from(h))}},{kernelName:aW,backendName:"webgl",kernelFunc:function a(b){let{inputs:c,backend:d,attrs:e}=b,{x:f}=c,{dtype:g}=e;if("complex64"===g){if("complex64"===f.dtype)return y0({inputs:{x:f},backend:d});let b=gd(f.shape),c=a({inputs:{x:f},backend:d,attrs:{dtype:"float32"}}),e=y1({inputs:{real:c,imag:b},backend:d});return b.dispose(),d.disposeIntermediateTensorInfo(c),e}if("complex64"===f.dtype){let b=zR({inputs:{input:f},backend:d}),c=a({inputs:{x:b},backend:d,attrs:{dtype:g}});return d.disposeIntermediateTensorInfo(b),c}if(!jd.hasEncodingLoss(f.dtype,g)){let a=y0({inputs:{x:f},backend:d});return{dataId:a.dataId,shape:a.shape,dtype:g}}if(d.shouldExecuteOnCPU([f])){let[a,b,c]=xQ(d.texData.get(f.dataId).values,f.shape,f.dtype,g);return d.makeTensorInfo(a,b,c)}if("int32"===g){let a=new yF(f.shape,"return float(int(x));"),b=d.runWebGLProgram(a,[f],"int32");return{dataId:b.dataId,shape:b.shape,dtype:b.dtype}}if("bool"===g){let a=d.makeTensorInfo([],"bool",jd.getTypedArrayFromDType("bool",1)),b=zQ({inputs:{a:f,b:a},backend:d});return d.disposeIntermediateTensorInfo(a),b}throw Error(`Error in Cast: failed to cast ${f.dtype} to ${g}`)}},{kernelName:aX,backendName:"webgl",kernelFunc:zT},{kernelName:aY,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{clipValueMin:g,clipValueMax:h}=e;return b=aA.getBool("WEBGL_PACK_CLIP")?new zV(f.shape):new zU(f.shape),d.runWebGLProgram(b,[f],f.dtype,[[g],[h]])}},{kernelName:aZ,backendName:"webgl",kernelFunc:y1},{kernelName:a$,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{x:d}=b,e=c.texData.get(d.dataId),f=new zW(d.shape),g=[zX(d,e.complexTensorInfos.real),zX(d,e.complexTensorInfos.imag)];return c.runWebGLProgram(f,g,g[0].dtype)}},{kernelName:a_,backendName:"webgl",kernelFunc:z0},{kernelName:a0,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f,filter:g}=c,{strides:h,pad:i,dataFormat:j,dilations:k,dimRoundingMode:l}=e,m=hJ.convertConv2DDataFormat(j),n=hJ.computeConv2DInfo(f.shape,g.shape,h,k,i,l,!1,m);if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))b=z6({x:f,filter:g,convInfo:n,backend:d});else if(n.strideWidth<=2&&"channelsLast"===m&&aA.getBool("WEBGL_EXP_CONV")){let a=new z3(n),c=[[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inHeight,n.inWidth]];b=d.runWebGLProgram(a,[f,g],"float32",c)}else if(aA.getBool("WEBGL_CONV_IM2COL"))b=z7({x:f,filter:g,convInfo:n,backend:d});else{let a=new z1(n);b=d.runWebGLProgram(a,[f,g],"float32")}let o=zf({inputs:{x:b},backend:d,attrs:{shape:n.outShape}});return d.disposeIntermediateTensorInfo(b),o}},{kernelName:a1,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,pad:h,dataFormat:i,dimRoundingMode:j,filterShape:k}=d,l=hJ.convertConv2DDataFormat(i),m=new z8(hJ.computeConv2DInfo(e.shape,k,g,1,h,j,!1,l));return c.runWebGLProgram(m,[e,f],"float32")}},{kernelName:a2,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{inputShape:g,strides:h,pad:i,dataFormat:j,dimRoundingMode:k}=d,l=hJ.convertConv2DDataFormat(j),m=hJ.computeConv2DInfo(g,f.shape,h,1,i,k,!1,l);if(aA.getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===l){let a=[[m.strideHeight,m.strideWidth]],b=new Ac(m);return c.runWebGLProgram(b,[e,f],"float32",a)}{let a=new z9(m);return c.runWebGLProgram(a,[e,f],"float32")}}},{kernelName:a3,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,filter:f}=b,{strides:g,pad:h,dilations:i}=d,j=new z2(hJ.computeConv3DInfo(e.shape,f.shape,g,i,h));return c.runWebGLProgram(j,[e,f],"float32")}},{kernelName:a4,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,pad:h,filterShape:i}=d,j=new Aa(hJ.computeConv3DInfo(e.shape,i,g,1,h));return c.runWebGLProgram(j,[e,f],"float32")}},{kernelName:a5,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{pad:g,strides:h,inputShape:i}=d,j=new Ab(hJ.computeConv3DInfo(i,f.shape,h,1,g));return c.runWebGLProgram(j,[e,f],"float32")}},{kernelName:"Cos",backendName:"webgl",kernelFunc:Ad},{kernelName:a6,backendName:"webgl",kernelFunc:Ae},{kernelName:a9,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{image:e,boxes:f,boxInd:g}=b,{cropSize:h,method:i,extrapolationValue:j}=d,k=new Af(e.shape,f.shape,h,i,j);return c.runWebGLProgram(k,[e,f,g],"float32")}},{kernelName:a7,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,exclusive:g,reverse:h}=d;return Aj(x.Prod,e,c,f,g,h)}},{kernelName:a8,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{axis:f,exclusive:g,reverse:h}=d;return Aj(x.Sum,e,c,f,g,h)}},{kernelName:ba,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,weights:f}=b,{size:g,binaryOutput:h}=d;if(1===e.shape.length){let a=xN(c.readSync(e.dataId),c.readSync(f.dataId),f.dtype,f.shape,g);return c.makeTensorInfo([g],f.dtype,a)}if(2===e.shape.length){let a=xO(c.bufferSync(e),c.bufferSync(f),g,h);return c.makeTensorInfo(a.shape,f.dtype,a.values)}throw Error(`Error in denseBincount: input must be at most rank 2, but got rank${e.shape.length}.`)}},{kernelName:bb,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockSize:f,dataFormat:g}=d,h=e.shape[0],i="NHWC"===g?e.shape[1]:e.shape[2],j="NHWC"===g?e.shape[2]:e.shape[3],k="NHWC"===g?e.shape[3]:e.shape[1],l=i*f,m=j*f,n=k/(f*f),o=new Ak("NHWC"===g?[h,l,m,n]:[h,n,l,m],f,g);return c.runWebGLProgram(o,[e],e.dtype)}},{kernelName:bc,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f,filter:g}=c,{strides:h,pad:i,dilations:j,dimRoundingMode:k}=e,l=j;null==l&&(l=[1,1]),jd.assert(hJ.eitherStridesOrDilationsAreOne(h,l),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${h} and dilations '${l}'`);let m=hJ.computeConv2DInfo(f.shape,g.shape,h,l,i,k,!0);b=aA.getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels==1?new Am(m):new Al(m);let n=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]];return d.runWebGLProgram(b,[f,g],"float32",n)}},{kernelName:bd,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,dy:f}=b,{strides:g,dilations:h,pad:i,dimRoundingMode:j,filterShape:k}=d,l=new An(hJ.computeConv2DInfo(e.shape,k,g,h,i,j,!0));return c.runWebGLProgram(l,[e,f],"float32")}},{kernelName:be,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,filter:f}=b,{strides:g,dilations:h,pad:i,dimRoundingMode:j,inputShape:k}=d,l=new Ao(hJ.computeConv2DInfo(k,f.shape,g,h,i,j,!0));return c.runWebGLProgram(l,[e,f],"float32")}},{kernelName:bf,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{x:d}=b,e=[...d.shape,...d.shape],f=jd.sizeFromShape(d.shape),g=zf({inputs:{x:d},backend:c,attrs:{shape:[f]}}),h=new Ap(f),i=c.runWebGLProgram(h,[g],g.dtype),j=zf({inputs:{x:i},backend:c,attrs:{shape:e}});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(i),j}},{kernelName:bg,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f,filter:g}=c,{strides:h,pad:i,dilations:j}=e,k=hJ.computeDilation2DInfo(f.shape,g.shape,h,i,"NHWC",j),l=new Aq(k),m=zf({inputs:{x:b=d.runWebGLProgram(l,[f,g],"float32")},backend:d,attrs:{shape:k.outShape}});return d.disposeIntermediateTensorInfo(b),m}},{kernelName:bl,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{equation:e}=d,{allDims:f,summedDims:g,idDims:h}=hJ.decodeEinsumEquation(e,b.length);hJ.checkEinsumDimSizes(f.length,h,b);let{path:i,steps:j}=hJ.getEinsumComputePath(g,h),k=j.length,l=null,m=f.length,n=[];for(let a=0;a<k;++a){for(let d of j[a]){let a,{permutationIndices:e,expandDims:f}=hJ.getEinsumPermutation(m,h[d]);hJ.isIdentityPermutation(e)?a=b[d]:(a=zn({inputs:{x:b[d]},backend:c,attrs:{perm:e}}),n.push(a));let g=a.shape.slice();for(let a=0;a<f.length;++a)g.splice(f[a],0,1);jd.arraysEqual(a.shape,g)||(a=zf({inputs:{x:a},backend:c,attrs:{shape:g}}),n.push(a)),null===l?l=a:(l=ze({inputs:{a:a,b:l},backend:c}),n.push(l))}a<k-1&&(i[a]>=0&&(l=zm({inputs:{x:l},backend:c,attrs:{axis:i[a]-(f.length-m),keepDims:!1}}),n.push(l)),m--)}for(let a of n)a!==l&&c.disposeIntermediateTensorInfo(a);return l}},{kernelName:"Elu",backendName:"webgl",kernelFunc:Ar},{kernelName:bm,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c}=a,{dy:d,y:e}=b,f=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new y_(As,d.shape,e.shape):new yZ("return (b >= 0.0) ? a : a * (b + 1.0);",d.shape,e.shape);return c.runWebGLProgram(f,[d,e],d.dtype)}},{kernelName:bn,backendName:"webgl",kernelFunc:At},{kernelName:"Erf",backendName:"webgl",kernelFunc:Au},{kernelName:"Exp",backendName:"webgl",kernelFunc:Av},{kernelName:bo,backendName:"webgl",kernelFunc:Aw},{kernelName:bp,backendName:"webgl",kernelFunc:Ay},{kernelName:"FFT",backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{input:d}=b;return AA(d,!1,c)}},{kernelName:bq,backendName:"webgl",kernelFunc:AC},{kernelName:br,backendName:"webgl",kernelFunc:({inputs:a,backend:b})=>{let{image:c}=a,d=new AD(c.shape);return b.runWebGLProgram(d,[c],c.dtype)}},{kernelName:bs,backendName:"webgl",kernelFunc:AF},{kernelName:bt,backendName:"webgl",kernelFunc:AG},{kernelName:cX,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{pixels:e}=b,{numChannels:f}=d,g="undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement,h="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,[j,k]=g?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=[k,j],m=[k,j,f];if(h||g){let a=aA.getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==i||a!==AJ)&&(AJ=a,i=document.createElement("canvas").getContext("2d",{willReadFrequently:AJ})),i.canvas.width=j,i.canvas.height=k,i.drawImage(e,0,0,j,k),e=i.canvas}let n=c.makeTensorInfo(l,"int32");c.texData.get(n.dataId).usage=v.PIXELS,c.gpgpu.uploadPixelDataToTexture(c.getTexture(n.dataId),e);let o=aA.getBool("WEBGL_PACK")?new AI(m):new AH(m),p=c.runWebGLProgram(o,[n],"int32");return c.disposeData(n.dataId),p}},{kernelName:c$,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f,filter:g,bias:h,preluActivationWeights:i}=c,{strides:j,pad:k,dataFormat:l,dilations:m,dimRoundingMode:n,activation:o,leakyreluAlpha:p}=e,q=hJ.convertConv2DDataFormat(l),r=hJ.computeConv2DInfo(f.shape,g.shape,j,m,k,n,!1,q),s=[],t=null!=h,u=null!=i,v="leakyrelu"===o,w=()=>{let a=[f,g],b=(a,b)=>{if("NCHW"===b&&1===a.shape.length&&1!==a.shape[0]){let b=zf({inputs:{x:a},backend:d,attrs:{shape:[a.shape[0],1,1]}});return s.push(b),b}return a};if(t&&a.push(b(h,l)),u&&a.push(b(i,l)),v){let b=d.makeTensorInfo([],"float32",jd.createScalarValue(p,"float32"));a.push(b),s.push(b)}return a};if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))b=z6({x:f,filter:g,convInfo:r,backend:d,bias:h,activation:o,preluActivationWeights:i,leakyreluAlpha:p});else if(r.strideWidth<=2&&"channelsLast"===q&&aA.getBool("WEBGL_EXP_CONV")){let a=new z3(r,t,o?y9(o,!0):null,u,v),c=[[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inHeight,r.inWidth]],e=w();b=d.runWebGLProgram(a,e,"float32",c)}else if(aA.getBool("WEBGL_CONV_IM2COL"))b=z7({x:f,filter:g,convInfo:r,backend:d,bias:h,activation:o,preluActivationWeights:i,leakyreluAlpha:p});else{let a=new z1(r,t,o?y9(o,!1):null,u,v),c=w();b=d.runWebGLProgram(a,c,"float32")}let x=zf({inputs:{x:b},backend:d,attrs:{shape:r.outShape}});return s.push(b),s.forEach(a=>d.disposeIntermediateTensorInfo(a)),x}},{kernelName:c_,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f,filter:g,bias:h,preluActivationWeights:i}=c,{strides:j,pad:k,dilations:l,dimRoundingMode:m,activation:n,leakyreluAlpha:o}=e,p=[],q=l;null==q&&(q=[1,1]),jd.assert(hJ.eitherStridesOrDilationsAreOne(j,q),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${j} and dilations '${q}'`);let r=hJ.computeConv2DInfo(f.shape,g.shape,j,q,k,m,!0),s=aA.getBool("WEBGL_PACK_DEPTHWISECONV")&&r.strideWidth<=2&&r.outChannels/r.inChannels==1,t=n?y9(n,s):null,u=[f,g],v=null!=h,w=null!=i,x="leakyrelu"===n;if(v&&u.push(h),w&&u.push(i),x){let a=d.makeTensorInfo([],"float32",jd.createScalarValue(o,"float32"));u.push(a),p.push(a)}b=s?new Am(r,v,t,w,x):new Al(r,v,t,w,x);let y=[[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inHeight,r.inWidth]],z=d.runWebGLProgram(b,u,"float32",y);return p.forEach(a=>d.disposeIntermediateTensorInfo(a)),z}},{kernelName:bw,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{params:d,indices:e}=b,f=e.shape,g=f[f.length-1],h=jd.sizeFromShape(d.shape),[i,j,k,l]=hJ.prepareAndValidate(d,e),m=zf({inputs:{x:e},backend:c,attrs:{shape:[j,g]}}),n=zf({inputs:{x:d},backend:c,attrs:{shape:[jd.sizeFromShape(d.shape)/k,k]}});if(c.shouldExecuteOnCPU([d,e])||"string"===d.dtype){let a=xX(c.readSync(e.dataId),c.bufferSync(d),d.dtype,j,g,k,l,d.shape,h);return c.makeTensorInfo(i,d.dtype,a.values)}let o=new AK(g,l,[j,k],d.shape),p=c.runWebGLProgram(o,[n,m],n.dtype),q=zf({inputs:{x:p},backend:c,attrs:{shape:i}});return c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(p),q}},{kernelName:bv,backendName:"webgl",kernelFunc:AM},{kernelName:bx,backendName:"webgl",kernelFunc:AN},{kernelName:by,backendName:"webgl",kernelFunc:AO},{kernelName:bz,backendName:"webgl",kernelFunc:y0},{kernelName:bA,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{input:d}=b;return AA(d,!0,c)}},{kernelName:bB,backendName:"webgl",kernelFunc:z_},{kernelName:bC,backendName:"webgl",kernelFunc:AP},{kernelName:bD,backendName:"webgl",kernelFunc:AQ},{kernelName:bE,backendName:"webgl",kernelFunc:AR},{kernelName:bF,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{alpha:f}=d,g=c.makeTensorInfo([],"float32",jd.createScalarValue(f,"float32")),h=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new y_(y3,e.shape,g.shape):new yZ(y2,e.shape,g.shape),i=c.runWebGLProgram(h,[e,g],"float32");return c.disposeIntermediateTensorInfo(g),i}},{kernelName:bG,backendName:"webgl",kernelFunc:AS},{kernelName:bH,backendName:"webgl",kernelFunc:AT},{kernelName:bI,backendName:"webgl",kernelFunc:function(a){let{backend:b,attrs:c}=a,{start:d,stop:e,num:f}=c,g=x1(d,e,f);return b.makeTensorInfo([g.length],"float32",g)}},{kernelName:"Log",backendName:"webgl",kernelFunc:AU},{kernelName:bJ,backendName:"webgl",kernelFunc:AV},{kernelName:bK,backendName:"webgl",kernelFunc:AW},{kernelName:bL,backendName:"webgl",kernelFunc:AX},{kernelName:bM,backendName:"webgl",kernelFunc:AY},{kernelName:"LRN",backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{depthRadius:f,bias:g,alpha:h,beta:i}=d,j=aA.getBool("WEBGL_PACK_NORMALIZATION")?new A$(e.shape,f,g,h,i):new AZ(e.shape,f,g,h,i);return c.runWebGLProgram(j,[e],e.dtype)}},{kernelName:bN,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{x:e,y:f,dy:g}=b,{depthRadius:h,bias:i,alpha:j,beta:k}=d,l=new A_(e.shape,h,i,j,k);return c.runWebGLProgram(l,[e,f,g],e.dtype)}},{kernelName:"Max",backendName:"webgl",kernelFunc:A0},{kernelName:bO,backendName:"webgl",kernelFunc:A1},{kernelName:bP,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b;wX(e,"maxPool");let{filterSize:f,strides:g,pad:h,dimRoundingMode:i}=d;jd.assert(hJ.eitherStridesOrDilationsAreOne(g,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${g} and dilations '1'`);let j=hJ.computePool2DInfo(e.shape,f,g,1,h,i);if(1===j.filterWidth&&1===j.filterHeight&&jd.arraysEqual(j.inShape,j.outShape))return y0({inputs:{x:e},backend:c});let k=new zE(j,"max",!1);return c.runWebGLProgram(k,[e],e.dtype)}},{kernelName:bR,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{filterSize:f,strides:g,pad:h,dataFormat:i,dimRoundingMode:j}=d,k=new zF(hJ.computePool3DInfo(e.shape,f,g,[1,1,1],h,j,i),"max",!1);return c.runWebGLProgram(k,[e],e.dtype)}},{kernelName:bS,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f}=b,{filterSize:g,strides:h,pad:i,dimRoundingMode:j}=d,k=hJ.computePool3DInfo(f.shape,g,h,[1,1,1],i,j),l=new zF(k,"max",!0),m=c.runWebGLProgram(l,[f],f.dtype),n=new A3(k),o=c.runWebGLProgram(n,[e,m],f.dtype);return c.disposeIntermediateTensorInfo(m),o}},{kernelName:bQ,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{dy:e,input:f,output:g}=b;wX([f,g],"maxPoolGrad");let{filterSize:h,strides:i,pad:j,dimRoundingMode:k}=d,l=hJ.computePool2DInfo(f.shape,h,i,1,j,k),m=new zE(l,"max",!0),n=c.runWebGLProgram(m,[f],f.dtype),o=new A2(l),p=c.runWebGLProgram(o,[e,n],f.dtype);return c.disposeIntermediateTensorInfo(n),p}},{kernelName:bT,backendName:"webgl",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{x:d}=a,{filterSize:e,strides:f,pad:g,includeBatchInIndex:h}=b;jd.assert(4===d.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${d.shape.length}.`);let i=[1,1];jd.assert(hJ.eitherStridesOrDilationsAreOne(f,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${f} and dilations '${i}'`);let j=hJ.computePool2DInfo(d.shape,e,f,i,g),[k,l]=function(a,b,c,d){let e=new zE(c,"max",!1),f=d.runWebGLProgram(e,[a],"float32");return e=new zE(c,"max",!0,!0,b),[f,d.runWebGLProgram(e,[a],"float32")]}(d,h,j,c);return[k,l]}},{kernelName:bU,backendName:"webgl",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{x:d}=a,{keepDims:e,axis:f}=b,g=d.shape.length,h=jd.parseAxisParam(f,d.shape),i=h,j=hJ.getAxesPermutation(i,g),k=null!=j,l=c.shouldExecuteOnCPU([d]),m=[],n=d;if(k){if(l){let a=c.texData.get(n.dataId).values,b=Array(g);for(let a=0;a<b.length;a++)b[a]=d.shape[j[a]];let e=yv(a,d.shape,d.dtype,j,b);n=c.makeTensorInfo(b,d.dtype),c.texData.get(n.dataId).values=e}else n=zl(d,j,c);m.push(n),i=hJ.getInnerMostAxes(i.length,g)}hJ.assertAxesAreInnerMostDims("sum",i,g);let[o,p]=hJ.computeOutAndReduceShapes(n.shape,i),q=o;e&&(q=hJ.expandShapeToKeepDim(o,h));let r=function(a,b,c,d){let e=jd.sizeFromShape(b),f=jd.sizeFromShape(a.shape),g=zf({inputs:{x:a},attrs:{shape:[f/e,e]},backend:d}),h=zi(g,"float32","mean",d),i=zf({inputs:{x:h},attrs:{shape:c},backend:d});return d.disposeIntermediateTensorInfo(g),d.disposeIntermediateTensorInfo(h),i}(n,p,q,c);for(let a of m)c.disposeIntermediateTensorInfo(a);return r}},{kernelName:"Min",backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{axis:g,keepDims:h}=e,i=f.shape.length,j=jd.parseAxisParam(g,f.shape),k=j,l=hJ.getAxesPermutation(k,i),m=f;null!=l&&(m=zn({inputs:{x:f},backend:d,attrs:{perm:l}}),k=hJ.getInnerMostAxes(k.length,f.shape.length)),hJ.assertAxesAreInnerMostDims("min",k,i);let[n,o]=hJ.computeOutAndReduceShapes(m.shape,k),p=zf({inputs:{x:m},backend:d,attrs:{shape:[-1,jd.sizeFromShape(o)]}}),q=zi(p,p.dtype,"min",d);return b=h?zf({inputs:{x:q},backend:d,attrs:{shape:hJ.expandShapeToKeepDim(n,j)}}):zf({inputs:{x:q},backend:d,attrs:{shape:n}}),d.disposeIntermediateTensorInfo(p),d.disposeIntermediateTensorInfo(q),null!=l&&d.disposeIntermediateTensorInfo(m),b}},{kernelName:bV,backendName:"webgl",kernelFunc:A4},{kernelName:bW,backendName:"webgl",kernelFunc:({inputs:a,backend:b,attrs:c})=>{let{x:d}=a,{paddings:e,mode:f}=c,g=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new A6(d.shape,e,f):new A5(d.shape,e,f);return b.runWebGLProgram(g,[d],d.dtype)}},{kernelName:"Mod",backendName:"webgl",kernelFunc:A7},{kernelName:bX,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{logits:e}=b,{numSamples:f,seed:g,normalized:h}=d,i=h?e:Bc({inputs:{logits:e},backend:c,attrs:{dim:e.shape.length-1}}),j=new A8(i.shape[0],i.shape[1],f),k=c.runWebGLProgram(j,[i],"int32",[[g]]);return h||c.disposeIntermediateTensorInfo(i),k}},{kernelName:bY,backendName:"webgl",kernelFunc:ze},{kernelName:"Neg",backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d}=a,{x:e}=c;if(d.shouldExecuteOnCPU([e])){let[a,b]=x7(d.texData.get(e.dataId).values,e.shape,e.dtype);return d.makeTensorInfo(b,e.dtype,a)}return b=aA.getBool("WEBGL_PACK_UNARY_OPERATIONS")?new yO(e.shape,Be):new yF(e.shape,Bd),d.runWebGLProgram(b,[e],e.dtype)}},{kernelName:b$,backendName:"webgl",kernelFunc:function(a){hJ.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i}=d,{selectedIndices:j}=Bf(c.readSync(e.dataId),c.readSync(f.dataId),g,h,i);return c.makeTensorInfo([j.length],"int32",new Int32Array(j))}},{kernelName:b_,backendName:"webgl",kernelFunc:function(a){hJ.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i,padToMaxOutputSize:j}=d,{selectedIndices:k,validOutputs:l}=Bg(c.readSync(e.dataId),c.readSync(f.dataId),g,h,i,j);return[c.makeTensorInfo([k.length],"int32",new Int32Array(k)),c.makeTensorInfo([],"int32",new Int32Array([l]))]}},{kernelName:b0,backendName:"webgl",kernelFunc:function(a){hJ.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:b,backend:c,attrs:d}=a,{boxes:e,scores:f}=b,{maxOutputSize:g,iouThreshold:h,scoreThreshold:i,softNmsSigma:j}=d,k=c.readSync(e.dataId),{selectedIndices:l,selectedScores:m}=Bh(k,c.readSync(f.dataId),g,h,i,j);return[c.makeTensorInfo([l.length],"int32",new Int32Array(l)),c.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},{kernelName:bZ,backendName:"webgl",kernelFunc:zQ},{kernelName:b2,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{indices:e}=b,{dtype:f,depth:g,onValue:h,offValue:i}=d,j=jd.sizeFromShape(e.shape),k=new Bi(j,g,h,i),l=zf({inputs:{x:e},backend:c,attrs:{shape:[j]}}),m=c.runWebGLProgram(k,[l],f);c.disposeIntermediateTensorInfo(l);let n=zf({inputs:{x:m},backend:c,attrs:{shape:[...e.shape,g]}});return c.disposeIntermediateTensorInfo(m),n}},{kernelName:b1,backendName:"webgl",kernelFunc:function a(b){let{inputs:c,backend:d}=b,{x:e}=c;if("string"===e.dtype)throw Error("onesLike is not supported under string dtype");if("complex64"!==e.dtype)return AC({attrs:{shape:e.shape,dtype:e.dtype,value:1},backend:d});{let b=zR({inputs:{input:e},backend:d}),c=a({inputs:{x:b},backend:d}),f=z_({inputs:{input:e},backend:d}),g=Bj({inputs:{x:f},backend:d}),h=y1({inputs:{real:c,imag:g},backend:d});return d.disposeIntermediateTensorInfo(b),d.disposeIntermediateTensorInfo(c),d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(g),h}}},{kernelName:b3,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{axis:e}=d;if(1===b.length)return Aw({inputs:{input:b[0]},backend:c,attrs:{dim:e}});let f=b[0].shape,g=b[0].dtype;b.forEach(a=>{jd.assertShapesMatch(f,a.shape,"All tensors passed to stack must have matching shapes"),jd.assert(g===a.dtype,()=>"All tensors passed to stack must have matching dtypes")});let h=[],i=z0({inputs:b.map(a=>{let b=Aw({inputs:{input:a},backend:c,attrs:{dim:e}});return h.push(b),b}),backend:c,attrs:{axis:e}});return h.forEach(a=>c.disposeIntermediateTensorInfo(a)),i}},{kernelName:b4,backendName:"webgl",kernelFunc:Bm},{kernelName:"Pow",backendName:"webgl",kernelFunc:Bn},{kernelName:b5,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{x:d,alpha:e}=b,f=aA.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new y_(y5,d.shape,e.shape):new yZ(y4,d.shape,e.shape);return c.runWebGLProgram(f,[d,e],"float32")}},{kernelName:b6,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{axis:g,keepDims:h}=e,i=f.shape.length,j=[],k=jd.parseAxisParam(g,f.shape),l=k,m=hJ.getAxesPermutation(l,i),n=f;if(null!=m&&(n=zn({inputs:{x:f},backend:d,attrs:{perm:m}}),l=hJ.getInnerMostAxes(l.length,i),j.push(n)),hJ.assertAxesAreInnerMostDims("prod",l,i),d.shouldExecuteOnCPU([n])){let a=d.texData.get(n.dataId).values,{outVals:c,outShape:e,outDtype:f}=x9(n.shape,n.dtype,a,l);b=d.makeTensorInfo(e,f,c)}else{let[a,c]=hJ.computeOutAndReduceShapes(n.shape,l),e=zf({inputs:{x:n},backend:d,attrs:{shape:[-1,jd.sizeFromShape(c)]}}),g=zi(e,du(f.dtype),"prod",d);b=zf({inputs:{x:g},backend:d,attrs:{shape:a}}),j.push(e),j.push(g)}if(h){j.push(b);let a=hJ.expandShapeToKeepDim(b.shape,k);b=zf({inputs:{x:b},backend:d,attrs:{shape:a}})}return j.forEach(a=>d.disposeIntermediateTensorInfo(a)),b}},{kernelName:b7,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{paramsNestedSplits:e,paramsDenseValues:f,indices:g}=b,{outputRaggedRank:h}=d,i=e.map(a=>c.readSync(a.dataId)),j=e.map(a=>a.shape),k=c.readSync(f.dataId),l=c.readSync(g.dataId),[m,n,o]=ya(i,j,k,f.shape,f.dtype,l,g.shape,h),p=m.map(a=>c.makeTensorInfo([a.length],"int32",a)),q=c.makeTensorInfo(o,f.dtype,n);return p.concat([q])}},{kernelName:b8,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{starts:d,limits:e,deltas:f}=b,g=c.readSync(d.dataId),h=c.readSync(e.dataId),i=c.readSync(f.dataId),[j,k]=yb(g,d.shape,d.dtype,h,e.shape,i,f.shape);return[c.makeTensorInfo([j.length],"int32",j),c.makeTensorInfo([k.length],d.dtype,k)]}},{kernelName:b9,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{shape:e,values:f,defaultValue:g,rowPartitionTensors:h}=b,{rowPartitionTypes:i}=d,j=c.readSync(e.dataId),k=c.readSync(f.dataId),l=c.readSync(g.dataId),m=h.map(a=>c.readSync(a.dataId)),n=h.map(a=>a.shape),[o,p]=yc(j,e.shape,k,f.shape,f.dtype,l,g.shape,m,n,i);return c.makeTensorInfo(o,f.dtype,p)}},{kernelName:ca,backendName:"webgl",kernelFunc:Bo},{kernelName:cb,backendName:"webgl",kernelFunc:zR},{kernelName:bk,backendName:"webgl",kernelFunc:A9},{kernelName:cc,backendName:"webgl",kernelFunc:Bp},{kernelName:cd,backendName:"webgl",kernelFunc:Bq},{kernelName:cj,backendName:"webgl",kernelFunc:Br},{kernelName:ce,backendName:"webgl",kernelFunc:zf},{kernelName:ch,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e}=b,{alignCorners:f,halfPixelCenters:g,size:h}=d,[i,j]=h,k=aA.getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Bt(e.shape,i,j,f,g):new Bs(e.shape,i,j,f,g);return c.runWebGLProgram(k,[e],"float32")}},{kernelName:ci,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e,dy:f}=b,{alignCorners:g}=d,h=new Bu(f.shape,e.shape,g);return c.runWebGLProgram(h,[f],f.dtype)}},{kernelName:cf,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e}=b,{alignCorners:f,halfPixelCenters:g,size:h}=d,[i,j]=h,k=aA.getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Bw(e.shape,i,j,f,g):new Bv(e.shape,i,j,f,g);return c.runWebGLProgram(k,[e],e.dtype)}},{kernelName:cg,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{images:e,dy:f}=b,{alignCorners:g}=d,h=new Bx(f.shape,e.shape,g);return c.runWebGLProgram(h,[f],f.dtype)}},{kernelName:ck,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{dims:f}=d,g=e.shape.length,h=jd.parseAxisParam(f,e.shape);if(0===g)return y0({inputs:{x:e},backend:c});let i=aA.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bz(e.shape,h):new By(e.shape,h);return c.runWebGLProgram(i,[e],e.dtype)}},{kernelName:cY,backendName:"webgl",kernelFunc:({inputs:a,attrs:b,backend:c})=>{let{image:d}=a,{radians:e,fillValue:f,center:g}=b,h=new BA(d.shape,f),[i,j]=hJ.getImageCenter(g,d.shape[1],d.shape[2]),k=[[i,j,Math.sin(e),Math.cos(e)]];return c.runWebGLProgram(h,[d],d.dtype,k)}},{kernelName:cl,backendName:"webgl",kernelFunc:BB},{kernelName:cm,backendName:"webgl",kernelFunc:BC},{kernelName:cn,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{indices:f,updates:g}=c,{shape:h}=e,{sliceRank:i,numUpdates:j,sliceSize:k,strides:l,outputSize:m}=hJ.calculateShapes(g,f,h),n=[m/k,k];if(0===m)return d.makeTensorInfo(h,f.dtype);let o=zf({inputs:{x:f},backend:d,attrs:{shape:[j,i]}}),p=zf({inputs:{x:g},backend:d,attrs:{shape:[j,k]}}),q=d.makeTensorInfo([],"float32",new Float32Array([0]));b=aA.getBool("WEBGL_PACK")?new BE(j,i,o.shape.length,p.shape.length,l,n):new BD(j,i,o.shape.length,p.shape.length,l,n);let r=d.runWebGLProgram(b,[p,o,q],p.dtype),s=zf({inputs:{x:r},backend:d,attrs:{shape:h}});return d.disposeIntermediateTensorInfo(o),d.disposeIntermediateTensorInfo(p),d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(q),s}},{kernelName:cp,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{sortedSequence:e,values:f}=b,{side:g}=d,h=new BF(e.shape[0],e.shape[1],f.shape[1],g),i=[[e.shape[1]]];return c.runWebGLProgram(h,[e,f],"int32",i)}},{kernelName:cq,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{condition:d,t:e,e:f}=b,g=new BG(d.shape.length,e.shape,e.shape.length);return c.runWebGLProgram(g,[d,e,f],dt(e.dtype,f.dtype))}},{kernelName:cr,backendName:"webgl",kernelFunc:BH},{kernelName:cv,backendName:"webgl",kernelFunc:BI},{kernelName:cu,backendName:"webgl",kernelFunc:BJ},{kernelName:"Sin",backendName:"webgl",kernelFunc:BK},{kernelName:ct,backendName:"webgl",kernelFunc:BL},{kernelName:cs,backendName:"webgl",kernelFunc:zN},{kernelName:cA,backendName:"webgl",kernelFunc:Bc},{kernelName:cw,backendName:"webgl",kernelFunc:BM},{kernelName:cy,backendName:"webgl",kernelFunc:a=>{let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{blockShape:f,paddings:g}=d;jd.assert(e.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let h=f.reduce((a,b)=>a*b),i=[[0,0]];i.push(...g);for(let a=1+f.length;a<e.shape.length;++a)i.push([0,0]);let j=[],k=Bm({inputs:{x:e},backend:c,attrs:{paddings:i,constantValue:0}}),l=hJ.getReshaped(k.shape,f,h,!1),m=hJ.getPermuted(l.length,f.length,!1),n=hJ.getReshapedPermuted(k.shape,f,h,!1),o=zf({inputs:{x:k},backend:c,attrs:{shape:l}}),p=zn({inputs:{x:o},backend:c,attrs:{perm:m}}),q=zf({inputs:{x:p},backend:c,attrs:{shape:n}});return j.push(k),j.push(o),j.push(p),j.forEach(a=>c.disposeIntermediateTensorInfo(a)),q}},{kernelName:cB,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{indices:d,values:e,denseShape:f,defaultValue:g}=b;if(1!==f.shape.length)throw Error(`Dense shape must be a vector, saw:
         ${f.shape}`);if(2!==d.shape.length)throw Error(`Indices must be a matrix, saw:
         ${d.shape}`);if(1!==e.shape.length)throw Error(`Values must be a vector, saw:
         ${e.shape}`);if(0!==g.shape.length)throw Error(`Default value must be a scalar, saw:
        ${g.shape}`);let h=c.readSync(d.dataId),i=c.readSync(e.dataId),j=c.readSync(f.dataId),k=c.readSync(g.dataId)[0],[l,m,n,o,p]=yj(h,d.shape,d.dtype,i,e.dtype,j,k);return[c.makeTensorInfo(m,d.dtype,l),c.makeTensorInfo([m[0]],e.dtype,n),c.makeTensorInfo([o.length],"bool",new Uint8Array(o.map(a=>Number(a)))),c.makeTensorInfo([p.length],d.dtype,new Int32Array(p))]}},{kernelName:cC,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{inputIndices:d,inputShape:e,newShape:f}=b;if(2!==d.shape.length)throw Error(`Input indices should be a matrix but received shape ${d.shape}`);if(1!==e.shape.length)throw Error(`Input shape should be a vector but received shape ${e.shape}`);if(1!==f.shape.length)throw Error(`Target shape should be a vector but received shape ${f.shape}`);let g=Array.from(c.readSync(e.dataId)),h=c.readSync(d.dataId),i=Array.from(c.readSync(f.dataId)),[j,k,l]=yk(h,d.shape,d.dtype,g,i);return[c.makeTensorInfo(k,d.dtype,j),c.makeTensorInfo([l.length],f.dtype,new Int32Array(l))]}},{kernelName:cD,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{data:d,indices:e,segmentIds:f}=b;if(d.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.shape.length)throw Error(`Indices should be a vector but received shape
              ${e.shape}`);if(1!==f.shape.length)throw Error(`Segment ids should be a vector but received shape
              ${f.shape}`);let g=c.readSync(d.dataId),h=c.readSync(e.dataId),i=c.readSync(f.dataId),[j,k]=yl(g,d.shape,d.dtype,h,i,!0);return c.makeTensorInfo(k,d.dtype,j)}},{kernelName:cE,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c}=a,{data:d,indices:e,segmentIds:f}=b;if(d.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==e.shape.length)throw Error(`Indices should be a vector but received shape
             ${e.shape}`);if(1!==f.shape.length)throw Error(`Segment ids should be a vector but received shape
             ${f.shape}`);let g=c.readSync(d.dataId),h=c.readSync(e.dataId),i=c.readSync(f.dataId),[j,k]=yl(g,d.shape,d.dtype,h,i);return c.makeTensorInfo(k,d.dtype,j)}},{kernelName:cF,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{sparseIndices:e,sparseValues:f,defaultValue:g}=b,{outputShape:h}=d,{sliceRank:i,numUpdates:j,sliceSize:k,strides:l,outputSize:m}=hJ.calculateShapes(f,e,h);if("string"===f.dtype){let a=c.bufferSync(e),b=yf(a,c.bufferSync(f),h,m,k,j,i,l,jd.decodeString(c.readSync(g.dataId)[0]),!1);return c.makeTensorInfo(h,b.dtype,b.values)}let n=new BD(j,i,e.shape.length,f.shape.length,l,[m,1],!1),o=c.runWebGLProgram(n,[f,e,g],f.dtype),p=zf({inputs:{x:o},backend:c,attrs:{shape:h}});return c.disposeIntermediateTensorInfo(o),p}},{kernelName:cz,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{numOrSizeSplits:f,axis:g}=d,h=jd.parseAxisParam(g,e.shape)[0],i=hJ.prepareSplitSize(e,f,h),j=Array(e.shape.length).fill(0),k=e.shape.slice();return i.map(a=>{let b=[...k];b[h]=a;let d=zN({inputs:{x:e},backend:c,attrs:{begin:j,size:b}});return j[h]+=a,d})}},{kernelName:cx,backendName:"webgl",kernelFunc:BO},{kernelName:cH,backendName:"webgl",kernelFunc:BP},{kernelName:cG,backendName:"webgl",kernelFunc:BR},{kernelName:cI,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b;if("string"!==e.dtype)throw Error("Input must be of datatype string");let f=c.readSync(e.dataId),g=yn(hJ.fromUint8ToStringArray(f),"string",d);return c.makeTensorInfo(e.shape,"string",g)}},{kernelName:cW,backendName:"webgl",kernelFunc:function({inputs:a,attrs:b,backend:c}){let{x:d}=a,e=yG+`
    return x > 0.0 ? 1.0 : float(${b.alpha});
  `,f=new yF(d.shape,e);return c.runWebGLProgram(f,[d],d.dtype)}},{kernelName:cJ,backendName:"webgl",kernelFunc:function(a){let b,{inputs:c,backend:d,attrs:e}=a,{x:f}=c,{begin:g,end:h,strides:i,beginMask:j,endMask:k,ellipsisMask:l,newAxisMask:m,shrinkAxisMask:n}=e,{finalShapeSparse:o,finalShape:p,isIdentity:q,sliceDim0:r,isSimpleSlice:s,begin:t,end:u,strides:v}=uB.sliceInfo(f.shape,g,h,i,j,k,l,m,n);if(q)b=zf({inputs:{x:f},backend:d,attrs:{shape:p}});else if(r||s){jd.assert(f.shape.length>=1,()=>`Input must have rank at least 1, got: ${f.shape.length}`);let a=uB.computeOutShape(t,u,v),c=zN({inputs:{x:f},backend:d,attrs:{begin:t,size:a}});b=zf({inputs:{x:c},backend:d,attrs:{shape:p}}),d.disposeIntermediateTensorInfo(c)}else if(d.shouldExecuteOnCPU([f])){let a=d.readSync(f.dataId),c=yo(o,eD(f.shape,f.dtype,a),v,t);b=d.makeTensorInfo(p,f.dtype,c.values)}else{let a=new BS(t,v,o);b=d.runWebGLProgram(a,[f],f.dtype)}let w=zf({inputs:{x:b},backend:d,attrs:{shape:p}});return d.disposeIntermediateTensorInfo(b),w}},{kernelName:cK,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{separator:e,nGramWidths:f,leftPad:g,rightPad:h,padWidth:i,preserveShortSequences:j}=d,{data:k,dataSplits:l}=b,[m,n]=yp(c.readSync(k.dataId),c.readSync(l.dataId),e,f,g,h,i,j);return[c.makeTensorInfo([m.length],"string",m),c.makeTensorInfo(l.shape,"int32",n)]}},{kernelName:cL,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{skipEmpty:e}=d,{input:f,delimiter:g}=b;if("string"!==f.dtype)throw Error("Input must be of datatype string");if(1!==f.shape.length)throw Error(`Input must be a vector, got shape: ${f.shape}`);if(0!==g.shape.length)throw Error(`Delimiter must be a scalar, got shape: ${g.shape}`);let[h,i,j]=yq(c.readSync(f.dataId),c.readSync(g.dataId)[0],e),k=i.length;return[c.makeTensorInfo([k,2],"int32",h),c.makeTensorInfo([k],"string",i),c.makeTensorInfo([2],"int32",new Int32Array(j))]}},{kernelName:cM,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{numBuckets:e}=d,{input:f}=b;if("string"!==f.dtype)throw Error("Input must be of datatype string");if(e<=0)throw Error("Number of buckets must be at least 1");let g=yr(c.readSync(f.dataId),e);return c.makeTensorInfo(f.shape,"int32",g)}},{kernelName:"Sub",backendName:"webgl",kernelFunc:Bb},{kernelName:"Sum",backendName:"webgl",kernelFunc:zm},{kernelName:"Tan",backendName:"webgl",kernelFunc:BT},{kernelName:cN,backendName:"webgl",kernelFunc:BU},{kernelName:co,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{tensor:e,indices:f,updates:g}=b,{}=d,{sliceRank:h,numUpdates:i,sliceSize:j,strides:k,outputSize:l}=hJ.calculateShapes(g,f,e.shape),m=[l/j,j];if(0===l)return c.makeTensorInfo(e.shape,f.dtype);let n=zf({inputs:{x:f},backend:c,attrs:{shape:[i,h]}}),o=zf({inputs:{x:g},backend:c,attrs:{shape:[i,j]}}),p=zf({inputs:{x:e},backend:c,attrs:{shape:m}}),q=new BD(i,h,n.shape.length,o.shape.length,k,m,!1,!0),r=c.runWebGLProgram(q,[o,n,p],p.dtype),s=zf({inputs:{x:r},backend:c,attrs:{shape:e.shape}});return c.disposeIntermediateTensorInfo(n),c.disposeIntermediateTensorInfo(o),c.disposeIntermediateTensorInfo(p),c.disposeIntermediateTensorInfo(r),s}},{kernelName:cO,backendName:"webgl",kernelFunc:BW},{kernelName:cP,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e}=b,{k:f,sorted:g}=d,h=aA.getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),i=aA.getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),j=e.shape,k=j[j.length-1];if(c.shouldExecuteOnCPU([e])||k<h||f>i){let[a,b]=yu(c.readSync(e.dataId),j,e.dtype,f,g);return[c.makeTensorInfo(a.shape,a.dtype,a.values),c.makeTensorInfo(b.shape,b.dtype,b.values)]}if(0===f)return j[j.length-1]=0,[c.makeTensorInfo(j,e.dtype,[]),c.makeTensorInfo(j,"int32",[])];if(1===k)return[e,AC({attrs:{shape:j,dtype:"int32",value:0},backend:c})];let l=c.texData.get(e.dataId),m=null!==l&&l.isPacked,n=m?c.unpackTensor(e):e,o=jd.sizeFromShape(j)/k,p=zf({inputs:{x:n},attrs:{shape:[o,k]},backend:c});m&&BZ(c,n);let q=B$(f),r=B$(k),s=null,t=()=>null===s?[p,p]:[p,s],u=(a,b,d)=>{let e=t(),f=new BX(d),g=[[k],[+(null===s)],[-1/0],[a],[b]],h=s;s=c.runWebGLProgram(f,e,"int32",g),BZ(c,h)};for(let a=1;a<q;a*=2){let b=2*a;for(let c=a;c>=1;c/=2)u(b,c,[o,r])}for(let a=r;a>q;a/=2){let b=t(),d=new BY([o,a/2]),e=[[k],[+(null===s)],[q]],f=s;s=c.runWebGLProgram(d,b,"int32",e),BZ(c,f);let g=q/2,h=2*g;for(let a=g;a>=1;a/=2)u(h,a,s.shape)}let v=s;s=zN({inputs:{x:s},backend:c,attrs:{begin:0,size:[o,f]}}),BZ(c,v);let w=AM({inputs:{x:p,indices:s},backend:c,attrs:{axis:1,batchDims:1}});BZ(c,p);let x=j.slice(0,-1);x.push(f),v=s,s=zf({inputs:{x:s},attrs:{shape:x},backend:c}),BZ(c,v);let y=w;return w=zf({inputs:{x:w},attrs:{shape:x},backend:c}),BZ(c,y),[w,s]}},{kernelName:cQ,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{image:e,transforms:f}=b,{interpolation:g,fillMode:h,fillValue:i,outputShape:j}=d,[k,l,m,n]=e.shape,[o,p]=null!=j?j:[l,m],q=new B_(l,m,g,h,i,[k,o,p,n]);return c.runWebGLProgram(q,[e,f],"float32")}},{kernelName:cR,backendName:"webgl",kernelFunc:zn},{kernelName:cS,backendName:"webgl",kernelFunc:function(a){let{inputs:b,attrs:c,backend:d}=a,{axis:e}=c,{x:f}=b;wX(f,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let{outputValues:g,outputShape:h,indices:i}=yw(d.readSync(f.dataId),e,f.shape,f.dtype);return[d.makeTensorInfo(h,f.dtype,g),d.makeTensorInfo([i.length],"int32",i)]}},{kernelName:cT,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{value:e}=b,{axis:f}=d;f<0&&(f+=e.shape.length);let g=e.shape.length,h=e.shape[f],i=Array(g-1),j=0;for(let a=0;a<g;a++)a!==f&&(i[j++]=e.shape[a]);let k=[],l=Array(g).fill(0),m=e.shape.slice();m[f]=1;let n=Array(h);for(let a=0;a<n.length;a++){l[f]=a;let b=zN({inputs:{x:e},backend:c,attrs:{begin:l,size:m}}),d=zf({inputs:{x:b},backend:c,attrs:{shape:i}});n[a]=d,k.push(b)}return k.forEach(a=>c.disposeIntermediateTensorInfo(a)),n}},{kernelName:cU,backendName:"webgl",kernelFunc:function(a){let{inputs:b,backend:c,attrs:d}=a,{x:e,segmentIds:f}=b,{numSegments:g}=d,h=e.shape.length,i=[],j=0,k=hJ.getAxesPermutation([j],h),l=e;null!=k&&(l=zn({inputs:{x:e},backend:c,attrs:{perm:k}}),i.push(l),j=hJ.getInnerMostAxes(1,h)[0]);let m=hJ.segment_util.computeOutShape(l.shape,j,g),n=jd.sizeFromShape([l.shape[j]]),o=zf({inputs:{x:l},backend:c,attrs:{shape:[-1,n]}});i.push(o);let p=du(e.dtype),q=(a,b,d,e,f)=>{let g=a.shape[0],h=a.shape[1],j=hJ.segment_util.segOpComputeOptimalWindowSize(h,f),k=new B0({windowSize:j,inSize:h,batchSize:g,numSegments:f},b),l=c.compileAndRun(k,[a,d],e);if(i.push(l),l.shape[1]===f)return l;let m=Bo({backend:c,attrs:{start:0,stop:f,step:1,dtype:"float32"}}),n=BW({inputs:{x:m},backend:c,attrs:{reps:[h/j]}});return i.push(m),i.push(n),q(l,b,n,e,f)},r=zf({inputs:{x:q(o,"unsortedSegmentSum",f,p,g)},backend:c,attrs:{shape:m}}),s=r;return null!=k&&(i.push(r),s=zn({inputs:{x:s},backend:c,attrs:{perm:hJ.getUndoAxesPermutation(k)}})),i.forEach(a=>c.disposeIntermediateTensorInfo(a)),s}},{kernelName:cV,backendName:"webgl",kernelFunc:Bj}])c6(a);a.i(28496),a.i(62536),a.s(["GPGPUContext",()=>xL,"MathBackendWebGL",()=>yT,"forceHalfFloat",()=>yW,"gpgpu_util",()=>B1,"setWebGLContext",()=>v8,"webgl_util",()=>B2],20577),a.i(49679);var B1=yU,B2=yV;a.i(20577),a.i(28665);let B3=[{name:"Demand Forecasting",description:"Predicts automotive parts demand using historical data and market trends",accuracy:94.7,status:"ready"},{name:"Quality Prediction",description:"Identifies potential quality issues before they occur in production",accuracy:98.2,status:"ready"},{name:"Supply Chain Risk",description:"Assesses supplier reliability and delivery risk factors",accuracy:91.5,status:"training"},{name:"Inventory Optimization",description:"Optimizes stock levels to minimize costs while ensuring availability",accuracy:96.3,status:"ready"}];function B4(){let[a,b]=(0,z.useState)(B3[0]),[c,d]=(0,z.useState)(null),[e,f]=(0,z.useState)(!1),[g,h]=(0,z.useState)(!1);(0,z.useEffect)(()=>{dF.ready().then(()=>{h(!0)})},[]);let i=async()=>{if(g){f(!0);try{var a;let b=(a={layers:[q4.dense({inputShape:[4],units:10,activation:"relu"}),q4.dense({units:1,activation:"sigmoid"})]},new nO(a)),c=k5([1,4]),e=b.predict(c),g=await e.data(),h=Math.floor(5e3*g[0]+2e3),i=Math.floor(20*Math.random()+80),j=["up","down","stable"],k=j[Math.floor(Math.random()*j.length)];setTimeout(()=>{d({demand:h,confidence:i,trend:k}),f(!1)},2e3),c.dispose(),e.dispose(),b.dispose()}catch(a){console.error("Prediction error:",a),f(!1)}}};return(0,y.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-900 to-blue-900",children:(0,y.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,y.jsxs)(A.motion.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,y.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"AI/ML Integration Framework"}),(0,y.jsx)("p",{className:"text-lg text-slate-300 max-w-3xl mx-auto",children:"Advanced machine learning models powered by TensorFlow.js for real-time automotive predictions"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,y.jsxs)(A.motion.div,{className:"bg-white rounded-lg shadow-xl p-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,y.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"ML Models Portfolio"}),(0,y.jsx)("div",{className:"space-y-4",children:B3.map(c=>(0,y.jsxs)(A.motion.div,{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-300 ${a.name===c.name?"border-primary-500 bg-primary-50":"border-automotive-chrome hover:border-primary-300"}`,onClick:()=>b(c),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,y.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,y.jsx)("h4",{className:"font-semibold text-automotive-carbon",children:c.name}),(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("div",{className:`w-3 h-3 rounded-full ${(a=>{switch(a){case"ready":return"bg-automotive-success";case"training":return"bg-automotive-warning";case"predicting":return"bg-automotive-electric";default:return"bg-automotive-steel"}})(c.status)}`}),(0,y.jsx)("span",{className:"text-sm text-automotive-steel capitalize",children:c.status})]})]}),(0,y.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:c.description}),(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("span",{className:"text-sm font-medium text-automotive-carbon",children:["Accuracy: ",c.accuracy,"%"]}),(0,y.jsx)("div",{className:"w-24 bg-automotive-chrome rounded-full h-2",children:(0,y.jsx)("div",{className:"bg-automotive-success h-2 rounded-full transition-all duration-300",style:{width:`${c.accuracy}%`}})})]})]},c.name))})]}),(0,y.jsxs)(A.motion.div,{className:"bg-white rounded-lg shadow-xl p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,y.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Live Prediction Engine"}),(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsxs)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:["Selected Model: ",a.name]}),(0,y.jsx)("p",{className:"text-sm text-automotive-steel",children:a.description})]}),(0,y.jsx)(A.motion.button,{className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-300 ${e||!g?"bg-automotive-steel text-white cursor-not-allowed":"bg-primary-500 hover:bg-primary-600 text-white shadow-lg hover:shadow-xl"}`,onClick:i,disabled:e||!g,whileHover:!e&&g?{scale:1.02}:{},whileTap:!e&&g?{scale:.98}:{},children:g?e?"Running Prediction...":"Generate Prediction":"Initializing TensorFlow.js..."}),(0,y.jsx)("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("div",{className:`w-2 h-2 rounded-full ${g?"bg-automotive-success":"bg-automotive-warning"}`}),(0,y.jsxs)("span",{className:"text-sm text-automotive-steel",children:["TensorFlow.js: ",g?"Ready":"Loading..."]})]})}),c&&(0,y.jsxs)(A.motion.div,{className:"mt-6 p-4 bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,y.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-4",children:"Prediction Results"}),(0,y.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:c.demand.toLocaleString()}),(0,y.jsx)("div",{className:"text-sm text-automotive-steel",children:"Units Demand"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsxs)("div",{className:"text-2xl font-bold text-automotive-success",children:[c.confidence,"%"]}),(0,y.jsx)("div",{className:"text-sm text-automotive-steel",children:"Confidence"})]})]}),(0,y.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[(0,y.jsx)("span",{className:"text-2xl",children:(a=>{switch(a){case"up":return"";case"down":return"";case"stable":return"";default:return""}})(c.trend)}),(0,y.jsxs)("span",{className:"text-sm font-medium text-automotive-carbon capitalize",children:[c.trend," Trend Detected"]})]})]})]})]}),(0,y.jsxs)(A.motion.div,{className:"mt-12 bg-white rounded-lg shadow-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[(0,y.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Technical Architecture"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,y.jsx)("span",{className:"text-2xl",children:""})}),(0,y.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"TensorFlow.js"}),(0,y.jsx)("p",{className:"text-sm text-automotive-steel",children:"Client-side machine learning with WebGL acceleration"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,y.jsx)("span",{className:"text-2xl",children:""})}),(0,y.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Real-time Processing"}),(0,y.jsx)("p",{className:"text-sm text-automotive-steel",children:"Instant predictions without server round-trips"})]}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,y.jsx)("span",{className:"text-2xl",children:""})}),(0,y.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Privacy First"}),(0,y.jsx)("p",{className:"text-sm text-automotive-steel",children:"All processing happens locally in the browser"})]})]})]})]})})}},32546,a=>{"use strict";a.s(["default",()=>eF],32546);var b,c,d,e,f,g,h,i=a.i(87924),j=a.i(72131),k=a.i(46271),l={value:()=>{}};function m(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new n(d)}function n(a){this._=a}function o(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=l,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function p(){}function q(a){return null==a?p:function(){return this.querySelector(a)}}function r(){return[]}function s(a){return null==a?r:function(){return this.querySelectorAll(a)}}function t(a){return function(){return this.matches(a)}}function u(a){return function(b){return b.matches(a)}}n.prototype=m.prototype={constructor:n,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=o(d[c],a.name,b);else if(null==b)for(c in d)d[c]=o(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new n(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var v=Array.prototype.find;function w(){return this.firstElementChild}var x=Array.prototype.filter;function y(){return Array.from(this.children)}function z(a){return Array(a.length)}function A(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function B(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new A(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function C(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new A(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function D(a){return a.__data__}function E(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}A.prototype={constructor:A,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var F="http://www.w3.org/1999/xhtml";let G={svg:"http://www.w3.org/2000/svg",xhtml:F,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function H(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),G.hasOwnProperty(b)?{space:G[b],local:a}:a}function I(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function J(a,b){return a.style.getPropertyValue(b)||I(a).getComputedStyle(a,null).getPropertyValue(b)}function K(a){return a.trim().split(/^|\s+/)}function L(a){return a.classList||new M(a)}function M(a){this._node=a,this._names=K(a.getAttribute("class")||"")}function N(a,b){for(var c=L(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function O(a,b){for(var c=L(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function P(){this.textContent=""}function Q(){this.innerHTML=""}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function S(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T(a){var b=H(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===F&&b.documentElement.namespaceURI===F?b.createElement(a):b.createElementNS(c,a)}})(b)}function U(){return null}function V(){var a=this.parentNode;a&&a.removeChild(this)}function W(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function X(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Y(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function Z(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function $(a,b,c){var d=I(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}M.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var _=[null];function aa(a,b){this._groups=a,this._parents=b}function ab(){return new aa([[document.documentElement]],_)}function ac(a){return"string"==typeof a?new aa([[document.querySelector(a)]],[document.documentElement]):new aa([[a]],_)}function ad(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function ae(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function af(){}aa.prototype=ab.prototype={constructor:aa,select:function(a){"function"!=typeof a&&(a=q(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new aa(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=s(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],j=i.length,k=0;k<j;++k)(h=i[k])&&(e.push(a.call(h,h.__data__,k,i)),f.push(h));return new aa(e,f)},selectChild:function(a){var b;return this.select(null==a?w:(b="function"==typeof a?a:u(a),function(){return v.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?y:(b="function"==typeof a?a:u(a),function(){return x.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=t(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new aa(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,D);var c=b?C:B,d=this._parents,e=this._groups;"function"!=typeof a&&(s=a,a=function(){return s});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,s,t,u,v=0,w=0;v<o;++v)if(t=p[v]){for(v>=w&&(w=v+1);!(u=q[w])&&++w<o;);t._next=u||null}}return(g=new aa(g,d))._enter=h,g._exit=i,g},enter:function(){return new aa(this._enter||this._groups.map(z),this._parents)},exit:function(){return new aa(this._exit||this._groups.map(z),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new aa(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=E);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new aa(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=H(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):J(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=K(a+"");if(arguments.length<2){for(var d=L(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?N:O)(this,a)}}:b?function(a){return function(){N(this,a)}}:function(a){return function(){O(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?P:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?Q:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(R)},lower:function(){return this.each(S)},append:function(a){var b="function"==typeof a?a:T(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:T(a),d=null==b?U:"function"==typeof b?b:q(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(V)},clone:function(a){return this.select(a?X:W)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?Z:Y;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return $(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return $(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};var ag="\\s*([+-]?\\d+)\\s*",ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aj=/^#([0-9a-f]{3,8})$/,ak=RegExp(`^rgb\\(${ag},${ag},${ag}\\)$`),al=RegExp(`^rgb\\(${ai},${ai},${ai}\\)$`),am=RegExp(`^rgba\\(${ag},${ag},${ag},${ah}\\)$`),an=RegExp(`^rgba\\(${ai},${ai},${ai},${ah}\\)$`),ao=RegExp(`^hsl\\(${ah},${ai},${ai}\\)$`),ap=RegExp(`^hsla\\(${ah},${ai},${ai},${ah}\\)$`),aq={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function ar(){return this.rgb().formatHex()}function as(){return this.rgb().formatRgb()}function at(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=aj.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?au(b):3===c?new ax(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?av(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?av(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=ak.exec(a))?new ax(b[1],b[2],b[3],1):(b=al.exec(a))?new ax(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=am.exec(a))?av(b[1],b[2],b[3],b[4]):(b=an.exec(a))?av(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=ao.exec(a))?aD(b[1],b[2]/100,b[3]/100,1):(b=ap.exec(a))?aD(b[1],b[2]/100,b[3]/100,b[4]):aq.hasOwnProperty(a)?au(aq[a]):"transparent"===a?new ax(NaN,NaN,NaN,0):null}function au(a){return new ax(a>>16&255,a>>8&255,255&a,1)}function av(a,b,c,d){return d<=0&&(a=b=c=NaN),new ax(a,b,c,d)}function aw(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof af||(e=at(e)),e)?new ax((e=e.rgb()).r,e.g,e.b,e.opacity):new ax:new ax(a,b,c,null==d?1:d)}function ax(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function ay(){return`#${aC(this.r)}${aC(this.g)}${aC(this.b)}`}function az(){let a=aA(this.opacity);return`${1===a?"rgb(":"rgba("}${aB(this.r)}, ${aB(this.g)}, ${aB(this.b)}${1===a?")":`, ${a})`}`}function aA(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function aB(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function aC(a){return((a=aB(a))<16?"0":"")+a.toString(16)}function aD(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new aF(a,b,c,d)}function aE(a){if(a instanceof aF)return new aF(a.h,a.s,a.l,a.opacity);if(a instanceof af||(a=at(a)),!a)return new aF;if(a instanceof aF)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new aF(g,h,i,a.opacity)}function aF(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function aG(a){return(a=(a||0)%360)<0?a+360:a}function aH(a){return Math.max(0,Math.min(1,a||0))}function aI(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function aJ(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}ad(af,at,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:ar,formatHex:ar,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return aE(this).formatHsl()},formatRgb:as,toString:as}),ad(ax,aw,ae(af,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ax(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new ax(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new ax(aB(this.r),aB(this.g),aB(this.b),aA(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ay,formatHex:ay,formatHex8:function(){return`#${aC(this.r)}${aC(this.g)}${aC(this.b)}${aC((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:az,toString:az})),ad(aF,function(a,b,c,d){return 1==arguments.length?aE(a):new aF(a,b,c,null==d?1:d)},ae(af,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new aF(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new aF(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new ax(aI(a>=240?a-240:a+120,e,d),aI(a,e,d),aI(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new aF(aG(this.h),aH(this.s),aH(this.l),aA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=aA(this.opacity);return`${1===a?"hsl(":"hsla("}${aG(this.h)}, ${100*aH(this.s)}%, ${100*aH(this.l)}%${1===a?")":`, ${a})`}`}}));let aK=a=>()=>a;function aL(a,b){var c=b-a;return c?function(b){return a+b*c}:aK(isNaN(a)?b:a)}let aM=function a(b){var c,d=1==(c=+b)?aL:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):aK(isNaN(a)?b:a)};function e(a,b){var c=d((a=aw(a)).r,(b=aw(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=aL(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function aN(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=aw(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}var aO=aN(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return aJ((c-d/b)*b,g,e,f,h)}});function aP(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}aN(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return aJ((c-d/b)*b,e,f,g,h)}});var aQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aR=RegExp(aQ.source,"g");function aS(a,b){var c,d,e,f,g,h=aQ.lastIndex=aR.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=aQ.exec(a))&&(f=aR.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:aP(e,f)})),h=aR.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}function aT(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?aK(b):("number"===e?aP:"string"===e?(d=at(b))?(b=d,aM):aS:b instanceof at?aM:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=aT(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=aT(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:aP:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}var aU,aV,aW=0,aX=0,aY=0,aZ=0,a$=0,a_=0,a0="object"==typeof performance&&performance.now?performance:Date,a1=function(a){setTimeout(a,17)};function a2(){return a$||(a1(a3),a$=a0.now()+a_)}function a3(){a$=0}function a4(){this._call=this._time=this._next=null}function a5(a,b,c){var d=new a4;return d.restart(a,b,c),d}function a6(){a$=(aZ=a0.now())+a_,aW=aX=0;try{a2(),++aW;for(var a,b=aU;b;)(a=a$-b._time)>=0&&b._call.call(void 0,a),b=b._next;--aW}finally{aW=0,function(){for(var a,b,c=aU,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:aU=b);aV=a,a8(d)}(),a$=0}}function a7(){var a=a0.now(),b=a-aZ;b>1e3&&(a_-=b,aZ=a)}function a8(a){!aW&&(aX&&(aX=clearTimeout(aX)),a-a$>24?(a<1/0&&(aX=setTimeout(a6,a-a0.now()-a_)),aY&&(aY=clearInterval(aY))):(aY||(aZ=a0.now(),aY=setInterval(a7,1e3)),aW=1,a1(a6)))}function a9(a,b,c){var d=new a4;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}a4.prototype=a5.prototype={constructor:a4,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?a2():+c)+(null==b?0:+b),this._next||aV===this||(aV?aV._next=this:aU=this,aV=this),this._call=a,this._time=c,a8()},stop:function(){this._call&&(this._call=null,this._time=1/0,a8())}};var ba=m("start","end","cancel","interrupt"),bb=[];function bc(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return a9(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(a9(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=a5(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:ba,tween:bb,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function bd(a,b){var c=bf(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function be(a,b){var c=bf(a,b);if(c.state>3)throw Error("too late; already running");return c}function bf(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}var bg=180/Math.PI,bh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bi(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*bg,skewX:Math.atan(i)*bg,scaleX:g,scaleY:h}}function bj(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:aP(a,e)},{i:i-2,x:aP(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:aP(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:aP(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:aP(a,c)},{i:h-2,x:aP(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var bk=bj(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?bh:bi(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),bl=bj(function(a){return null==a?bh:(b||(b=document.createElementNS("http://www.w3.org/2000/svg","g")),b.setAttribute("transform",a),a=b.transform.baseVal.consolidate())?bi((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):bh},", ",")",")");function bm(a,b,c){var d=a._id;return a.each(function(){var a=be(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return bf(a,d).value[b]}}function bn(a,b){var c;return("number"==typeof b?aP:b instanceof at?aM:(c=at(b))?(b=c,aM):aS)(a,b)}var bo=ab.prototype.constructor;function bp(a){return function(){this.style.removeProperty(a)}}var bq=0;function br(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var bs=ab.prototype;br.prototype=(function(a){return ab().transition(a)}).prototype={constructor:br,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=q(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,j=d[g],k=j.length,l=f[g]=Array(k),m=0;m<k;++m)(h=j[m])&&(i=a.call(h,h.__data__,m,j))&&("__data__"in h&&(i.__data__=h.__data__),l[m]=i,bc(l[m],b,c,m,l,bf(h,c)));return new br(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=s(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var m,n=a.call(i,i.__data__,l,j),o=bf(i,c),p=0,q=n.length;p<q;++p)(m=n[p])&&bc(m,b,c,p,n,o);f.push(n),g.push(i)}return new br(f,g,b,c)},selectChild:bs.selectChild,selectChildren:bs.selectChildren,filter:function(a){"function"!=typeof a&&(a=t(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new br(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new br(g,this._parents,this._name,this._id)},selection:function(){return new bo(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++bq,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=bf(g,b);bc(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new br(d,this._parents,a,c)},call:bs.call,nodes:bs.nodes,node:bs.node,size:bs.size,empty:bs.empty,each:bs.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?bf(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?bd:be,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=H(a),d="transform"===c?bl:bn;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,bm(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=H(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?bk:bn;return null==b?this.styleTween(a,(d=a,function(){var a=J(this,d),b=(this.style.removeProperty(d),J(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,bp(a)):"function"==typeof b?this.styleTween(a,(h=a,i=bm(this,"style."+a,b),function(){var a=J(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=J(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=be(this,m),b=a.on,c=null==a.value[s]?r||(r=bp(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=J(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=bm(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=bf(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=be(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=be(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){bd(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){bd(this,a).delay=b}})(b,a)):bf(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){be(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){be(this,a).duration=b}})(b,a)):bf(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){be(this,a).ease=b}}(b,a)):bf(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();be(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=be(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:bs[Symbol.iterator]};var bt={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};ab.prototype.interrupt=function(a){return this.each(function(){!function(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}(this,a)})},ab.prototype.transition=function(a){var b,c;a instanceof br?(b=a._id,a=a._name):(b=++bq,(c=bt).time=a2(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&bc(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new br(d,this._parents,a,b)};let{abs:bu,max:bv,min:bw}=Math;function bx(a){return{type:a}}function by(a){return((a=Math.exp(a))+1/a)/2}function bz(a,b,c){this.k=a,this.x=b,this.y=c}["w","e"].map(bx),["n","s"].map(bx),["n","w","e","s","nw","ne","sw","se"].map(bx),!function a(b,c,d){function e(a,e){var f,g,h=a[0],i=a[1],j=a[2],k=e[0],l=e[1],m=e[2],n=k-h,o=l-i,p=n*n+o*o;if(p<1e-12)g=Math.log(m/j)/b,f=function(a){return[h+a*n,i+a*o,j*Math.exp(b*a*g)]};else{var q=Math.sqrt(p),r=(m*m-j*j+d*p)/(2*j*c*q),s=(m*m-j*j-d*p)/(2*m*c*q),t=Math.log(Math.sqrt(r*r+1)-r);g=(Math.log(Math.sqrt(s*s+1)-s)-t)/b,f=function(a){var d,e,f=a*g,k=by(t),l=j/(c*q)*(k*(((d=Math.exp(2*(d=b*f+t)))-1)/(d+1))-((e=Math.exp(e=t))-1/e)/2);return[h+l*n,i+l*o,j*k/by(b*f+t)]}}return f.duration=1e3*g*b/Math.SQRT2,f}return e.rho=function(b){var c=Math.max(.001,+b),d=c*c;return a(c,d,d*d)},e}(Math.SQRT2,2,4),bz.prototype={constructor:bz,scale:function(a){return 1===a?this:new bz(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new bz(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new bz(1,0,0);bz.prototype;let bA=new Date,bB=new Date;function bC(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d)return h},e.filter=c=>bC(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(bA.setTime(+b),bB.setTime(+d),a(bA),a(bB),Math.floor(c(bA,bB))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let bD=bC(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());bD.every=a=>isFinite(a=Math.floor(a))&&a>0?bC(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,bD.range;let bE=bC(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());bE.every=a=>isFinite(a=Math.floor(a))&&a>0?bC(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,bE.range;let bF=bC(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());bF.range;let bG=bC(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());bG.range;function bH(a){return bC(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/6048e5)}let bI=bH(0),bJ=bH(1),bK=bH(2),bL=bH(3),bM=bH(4),bN=bH(5),bO=bH(6);function bP(a){return bC(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/6048e5)}bI.range,bJ.range,bK.range,bL.range,bM.range,bN.range,bO.range;let bQ=bP(0),bR=bP(1),bS=bP(2),bT=bP(3),bU=bP(4),bV=bP(5),bW=bP(6);bQ.range,bR.range,bS.range,bT.range,bU.range,bV.range,bW.range;let bX=bC(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/864e5,a=>a.getDate()-1);bX.range;let bY=bC(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>a.getUTCDate()-1);bY.range;let bZ=bC(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>Math.floor(a/864e5));bZ.range;let b$=bC(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds()-6e4*a.getMinutes())},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getHours());b$.range;let b_=bC(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getUTCHours());b_.range;let b0=bC(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds())},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getMinutes());b0.range;let b1=bC(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getUTCMinutes());b1.range;let b2=bC(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+1e3*b)},(a,b)=>(b-a)/1e3,a=>a.getUTCSeconds());function b3(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function b4(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function b5(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}return 2!==a.length?(b=b3,c=(b,c)=>b3(a(b),c),d=(b,c)=>a(b)-c):(b=a===b3||a===b4?a:b6,c=a,d=a),{left:e,center:function(a,b,c=0,f=a.length){let g=e(a,b,c,f-1);return g>c&&d(a[g-1],b)>-d(a[g],b)?g-1:g},right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function b6(){return 0}b2.range;let b7=Math.sqrt(50),b8=Math.sqrt(10),b9=Math.sqrt(2);function ca(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=b7?10:i>=b8?5:i>=b9?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?ca(a,b,2*c):[d,e,f]}function cb(a,b,c){return ca(a*=1,b*=1,c*=1)[2]}function cc(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?cb(b,a,c):cb(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}let cd=bC(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);function ce(a,b,c,d,e,f){let g=[[b2,1,1e3],[b2,5,5e3],[b2,15,15e3],[b2,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[e,1,36e5],[e,3,108e5],[e,6,216e5],[e,12,432e5],[d,1,864e5],[d,2,1728e5],[c,1,6048e5],[b,1,2592e6],[b,3,7776e6],[a,1,31536e6]];function h(b,c,d){let e=Math.abs(c-b)/d,f=b5(([,,a])=>a).right(g,e);if(f===g.length)return a.every(cc(b/31536e6,c/31536e6,d));if(0===f)return cd.every(Math.max(cc(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}cd.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?bC(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):cd:null,cd.range;let[cf,cg]=ce(bE,bG,bQ,bZ,b_,b1),[ch,ci]=ce(bD,bF,bI,bX,b$,b0);function cj(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function ck(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function cl(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}var cm={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,co=/^%/,cp=/[\\^$*+?|[\]().{}]/g;function cq(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function cr(a){return a.replace(cp,"\\$&")}function cs(a){return RegExp("^(?:"+a.map(cr).join("|")+")","i")}function ct(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function cu(a,b,c){var d=cn.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function cv(a,b,c){var d=cn.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function cw(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function cx(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function cy(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function cz(a,b,c){var d=cn.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function cA(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function cB(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function cC(a,b,c){var d=cn.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function cD(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function cE(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function cF(a,b,c){var d=cn.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function cG(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function cH(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function cI(a,b,c){var d=cn.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function cJ(a,b,c){var d=cn.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function cK(a,b,c){var d=cn.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function cL(a,b,c){var d=co.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function cM(a,b,c){var d=cn.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function cN(a,b,c){var d=cn.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function cO(a,b){return cq(a.getDate(),b,2)}function cP(a,b){return cq(a.getHours(),b,2)}function cQ(a,b){return cq(a.getHours()%12||12,b,2)}function cR(a,b){return cq(1+bX.count(bD(a),a),b,3)}function cS(a,b){return cq(a.getMilliseconds(),b,3)}function cT(a,b){return cS(a,b)+"000"}function cU(a,b){return cq(a.getMonth()+1,b,2)}function cV(a,b){return cq(a.getMinutes(),b,2)}function cW(a,b){return cq(a.getSeconds(),b,2)}function cX(a){var b=a.getDay();return 0===b?7:b}function cY(a,b){return cq(bI.count(bD(a)-1,a),b,2)}function cZ(a){var b=a.getDay();return b>=4||0===b?bM(a):bM.ceil(a)}function c$(a,b){return a=cZ(a),cq(bM.count(bD(a),a)+(4===bD(a).getDay()),b,2)}function c_(a){return a.getDay()}function c0(a,b){return cq(bJ.count(bD(a)-1,a),b,2)}function c1(a,b){return cq(a.getFullYear()%100,b,2)}function c2(a,b){return cq((a=cZ(a)).getFullYear()%100,b,2)}function c3(a,b){return cq(a.getFullYear()%1e4,b,4)}function c4(a,b){var c=a.getDay();return cq((a=c>=4||0===c?bM(a):bM.ceil(a)).getFullYear()%1e4,b,4)}function c5(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+cq(b/60|0,"0",2)+cq(b%60,"0",2)}function c6(a,b){return cq(a.getUTCDate(),b,2)}function c7(a,b){return cq(a.getUTCHours(),b,2)}function c8(a,b){return cq(a.getUTCHours()%12||12,b,2)}function c9(a,b){return cq(1+bY.count(bE(a),a),b,3)}function da(a,b){return cq(a.getUTCMilliseconds(),b,3)}function db(a,b){return da(a,b)+"000"}function dc(a,b){return cq(a.getUTCMonth()+1,b,2)}function dd(a,b){return cq(a.getUTCMinutes(),b,2)}function de(a,b){return cq(a.getUTCSeconds(),b,2)}function df(a){var b=a.getUTCDay();return 0===b?7:b}function dg(a,b){return cq(bQ.count(bE(a)-1,a),b,2)}function dh(a){var b=a.getUTCDay();return b>=4||0===b?bU(a):bU.ceil(a)}function di(a,b){return a=dh(a),cq(bU.count(bE(a),a)+(4===bE(a).getUTCDay()),b,2)}function dj(a){return a.getUTCDay()}function dk(a,b){return cq(bR.count(bE(a)-1,a),b,2)}function dl(a,b){return cq(a.getUTCFullYear()%100,b,2)}function dm(a,b){return cq((a=dh(a)).getUTCFullYear()%100,b,2)}function dn(a,b){return cq(a.getUTCFullYear()%1e4,b,4)}function dp(a,b){var c=a.getUTCDay();return cq((a=c>=4||0===c?bU(a):bU.ceil(a)).getUTCFullYear()%1e4,b,4)}function dq(){return"+0000"}function dr(){return"%"}function ds(a){return+a}function dt(a){return Math.floor(a/1e3)}d=(c=function(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=cs(e),k=ct(e),l=cs(f),m=ct(f),n=cs(g),o=ct(g),p=cs(h),q=ct(h),r=cs(i),s=ct(i),t={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:cO,e:cO,f:cT,g:c2,G:c4,H:cP,I:cQ,j:cR,L:cS,m:cU,M:cV,p:function(a){return e[+(a.getHours()>=12)]},q:function(a){return 1+~~(a.getMonth()/3)},Q:ds,s:dt,S:cW,u:cX,U:cY,V:c$,w:c_,W:c0,x:null,X:null,y:c1,Y:c3,Z:c5,"%":dr},u={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:c6,e:c6,f:db,g:dm,G:dp,H:c7,I:c8,j:c9,L:da,m:dc,M:dd,p:function(a){return e[+(a.getUTCHours()>=12)]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:ds,s:dt,S:de,u:df,U:dg,V:di,w:dj,W:dk,x:null,X:null,y:dl,Y:dn,Z:dq,"%":dr},v={a:function(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1},A:function(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1},b:function(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1},B:function(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1},c:function(a,c,d){return y(a,b,c,d)},d:cE,e:cE,f:cK,g:cA,G:cz,H:cG,I:cG,j:cF,L:cJ,m:cD,M:cH,p:function(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1},q:cC,Q:cM,s:cN,S:cI,u:cv,U:cw,V:cx,w:cu,W:cy,x:function(a,b,d){return y(a,c,b,d)},X:function(a,b,c){return y(a,d,b,c)},y:cA,Y:cz,Z:cB,"%":cL};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=cm[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=cl(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=ck(cl(f.y,0,1))).getUTCDay())>4||0===e?bR.ceil(d):bR(d),d=bY.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=cj(cl(f.y,0,1))).getDay())>4||0===e?bJ.ceil(d):bJ(d),d=bX.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?ck(cl(f.y,0,1)).getUTCDay():cj(cl(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,ck(f)):cj(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in cm?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,c.parse,c.utcFormat,c.utcParse;let du=b5(b3),dv=du.right;function dw(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function dx(a){return+a}du.left,b5(function(a){return null===a?NaN:+a}).center;var dy=[0,1];function dz(a){return a}function dA(a,b){var c;return(b-=a*=1)?function(c){return(c-a)/b}:(c=isNaN(b)?NaN:.5,function(){return c})}function dB(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=dA(e,d),f=c(g,f)):(d=dA(d,e),f=c(f,g)),function(a){return f(d(a))}}function dC(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=dA(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=dv(a,b,1,d)-1;return f[c](e[c](b))}}function dD(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function dE(){return(function(){var a,b,c,d,e,f,g=dy,h=dy,i=aT,j=dz;function k(){var a,b,c,i=Math.min(g.length,h.length);return j!==dz&&(a=g[0],b=g[i-1],a>b&&(c=a,a=b,b=c),j=function(c){return Math.max(a,Math.min(b,c))}),d=i>2?dC:dB,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),aP)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,dx),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=dw,k()},l.clamp=function(a){return arguments.length?(j=!!a||dz,k()):j!==dz},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}})()(dz,dz)}function dF(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function dG(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}function dH(a){return new Date(a)}function dI(a){return a instanceof Date?+a:+new Date(+a)}function dJ(a,b){let c,d;if(void 0===b)for(let b of a)null!=b&&(void 0===c?b>=b&&(c=d=b):(c>b&&(c=b),d<b&&(d=b)));else{let e=-1;for(let f of a)null!=(f=b(f,++e,a))&&(void 0===c?f>=f&&(c=d=f):(c>f&&(c=f),d<f&&(d=f)))}return[c,d]}function dK(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function dL(a){return(a=dK(Math.abs(a)))?a[1]:NaN}var dM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dN(a){var b;if(!(b=dM.exec(a)))throw Error("invalid format: "+a);return new dO({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function dO(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function dP(a,b){var c=dK(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}dN.prototype=dO.prototype,dO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let dQ={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>dP(100*a,b),r:dP,s:function(a,b){var c=dK(a,b);if(!c)return a+"";var d=c[0],f=c[1],g=f-(e=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1,h=d.length;return g===h?d:g>h?d+Array(g-h+1).join("0"):g>0?d.slice(0,g)+"."+d.slice(g):"0."+Array(1-g).join("0")+dK(a,Math.max(0,b+g-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function dR(a){return a}var dS=Array.prototype.map,dT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dU(a){var b=a.domain;return a.ticks=function(a){var c=b();return function(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?ca(b,a,c):ca(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return function(a,b,c,d){var e,f,i=cc(a,b,c);switch((d=dN(null==d?",f":d)).type){case"s":var j=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(f=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dL(j)/3)))-dL(Math.abs(i))))||(d.precision=f),h(d,j);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=Math.max(0,dL(Math.abs(Math.max(Math.abs(a),Math.abs(b)))-(e=Math.abs(e=i)))-dL(e))+1)||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=Math.max(0,-dL(Math.abs(i))))||(d.precision=f-("%"===d.type)*2)}return g(d)}(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=cb(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function dV(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function dW(a){return function(){return a}}function dX(a){this._context=a}function dY(a){return new dX(a)}g=(f=function(a){var b,c,d,f=void 0===a.grouping||void 0===a.thousands?dR:(b=dS.call(a.grouping,Number),c=a.thousands+"",function(a,d){for(var e=a.length,f=[],g=0,h=b[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>d));)h=b[g=(g+1)%b.length];return f.reverse().join(c)}),g=void 0===a.currency?"":a.currency[0]+"",h=void 0===a.currency?"":a.currency[1]+"",i=void 0===a.decimal?".":a.decimal+"",j=void 0===a.numerals?dR:(d=dS.call(a.numerals,String),function(a){return a.replace(/[0-9]/g,function(a){return d[+a]})}),k=void 0===a.percent?"%":a.percent+"",l=void 0===a.minus?"":a.minus+"",m=void 0===a.nan?"NaN":a.nan+"";function n(a){var b=(a=dN(a)).fill,c=a.align,d=a.sign,n=a.symbol,o=a.zero,p=a.width,q=a.comma,r=a.precision,s=a.trim,t=a.type;"n"===t?(q=!0,t="g"):dQ[t]||(void 0===r&&(r=12),s=!0,t="g"),(o||"0"===b&&"="===c)&&(o=!0,b="0",c="=");var u="$"===n?g:"#"===n&&/[boxX]/.test(t)?"0"+t.toLowerCase():"",v="$"===n?h:/[%p]/.test(t)?k:"",w=dQ[t],x=/[defgprs%]/.test(t);function y(a){var g,h,k,n=u,y=v;if("c"===t)y=w(a)+y,a="";else{var z=(a*=1)<0||1/a<0;if(a=isNaN(a)?m:w(Math.abs(a),r),s&&(a=function(a){a:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break a;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}(a)),z&&0==+a&&"+"!==d&&(z=!1),n=(z?"("===d?d:l:"-"===d||"("===d?"":d)+n,y=("s"===t?dT[8+e/3]:"")+y+(z&&"("===d?")":""),x){for(g=-1,h=a.length;++g<h;)if(48>(k=a.charCodeAt(g))||k>57){y=(46===k?i+a.slice(g+1):a.slice(g))+y,a=a.slice(0,g);break}}}q&&!o&&(a=f(a,1/0));var A=n.length+a.length+y.length,B=A<p?Array(p-A+1).join(b):"";switch(q&&o&&(a=f(B+a,B.length?p-y.length:1/0),B=""),c){case"<":a=n+a+y+B;break;case"=":a=n+B+a+y;break;case"^":a=B.slice(0,A=B.length>>1)+n+a+y+B.slice(A);break;default:a=B+n+a+y}return j(a)}return r=void 0===r?6:/[gprs]/.test(t)?Math.max(1,Math.min(21,r)):Math.max(0,Math.min(20,r)),y.toString=function(){return a+""},y}return{format:n,formatPrefix:function(a,b){var c=n(((a=dN(a)).type="f",a)),d=3*Math.max(-8,Math.min(8,Math.floor(dL(b)/3))),e=Math.pow(10,-d),f=dT[8+d/3];return function(a){return c(e*a)+f}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,h=f.formatPrefix,Array.prototype.slice,dX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};let dZ=Math.PI,d$=2*dZ,d_=d$-1e-6;function d0(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class d1{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?d0:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return d0;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((dZ-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%d$+d$),l>d_?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=dZ)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function d2(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new d1(b)}function d3(a){return a[0]}function d4(a){return a[1]}function d5(a,b){var c=dW(!0),d=null,e=dY,f=null,g=d2(h);function h(h){var i,j,k,l=(h=dV(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?d3:dW(a),b="function"==typeof b?b:void 0===b?d4:dW(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:dW(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:dW(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:dW(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function d6(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0);return((f<0?-1:1)+(g<0?-1:1))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs((f*e+g*d)/(d+e)))||0}function d7(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function d8(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function d9(a){this._context=a}function ea(a){this._context=a}function eb(a){return new d9(a)}function ec(a){return a}function ed(a){return"translate("+a+",0)"}function ee(a){return"translate(0,"+a+")"}function ef(){return!this.__axis}function eg(a,b){var c=[],d=null,e=null,f=6,g=6,h=3,i=.5,j=1===a||4===a?-1:1,k=4===a||2===a?"x":"y",l=1===a||3===a?ed:ee;function m(m){var n=null==d?b.ticks?b.ticks.apply(b,c):b.domain():d,o=null==e?b.tickFormat?b.tickFormat.apply(b,c):ec:e,p=Math.max(f,0)+h,q=b.range(),r=+q[0]+i,s=+q[q.length-1]+i,t=(b.bandwidth?function(a,b){return b=Math.max(0,a.bandwidth()-2*b)/2,a.round()&&(b=Math.round(b)),c=>+a(c)+b}:function(a){return b=>+a(b)})(b.copy(),i),u=m.selection?m.selection():m,v=u.selectAll(".domain").data([null]),w=u.selectAll(".tick").data(n,b).order(),x=w.exit(),y=w.enter().append("g").attr("class","tick"),z=w.select("line"),A=w.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(y),z=z.merge(y.append("line").attr("stroke","currentColor").attr(k+"2",j*f)),A=A.merge(y.append("text").attr("fill","currentColor").attr(k,j*p).attr("dy",1===a?"0em":3===a?"0.71em":"0.32em")),m!==u&&(v=v.transition(m),w=w.transition(m),z=z.transition(m),A=A.transition(m),x=x.transition(m).attr("opacity",1e-6).attr("transform",function(a){return isFinite(a=t(a))?l(a+i):this.getAttribute("transform")}),y.attr("opacity",1e-6).attr("transform",function(a){var b=this.parentNode.__axis;return l((b&&isFinite(b=b(a))?b:t(a))+i)})),x.remove(),v.attr("d",4===a||2===a?g?"M"+j*g+","+r+"H"+i+"V"+s+"H"+j*g:"M"+i+","+r+"V"+s:g?"M"+r+","+j*g+"V"+i+"H"+s+"V"+j*g:"M"+r+","+i+"H"+s),w.attr("opacity",1).attr("transform",function(a){return l(t(a)+i)}),z.attr(k+"2",j*f),A.attr(k,j*p).text(o),u.filter(ef).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle"),u.each(function(){this.__axis=t})}return m.scale=function(a){return arguments.length?(b=a,m):b},m.ticks=function(){return c=Array.from(arguments),m},m.tickArguments=function(a){return arguments.length?(c=null==a?[]:Array.from(a),m):c.slice()},m.tickValues=function(a){return arguments.length?(d=null==a?null:Array.from(a),m):d&&d.slice()},m.tickFormat=function(a){return arguments.length?(e=a,m):e},m.tickSize=function(a){return arguments.length?(f=g=+a,m):f},m.tickSizeInner=function(a){return arguments.length?(f=+a,m):f},m.tickSizeOuter=function(a){return arguments.length?(g=+a,m):g},m.tickPadding=function(a){return arguments.length?(h=+a,m):h},m.offset=function(a){return arguments.length?(i=+a,m):i},m}d1.prototype,d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d8(this,this._t0,d7(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,d8(this,d7(this,c=d6(this,a,b)),c);break;default:d8(this,this._t0,c=d6(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},((function(a){this._context=new ea(a)}).prototype=Object.create(d9.prototype)).point=function(a,b){d9.prototype.point.call(this,b,a)},ea.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}};let eh=Math.abs,ei=Math.atan2,ej=Math.cos,ek=Math.max,el=Math.min,em=Math.sin,en=Math.sqrt,eo=Math.PI,ep=eo/2,eq=2*eo;function er(a){return a>=1?ep:a<=-1?-ep:Math.asin(a)}function es(a){return a.innerRadius}function et(a){return a.outerRadius}function eu(a){return a.startAngle}function ev(a){return a.endAngle}function ew(a){return a&&a.padAngle}function ex(a,b,c,d,e,f,g){var h=a-c,i=b-d,j=(g?f:-f)/en(h*h+i*i),k=j*i,l=-j*h,m=a+k,n=b+l,o=c+k,p=d+l,q=(m+o)/2,r=(n+p)/2,s=o-m,t=p-n,u=s*s+t*t,v=e-f,w=m*p-o*n,x=(t<0?-1:1)*en(ek(0,v*v*u-w*w)),y=(w*t-s*x)/u,z=(-w*s-t*x)/u,A=(w*t+s*x)/u,B=(-w*s+t*x)/u,C=y-q,D=z-r,E=A-q,F=B-r;return C*C+D*D>E*E+F*F&&(y=A,z=B),{cx:y,cy:z,x01:-k,y01:-l,x11:y*(e/v-1),y11:z*(e/v-1)}}function ey(){var a=es,b=et,c=dW(0),d=null,e=eu,f=ev,g=ew,h=null,i=d2(j);function j(){var j,k,l=+a.apply(this,arguments),m=+b.apply(this,arguments),n=e.apply(this,arguments)-ep,o=f.apply(this,arguments)-ep,p=eh(o-n),q=o>n;if(h||(h=j=i()),m<l&&(k=m,m=l,l=k),m>1e-12)if(p>eq-1e-12)h.moveTo(m*ej(n),m*em(n)),h.arc(0,0,m,n,o,!q),l>1e-12&&(h.moveTo(l*ej(o),l*em(o)),h.arc(0,0,l,o,n,q));else{var r,s,t=n,u=o,v=n,w=o,x=p,y=p,z=g.apply(this,arguments)/2,A=z>1e-12&&(d?+d.apply(this,arguments):en(l*l+m*m)),B=el(eh(m-l)/2,+c.apply(this,arguments)),C=B,D=B;if(A>1e-12){var E=er(A/l*em(z)),F=er(A/m*em(z));(x-=2*E)>1e-12?(E*=q?1:-1,v+=E,w-=E):(x=0,v=w=(n+o)/2),(y-=2*F)>1e-12?(F*=q?1:-1,t+=F,u-=F):(y=0,t=u=(n+o)/2)}var G=m*ej(t),H=m*em(t),I=l*ej(w),J=l*em(w);if(B>1e-12){var K,L=m*ej(u),M=m*em(u),N=l*ej(v),O=l*em(v);if(p<eo)if(K=function(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=l*i-k*j;if(!(m*m<1e-12))return m=(k*(b-f)-l*(a-e))/m,[a+m*i,b+m*j]}(G,H,N,O,L,M,I,J)){var P,Q=G-K[0],R=H-K[1],S=L-K[0],T=M-K[1],U=1/em(((P=(Q*S+R*T)/(en(Q*Q+R*R)*en(S*S+T*T)))>1?0:P<-1?eo:Math.acos(P))/2),V=en(K[0]*K[0]+K[1]*K[1]);C=el(B,(l-V)/(U-1)),D=el(B,(m-V)/(U+1))}else C=D=0}y>1e-12?D>1e-12?(r=ex(N,O,G,H,m,D,q),s=ex(L,M,I,J,m,D,q),h.moveTo(r.cx+r.x01,r.cy+r.y01),D<B?h.arc(r.cx,r.cy,D,ei(r.y01,r.x01),ei(s.y01,s.x01),!q):(h.arc(r.cx,r.cy,D,ei(r.y01,r.x01),ei(r.y11,r.x11),!q),h.arc(0,0,m,ei(r.cy+r.y11,r.cx+r.x11),ei(s.cy+s.y11,s.cx+s.x11),!q),h.arc(s.cx,s.cy,D,ei(s.y11,s.x11),ei(s.y01,s.x01),!q))):(h.moveTo(G,H),h.arc(0,0,m,t,u,!q)):h.moveTo(G,H),l>1e-12&&x>1e-12?C>1e-12?(r=ex(I,J,L,M,l,-C,q),s=ex(G,H,N,O,l,-C,q),h.lineTo(r.cx+r.x01,r.cy+r.y01),C<B?h.arc(r.cx,r.cy,C,ei(r.y01,r.x01),ei(s.y01,s.x01),!q):(h.arc(r.cx,r.cy,C,ei(r.y01,r.x01),ei(r.y11,r.x11),!q),h.arc(0,0,l,ei(r.cy+r.y11,r.cx+r.x11),ei(s.cy+s.y11,s.cx+s.x11),q),h.arc(s.cx,s.cy,C,ei(s.y11,s.x11),ei(s.y01,s.x01),!q))):h.arc(0,0,l,w,v,q):h.lineTo(I,J)}else h.moveTo(0,0);if(h.closePath(),j)return h=null,j+""||null}return j.centroid=function(){var c=(+a.apply(this,arguments)+ +b.apply(this,arguments))/2,d=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2-eo/2;return[ej(d)*c,em(d)*c]},j.innerRadius=function(b){return arguments.length?(a="function"==typeof b?b:dW(+b),j):a},j.outerRadius=function(a){return arguments.length?(b="function"==typeof a?a:dW(+a),j):b},j.cornerRadius=function(a){return arguments.length?(c="function"==typeof a?a:dW(+a),j):c},j.padRadius=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:dW(+a),j):d},j.startAngle=function(a){return arguments.length?(e="function"==typeof a?a:dW(+a),j):e},j.endAngle=function(a){return arguments.length?(f="function"==typeof a?a:dW(+a),j):f},j.padAngle=function(a){return arguments.length?(g="function"==typeof a?a:dW(+a),j):g},j.context=function(a){return arguments.length?(h=null==a?null:a,j):h},j}let ez=(a=>aO(a[a.length-1]))([,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(function(a){for(var b=a.length/6|0,c=Array(b),d=0;d<b;)c[d]="#"+a.slice(6*d,6*++d);return c})),eA=(a,b,c)=>{let d=[],e=new Date;for(let f=a;f>=0;f--){let g=new Date(e.getTime()-24*f*36e5),h=b*(1+(Math.random()-.5)*c)*(1+(a-f)*.001);d.push({timestamp:g,value:Math.round(100*h)/100,category:"automotive"})}return d},eB=[{id:"production-efficiency",title:"Production Efficiency Trend",type:"line",data:eA(30,94,.05),color:"#0ea5e9",unit:"%"},{id:"quality-metrics",title:"Quality Score Distribution",type:"bar",data:eA(7,98,.02),color:"#10b981",unit:"%"},{id:"supply-chain-health",title:"Supply Chain Health",type:"gauge",data:[{timestamp:new Date,value:87.5,category:"health"}],color:"#f59e0b",unit:"/100"},{id:"delivery-performance",title:"Delivery Performance Heatmap",type:"heatmap",data:eA(14,96,.08),color:"#8b5cf6",unit:"%"}],eC=({data:a,color:b,width:c=400,height:e=200})=>{let f=(0,j.useRef)(null);return(0,j.useEffect)(()=>{if(!f.current||!a.length)return;let g=ac(f.current);g.selectAll("*").remove();let h={top:20,right:30,bottom:40,left:50},i=c-h.left-h.right,j=e-h.top-h.bottom,k=(function(){return dF.apply((function a(b,c,d,e,f,g,h,i,j,k){var l=dE(),m=l.invert,n=l.domain,o=k(".%L"),p=k(":%S"),q=k("%I:%M"),r=k("%I %p"),s=k("%a %d"),t=k("%b %d"),u=k("%B"),v=k("%Y");function w(a){return(j(a)<a?o:i(a)<a?p:h(a)<a?q:g(a)<a?r:e(a)<a?f(a)<a?s:t:d(a)<a?u:v)(a)}return l.invert=function(a){return new Date(m(a))},l.domain=function(a){return arguments.length?n(Array.from(a,dI)):n().map(dH)},l.ticks=function(a){var c=n();return b(c[0],c[c.length-1],null==a?10:a)},l.tickFormat=function(a,b){return null==b?w:k(b)},l.nice=function(a){var b,d,e,f,g,h,i,j=n();return a&&"function"==typeof a.range||(a=c(j[0],j[j.length-1],null==a?10:a)),a?n((b=j,d=a,b=b.slice(),f=0,g=b.length-1,h=b[f],(i=b[g])<h&&(e=f,f=g,g=e,e=h,h=i,i=e),b[f]=d.floor(h),b[g]=d.ceil(i),b)):l},l.copy=function(){return dD(l,a(b,c,d,e,f,g,h,i,j,k))},l})(ch,ci,bD,bF,bI,bX,b$,b0,b2,d).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})().domain(dJ(a,a=>a.timestamp)).range([0,i]),l=(function a(){var b=dE();return b.copy=function(){return dD(b,a())},dF.apply(b,arguments),dU(b)})().domain(dJ(a,a=>a.value)).nice().range([j,0]),m=d5().x(a=>k(a.timestamp)).y(a=>l(a.value)).curve(eb),n=g.append("g").attr("transform",`translate(${h.left},${h.top})`),o=g.append("defs").append("linearGradient").attr("id",`gradient-${b.replace("#","")}`).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",e).attr("x2",0).attr("y2",0);o.append("stop").attr("offset","0%").attr("stop-color",b).attr("stop-opacity",.1),o.append("stop").attr("offset","100%").attr("stop-color",b).attr("stop-opacity",.8);let p=(function(a,b,c){var d=null,e=dW(!0),f=null,g=dY,h=null,i=d2(j);function j(j){var k,l,m,n,o,p=(j=dV(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return d5().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?d3:dW(+a),b="function"==typeof b?b:void 0===b?dW(0):dW(+b),c="function"==typeof c?c:void 0===c?d4:dW(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:dW(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:dW(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:dW(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:dW(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:dW(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:dW(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:dW(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j})().x(a=>k(a.timestamp)).y0(j).y1(a=>l(a.value)).curve(eb);n.append("path").datum(a).attr("fill",`url(#gradient-${b.replace("#","")})`).attr("d",p),n.append("path").datum(a).attr("fill","none").attr("stroke",b).attr("stroke-width",2).attr("d",m),n.selectAll(".dot").data(a).enter().append("circle").attr("class","dot").attr("cx",a=>k(a.timestamp)).attr("cy",a=>l(a.value)).attr("r",3).attr("fill",b),n.append("g").attr("transform",`translate(0,${j})`).call(eg(3,k).tickFormat(d("%m/%d"))),n.append("g").call(eg(4,l))},[a,b,c,e]),(0,i.jsx)("svg",{ref:f,width:c,height:e})},eD=({value:a,color:b,width:c=200,height:d=200})=>{let e=(0,j.useRef)(null);return(0,j.useEffect)(()=>{if(!e.current)return;let f=ac(e.current);f.selectAll("*").remove();let g=Math.min(c,d)/2-20,h=c/2,i=d/2,j=f.append("g").attr("transform",`translate(${h},${i})`),k=ey().innerRadius(g-20).outerRadius(g).startAngle(-Math.PI/2).endAngle(Math.PI/2)({startAngle:-Math.PI/2,endAngle:Math.PI/2,innerRadius:g-20,outerRadius:g});j.append("path").attr("d",k).attr("fill","#e5e7eb");let l=ey().innerRadius(g-20).outerRadius(g).startAngle(-Math.PI/2).endAngle(-Math.PI/2+Math.PI*a/100)({startAngle:-Math.PI/2,endAngle:-Math.PI/2+Math.PI*a/100,innerRadius:g-20,outerRadius:g});j.append("path").attr("d",l).attr("fill",b),j.append("text").attr("text-anchor","middle").attr("dy","0.35em").attr("font-size","24px").attr("font-weight","bold").attr("fill",b).text(`${a.toFixed(1)}`)},[a,b,c,d]),(0,i.jsx)("svg",{ref:e,width:c,height:d})},eE=({data:a,color:b,width:c=400,height:d=200})=>{let e=(0,j.useRef)(null);return(0,j.useEffect)(()=>{if(!e.current||!a.length)return;let b=ac(e.current);b.selectAll("*").remove();let f={top:20,right:30,bottom:40,left:50},g=c-f.left-f.right,h=d-f.top-f.bottom,i=g/a.length,j=h/7,k=(function a(){var b=dU((function(){var a,b,c,d,e,f=0,g=1,h=dz,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(aT),j.rangeRound=k(dw),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}})()(dz));return b.copy=function(){return a().domain(b.domain()).interpolator(b.interpolator()).clamp(b.clamp()).unknown(b.unknown())},dG.apply(b,arguments)})().interpolator(ez).domain(dJ(a,a=>a.value)),l=b.append("g").attr("transform",`translate(${f.left},${f.top})`);a.forEach((a,b)=>{let c=a.timestamp.getDay();l.append("rect").attr("x",b*i).attr("y",c*j).attr("width",i-1).attr("height",j-1).attr("fill",k(a.value)).attr("stroke","#fff").attr("stroke-width",1),i>30&&l.append("text").attr("x",b*i+i/2).attr("y",c*j+j/2).attr("text-anchor","middle").attr("dy","0.35em").attr("font-size","10px").attr("fill",a.value>95?"#fff":"#000").text(a.value.toFixed(0))})},[a,b,c,d]),(0,i.jsx)("svg",{ref:e,width:c,height:d})};function eF(){let[a,b]=(0,j.useState)(null),[c,d]=(0,j.useState)(!0);return(0,j.useEffect)(()=>{if(!c)return;let a=setInterval(()=>{eB.forEach(a=>{"gauge"===a.type&&(a.data[0].value=100*Math.random())})},3e3);return()=>clearInterval(a)},[c]),(0,i.jsx)("section",{className:"py-16 bg-slate-50",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)(k.motion.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-automotive-carbon mb-4",children:"Advanced Analytics Dashboard"}),(0,i.jsx)("p",{className:"text-lg text-automotive-steel max-w-3xl mx-auto",children:"Real-time data visualization powered by D3.js for comprehensive automotive insights"}),(0,i.jsx)("div",{className:"mt-6 flex justify-center",children:(0,i.jsx)("button",{onClick:()=>d(!c),className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 ${c?"bg-automotive-success text-white":"bg-automotive-chrome text-automotive-carbon"}`,children:c?" Real-time Active":" Real-time Paused"})})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:eB.map((c,d)=>(0,i.jsxs)(k.motion.div,{className:`bg-white rounded-lg shadow-lg p-6 border-2 transition-all duration-300 ${a===c.id?"border-primary-500 shadow-xl":"border-automotive-chrome hover:border-primary-300"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*d},onClick:()=>b(a===c.id?null:c.id),whileHover:{scale:1.02},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-automotive-carbon",children:c.title}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:c.color}}),(0,i.jsx)("span",{className:"text-sm text-automotive-steel",children:c.type.toUpperCase()})]})]}),(0,i.jsxs)("div",{className:"flex justify-center",children:["line"===c.type&&(0,i.jsx)(eC,{data:c.data,color:c.color,width:350,height:200}),"bar"===c.type&&(0,i.jsx)(eC,{data:c.data,color:c.color,width:350,height:200}),"gauge"===c.type&&(0,i.jsx)(eD,{value:c.data[0]?.value||0,color:c.color,width:200,height:200}),"heatmap"===c.type&&(0,i.jsx)(eE,{data:c.data,color:c.color,width:350,height:150})]}),(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-automotive-chrome",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-sm text-automotive-steel",children:"Current Value:"}),(0,i.jsxs)("span",{className:"font-semibold text-automotive-carbon",children:[c.data[c.data.length-1]?.value.toFixed(1),c.unit]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,i.jsx)("span",{className:"text-sm text-automotive-steel",children:"Data Points:"}),(0,i.jsx)("span",{className:"font-semibold text-automotive-carbon",children:c.data.length})]})]})]},c.id))}),(0,i.jsxs)(k.motion.div,{className:"mt-12 bg-white rounded-lg shadow-lg p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-4",children:"D3.js Visualization Features"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,i.jsx)("span",{className:"text-xl",children:""})}),(0,i.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Interactive Charts"}),(0,i.jsx)("p",{className:"text-sm text-automotive-steel",children:"Click and hover interactions"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,i.jsx)("span",{className:"text-xl",children:""})}),(0,i.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Real-time Updates"}),(0,i.jsx)("p",{className:"text-sm text-automotive-steel",children:"Live data streaming"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,i.jsx)("span",{className:"text-xl",children:""})}),(0,i.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Custom Styling"}),(0,i.jsx)("p",{className:"text-sm text-automotive-steel",children:"Automotive brand colors"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,i.jsx)("span",{className:"text-xl",children:""})}),(0,i.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Responsive Design"}),(0,i.jsx)("p",{className:"text-sm text-automotive-steel",children:"Mobile-optimized views"})]})]})]})]})})}},79825,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"1",name:"Production Data",method:"GET",path:"/api/v1/production/metrics",description:"Real-time production efficiency metrics",status:"active",responseTime:45,usage:98.7},{id:"2",name:"Quality Analytics",method:"GET",path:"/api/v1/quality/scores",description:"Quality control data and predictions",status:"active",responseTime:32,usage:94.2},{id:"3",name:"Supply Chain",method:"POST",path:"/api/v1/supply-chain/optimize",description:"Supply chain optimization requests",status:"beta",responseTime:156,usage:78.5},{id:"4",name:"Predictive Models",method:"POST",path:"/api/v1/ml/predict",description:"Machine learning prediction endpoints",status:"active",responseTime:89,usage:91.3}];function f(){let[a,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(null),i=a=>{switch(a){case"GET":return"bg-automotive-success text-white";case"POST":return"bg-primary-500 text-white";case"PUT":return"bg-automotive-warning text-white";case"DELETE":return"bg-automotive-danger text-white";default:return"bg-automotive-steel text-white"}},j=async a=>{h("Testing..."),setTimeout(()=>{h(JSON.stringify({status:200,responseTime:a.responseTime,data:{success:!0,message:`${a.name} API is functioning correctly`,timestamp:new Date().toISOString()}},null,2))},1500)};return(0,b.jsx)("section",{className:"py-16 bg-white",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)(d.motion.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-automotive-carbon mb-4",children:"API Management Platform"}),(0,b.jsx)("p",{className:"text-lg text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive API integration hub for automotive systems and third-party connectors"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)(d.motion.div,{className:"bg-slate-50 rounded-lg p-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Available Endpoints"}),(0,b.jsx)("div",{className:"space-y-4",children:e.map(c=>(0,b.jsxs)(d.motion.div,{className:`p-4 bg-white rounded-lg border-2 cursor-pointer transition-all duration-300 ${a?.id===c.id?"border-primary-500 shadow-lg":"border-automotive-chrome hover:border-primary-300"}`,onClick:()=>f(c),whileHover:{scale:1.02},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${i(c.method)}`,children:c.method}),(0,b.jsx)("span",{className:"font-semibold text-automotive-carbon",children:c.name})]}),(0,b.jsx)("span",{className:`text-sm font-medium capitalize ${(a=>{switch(a){case"active":return"text-automotive-success";case"beta":return"text-automotive-warning";case"deprecated":return"text-automotive-danger";default:return"text-automotive-steel"}})(c.status)}`,children:c.status})]}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:c.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-automotive-steel",children:[(0,b.jsx)("span",{children:c.path}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsxs)("span",{children:[c.responseTime,"ms"]}),(0,b.jsxs)("span",{children:[c.usage,"% uptime"]})]})]})]},c.id))})]}),(0,b.jsxs)(d.motion.div,{className:"bg-slate-50 rounded-lg p-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"API Testing Console"}),a?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4 p-4 bg-white rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${i(a.method)}`,children:a.method}),(0,b.jsx)("code",{className:"text-sm bg-slate-100 px-2 py-1 rounded",children:a.path})]}),(0,b.jsx)("button",{onClick:()=>j(a),className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-300",children:"Test Endpoint"})]}),g&&(0,b.jsxs)(d.motion.div,{className:"bg-automotive-carbon text-white p-4 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[(0,b.jsx)("h5",{className:"font-semibold mb-2",children:"Response:"}),(0,b.jsx)("pre",{className:"text-sm overflow-x-auto",children:g})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("p",{className:"text-automotive-steel",children:"Select an endpoint to test"})]})]})]}),(0,b.jsxs)(d.motion.div,{className:"mt-12 bg-slate-50 rounded-lg p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Integration Partners"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon",children:"SAP ERP"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Enterprise Resource Planning"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon",children:"QAD MFG"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Manufacturing Execution"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon",children:"Ariba"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Supplier Network"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon",children:"Power BI"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Business Intelligence"})]})]})]})]})})}},15795,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"PO-001",partNumber:"ENG-V8-2024",description:"V8 Engine Block Assembly",quantity:150,priority:"high",status:"in-progress",startDate:"2024-01-15",endDate:"2024-01-22",assignedLine:"Line A",progress:65},{id:"PO-002",partNumber:"TRANS-AUTO-X7",description:"Automatic Transmission Unit",quantity:200,priority:"medium",status:"planned",startDate:"2024-01-20",endDate:"2024-01-28",assignedLine:"Line B",progress:0},{id:"PO-003",partNumber:"BRAKE-DISC-F1",description:"Front Brake Disc Set",quantity:500,priority:"high",status:"completed",startDate:"2024-01-10",endDate:"2024-01-18",assignedLine:"Line C",progress:100},{id:"PO-004",partNumber:"SUSP-STRUT-R2",description:"Rear Suspension Strut",quantity:300,priority:"low",status:"delayed",startDate:"2024-01-12",endDate:"2024-01-25",assignedLine:"Line A",progress:45}],f=[{id:"line-a",name:"Line A - Engine Assembly",capacity:100,currentLoad:85,efficiency:94.2,status:"active",nextMaintenance:"2024-01-30"},{id:"line-b",name:"Line B - Transmission",capacity:80,currentLoad:60,efficiency:91.8,status:"active",nextMaintenance:"2024-02-05"},{id:"line-c",name:"Line C - Components",capacity:150,currentLoad:120,efficiency:96.5,status:"active",nextMaintenance:"2024-01-28"},{id:"line-d",name:"Line D - Quality Control",capacity:200,currentLoad:0,efficiency:0,status:"maintenance",nextMaintenance:"2024-01-25"}];function g(){let[a,g]=(0,c.useState)("orders"),[h]=(0,c.useState)(e),[i]=(0,c.useState)(f);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-50 to-blue-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"Production Planning & Optimization"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Advanced automotive manufacturing workflow management with real-time capacity planning and resource optimization"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"orders",label:"Production Orders",icon:""},{id:"lines",label:"Production Lines",icon:""},{id:"schedule",label:"Schedule View",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>g(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-xl shadow-xl p-8",children:["orders"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Production Orders"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"+ New Order"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Order ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Part Number"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Description"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Quantity"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Priority"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Progress"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Line"})]})}),(0,b.jsx)("tbody",{children:h.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-automotive-carbon",children:a.id}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.partNumber}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.description}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.quantity.toLocaleString()}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.priority)}`,children:a.priority.toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-200";case"planned":return"bg-purple-100 text-purple-800 border-purple-200";case"delayed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.replace("-"," ").toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),(0,b.jsxs)("span",{className:"text-sm text-automotive-steel",children:[a.progress,"%"]})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.assignedLine})]},a.id))})]})})]}),"lines"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Production Lines Status"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Schedule Maintenance"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsxs)("span",{className:`text-sm font-medium ${(a=>{switch(a){case"active":return"text-green-600";case"maintenance":return"text-orange-600";default:return"text-gray-600"}})(a.status)}`,children:[" ",a.status.toUpperCase()]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Capacity Utilization:"}),(0,b.jsxs)("span",{className:"font-medium text-automotive-carbon",children:[a.currentLoad,"/",a.capacity," (",Math.round(a.currentLoad/a.capacity*100),"%)"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:`h-3 rounded-full transition-all duration-300 ${a.currentLoad/a.capacity>.9?"bg-red-500":a.currentLoad/a.capacity>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a.currentLoad/a.capacity*100}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Efficiency:"}),(0,b.jsxs)("span",{className:"font-medium text-automotive-carbon",children:[a.efficiency,"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Next Maintenance:"}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon",children:a.nextMaintenance})]})]})]},a.id))})]}),"schedule"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Production Schedule"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Week View"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Month View"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-8 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-xl font-semibold text-automotive-carbon mb-2",children:"Advanced Scheduling Interface"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-4",children:"Interactive Gantt chart with drag-and-drop scheduling, resource allocation, and bottleneck analysis"}),(0,b.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-primary-500",children:"24"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Active Orders"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-500",children:"94.2%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Avg Efficiency"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:"3"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Bottlenecks"})]})]})]})]})]},a)]})})}},36659,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"defect-rate",name:"Defect Rate",value:.8,target:1,unit:"%",trend:"down",status:"excellent",lastUpdated:"2024-01-15T10:30:00Z"},{id:"first-pass-yield",name:"First Pass Yield",value:98.5,target:97,unit:"%",trend:"up",status:"excellent",lastUpdated:"2024-01-15T10:30:00Z"},{id:"customer-complaints",name:"Customer Complaints",value:2,target:5,unit:"per 1000",trend:"stable",status:"good",lastUpdated:"2024-01-15T10:30:00Z"},{id:"inspection-coverage",name:"Inspection Coverage",value:95.2,target:98,unit:"%",trend:"up",status:"warning",lastUpdated:"2024-01-15T10:30:00Z"},{id:"supplier-quality",name:"Supplier Quality Score",value:94.7,target:95,unit:"%",trend:"down",status:"warning",lastUpdated:"2024-01-15T10:30:00Z"},{id:"audit-score",name:"ISO Audit Score",value:96.8,target:95,unit:"%",trend:"up",status:"excellent",lastUpdated:"2024-01-15T10:30:00Z"}],f=[{id:"QI-001",partNumber:"ENG-V8-2024",defectType:"Surface Roughness",severity:"medium",detectedAt:"Final Inspection",status:"investigating",assignedTo:"John Smith",description:"Surface roughness exceeds specification on cylinder head"},{id:"QI-002",partNumber:"BRAKE-DISC-F1",defectType:"Dimensional Variance",severity:"high",detectedAt:"In-Process Check",status:"open",assignedTo:"Sarah Johnson",description:"Brake disc thickness variance beyond tolerance"},{id:"QI-003",partNumber:"TRANS-AUTO-X7",defectType:"Material Defect",severity:"critical",detectedAt:"Incoming Inspection",status:"resolved",assignedTo:"Mike Wilson",description:"Material hardness below specification"}],g=[{id:"INS-001",batchId:"B-2024-001",partNumber:"ENG-V8-2024",inspectionType:"Dimensional",result:"pass",defectsFound:0,inspector:"Alice Brown",timestamp:"2024-01-15T09:15:00Z"},{id:"INS-002",batchId:"B-2024-002",partNumber:"BRAKE-DISC-F1",inspectionType:"Visual",result:"conditional",defectsFound:2,inspector:"Bob Davis",timestamp:"2024-01-15T09:30:00Z"},{id:"INS-003",batchId:"B-2024-003",partNumber:"SUSP-STRUT-R2",inspectionType:"Functional",result:"pass",defectsFound:0,inspector:"Carol White",timestamp:"2024-01-15T10:00:00Z"}],h=a=>{switch(a){case"excellent":return"bg-green-100 text-green-800 border-green-200";case"good":return"bg-blue-100 text-blue-800 border-blue-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function i(){let[a,i]=(0,c.useState)("metrics");return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-green-50 to-blue-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"Quality Control Dashboard"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive automotive quality management with real-time metrics, incident tracking, and ISO compliance monitoring"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"metrics",label:"Quality Metrics",icon:""},{id:"incidents",label:"Quality Incidents",icon:""},{id:"inspections",label:"Inspection Results",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>i(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-xl shadow-xl p-8",children:["metrics"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Quality Metrics Overview"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Export Report"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsx)("span",{className:"text-xl",children:(a=>{switch(a){case"up":return"";case"down":return"";default:return""}})(a.trend)})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-automotive-carbon",children:a.value}),(0,b.jsx)("span",{className:"text-lg text-automotive-steel",children:a.unit})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-automotive-steel",children:["Target: ",a.target,a.unit]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${h(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${"excellent"===a.status?"bg-green-500":"good"===a.status?"bg-blue-500":"warning"===a.status?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a.value/a.target*100,100)}%`}})})]})]},a.id))}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-8 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-xl font-semibold text-automotive-carbon mb-2",children:"Quality Trends Analysis"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-4",children:"Interactive charts showing quality metrics over time with predictive analytics"})]})]}),"incidents"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Quality Incidents"}),(0,b.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"+ Report Incident"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Incident ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Part Number"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Defect Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Severity"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Detected At"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Assigned To"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:f.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-automotive-carbon",children:a.id}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.partNumber}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.defectType}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.severity)}`,children:a.severity.toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.detectedAt}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${h("resolved"===a.status?"good":"warning")}`,children:a.status.toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.assignedTo}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"View Details"})})]},a.id))})]})})]}),"inspections"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Recent Inspection Results"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Schedule Inspection"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Inspection Summary"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-500",children:"85%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Pass Rate"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:"12%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Conditional"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-500",children:"3%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Fail Rate"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Inspection Types"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Dimensional"}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon",children:"45%"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Visual"}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon",children:"30%"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Functional"}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon",children:"25%"})]})]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Inspection ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Batch ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Part Number"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Result"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Defects"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Inspector"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Timestamp"})]})}),(0,b.jsx)("tbody",{children:g.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-automotive-carbon",children:a.id}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.batchId}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.partNumber}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.inspectionType}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"pass":return"bg-green-100 text-green-800 border-green-200";case"conditional":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"fail":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.result)}`,children:a.result.toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.defectsFound}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.inspector}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:new Date(a.timestamp).toLocaleString()})]},a.id))})]})})]})]},a)]})})}},21154,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"SUP-001",name:"Premium Auto Components Ltd",category:"Engine Parts",location:"Birmingham, UK",qualityRating:96.5,deliveryRating:94.2,costRating:88.7,overallScore:93.1,certifications:["ISO 9001","TS 16949","ISO 14001"],status:"active",riskLevel:"low",lastAudit:"2023-11-15",nextAudit:"2024-05-15",contractValue:25e5},{id:"SUP-002",name:"European Brake Systems GmbH",category:"Brake Components",location:"Stuttgart, Germany",qualityRating:98.2,deliveryRating:96.8,costRating:85.3,overallScore:93.4,certifications:["ISO 9001","TS 16949","VDA 6.3"],status:"active",riskLevel:"low",lastAudit:"2023-12-08",nextAudit:"2024-06-08",contractValue:18e5},{id:"SUP-003",name:"Advanced Materials Inc",category:"Raw Materials",location:"Detroit, USA",qualityRating:89.5,deliveryRating:87.3,costRating:92.1,overallScore:89.6,certifications:["ISO 9001","OHSAS 18001"],status:"pending",riskLevel:"medium",lastAudit:"2023-09-22",nextAudit:"2024-03-22",contractValue:95e4},{id:"SUP-004",name:"Precision Electronics Co",category:"Electronics",location:"Shenzhen, China",qualityRating:85.7,deliveryRating:82.4,costRating:95.8,overallScore:87.9,certifications:["ISO 9001","IPC-A-610"],status:"active",riskLevel:"high",lastAudit:"2023-10-10",nextAudit:"2024-04-10",contractValue:75e4}],f=[{id:"iso-9001",name:"ISO 9001",description:"Quality Management Systems",required:!0,validityPeriod:"3 years"},{id:"ts-16949",name:"TS 16949",description:"Automotive Quality Management Standard",required:!0,validityPeriod:"3 years"},{id:"iso-14001",name:"ISO 14001",description:"Environmental Management Systems",required:!1,validityPeriod:"3 years"},{id:"vda-63",name:"VDA 6.3",description:"Process Audit Standard",required:!1,validityPeriod:"3 years"},{id:"ohsas-18001",name:"OHSAS 18001",description:"Occupational Health and Safety",required:!1,validityPeriod:"3 years"}],g=a=>a>=95?"text-green-600":a>=85?"text-blue-600":a>=75?"text-yellow-600":"text-red-600";function h(){let[a,h]=(0,c.useState)("suppliers"),[i]=(0,c.useState)(e);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-purple-50 to-blue-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"Supplier Management System"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive automotive supplier lifecycle management with quality tracking, certification monitoring, and risk assessment"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"suppliers",label:"Supplier Directory",icon:""},{id:"performance",label:"Performance Metrics",icon:""},{id:"certifications",label:"Certifications",icon:""},{id:"audits",label:"Audit Schedule",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>h(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-xl shadow-xl p-8",children:["suppliers"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Supplier Directory"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Import Suppliers"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"+ Add Supplier"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:a.category}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:a.location})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"suspended":return"bg-orange-100 text-orange-800 border-orange-200";case"terminated":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.toUpperCase()})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Overall Score:"}),(0,b.jsxs)("span",{className:`text-lg font-bold ${g(a.overallScore)}`,children:[a.overallScore.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Quality:"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.qualityRating.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Delivery:"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.deliveryRating.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Cost:"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.costRating.toFixed(1),"%"]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Risk Level:"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.riskLevel)}`,children:a.riskLevel.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Contract Value:"}),(0,b.jsxs)("span",{className:"font-medium",children:["",a.contractValue.toLocaleString()]})]}),(0,b.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.certifications.slice(0,3).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:a},a)),a.certifications.length>3&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",a.certifications.length-3," more"]})]})})]})]},a.id))})]}),"performance"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Supplier Performance Metrics"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Generate Report"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"94.2%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Avg On-Time Delivery"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:"96.8%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Avg Quality Score"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:"2.3%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Cost Variance"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:"12"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Active Incidents"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-8 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-xl font-semibold text-automotive-carbon mb-2",children:"Performance Analytics Dashboard"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-4",children:"Interactive charts showing supplier performance trends, benchmarking, and predictive analytics"})]})]}),"certifications"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Automotive Certifications"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Certification Audit"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:a.description})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${a.required?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200"}`,children:a.required?"REQUIRED":"OPTIONAL"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Validity Period:"}),(0,b.jsx)("span",{className:"font-medium text-automotive-carbon",children:a.validityPeriod})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Suppliers with this cert:"}),(0,b.jsxs)("span",{className:"font-medium text-automotive-carbon",children:[i.filter(b=>b.certifications.includes(a.name)).length," / ",i.length]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${i.filter(b=>b.certifications.includes(a.name)).length/i.length*100}%`}})})]})]},a.id))})]}),"audits"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Audit Schedule & Results"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Schedule Audit"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:"8"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Pending Audits"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:"15"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Completed This Quarter"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"92%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Avg Audit Score"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Supplier"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Last Audit"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Score"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Next Audit"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:i.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-automotive-carbon",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:a.category})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.lastAudit}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("span",{className:`font-medium ${g(a.overallScore)}`,children:[a.overallScore.toFixed(1),"%"]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.nextAudit}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${new Date(a.nextAudit)<new Date?"bg-red-100 text-red-800 border-red-200":new Date(a.nextAudit)<new Date(Date.now()+2592e6)?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-green-100 text-green-800 border-green-200"}`,children:new Date(a.nextAudit)<new Date?"OVERDUE":new Date(a.nextAudit)<new Date(Date.now()+2592e6)?"DUE SOON":"SCHEDULED"})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"View Report"})})]},a.id))})]})})]})]},a)]})})}},75024,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"iso-9001",name:"ISO 9001:2015",description:"Quality Management Systems - Requirements",version:"2015",status:"compliant",lastAudit:"2023-11-15",nextAudit:"2024-11-15",score:96.8,requirements:125,compliantRequirements:121,criticalFindings:0,majorFindings:2,minorFindings:8},{id:"ts-16949",name:"IATF 16949:2016",description:"Automotive Quality Management System Standard",version:"2016",status:"compliant",lastAudit:"2023-12-08",nextAudit:"2024-12-08",score:94.2,requirements:186,compliantRequirements:175,criticalFindings:0,majorFindings:3,minorFindings:12},{id:"iso-14001",name:"ISO 14001:2015",description:"Environmental Management Systems",version:"2015",status:"partial",lastAudit:"2023-10-22",nextAudit:"2024-04-22",score:87.5,requirements:98,compliantRequirements:86,criticalFindings:1,majorFindings:4,minorFindings:7},{id:"iso-45001",name:"ISO 45001:2018",description:"Occupational Health and Safety Management Systems",version:"2018",status:"pending",lastAudit:"2023-09-10",nextAudit:"2024-03-10",score:82.3,requirements:112,compliantRequirements:92,criticalFindings:2,majorFindings:6,minorFindings:12}],f=[{id:"CA-001",standardId:"iso-14001",requirement:"6.1.2 Environmental Aspects",finding:"Environmental aspects register needs updating for new production line",severity:"critical",status:"in-progress",assignedTo:"Environmental Manager",dueDate:"2024-02-15",description:"Update environmental aspects register to include new automotive paint line operations"},{id:"CA-002",standardId:"ts-16949",requirement:"8.3.2.3 Product Design Output",finding:"Design output documentation incomplete for brake component specifications",severity:"major",status:"open",assignedTo:"Design Engineer",dueDate:"2024-02-28",description:"Complete design output documentation including material specifications and testing requirements"},{id:"CA-003",standardId:"iso-45001",requirement:"8.1.1 Operational Planning",finding:"Risk assessment for new equipment installation not documented",severity:"major",status:"resolved",assignedTo:"Safety Officer",dueDate:"2024-01-30",description:"Conduct and document risk assessment for new automated assembly equipment"}],g=[{id:"AUD-001",standardId:"iso-9001",auditType:"surveillance",scheduledDate:"2024-02-20",auditor:"BSI Group",status:"scheduled",scope:"Quality Management System - Production and Design"},{id:"AUD-002",standardId:"ts-16949",auditType:"internal",scheduledDate:"2024-02-15",auditor:"Internal Audit Team",status:"in-progress",scope:"Customer-Specific Requirements and Product Safety"},{id:"AUD-003",standardId:"iso-14001",auditType:"recertification",scheduledDate:"2024-03-10",auditor:"Lloyd's Register",status:"scheduled",scope:"Environmental Management System - Full Scope"}];function h(){let[a,h]=(0,c.useState)("standards");return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-indigo-50 to-purple-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"ISO Compliance Management"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive automotive industry standards compliance tracking with automated reporting and audit management"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"standards",label:"Standards Overview",icon:""},{id:"actions",label:"Corrective Actions",icon:""},{id:"audits",label:"Audit Schedule",icon:""},{id:"reports",label:"Compliance Reports",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>h(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-xl shadow-xl p-8",children:["standards"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Compliance Standards Overview"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Add Standard"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:a.description})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"compliant":return"bg-green-100 text-green-800 border-green-200";case"partial":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"non-compliant":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Compliance Score:"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-automotive-carbon",children:[a.score.toFixed(1),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:`h-3 rounded-full transition-all duration-300 ${a.score>=95?"bg-green-500":a.score>=85?"bg-blue-500":a.score>=75?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.score}%`}})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Requirements:"}),(0,b.jsxs)("div",{className:"font-medium text-automotive-carbon",children:[a.compliantRequirements,"/",a.requirements]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Last Audit:"}),(0,b.jsx)("div",{className:"font-medium text-automotive-carbon",children:a.lastAudit})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm pt-2 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"font-bold text-red-600",children:a.criticalFindings}),(0,b.jsx)("div",{className:"text-automotive-steel",children:"Critical"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"font-bold text-orange-600",children:a.majorFindings}),(0,b.jsx)("div",{className:"text-automotive-steel",children:"Major"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"font-bold text-yellow-600",children:a.minorFindings}),(0,b.jsx)("div",{className:"text-automotive-steel",children:"Minor"})]})]})]})]},a.id))})]}),"actions"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Corrective Actions"}),(0,b.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"+ New Action"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Action ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Standard"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Requirement"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Severity"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Assigned To"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Due Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:f.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-automotive-carbon",children:a.id}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:e.find(b=>b.id===a.standardId)?.name||a.standardId}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.requirement}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"critical":return"bg-red-100 text-red-800 border-red-200";case"major":return"bg-orange-100 text-orange-800 border-orange-200";case"minor":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.severity)}`,children:a.severity.toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"resolved":return"bg-green-100 text-green-800 border-green-200";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-200";case"verified":return"bg-purple-100 text-purple-800 border-purple-200";case"open":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.replace("-"," ").toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.assignedTo}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.dueDate}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"View Details"})})]},a.id))})]})})]}),"audits"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Audit Schedule"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Schedule Audit"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:"6"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Scheduled Audits"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:"2"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"In Progress"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"12"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Completed YTD"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:"94.2%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Avg Score"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Audit ID"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Standard"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Auditor"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-automotive-carbon",children:"Scope"})]})}),(0,b.jsx)("tbody",{children:g.map(a=>(0,b.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-automotive-carbon",children:a.id}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:e.find(b=>b.id===a.standardId)?.name||a.standardId}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel capitalize",children:a.auditType}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.scheduledDate}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.auditor}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-200";case"scheduled":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.replace("-"," ").toUpperCase()})}),(0,b.jsx)("td",{className:"py-4 px-4 text-automotive-steel",children:a.scope})]},a.id))})]})})]}),"reports"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:"Compliance Reports"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Generate Report"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Compliance Dashboard"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Executive summary of all compliance standards"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Audit Report"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Detailed audit findings and recommendations"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Action Plan Report"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Corrective actions status and timeline"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Trend Analysis"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Compliance performance over time"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Risk Assessment"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Compliance risk matrix and mitigation"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 text-center cursor-pointer",whileHover:{scale:1.05},transition:{duration:.2},children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-2",children:"Certification Status"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Certificate validity and renewal schedule"})]})]})]})]},a)]})})}},27343,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(47663);let f=[{id:"production",name:"Production Excellence",icon:"",color:"blue",metrics:[{id:"oee",name:"Overall Equipment Effectiveness (OEE)",value:87.5,target:85,unit:"%",category:"production",trend:"up",trendValue:2.3,status:"excellent",description:"Measures manufacturing productivity combining availability, performance, and quality",lastUpdated:"2024-01-15T10:30:00Z"},{id:"cycle-time",name:"Average Cycle Time",value:45.2,target:50,unit:"minutes",category:"production",trend:"down",trendValue:-1.8,status:"excellent",description:"Time required to complete one production cycle",lastUpdated:"2024-01-15T10:30:00Z"},{id:"throughput",name:"Production Throughput",value:1247,target:1200,unit:"units/day",category:"production",trend:"up",trendValue:3.9,status:"excellent",description:"Daily production output across all lines",lastUpdated:"2024-01-15T10:30:00Z"},{id:"downtime",name:"Unplanned Downtime",value:2.1,target:3,unit:"%",category:"production",trend:"down",trendValue:-.5,status:"good",description:"Percentage of time production lines are down unexpectedly",lastUpdated:"2024-01-15T10:30:00Z"}]},{id:"quality",name:"Quality Assurance",icon:"",color:"green",metrics:[{id:"first-pass-yield",name:"First Pass Yield",value:98.7,target:97,unit:"%",category:"quality",trend:"up",trendValue:.8,status:"excellent",description:"Percentage of products passing quality inspection on first attempt",lastUpdated:"2024-01-15T10:30:00Z"},{id:"defect-rate",name:"Defect Rate",value:.65,target:1,unit:"%",category:"quality",trend:"down",trendValue:-.15,status:"excellent",description:"Percentage of products with defects",lastUpdated:"2024-01-15T10:30:00Z"},{id:"customer-complaints",name:"Customer Complaints",value:1.8,target:3,unit:"per 1000",category:"quality",trend:"stable",trendValue:.1,status:"good",description:"Customer complaints per 1000 units shipped",lastUpdated:"2024-01-15T10:30:00Z"},{id:"warranty-claims",name:"Warranty Claims",value:.42,target:.5,unit:"%",category:"quality",trend:"down",trendValue:-.08,status:"excellent",description:"Percentage of products with warranty claims",lastUpdated:"2024-01-15T10:30:00Z"}]},{id:"delivery",name:"Delivery Performance",icon:"",color:"purple",metrics:[{id:"on-time-delivery",name:"On-Time Delivery",value:96.3,target:95,unit:"%",category:"delivery",trend:"up",trendValue:1.2,status:"excellent",description:"Percentage of orders delivered on or before promised date",lastUpdated:"2024-01-15T10:30:00Z"},{id:"lead-time",name:"Average Lead Time",value:12.5,target:14,unit:"days",category:"delivery",trend:"down",trendValue:-1.5,status:"excellent",description:"Average time from order to delivery",lastUpdated:"2024-01-15T10:30:00Z"},{id:"fill-rate",name:"Order Fill Rate",value:94.8,target:95,unit:"%",category:"delivery",trend:"stable",trendValue:-.2,status:"warning",description:"Percentage of orders fulfilled completely",lastUpdated:"2024-01-15T10:30:00Z"}]},{id:"cost",name:"Cost Management",icon:"",color:"yellow",metrics:[{id:"cost-per-unit",name:"Cost Per Unit",value:127.5,target:135,unit:"",category:"cost",trend:"down",trendValue:-5.6,status:"excellent",description:"Average manufacturing cost per unit",lastUpdated:"2024-01-15T10:30:00Z"},{id:"material-variance",name:"Material Cost Variance",value:2.3,target:5,unit:"%",category:"cost",trend:"up",trendValue:.8,status:"good",description:"Variance from standard material costs",lastUpdated:"2024-01-15T10:30:00Z"},{id:"labor-efficiency",name:"Labor Efficiency",value:92.1,target:90,unit:"%",category:"cost",trend:"up",trendValue:1.5,status:"excellent",description:"Actual vs. standard labor hours",lastUpdated:"2024-01-15T10:30:00Z"}]},{id:"safety",name:"Safety & Health",icon:"",color:"red",metrics:[{id:"ltir",name:"Lost Time Injury Rate",value:.8,target:1.5,unit:"per 200k hours",category:"safety",trend:"down",trendValue:-.3,status:"excellent",description:"Number of lost time injuries per 200,000 work hours",lastUpdated:"2024-01-15T10:30:00Z"},{id:"near-misses",name:"Near Miss Reports",value:45,target:40,unit:"per month",category:"safety",trend:"up",trendValue:12.5,status:"warning",description:"Number of near miss incidents reported monthly",lastUpdated:"2024-01-15T10:30:00Z"},{id:"safety-training",name:"Safety Training Completion",value:98.2,target:100,unit:"%",category:"safety",trend:"up",trendValue:2.1,status:"good",description:"Percentage of employees with current safety training",lastUpdated:"2024-01-15T10:30:00Z"}]},{id:"environmental",name:"Environmental Impact",icon:"",color:"emerald",metrics:[{id:"energy-consumption",name:"Energy Consumption",value:2.45,target:2.8,unit:"kWh/unit",category:"environmental",trend:"down",trendValue:-12.5,status:"excellent",description:"Energy consumption per unit produced",lastUpdated:"2024-01-15T10:30:00Z"},{id:"waste-reduction",name:"Waste Reduction",value:15.7,target:10,unit:"%",category:"environmental",trend:"up",trendValue:5.7,status:"excellent",description:"Percentage reduction in waste generation",lastUpdated:"2024-01-15T10:30:00Z"},{id:"carbon-footprint",name:"Carbon Footprint",value:1.85,target:2,unit:"kg CO2/unit",category:"environmental",trend:"down",trendValue:-7.5,status:"excellent",description:"Carbon emissions per unit produced",lastUpdated:"2024-01-15T10:30:00Z"}]}];function g(){let[a,g]=(0,c.useState)("production"),h=f.find(b=>b.id===a);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-blue-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"Automotive KPI Monitoring"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive automotive industry key performance indicators with real-time monitoring and trend analysis"})]}),(0,b.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:f.map(c=>(0,b.jsxs)("button",{onClick:()=>g(c.id),className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${a===c.id?`bg-gradient-to-r ${({blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",yellow:"from-yellow-500 to-yellow-600",red:"from-red-500 to-red-600",emerald:"from-emerald-500 to-emerald-600"})[c.color]||"from-gray-500 to-gray-600"} text-white shadow-lg`:"bg-white text-automotive-steel hover:bg-gray-50 shadow-md"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.name]},c.id))}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(a=>{let c=a.metrics.reduce((a,b)=>a+b.value/b.target*100,0)/a.metrics.length;return(0,b.jsxs)(d.motion.div,{className:"bg-white rounded-lg p-6 shadow-lg border border-gray-200",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsxs)("span",{className:`text-2xl font-bold ${c>=100?"text-green-600":c>=90?"text-blue-600":c>=80?"text-yellow-600":"text-red-600"}`,children:[c.toFixed(0),"%"]})]}),(0,b.jsx)("h3",{className:"font-semibold text-automotive-carbon mb-2",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-automotive-steel",children:[a.metrics.length," metrics tracked"]})]},a.id)})}),h&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-xl shadow-xl p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"text-3xl mr-3",children:h.icon}),(0,b.jsx)("h3",{className:"text-2xl font-semibold text-automotive-carbon",children:h.name})]}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Export Data"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:h.metrics.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-white to-gray-50 rounded-lg p-6 border border-gray-200 cursor-pointer",whileHover:{scale:1.03},transition:{duration:.2},onClick:()=>{},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon",children:a.name}),(0,b.jsx)("span",{className:"text-xl",children:(a=>{switch(a){case"up":return"";case"down":return"";default:return""}})(a.trend)})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsxs)("div",{className:"flex items-baseline",children:[(0,b.jsx)(e.default,{end:a.value,decimals:"%"===a.unit||a.unit.includes("per")?1:2,className:"text-3xl font-bold text-automotive-carbon"}),(0,b.jsx)("span",{className:"text-lg text-automotive-steel ml-1",children:a.unit})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"excellent":return"bg-green-100 text-green-800 border-green-200";case"good":return"bg-blue-100 text-blue-800 border-blue-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-automotive-steel",children:["Target: ",a.target,a.unit]}),(0,b.jsxs)("span",{className:`font-medium ${"up"===a.trend?"text-green-600":"down"===a.trend?"text-red-600":"text-gray-600"}`,children:["up"===a.trend?"+":"down"===a.trend?"":"",a.trendValue.toFixed(1),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${"excellent"===a.status?"bg-green-500":"good"===a.status?"bg-blue-500":"warning"===a.status?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a.value/a.target*100,100)}%`}})}),(0,b.jsx)("p",{className:"text-xs text-automotive-steel",children:a.description})]})]},a.id))})]},a),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-8 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-2xl font-semibold text-automotive-carbon mb-4",children:"Advanced KPI Analytics"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-6 max-w-2xl mx-auto",children:"Interactive dashboards with predictive analytics, benchmarking against industry standards, and automated alerting for critical KPI deviations"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Real-time Monitoring"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"95%"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"Prediction Accuracy"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"50+"}),(0,b.jsx)("div",{className:"text-sm text-automotive-steel",children:"KPIs Tracked"})]})]})]})]})})}},14270,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"prod-line-1",name:"Production Line 1 - Engine Assembly",type:"production",position:{x:-20,y:0,z:0},dimensions:{width:15,height:5,depth:8},status:"active",utilization:85,capacity:100},{id:"prod-line-2",name:"Production Line 2 - Transmission",type:"production",position:{x:0,y:0,z:0},dimensions:{width:12,height:5,depth:6},status:"active",utilization:72,capacity:80},{id:"quality-station",name:"Quality Control Station",type:"quality",position:{x:20,y:0,z:0},dimensions:{width:8,height:4,depth:6},status:"active",utilization:95,capacity:100},{id:"warehouse-1",name:"Raw Materials Warehouse",type:"warehouse",position:{x:-10,y:0,z:-15},dimensions:{width:20,height:8,depth:10},status:"active",utilization:68,capacity:1e3},{id:"warehouse-2",name:"Finished Goods Warehouse",type:"warehouse",position:{x:10,y:0,z:15},dimensions:{width:18,height:8,depth:12},status:"active",utilization:45,capacity:800},{id:"office-1",name:"Administrative Office",type:"office",position:{x:-25,y:0,z:15},dimensions:{width:10,height:6,depth:8},status:"active",utilization:60,capacity:50}],f=[{id:"step-1",name:"Material Transfer to Production",fromFacility:"warehouse-1",toFacility:"prod-line-1",duration:15,status:"active",progress:65},{id:"step-2",name:"Engine to Transmission Assembly",fromFacility:"prod-line-1",toFacility:"prod-line-2",duration:30,status:"active",progress:40},{id:"step-3",name:"Quality Inspection",fromFacility:"prod-line-2",toFacility:"quality-station",duration:20,status:"pending",progress:0},{id:"step-4",name:"Finished Goods Storage",fromFacility:"quality-station",toFacility:"warehouse-2",duration:10,status:"completed",progress:100}];function g(){let[a,g]=(0,c.useState)("overview"),[h,i]=(0,c.useState)(!0);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-50 to-indigo-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"3D Facility Visualization"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Interactive 3D visualization of automotive manufacturing facilities with real-time workflow animation and performance monitoring"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"overview",label:"Facility Overview",icon:""},{id:"production",label:"Production Lines",icon:""},{id:"warehouse",label:"Warehouses",icon:""},{id:"workflow",label:"Workflow Animation",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>g(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-3",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon",children:"Interactive 3D Factory Layout"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>i(!h),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:h?"Stop Animation":"Start Animation"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Reset View"})]})]}),(0,b.jsx)("div",{className:"w-full h-96 lg:h-[600px] bg-gradient-to-br from-slate-100 to-blue-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-2xl font-bold text-automotive-carbon mb-2",children:"3D Factory Visualization"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-4",children:"Interactive WebGL-based facility layout with real-time monitoring"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:""}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"Production Lines"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:""}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"Warehouses"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:""}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"Quality Control"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-2xl mb-1",children:""}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"Administration"})]})]})]})})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Facility Status"}),(0,b.jsx)("div",{className:"space-y-4",children:e.slice(0,4).map(a=>(0,b.jsxs)(d.motion.div,{className:"p-3 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50",whileHover:{scale:1.02},onClick:()=>console.log("Selected facility:",a.name),children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon text-sm",children:a.name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"active":return"bg-green-100 text-green-800 border-green-200";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"idle":default:return"bg-gray-100 text-gray-800 border-gray-200";case"offline":return"bg-red-100 text-red-800 border-red-200"}})(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Utilization:"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.utilization,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,b.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.utilization}%`}})})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Active Workflows"}),(0,b.jsx)("div",{className:"space-y-3",children:f.map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-automotive-carbon mb-1",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-automotive-steel mb-2",children:[a.duration," min duration"]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-automotive-steel",children:"Progress:"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.progress,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,b.jsx)("div",{className:`h-1 rounded-full transition-all duration-300 ${"active"===a.status?"bg-blue-500":"completed"===a.status?"bg-green-500":"bg-gray-400"}`,style:{width:`${a.progress}%`}})})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 text-center",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold text-automotive-carbon mb-2",children:"Interactive Controls"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Click and drag to rotate  Scroll to zoom  Click facilities for details"})]})]})]})]})})}},16906,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"material-intake",name:"Material Intake",description:"Raw materials received and inspected",duration:15,status:"completed",progress:100,position:{x:-30,y:0,z:0},connections:["pre-processing"]},{id:"pre-processing",name:"Pre-Processing",description:"Material preparation and sorting",duration:20,status:"completed",progress:100,position:{x:-15,y:0,z:0},connections:["machining","assembly-prep"]},{id:"machining",name:"CNC Machining",description:"Precision machining operations",duration:45,status:"active",progress:65,position:{x:0,y:0,z:-15},connections:["quality-check-1"]},{id:"assembly-prep",name:"Assembly Preparation",description:"Component preparation for assembly",duration:25,status:"active",progress:40,position:{x:0,y:0,z:15},connections:["final-assembly"]},{id:"quality-check-1",name:"Quality Check 1",description:"Initial quality inspection",duration:15,status:"pending",progress:0,position:{x:15,y:0,z:-15},connections:["final-assembly"]},{id:"final-assembly",name:"Final Assembly",description:"Complete product assembly",duration:35,status:"pending",progress:0,position:{x:30,y:0,z:0},connections:["final-inspection"]},{id:"final-inspection",name:"Final Inspection",description:"Comprehensive quality validation",duration:20,status:"pending",progress:0,position:{x:45,y:0,z:0},connections:[]}],f=a=>{switch(a){case"completed":return"bg-green-100 text-green-800 border-green-200";case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"pending":default:return"bg-gray-100 text-gray-800 border-gray-200";case"blocked":return"bg-red-100 text-red-800 border-red-200"}};function g(){let[a,g]=(0,c.useState)(null),[h,i]=(0,c.useState)({speed:1,showPaths:!0,showLabels:!0,autoRotate:!0}),[j,k]=(0,c.useState)(!0);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-900 to-blue-900",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:"Manufacturing Workflow Animation"}),(0,b.jsx)("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Real-time 3D visualization of production processes with interactive workflow control"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon",children:"3D Workflow Animation"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>k(!j),className:`px-4 py-2 rounded-lg font-medium transition-colors ${j?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:j?"Pause":"Play"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Reset"})]})]}),(0,b.jsx)("div",{className:"w-full h-96 lg:h-[500px] bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:""}),(0,b.jsx)("h4",{className:"text-2xl font-bold text-automotive-carbon mb-2",children:"Manufacturing Workflow Animation"}),(0,b.jsx)("p",{className:"text-automotive-steel mb-4",children:"Real-time 3D visualization of production processes"}),(0,b.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-green-600",children:"2 Active"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Processes"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:"65%"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Progress"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3 shadow",children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-purple-600",children:"7"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Steps"})]})]})]})})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Animation Controls"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-automotive-steel mb-2",children:"Animation Speed"}),(0,b.jsx)("input",{type:"range",min:"0.25",max:"4",step:"0.25",value:h.speed,onChange:a=>i({...h,speed:parseFloat(a.target.value)}),className:"w-full"}),(0,b.jsxs)("div",{className:"text-sm text-automotive-steel mt-1",children:[h.speed,"x"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.showPaths,onChange:a=>i({...h,showPaths:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Show Workflow Paths"})]}),(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.showLabels,onChange:a=>i({...h,showLabels:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Show Step Labels"})]}),(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.autoRotate,onChange:a=>i({...h,autoRotate:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm text-automotive-steel",children:"Auto Rotate Camera"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Workflow Steps"}),(0,b.jsx)("div",{className:"space-y-3",children:e.map(c=>(0,b.jsxs)(d.motion.div,{className:`p-3 rounded-lg border cursor-pointer transition-colors ${a?.id===c.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g(c),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon",children:c.name}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded-full border ${f(c.status)}`,children:c.status})]}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-2",children:c.description}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"text-xs text-automotive-steel",children:["Duration: ",c.duration,"min"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${c.progress}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-automotive-steel",children:[c.progress,"%"]})]})]})]},c.id))})]}),a&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-xl p-6",children:[(0,b.jsxs)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:["Step Details: ",a.name]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-automotive-steel",children:"Status:"}),(0,b.jsx)("span",{className:`ml-2 px-2 py-1 text-xs rounded-full border ${f(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-automotive-steel",children:"Progress:"}),(0,b.jsxs)("span",{className:"ml-2 text-sm text-automotive-carbon",children:[a.progress,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-automotive-steel",children:"Duration:"}),(0,b.jsxs)("span",{className:"ml-2 text-sm text-automotive-carbon",children:[a.duration," minutes"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-automotive-steel",children:"Position:"}),(0,b.jsxs)("span",{className:"ml-2 text-sm text-automotive-carbon",children:["X: ",a.position.x,", Y: ",a.position.y,", Z: ",a.position.z]})]}),a.connections.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-automotive-steel",children:"Connections:"}),(0,b.jsx)("div",{className:"mt-1 space-y-1",children:a.connections.map(a=>{let c=e.find(b=>b.id===a);return c?(0,b.jsxs)("div",{className:"text-sm text-automotive-carbon ml-2",children:[" ",c.name]},a):null})})]})]})]})]})]})]})})}},60711,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"fps",name:"Frame Rate",category:"rendering",value:58,target:60,unit:"fps",status:"optimal",trend:"stable"},{id:"gpu-usage",name:"GPU Utilization",category:"gpu",value:72,target:80,unit:"%",status:"optimal",trend:"up"},{id:"memory",name:"Memory Usage",category:"memory",value:245,target:512,unit:"MB",status:"optimal",trend:"stable"},{id:"draw-calls",name:"Draw Calls",category:"rendering",value:156,target:200,unit:"calls",status:"optimal",trend:"down"}];function f(){let[a,f]=(0,c.useState)(e),[g,h]=(0,c.useState)(2),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let a=setInterval(()=>{f(a=>a.map(a=>({...a,value:a.value+(Math.random()-.5)*5})))},2e3);return()=>clearInterval(a)},[]),(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-900 to-indigo-900",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:"3D Performance Optimization"}),(0,b.jsx)("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Real-time performance monitoring and GPU optimization for complex 3D automotive visualizations"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Performance Metrics"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-slate-700 rounded-lg p-4",whileHover:{scale:1.02},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h4",{className:"font-medium text-white",children:a.name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${(a=>{switch(a){case"optimal":return"text-green-400 bg-green-900/20";case"warning":return"text-yellow-400 bg-yellow-900/20";case"critical":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}})(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-end space-x-2 mb-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-blue-400",children:Math.round(a.value)}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:a.unit}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:["/ ",a.target," ",a.unit]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-600 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(a.value/a.target*100,100)}%`}})})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Optimization Techniques"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-blue-400",children:"Level of Detail (LOD)"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Detail Level"}),(0,b.jsxs)("span",{className:"text-white",children:[g,"/5"]})]}),(0,b.jsx)("input",{type:"range",min:"1",max:"5",value:g,onChange:a=>h(parseInt(a.target.value)),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Higher levels show more detail but reduce performance"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-blue-400",children:"Rendering Options"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:i,onChange:a=>j(a.target.checked),className:"rounded"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Enable Shadows"})]}),(0,b.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:k,onChange:a=>l(a.target.checked),className:"rounded"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Anti-aliasing"})]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Auto-Optimization"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Optimize for Performance"}),(0,b.jsx)("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Optimize for Quality"}),(0,b.jsx)("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Balanced Mode"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"System Info"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"GPU:"}),(0,b.jsx)("span",{className:"text-white",children:"RTX 4080"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"VRAM:"}),(0,b.jsx)("span",{className:"text-white",children:"16GB"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"WebGL:"}),(0,b.jsx)("span",{className:"text-green-400",children:"2.0"})]})]})]})]})]})]})})}},49122,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"ds-001",name:"John Mueller",email:"j.mueller@automotive-corp.de",consentStatus:"granted",dataCategories:["Personal Data","Professional Data","Communication Preferences"],lastActivity:"2024-01-15",retentionPeriod:"7 years",requests:[{id:"req-001",type:"access",status:"completed",requestDate:"2024-01-10",completionDate:"2024-01-12",description:"Request for personal data access under Article 15 GDPR"}]},{id:"ds-002",name:"Marie Dubois",email:"m.dubois@supply-chain.fr",consentStatus:"pending",dataCategories:["Personal Data","Business Data"],lastActivity:"2024-01-14",retentionPeriod:"5 years",requests:[{id:"req-002",type:"portability",status:"processing",requestDate:"2024-01-13",description:"Data portability request under Article 20 GDPR"}]},{id:"ds-003",name:"Hans Schmidt",email:"h.schmidt@quality-systems.de",consentStatus:"withdrawn",dataCategories:["Personal Data"],lastActivity:"2024-01-12",retentionPeriod:"3 years",requests:[{id:"req-003",type:"erasure",status:"pending",requestDate:"2024-01-14",description:"Right to be forgotten request under Article 17 GDPR"}]}],f=[{id:"consent-001",purpose:"Marketing Communications",legalBasis:"consent",status:"active",grantedDate:"2023-06-15",expiryDate:"2025-06-15"},{id:"consent-002",purpose:"Data Processing for Service Delivery",legalBasis:"contract",status:"active",grantedDate:"2023-08-20"},{id:"consent-003",purpose:"Analytics and Performance Monitoring",legalBasis:"legitimate_interests",status:"withdrawn",grantedDate:"2023-05-10",withdrawnDate:"2024-01-05"}],g=a=>{switch(a){case"granted":case"active":case"completed":return"bg-green-100 text-green-800 border-green-200";case"pending":case"processing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"withdrawn":case"rejected":case"expired":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function h(){let[a,h]=(0,c.useState)("subjects"),i=[{id:"subjects",label:"Data Subjects",icon:"",count:e.length},{id:"requests",label:"Data Requests",icon:"",count:e.reduce((a,b)=>a+b.requests.length,0)},{id:"consent",label:"Consent Management",icon:"",count:f.length},{id:"reports",label:"Compliance Reports",icon:"",count:5}];return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"GDPR Compliance Management"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Comprehensive data protection and privacy compliance system for EU automotive operations"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:i.map(c=>(0,b.jsxs)("button",{onClick:()=>h(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label,(0,b.jsx)("span",{className:"ml-2 px-2 py-1 bg-gray-200 text-gray-700 rounded-full text-xs",children:c.count})]},c.id))})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:["subjects"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon",children:"Data Subjects Registry"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Add New Subject"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Name"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Consent Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Data Categories"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Last Activity"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-automotive-carbon",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:e.map(a=>(0,b.jsxs)(d.motion.tr,{className:"border-b border-gray-100 hover:bg-gray-50",whileHover:{backgroundColor:"#f9fafb"},children:[(0,b.jsx)("td",{className:"py-3 px-4 font-medium text-automotive-carbon",children:a.name}),(0,b.jsx)("td",{className:"py-3 px-4 text-automotive-steel",children:a.email}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${g(a.consentStatus)}`,children:a.consentStatus.toUpperCase()})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.dataCategories.slice(0,2).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:a},a)),a.dataCategories.length>2&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",a.dataCategories.length-2]})]})}),(0,b.jsx)("td",{className:"py-3 px-4 text-automotive-steel",children:a.lastActivity}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("button",{onClick:()=>console.log("Selected subject:",a.name),className:"text-primary-500 hover:text-primary-600 font-medium",children:"View Details"})})]},a.id))})]})})]}),"requests"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon",children:"Data Subject Requests"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)("select",{className:"border border-gray-300 rounded-lg px-3 py-2",children:[(0,b.jsx)("option",{children:"All Requests"}),(0,b.jsx)("option",{children:"Pending"}),(0,b.jsx)("option",{children:"Processing"}),(0,b.jsx)("option",{children:"Completed"})]}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"New Request"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.flatMap(a=>a.requests.map(c=>(0,b.jsxs)(d.motion.div,{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",whileHover:{scale:1.02},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("h4",{className:"font-medium text-automotive-carbon capitalize",children:[c.type.replace("_"," ")," Request"]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${g(c.status)}`,children:c.status.toUpperCase()})]}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:c.description}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,b.jsxs)("div",{children:["Requested: ",c.requestDate]}),c.completionDate&&(0,b.jsxs)("div",{children:["Completed: ",c.completionDate]})]}),(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,b.jsxs)("span",{className:"text-xs text-gray-600",children:["Subject: ",a.name]})})]},c.id)))})]}),"consent"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon",children:"Consent Records"}),(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Record Consent"})]}),(0,b.jsx)("div",{className:"space-y-4",children:f.map(a=>{var c;return(0,b.jsxs)(d.motion.div,{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",whileHover:{backgroundColor:"#f3f4f6"},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon",children:a.purpose}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:{consent:"Consent (Art. 6(1)(a))",contract:"Contract (Art. 6(1)(b))",legal_obligation:"Legal Obligation (Art. 6(1)(c))",vital_interests:"Vital Interests (Art. 6(1)(d))",public_task:"Public Task (Art. 6(1)(e))",legitimate_interests:"Legitimate Interests (Art. 6(1)(f))"}[c=a.legalBasis]||c})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${g(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Granted:"}),(0,b.jsx)("div",{className:"font-medium",children:a.grantedDate})]}),a.expiryDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Expires:"}),(0,b.jsx)("div",{className:"font-medium",children:a.expiryDate})]}),a.withdrawnDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Withdrawn:"}),(0,b.jsx)("div",{className:"font-medium",children:a.withdrawnDate})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 text-sm",children:"Edit"}),(0,b.jsx)("button",{className:"text-red-500 hover:text-red-600 text-sm",children:"Withdraw"})]})]})]},a.id)})})]}),"reports"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Compliance Reports"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",whileHover:{scale:1.05},children:[(0,b.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Data Subject Rights"}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-2",children:"98.5%"}),(0,b.jsx)("p",{className:"text-blue-100",children:"Requests processed within 30 days"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",whileHover:{scale:1.05},children:[(0,b.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Consent Rate"}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-2",children:"87.2%"}),(0,b.jsx)("p",{className:"text-green-100",children:"Active consent records"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",whileHover:{scale:1.05},children:[(0,b.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Data Breaches"}),(0,b.jsx)("div",{className:"text-3xl font-bold mb-2",children:"0"}),(0,b.jsx)("p",{className:"text-purple-100",children:"Reported in last 12 months"})]})]}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Generate Reports"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("button",{className:"bg-white border border-gray-300 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon",children:"Monthly Compliance Report"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Comprehensive GDPR compliance status"})]}),(0,b.jsxs)("button",{className:"bg-white border border-gray-300 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon",children:"Data Processing Activities"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Article 30 GDPR record of processing"})]}),(0,b.jsxs)("button",{className:"bg-white border border-gray-300 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon",children:"Consent Audit Trail"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"Complete consent history and changes"})]}),(0,b.jsxs)("button",{className:"bg-white border border-gray-300 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("h5",{className:"font-medium text-automotive-carbon",children:"Data Subject Requests Log"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"All requests and response times"})]})]})]})]})]})]})})}},70658,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(46271);let e=[{id:"essential",category:"Essential",name:"Essential Cookies & Data",description:"Required for basic website functionality and security",enabled:!0,required:!0,dataTypes:["Session Data","Security Tokens","Authentication"],retentionPeriod:"Session"},{id:"analytics",category:"Analytics",name:"Analytics & Performance",description:"Help us improve our services by analyzing usage patterns",enabled:!0,required:!1,dataTypes:["Usage Statistics","Performance Metrics","Error Logs"],retentionPeriod:"2 years"},{id:"marketing",category:"Marketing",name:"Marketing Communications",description:"Receive updates about our products and services",enabled:!1,required:!1,dataTypes:["Email Address","Communication Preferences","Interaction History"],retentionPeriod:"3 years"},{id:"personalization",category:"Personalization",name:"Content Personalization",description:"Customize content and recommendations based on your preferences",enabled:!0,required:!1,dataTypes:["Preferences","Browsing History","Content Interactions"],retentionPeriod:"1 year"}],f=[{id:"service-delivery",purpose:"Service Delivery",description:"Process your data to provide our automotive supply chain services",consented:!0,mandatory:!0,lastUpdated:"2024-01-15"},{id:"quality-improvement",purpose:"Quality Improvement",description:"Use your feedback and usage data to improve our services",consented:!0,mandatory:!1,lastUpdated:"2024-01-10",expiryDate:"2025-01-10"},{id:"research-development",purpose:"Research & Development",description:"Analyze aggregated data for automotive industry research",consented:!1,mandatory:!1,lastUpdated:"2024-01-05",expiryDate:"2025-01-05"}],g=[{id:"export-001",requestType:"export",status:"ready",requestDate:"2024-01-10",completionDate:"2024-01-12",dataCategories:["Personal Data","Usage History","Preferences"],format:"json",size:"2.4 MB"},{id:"delete-001",requestType:"delete",status:"processing",requestDate:"2024-01-14",dataCategories:["Marketing Data","Communication History"],format:"json"}];function h(){let[a,h]=(0,c.useState)("settings"),[i,j]=(0,c.useState)(e),[k,l]=(0,c.useState)(f);return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-50 to-blue-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-automotive-carbon mb-4",children:"Data Privacy Controls"}),(0,b.jsx)("p",{className:"text-xl text-automotive-steel max-w-3xl mx-auto",children:"Manage your data privacy preferences and exercise your rights under GDPR and other privacy regulations"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-1 shadow-lg",children:[{id:"settings",label:"Privacy Settings",icon:""},{id:"consent",label:"Consent Management",icon:""},{id:"portability",label:"Data Portability",icon:""},{id:"rights",label:"Your Rights",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>h(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-primary-500 text-white shadow-md":"text-automotive-steel hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:["settings"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Privacy Settings"}),(0,b.jsx)("div",{className:"space-y-6",children:i.map(a=>(0,b.jsx)(d.motion.div,{className:"border border-gray-200 rounded-lg p-4",whileHover:{backgroundColor:"#f9fafb"},children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon",children:a.name}),a.required&&(0,b.jsx)("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"Required"})]}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Data Types:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.dataTypes.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:a},a))})]}),a.retentionPeriod&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Retention Period:"}),(0,b.jsx)("div",{className:"font-medium",children:a.retentionPeriod})]})]})]}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.enabled,onChange:()=>{var b;return b=a.id,void j(a=>a.map(a=>a.id!==b||a.required?a:{...a,enabled:!a.enabled}))},disabled:a.required,className:"sr-only peer"}),(0,b.jsx)("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 ${a.required?"opacity-50 cursor-not-allowed":""}`})]})})]})},a.id))}),(0,b.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Privacy Tip"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel",children:"You can change these settings at any time. Essential cookies are required for the website to function properly and cannot be disabled."})]})]}),"consent"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Consent Management"}),(0,b.jsx)("div",{className:"space-y-4",children:k.map(a=>(0,b.jsx)(d.motion.div,{className:"border border-gray-200 rounded-lg p-4",whileHover:{backgroundColor:"#f9fafb"},children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center mb-2",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon",children:a.purpose}),a.mandatory&&(0,b.jsx)("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs",children:"Mandatory"})]}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Last Updated:"}),(0,b.jsx)("div",{className:"font-medium",children:a.lastUpdated})]}),a.expiryDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Expires:"}),(0,b.jsx)("div",{className:"font-medium",children:a.expiryDate})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,b.jsx)("div",{className:`font-medium ${a.consented?"text-green-600":"text-red-600"}`,children:a.consented?"Consented":"Not Consented"})]})]})]}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.consented,onChange:()=>{var b;return b=a.id,void l(a=>a.map(a=>a.id!==b||a.mandatory?a:{...a,consented:!a.consented,lastUpdated:new Date().toISOString().split("T")[0]}))},disabled:a.mandatory,className:"sr-only peer"}),(0,b.jsx)("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 ${a.mandatory?"opacity-50 cursor-not-allowed":""}`})]})})]})},a.id))}),(0,b.jsx)("div",{className:"mt-8 flex justify-center",children:(0,b.jsx)("button",{className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600 transition-colors",children:"Save Consent Preferences"})})]}),"portability"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Data Portability"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white cursor-pointer",whileHover:{scale:1.05},children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Export Your Data"}),(0,b.jsx)("p",{className:"text-sm text-blue-100",children:"Download a copy of all your personal data"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white cursor-pointer",whileHover:{scale:1.05},children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Transfer Data"}),(0,b.jsx)("p",{className:"text-sm text-green-100",children:"Move your data to another service provider"})]}),(0,b.jsxs)(d.motion.div,{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white cursor-pointer",whileHover:{scale:1.05},children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:""}),(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Delete Data"}),(0,b.jsx)("p",{className:"text-sm text-red-100",children:"Request deletion of your personal data"})]})]}),(0,b.jsx)("h4",{className:"text-lg font-semibold text-automotive-carbon mb-4",children:"Recent Requests"}),(0,b.jsx)("div",{className:"space-y-4",children:g.map(a=>(0,b.jsxs)(d.motion.div,{className:"border border-gray-200 rounded-lg p-4",whileHover:{backgroundColor:"#f9fafb"},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h5",{className:"font-medium text-automotive-carbon capitalize",children:[a.requestType," Request"]}),(0,b.jsxs)("p",{className:"text-sm text-automotive-steel",children:["Requested on ",a.requestDate]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"ready":case"completed":return"bg-green-100 text-green-800 border-green-200";case"processing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"pending":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Data Categories:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.dataCategories.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs",children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Format:"}),(0,b.jsx)("div",{className:"font-medium uppercase",children:a.format})]}),a.size&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Size:"}),(0,b.jsx)("div",{className:"font-medium",children:a.size})]})]}),"ready"===a.status&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,b.jsx)("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Download Data"})})]},a.id))})]}),"rights"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-automotive-carbon mb-6",children:"Your Data Protection Rights"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Access"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You have the right to know what personal data we hold about you and how we use it."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Request Access"})]}),(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Rectification"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You can ask us to correct any inaccurate or incomplete personal data."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Request Correction"})]}),(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Erasure"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You can request deletion of your personal data in certain circumstances."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Request Deletion"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Data Portability"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You can request a copy of your data in a machine-readable format."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Export Data"})]}),(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Restrict Processing"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You can ask us to limit how we use your personal data in certain situations."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Request Restriction"})]}),(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Right to Object"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-3",children:"You can object to processing based on legitimate interests or direct marketing."}),(0,b.jsx)("button",{className:"text-primary-500 hover:text-primary-600 font-medium",children:"Object to Processing"})]})]})]}),(0,b.jsxs)("div",{className:"mt-8 p-4 bg-yellow-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-medium text-automotive-carbon mb-2",children:" Need Help?"}),(0,b.jsx)("p",{className:"text-sm text-automotive-steel mb-2",children:"If you have questions about your rights or need assistance with a request, contact our Data Protection Officer:"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{children:"Email: dpo@nkj-development.com"}),(0,b.jsx)("div",{children:"Phone: +49 (0) 123 456 789"}),(0,b.jsx)("div",{children:"Response time: Within 30 days"})]})]})]})]})]})})}},20776,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(47663);let f=[{id:"encryption-coverage",name:"Data Encryption Coverage",value:99.8,target:100,unit:"%",status:"secure",trend:"up",category:"encryption"},{id:"access-control",name:"Access Control Compliance",value:97.5,target:98,unit:"%",status:"secure",trend:"stable",category:"access"},{id:"threat-detection",name:"Threat Detection Rate",value:99.2,target:99,unit:"%",status:"secure",trend:"up",category:"monitoring"},{id:"incident-response",name:"Incident Response Time",value:12,target:15,unit:"min",status:"secure",trend:"down",category:"monitoring"},{id:"vulnerability-patching",name:"Vulnerability Patching",value:94.8,target:95,unit:"%",status:"warning",trend:"up",category:"compliance"},{id:"user-training",name:"Security Training Completion",value:89.3,target:95,unit:"%",status:"warning",trend:"up",category:"compliance"}],g=[{id:"inc-001",type:"breach_attempt",severity:"high",status:"resolved",timestamp:"2024-01-15T14:30:00Z",description:"Attempted SQL injection on production database",affectedSystems:["Production DB","Web Application"],responseTime:8},{id:"inc-002",type:"unauthorized_access",severity:"medium",status:"investigating",timestamp:"2024-01-14T09:15:00Z",description:"Multiple failed login attempts from suspicious IP",affectedSystems:["Authentication Service"],responseTime:15},{id:"inc-003",type:"phishing",severity:"low",status:"contained",timestamp:"2024-01-13T16:45:00Z",description:"Phishing email detected and quarantined",affectedSystems:["Email System"],responseTime:5}],h=[{id:"iso-27001",name:"ISO 27001",description:"Information Security Management System",compliance:96.5,lastAudit:"2023-11-15",nextAudit:"2024-11-15",status:"compliant",requirements:{total:114,met:110,pending:4}},{id:"gdpr",name:"GDPR",description:"General Data Protection Regulation",compliance:94.2,lastAudit:"2023-12-01",nextAudit:"2024-06-01",status:"compliant",requirements:{total:99,met:93,pending:6}},{id:"soc2",name:"SOC 2 Type II",description:"Service Organization Control 2",compliance:91.8,lastAudit:"2023-10-20",nextAudit:"2024-10-20",status:"partial",requirements:{total:64,met:59,pending:5}}];function i(){let[a,i]=(0,c.useState)("overview"),[j,k]=(0,c.useState)(f);(0,c.useEffect)(()=>{let a=setInterval(()=>{k(a=>a.map(a=>({...a,value:a.value+(Math.random()-.5)*.5})))},5e3);return()=>clearInterval(a)},[]);let l=a=>{switch(a){case"secure":case"compliant":case"resolved":case"contained":return"bg-green-100 text-green-800 border-green-200";case"warning":case"partial":case"investigating":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"critical":case"non_compliant":case"detected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,b.jsx)("section",{className:"py-16 bg-gradient-to-br from-slate-900 to-blue-900",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:"Security & Encryption Dashboard"}),(0,b.jsx)("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Comprehensive security monitoring, threat detection, and compliance management for automotive data protection"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)("div",{className:"bg-slate-800 rounded-lg p-1 shadow-lg",children:[{id:"overview",label:"Security Overview",icon:""},{id:"incidents",label:"Security Incidents",icon:""},{id:"compliance",label:"Compliance Status",icon:""},{id:"encryption",label:"Encryption & Keys",icon:""}].map(c=>(0,b.jsxs)("button",{onClick:()=>i(c.id),className:`px-6 py-3 rounded-md font-medium transition-all duration-300 ${a===c.id?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-700"}`,children:[(0,b.jsx)("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl shadow-2xl overflow-hidden",children:["overview"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Security Metrics Overview"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:j.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-slate-700 rounded-lg p-6",whileHover:{scale:1.02},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("h4",{className:"font-medium text-white",children:a.name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${l(a.status)}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex items-end space-x-2 mb-4",children:[(0,b.jsx)(e.default,{end:a.value,decimals:+("%"===a.unit),suffix:a.unit,className:"text-3xl font-bold text-blue-400"}),(0,b.jsxs)("span",{className:"text-sm text-slate-300",children:["/ ",a.target," ",a.unit]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-600 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full transition-all duration-300 ${"secure"===a.status?"bg-green-500":"warning"===a.status?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a.value/a.target*100,100)}%`}})})]},a.id))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Security Status"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Overall Security Score"}),(0,b.jsx)("span",{className:"text-2xl font-bold text-green-400",children:"A+"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Active Threats"}),(0,b.jsx)("span",{className:"text-xl font-bold text-yellow-400",children:"2"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Systems Protected"}),(0,b.jsx)("span",{className:"text-xl font-bold text-blue-400",children:"47"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Last Security Scan"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"2 hours ago"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Firewall rules updated"}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"5 min ago"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"SSL certificates renewed"}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"1 hour ago"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Security scan completed"}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"2 hours ago"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Threat detected and blocked"}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"4 hours ago"})]})]})]})]})]}),"incidents"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Security Incidents"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)("select",{className:"bg-slate-700 text-white border border-slate-600 rounded-lg px-3 py-2",children:[(0,b.jsx)("option",{children:"All Incidents"}),(0,b.jsx)("option",{children:"Critical"}),(0,b.jsx)("option",{children:"High"}),(0,b.jsx)("option",{children:"Medium"}),(0,b.jsx)("option",{children:"Low"})]}),(0,b.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Report Incident"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:g.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-slate-700 rounded-lg p-4",whileHover:{backgroundColor:"#475569"},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-white capitalize",children:a.type.replace("_"," ")}),(0,b.jsx)("p",{className:"text-sm text-slate-300",children:a.description})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"low":return"bg-blue-100 text-blue-800 border-blue-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.severity)}`,children:a.severity.toUpperCase()}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${l(a.status)}`,children:a.status.toUpperCase()})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Timestamp:"}),(0,b.jsx)("div",{className:"text-slate-300",children:new Date(a.timestamp).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Response Time:"}),(0,b.jsxs)("div",{className:"text-slate-300",children:[a.responseTime," minutes"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Affected Systems:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.affectedSystems.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-600 text-slate-300 rounded text-xs",children:a},a))})]})]})]},a.id))})]}),"compliance"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Compliance Standards"}),(0,b.jsx)("div",{className:"space-y-6",children:h.map(a=>(0,b.jsxs)(d.motion.div,{className:"bg-slate-700 rounded-lg p-6",whileHover:{backgroundColor:"#475569"},children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium text-white text-lg",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-slate-300",children:a.description})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${l(a.status)}`,children:a.status.replace("_"," ").toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:(0,b.jsx)(e.default,{end:a.compliance,decimals:1,suffix:"%"})}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Compliance"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400 mb-1",children:a.requirements.met}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Requirements Met"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:a.requirements.pending}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Pending"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm text-slate-300 mb-1",children:"Next Audit"}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:a.nextAudit})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{className:"w-full bg-slate-600 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.compliance}%`}})})})]},a.id))})]}),"encryption"===a&&(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Encryption & Key Management"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Encryption Status"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Data at Rest"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"AES-256 "})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Data in Transit"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"TLS 1.3 "})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Database Encryption"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"Enabled "})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Backup Encryption"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"AES-256 "})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Key Management"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Active Keys"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"24"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Keys Expiring Soon"}),(0,b.jsx)("span",{className:"text-yellow-400 font-medium",children:"3"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Key Rotation Frequency"}),(0,b.jsx)("span",{className:"text-slate-300",children:"90 days"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"HSM Status"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"Online "})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Certificate Management"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-600 rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"*.nkj-development.com"}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Expires: 2024-12-15"})]}),(0,b.jsx)("span",{className:"text-green-400",children:"Valid"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-600 rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"api.nkj-development.com"}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Expires: 2024-08-20"})]}),(0,b.jsx)("span",{className:"text-yellow-400",children:"Expiring Soon"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-600 rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:"admin.nkj-development.com"}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Expires: 2025-03-10"})]}),(0,b.jsx)("span",{className:"text-green-400",children:"Valid"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Security Actions"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Rotate Encryption Keys"}),(0,b.jsx)("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Renew Certificates"}),(0,b.jsx)("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Generate Security Report"}),(0,b.jsx)("button",{className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Run Security Audit"})]})]})]})]})]})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8c50c3cc._.js.map